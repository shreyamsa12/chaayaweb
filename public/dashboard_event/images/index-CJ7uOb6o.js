var ok=Object.defineProperty;var lk=(r,e,t)=>e in r?ok(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var He=(r,e,t)=>lk(r,typeof e!="symbol"?e+"":e,t);function uk(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jy={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function ck(){if(a1)return Gh;a1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:a}}return Gh.Fragment=e,Gh.jsx=t,Gh.jsxs=t,Gh}var o1;function dk(){return o1||(o1=1,jy.exports=ck()),jy.exports}var R=dk(),Vy={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function hk(){if(l1)return _t;l1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function x(O,re,oe){this.props=O,this.context=re,this.refs=M,this.updater=oe||b}x.prototype.isReactComponent={},x.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=x.prototype;function $(O,re,oe){this.props=O,this.context=re,this.refs=M,this.updater=oe||b}var Y=$.prototype=new L;Y.constructor=$,E(Y,x.prototype),Y.isPureReactComponent=!0;var H=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function P(O,re,oe,se,ue,Z){return oe=Z.ref,{$$typeof:r,type:O,key:re,ref:oe!==void 0?oe:null,props:Z}}function C(O,re){return P(O.type,re,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return re[oe]})}var N=/\/+/g;function F(O,re){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):re.toString(36)}function j(){}function X(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(j,j):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function J(O,re,oe,se,ue){var Z=typeof O;(Z==="undefined"||Z==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Z){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case p:return we=O._init,J(we(O._payload),re,oe,se,ue)}}if(we)return ue=ue(O),we=se===""?"."+F(O,0):se,H(ue)?(oe="",we!=null&&(oe=we.replace(N,"$&/")+"/"),J(ue,re,oe,"",function(xe){return xe})):ue!=null&&(S(ue)&&(ue=C(ue,oe+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(N,"$&/")+"/")+we)),re.push(ue)),1;we=0;var Ue=se===""?".":se+":";if(H(O))for(var ie=0;ie<O.length;ie++)se=O[ie],Z=Ue+F(se,ie),we+=J(se,re,oe,Z,ue);else if(ie=v(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(se=O.next()).done;)se=se.value,Z=Ue+F(se,ie++),we+=J(se,re,oe,Z,ue);else if(Z==="object"){if(typeof O.then=="function")return J(X(O),re,oe,se,ue);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function U(O,re,oe){if(O==null)return O;var se=[],ue=0;return J(O,se,"","",function(Z){return re.call(oe,Z,ue++)}),se}function B(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ne(){}return _t.Children={map:U,forEach:function(O,re,oe){U(O,function(){re.apply(this,arguments)},oe)},count:function(O){var re=0;return U(O,function(){re++}),re},toArray:function(O){return U(O,function(re){return re})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},_t.Component=x,_t.Fragment=t,_t.Profiler=i,_t.PureComponent=$,_t.StrictMode=n,_t.Suspense=d,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return G.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cloneElement=function(O,re,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=E({},O.props),ue=O.key,Z=void 0;if(re!=null)for(we in re.ref!==void 0&&(Z=void 0),re.key!==void 0&&(ue=""+re.key),re)!q.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(se[we]=re[we]);var we=arguments.length-2;if(we===1)se.children=oe;else if(1<we){for(var Ue=Array(we),ie=0;ie<we;ie++)Ue[ie]=arguments[ie+2];se.children=Ue}return P(O.type,ue,void 0,void 0,Z,se)},_t.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},_t.createElement=function(O,re,oe){var se,ue={},Z=null;if(re!=null)for(se in re.key!==void 0&&(Z=""+re.key),re)q.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=re[se]);var we=arguments.length-2;if(we===1)ue.children=oe;else if(1<we){for(var Ue=Array(we),ie=0;ie<we;ie++)Ue[ie]=arguments[ie+2];ue.children=Ue}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ue[se]===void 0&&(ue[se]=we[se]);return P(O,Z,void 0,void 0,null,ue)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:c,render:O}},_t.isValidElement=S,_t.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:B}},_t.memo=function(O,re){return{$$typeof:f,type:O,compare:re===void 0?null:re}},_t.startTransition=function(O){var re=G.T,oe={};G.T=oe;try{var se=O(),ue=G.S;ue!==null&&ue(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ne,ee)}catch(Z){ee(Z)}finally{G.T=re}},_t.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},_t.use=function(O){return G.H.use(O)},_t.useActionState=function(O,re,oe){return G.H.useActionState(O,re,oe)},_t.useCallback=function(O,re){return G.H.useCallback(O,re)},_t.useContext=function(O){return G.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,re){return G.H.useDeferredValue(O,re)},_t.useEffect=function(O,re,oe){var se=G.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,re)},_t.useId=function(){return G.H.useId()},_t.useImperativeHandle=function(O,re,oe){return G.H.useImperativeHandle(O,re,oe)},_t.useInsertionEffect=function(O,re){return G.H.useInsertionEffect(O,re)},_t.useLayoutEffect=function(O,re){return G.H.useLayoutEffect(O,re)},_t.useMemo=function(O,re){return G.H.useMemo(O,re)},_t.useOptimistic=function(O,re){return G.H.useOptimistic(O,re)},_t.useReducer=function(O,re,oe){return G.H.useReducer(O,re,oe)},_t.useRef=function(O){return G.H.useRef(O)},_t.useState=function(O){return G.H.useState(O)},_t.useSyncExternalStore=function(O,re,oe){return G.H.useSyncExternalStore(O,re,oe)},_t.useTransition=function(){return G.H.useTransition()},_t.version="19.1.0",_t}var u1;function h0(){return u1||(u1=1,Vy.exports=hk()),Vy.exports}var T=h0();const ve=d0(T),fk=uk({__proto__:null,default:ve},[T]);var By={exports:{}},Wh={},Fy={exports:{}},zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function pk(){return c1||(c1=1,function(r){function e(U,B){var ee=U.length;U.push(B);e:for(;0<ee;){var ne=ee-1>>>1,O=U[ne];if(0<i(O,B))U[ne]=B,U[ee]=O,ee=ne;else break e}}function t(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var B=U[0],ee=U.pop();if(ee!==B){U[0]=ee;e:for(var ne=0,O=U.length,re=O>>>1;ne<re;){var oe=2*(ne+1)-1,se=U[oe],ue=oe+1,Z=U[ue];if(0>i(se,ee))ue<O&&0>i(Z,se)?(U[ne]=Z,U[ue]=ee,ne=ue):(U[ne]=se,U[oe]=ee,ne=oe);else if(ue<O&&0>i(Z,ee))U[ne]=Z,U[ue]=ee,ne=ue;else break e}}return B}function i(U,B){var ee=U.sortIndex-B.sortIndex;return ee!==0?ee:U.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,v=3,b=!1,E=!1,M=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function H(U){for(var B=t(f);B!==null;){if(B.callback===null)n(f);else if(B.startTime<=U)n(f),B.sortIndex=B.expirationTime,e(d,B);else break;B=t(f)}}function G(U){if(M=!1,H(U),!E)if(t(d)!==null)E=!0,q||(q=!0,F());else{var B=t(f);B!==null&&J(G,B.startTime-U)}}var q=!1,P=-1,C=5,S=-1;function k(){return x?!0:!(r.unstable_now()-S<C)}function N(){if(x=!1,q){var U=r.unstable_now();S=U;var B=!0;try{e:{E=!1,M&&(M=!1,$(P),P=-1),b=!0;var ee=v;try{t:{for(H(U),g=t(d);g!==null&&!(g.expirationTime>U&&k());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,v=g.priorityLevel;var O=ne(g.expirationTime<=U);if(U=r.unstable_now(),typeof O=="function"){g.callback=O,H(U),B=!0;break t}g===t(d)&&n(d),H(U)}else n(d);g=t(d)}if(g!==null)B=!0;else{var re=t(f);re!==null&&J(G,re.startTime-U),B=!1}}break e}finally{g=null,v=ee,b=!1}B=void 0}}finally{B?F():q=!1}}}var F;if(typeof Y=="function")F=function(){Y(N)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=N,F=function(){X.postMessage(null)}}else F=function(){L(N,0)};function J(U,B){P=L(function(){U(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(U){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var ee=v;v=B;try{return U()}finally{v=ee}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=v;v=U;try{return B()}finally{v=ee}},r.unstable_scheduleCallback=function(U,B,ee){var ne=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ee+O,U={id:p++,callback:B,priorityLevel:U,startTime:ee,expirationTime:O,sortIndex:-1},ee>ne?(U.sortIndex=ee,e(f,U),t(d)===null&&U===t(f)&&(M?($(P),P=-1):M=!0,J(G,ee-ne))):(U.sortIndex=O,e(d,U),E||b||(E=!0,q||(q=!0,F()))),U},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(U){var B=v;return function(){var ee=v;v=B;try{return U.apply(this,arguments)}finally{v=ee}}}}(zy)),zy}var d1;function mk(){return d1||(d1=1,Fy.exports=pk()),Fy.exports}var Hy={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function gk(){if(h1)return ai;h1=1;var r=h0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ai.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},ai.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},ai.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},ai.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ai.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ai.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},ai.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ai.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},ai.requestFormReset=function(d){n.d.r(d)},ai.unstable_batchedUpdates=function(d,f){return d(f)},ai.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ai.useFormStatus=function(){return l.H.useHostTransitionStatus()},ai.version="19.1.0",ai}var f1;function fA(){if(f1)return Hy.exports;f1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hy.exports=gk(),Hy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function vk(){if(p1)return Wh;p1=1;var r=mk(),e=h0(),t=fA();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,h=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return c(y),s;if(w===h)return c(y),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=y,h=w;else{for(var V=!1,W=y.child;W;){if(W===u){V=!0,u=y,h=w;break}if(W===h){V=!0,h=y,u=w;break}W=W.sibling}if(!V){for(W=w.child;W;){if(W===u){V=!0,u=w,h=y;break}if(W===h){V=!0,h=w,u=y;break}W=W.sibling}if(!V)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case x:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case q:return"SuspenseList";case S:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case Y:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:X(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return X(s(o))}catch{}}return null}var J=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],O=-1;function re(s){return{current:s}}function oe(s){0>O||(s.current=ne[O],ne[O]=null,O--)}function se(s,o){O++,ne[O]=s.current,s.current=o}var ue=re(null),Z=re(null),we=re(null),Ue=re(null);function ie(s,o){switch(se(we,o),se(Z,s),se(ue,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?IE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=IE(o),s=PE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(ue),se(ue,s)}function xe(){oe(ue),oe(Z),oe(we)}function ke(s){s.memoizedState!==null&&se(Ue,s);var o=ue.current,u=PE(o,s.type);o!==u&&(se(Z,s),se(ue,u))}function Pe(s){Z.current===s&&(oe(ue),oe(Z)),Ue.current===s&&(oe(Ue),zh._currentValue=ee)}var he=Object.prototype.hasOwnProperty,Se=r.unstable_scheduleCallback,Ne=r.unstable_cancelCallback,Le=r.unstable_shouldYield,Fe=r.unstable_requestPaint,$e=r.unstable_now,tt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Ft=r.unstable_UserBlockingPriority,Qe=r.unstable_NormalPriority,zt=r.unstable_LowPriority,vt=r.unstable_IdlePriority,Tt=r.log,on=r.unstable_setDisableYieldValue,Dt=null,ct=null;function wt(s){if(typeof Tt=="function"&&on(s),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Dt,s)}catch{}}var It=Math.clz32?Math.clz32:En,yn=Math.log,Wn=Math.LN2;function En(s){return s>>>=0,s===0?32:31-(yn(s)/Wn|0)|0}var Nn=256,zn=4194304;function Sn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hi(s,o,u){var h=s.pendingLanes;if(h===0)return 0;var y=0,w=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var W=h&134217727;return W!==0?(h=W&~w,h!==0?y=Sn(h):(V&=W,V!==0?y=Sn(V):u||(u=W&~s,u!==0&&(y=Sn(u))))):(W=h&~w,W!==0?y=Sn(W):V!==0?y=Sn(V):u||(u=h&~s,u!==0&&(y=Sn(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function ei(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Di(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var s=Nn;return Nn<<=1,(Nn&4194048)===0&&(Nn=256),s}function vr(){var s=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),s}function jr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Un(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sr(s,o,u,h,y,w){var V=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var W=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(u=V&~u;0<u;){var Te=31-It(u),De=1<<Te;W[Te]=0,te[Te]=-1;var ge=me[Te];if(ge!==null)for(me[Te]=null,Te=0;Te<ge.length;Te++){var ye=ge[Te];ye!==null&&(ye.lane&=-536870913)}u&=~De}h!==0&&Qn(s,h,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(V&~o))}function Qn(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-It(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function Sr(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-It(u),y=1<<h;y&o|s[h]&o&&(s[h]|=o),u&=~y}}function ni(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Cn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rn(){var s=B.p;return s!==0?s:(s=window.event,s===void 0?32:e1(s.type))}function Vo(s,o){var u=B.p;try{return B.p=s,o()}finally{B.p=u}}var Jt=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Jt,Kn="__reactProps$"+Jt,Ri="__reactContainer$"+Jt,qa="__reactEvents$"+Jt,la="__reactListeners$"+Jt,Wi="__reactHandles$"+Jt,sc="__reactResources$"+Jt,Ps="__reactMarker$"+Jt;function ua(s){delete s[Ge],delete s[Kn],delete s[qa],delete s[la],delete s[Wi]}function Ns(s){var o=s[Ge];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Ri]||u[Ge]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=VE(s);s!==null;){if(u=s[Ge])return u;s=VE(s)}return o}s=u,u=s.parentNode}return null}function Vr(s){if(s=s[Ge]||s[Ri]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function An(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function dn(s){var o=s[sc];return o||(o=s[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Vt(s){s[Ps]=!0}var ar=new Set,Us={};function Cr(s,o){Br(s,o),Br(s+"Capture",o)}function Br(s,o){for(Us[s]=o,s=0;s<o.length;s++)ar.add(o[s])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},Vs={};function Bs(s){return he.call(Vs,s)?!0:he.call(su,s)?!1:js.test(s)?Vs[s]=!0:(su[s]=!0,!1)}function Fs(s,o,u){if(Bs(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Mi(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function or(s,o,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+h)}}var ca,au;function cs(s){if(ca===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ca=o&&o[1]||"",au=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+s+au}var Ya=!1;function $a(s,o){if(!s||Ya)return"";Ya=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(ye){var ge=ye}Reflect.construct(s,[],De)}else{try{De.call()}catch(ye){ge=ye}s.call(De.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(De=s())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),V=w[0],W=w[1];if(V&&W){var te=V.split(`
`),me=W.split(`
`);for(y=h=0;h<te.length&&!te[h].includes("DetermineComponentFrameRoot");)h++;for(;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;if(h===te.length||y===me.length)for(h=te.length-1,y=me.length-1;1<=h&&0<=y&&te[h]!==me[y];)y--;for(;1<=h&&0<=y;h--,y--)if(te[h]!==me[y]){if(h!==1||y!==1)do if(h--,y--,0>y||te[h]!==me[y]){var Te=`
`+te[h].replace(" at new "," at ");return s.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",s.displayName)),Te}while(1<=h&&0<=y);break}}}finally{Ya=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?cs(u):""}function Bo(s){switch(s.tag){case 26:case 27:case 5:return cs(s.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return $a(s.type,!1);case 11:return $a(s.type.render,!1);case 1:return $a(s.type,!0);case 31:return cs("Activity");default:return""}}function Ga(s){try{var o="";do o+=Bo(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ar(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ac(s){var o=Fo(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(V){h=""+V,w.call(this,V)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(V){h=""+V},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fr(s){s._valueTracker||(s._valueTracker=ac(s))}function yr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Fo(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ri=/[\n"\\]/g;function jn(s){return s.replace(ri,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zr(s,o,u,h,y,w,V,W){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),o!=null?V==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ar(o)):s.value!==""+Ar(o)&&(s.value=""+Ar(o)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),o!=null?ii(s,V,Ar(o)):u!=null?ii(s,V,Ar(u)):h!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.name=""+Ar(W):s.removeAttribute("name")}function xr(s,o,u,h,y,w,V,W){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+Ar(u):"",o=o!=null?""+Ar(o):u,W||o===s.value||(s.value=o),s.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=W?s.checked:!!h,s.defaultChecked=!!h,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function ii(s,o,u){o==="number"&&fi(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function ki(s,o,u,h){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Ar(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Bt(s,o,u){if(o!=null&&(o=""+Ar(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Ar(u):""}function zs(s,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Ar(o),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function pi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(s,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,u):typeof u!="number"||u===0||Li.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Ho(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&zo(s,y,h)}else for(var w in o)o.hasOwnProperty(w)&&zo(s,w,o[w])}function mi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(s){return ds.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var hs=null;function Dr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qi=null,gi=null;function qo(s){var o=Vr(s);if(o&&(s=o.stateNode)){var u=s[Kn]||null;e:switch(s=o.stateNode,o.type){case"input":if(zr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+jn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var y=h[Kn]||null;if(!y)throw Error(n(90));zr(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===s.form&&yr(h)}break e;case"textarea":Bt(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ki(s,!!u.multiple,o,!1)}}}var Ki=!1;function ou(s,o,u){if(Ki)return s(o,u);Ki=!0;try{var h=s(o);return h}finally{if(Ki=!1,(Qi!==null||gi!==null)&&(Hp(),Qi&&(o=Qi,s=gi,gi=Qi=null,qo(o),s)))for(o=0;o<s.length;o++)qo(s[o])}}function Oi(s,o){var u=s.stateNode;if(u===null)return null;var h=u[Kn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=!1;if(Xi)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){vi=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{vi=!1}var yi=null,fs=null,Ys=null;function da(){if(Ys)return Ys;var s,o=fs,u=o.length,h,y="value"in yi?yi.value:yi.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var V=u-s;for(h=1;h<=V&&o[u-h]===y[w-h];h++);return Ys=y.slice(s,1<h?1-h:void 0)}function ps(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function Wa(){return!1}function Xn(s){function o(u,h,y,w,V){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(u=s[W],this[W]=u?u(w):w[W]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zi:Wa,this.isPropagationStopped=Wa,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Xn(Ht),Ji=p({},Ht,{view:0,detail:0}),Yo=Xn(Ji),Ka,Xa,Hr,Za=p({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hr&&(Hr&&s.type==="mousemove"?(Ka=s.screenX-Hr.screenX,Xa=s.screenY-Hr.screenY):Xa=Ka=0,Hr=s),Ka)},movementY:function(s){return"movementY"in s?s.movementY:Xa}}),_i=Xn(Za),lu=p({},Za,{dataTransfer:0}),oc=Xn(lu),ha=p({},Ji,{relatedTarget:0}),Ja=Xn(ha),eo=p({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Xn(eo),lc=p({},Ht,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$o=Xn(lc),uc=p({},Ht,{data:0}),Go=Xn(uc),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function no(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=dc[s])?!!o[s]:!1}function fa(){return no}var uu=p({},Ji,{key:function(s){if(s.key){var o=ms[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ps(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(s){return s.type==="keypress"?ps(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ps(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ii=Xn(uu),Wo=p({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Xn(Wo),gs=p({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),hc=Xn(gs),fc=p({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=Xn(fc),mc=p({},Za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=Xn(mc),Rr=p({},Ht,{newState:0,oldState:0}),gc=Xn(Rr),$s=[9,13,27,32],Mr=Xi&&"CompositionEvent"in window,m=null;Xi&&"documentMode"in document&&(m=document.documentMode);var A=Xi&&"TextEvent"in window&&!m,I=Xi&&(!Mr||m&&8<m&&11>=m),K=" ",fe=!1;function _e(s,o){switch(s){case"keyup":return $s.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pt=!1;function lr(s,o){switch(s){case"compositionend":return Oe(o);case"keypress":return o.which!==32?null:(fe=!0,K);case"textInput":return s=o.data,s===K&&fe?null:s;default:return null}}function Nt(s,o){if(Pt)return s==="compositionend"||!Mr&&_e(s,o)?(s=da(),Ys=fs=yi=null,Pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return I&&o.locale!=="ko"?null:o.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ln[s.type]:o==="textarea"}function vs(s,o,u,h){Qi?gi?gi.push(h):gi=[h]:Qi=h,o=Qp(o,"onChange"),0<o.length&&(u=new Qa("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var fr=null,ys=null;function du(s){RE(s,0)}function hu(s){var o=An(s);if(yr(o))return s}function fu(s,o){if(s==="change")return o}var sp=!1;if(Xi){var Yd;if(Xi){var vc="oninput"in document;if(!vc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),vc=typeof ap.oninput=="function"}Yd=vc}else Yd=!1;sp=Yd&&(!document.documentMode||9<document.documentMode)}function op(){fr&&(fr.detachEvent("onpropertychange",$d),ys=fr=null)}function $d(s){if(s.propertyName==="value"&&hu(ys)){var o=[];vs(o,ys,s,Dr(s)),ou(du,o)}}function lp(s,o,u){s==="focusin"?(op(),fr=o,ys=u,fr.attachEvent("onpropertychange",$d)):s==="focusout"&&op()}function up(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hu(ys)}function yc(s,o){if(s==="click")return hu(o)}function cp(s,o){if(s==="input"||s==="change")return hu(o)}function Gd(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var xn=typeof Object.is=="function"?Object.is:Gd;function pu(s,o){if(xn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!he.call(o,y)||!xn(s[y],o[y]))return!1}return!0}function dp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Wd(s,o){var u=dp(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=dp(u)}}function Qd(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Qd(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function hp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=fi(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=fi(s.document)}return o}function Kd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var xv=Xi&&"documentMode"in document&&11>=document.documentMode,Qo=null,Xd=null,mu=null,_c=!1;function Zd(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_c||Qo==null||Qo!==fi(h)||(h=Qo,"selectionStart"in h&&Kd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),mu&&pu(mu,h)||(mu=h,h=Qp(Xd,"onSelect"),0<h.length&&(o=new Qa("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Qo)))}function Gs(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ko={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Jd={},pa={};Xi&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function qr(s){if(Jd[s])return Jd[s];if(!Ko[s])return s;var o=Ko[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in pa)return Jd[s]=o[u];return s}var eh=qr("animationend"),fp=qr("animationiteration"),th=qr("animationstart"),pp=qr("transitionrun"),mp=qr("transitionstart"),gp=qr("transitioncancel"),vp=qr("transitionend"),yp=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function Pi(s,o){yp.set(s,o),Cr(o,[s])}var rh=new WeakMap;function Ni(s,o){if(typeof s=="object"&&s!==null){var u=rh.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ga(o)},rh.set(s,o),o)}return{value:s,source:o,stack:Ga(o)}}var Ui=[],Xo=0,ih=0;function bc(){for(var s=Xo,o=ih=Xo=0;o<s;){var u=Ui[o];Ui[o++]=null;var h=Ui[o];Ui[o++]=null;var y=Ui[o];Ui[o++]=null;var w=Ui[o];if(Ui[o++]=null,h!==null&&y!==null){var V=h.pending;V===null?y.next=y:(y.next=V.next,V.next=y),h.pending=y}w!==0&&_p(u,y,w)}}function ji(s,o,u,h){Ui[Xo++]=s,Ui[Xo++]=o,Ui[Xo++]=u,Ui[Xo++]=h,ih|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function wc(s,o,u,h){return ji(s,o,u,h),Ec(s)}function Zo(s,o){return ji(s,null,null,o),Ec(s)}function _p(s,o,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var y=!1,w=s.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&o!==null&&(y=31-It(u),s=w.hiddenUpdates,h=s[y],h===null?s[y]=[o]:h.push(o),o.lane=u|536870912),w):null}function Ec(s){if(50<Ih)throw Ih=0,ly=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Jo={};function Dv(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,o,u,h){return new Dv(s,o,u,h)}function sh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ws(s,o){var u=s.alternate;return u===null?(u=bi(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Tc(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function io(s,o,u,h,y,w){var V=0;if(h=s,typeof s=="function")sh(s)&&(V=1);else if(typeof s=="string")V=W2(s,u,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case S:return s=bi(31,u,o,y),s.elementType=S,s.lanes=w,s;case E:return ma(u.children,y,w,o);case M:V=8,y|=24;break;case x:return s=bi(12,u,o,y|2),s.elementType=x,s.lanes=w,s;case G:return s=bi(13,u,o,y),s.elementType=G,s.lanes=w,s;case q:return s=bi(19,u,o,y),s.elementType=q,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case Y:V=10;break e;case $:V=9;break e;case H:V=11;break e;case P:V=14;break e;case C:V=16,h=null;break e}V=29,u=Error(n(130,s===null?"null":typeof s,"")),h=null}return o=bi(V,u,o,y),o.elementType=s,o.type=h,o.lanes=w,o}function ma(s,o,u,h){return s=bi(7,s,h,o),s.lanes=u,s}function Sc(s,o,u){return s=bi(6,s,null,o),s.lanes=u,s}function so(s,o,u){return o=bi(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var ga=[],el=0,Cc=null,Ac=0,pr=[],Vi=0,ao=null,Bi=1,es="";function oo(s,o){ga[el++]=Ac,ga[el++]=Cc,Cc=s,Ac=o}function ah(s,o,u){pr[Vi++]=Bi,pr[Vi++]=es,pr[Vi++]=ao,ao=s;var h=Bi;s=es;var y=32-It(h)-1;h&=~(1<<y),u+=1;var w=32-It(o)+y;if(30<w){var V=y-y%5;w=(h&(1<<V)-1).toString(32),h>>=V,y-=V,Bi=1<<32-It(o)+y|u<<y|h,es=w+s}else Bi=1<<w|u<<y|h,es=s}function oh(s){s.return!==null&&(oo(s,1),ah(s,1,0))}function va(s){for(;s===Cc;)Cc=ga[--el],ga[el]=null,Ac=ga[--el],ga[el]=null;for(;s===ao;)ao=pr[--Vi],pr[Vi]=null,es=pr[--Vi],pr[Vi]=null,Bi=pr[--Vi],pr[Vi]=null}var _r=null,Mn=null,Wt=!1,lo=null,_s=!1,uo=Error(n(519));function wi(s){var o=Error(n(418,""));throw yu(Ni(o,s)),uo}function bp(s){var o=s.stateNode,u=s.type,h=s.memoizedProps;switch(o[Ge]=s,o[Kn]=h,u){case"dialog":kt("cancel",o),kt("close",o);break;case"iframe":case"object":case"embed":kt("load",o);break;case"video":case"audio":for(u=0;u<Nh.length;u++)kt(Nh[u],o);break;case"source":kt("error",o);break;case"img":case"image":case"link":kt("error",o),kt("load",o);break;case"details":kt("toggle",o);break;case"input":kt("invalid",o),xr(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Fr(o);break;case"select":kt("invalid",o);break;case"textarea":kt("invalid",o),zs(o,h.value,h.defaultValue,h.children),Fr(o)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||OE(o.textContent,u)?(h.popover!=null&&(kt("beforetoggle",o),kt("toggle",o)),h.onScroll!=null&&kt("scroll",o),h.onScrollEnd!=null&&kt("scrollend",o),h.onClick!=null&&(o.onclick=Kp),o=!0):o=!1,o||wi(s)}function wp(s){for(_r=s.return;_r;)switch(_r.tag){case 5:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:_r=_r.return}}function gu(s){if(s!==_r)return!1;if(!Wt)return wp(s),Wt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Sy(s.type,s.memoizedProps)),u=!u),u&&Mn&&wi(s),wp(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Mn=Js(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Mn=null}}else o===27?(o=Mn,vl(s.type)?(s=Dy,Dy=null,Mn=s):Mn=o):Mn=_r?Js(s.stateNode.nextSibling):null;return!0}function vu(){Mn=_r=null,Wt=!1}function Ep(){var s=lo;return s!==null&&(zi===null?zi=s:zi.push.apply(zi,s),lo=null),s}function yu(s){lo===null?lo=[s]:lo.push(s)}var lh=re(null),co=null,bs=null;function ya(s,o,u){se(lh,o._currentValue),o._currentValue=u}function ws(s){s._currentValue=lh.current,oe(lh)}function _u(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function xc(s,o,u,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var V=y.child;w=w.firstContext;e:for(;w!==null;){var W=w;w=y;for(var te=0;te<o.length;te++)if(W.context===o[te]){w.lanes|=u,W=w.alternate,W!==null&&(W.lanes|=u),_u(w.return,u,s),h||(V=null);break e}w=W.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(n(341));V.lanes|=u,w=V.alternate,w!==null&&(w.lanes|=u),_u(V,u,s),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===s){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function ts(s,o,u,h){s=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var W=y.type;xn(y.pendingProps.value,V.value)||(s!==null?s.push(W):s=[W])}}else if(y===Ue.current){if(V=y.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}y=y.return}s!==null&&xc(o,s,u,h),o.flags|=262144}function bu(s){for(s=s.firstContext;s!==null;){if(!xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qs(s){co=s,bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function br(s){return uh(co,s)}function tl(s,o){return co===null&&Qs(s),uh(s,o)}function uh(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},bs===null){if(s===null)throw Error(n(308));bs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else bs=bs.next=o;return u}var ch=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},Rv=r.unstable_scheduleCallback,ho=r.unstable_NormalPriority,_n={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new ch,data:new Map,refCount:0}}function wu(s){s.refCount--,s.refCount===0&&Rv(ho,function(){s.controller.abort()})}var Eu=null,hh=0,nl=0,rl=null;function Mv(s,o){if(Eu===null){var u=Eu=[];hh=0,nl=my(),rl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return hh++,o.then(Tp,Tp),o}function Tp(){if(--hh===0&&Eu!==null){rl!==null&&(rl.status="fulfilled");var s=Eu;Eu=null,nl=0,rl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Sp(s,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var Tu=U.S;U.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Mv(s,o),Tu!==null&&Tu(s,o)};var Es=re(null);function fh(){var s=Es.current;return s!==null?s:Dn.pooledCache}function Dc(s,o){o===null?se(Es,Es.current):se(Es,o.pool)}function il(){var s=fh();return s===null?null:{parent:_n._currentValue,pool:s}}var z=Error(n(460)),_=Error(n(474)),D=Error(n(542)),Q={then:function(){}};function le(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ce(){}function be(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(ce,ce),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ze(s),s;default:if(typeof o.status=="string")o.then(ce,ce);else{if(s=Dn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ze(s),s}throw Ae=o,z}}var Ae=null;function Ie(){if(Ae===null)throw Error(n(459));var s=Ae;return Ae=null,s}function ze(s){if(s===z||s===D)throw Error(n(483))}var Ve=!1;function je(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dt(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xe(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function et(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(pn&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Ec(s),_p(s,null,u),o}return ji(s,h,o,u),Ec(s)}function nt(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Sr(s,u)}}function ot(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=V:w=w.next=V,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var en=!1;function tn(){if(en){var s=rl;if(s!==null)throw s}}function ft(s,o,u,h){en=!1;var y=s.updateQueue;Ve=!1;var w=y.firstBaseUpdate,V=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var te=W,me=te.next;te.next=null,V===null?w=me:V.next=me,V=te;var Te=s.alternate;Te!==null&&(Te=Te.updateQueue,W=Te.lastBaseUpdate,W!==V&&(W===null?Te.firstBaseUpdate=me:W.next=me,Te.lastBaseUpdate=te))}if(w!==null){var De=y.baseState;V=0,Te=me=te=null,W=w;do{var ge=W.lane&-536870913,ye=ge!==W.lane;if(ye?($t&ge)===ge:(h&ge)===ge){ge!==0&&ge===nl&&(en=!0),Te!==null&&(Te=Te.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var lt=s,it=W;ge=o;var wn=u;switch(it.tag){case 1:if(lt=it.payload,typeof lt=="function"){De=lt.call(wn,De,ge);break e}De=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=it.payload,ge=typeof lt=="function"?lt.call(wn,De,ge):lt,ge==null)break e;De=p({},De,ge);break e;case 2:Ve=!0}}ge=W.callback,ge!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Te===null?(me=Te=ye,te=De):Te=Te.next=ye,V|=ge;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;ye=W,W=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Te===null&&(te=De),y.baseState=te,y.firstBaseUpdate=me,y.lastBaseUpdate=Te,w===null&&(y.shared.lanes=0),fl|=V,s.lanes=V,s.memoizedState=De}}function qt(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function gt(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)qt(u[s],o)}var yt=re(null),Yt=re(0);function sn(s,o){s=yo,se(Yt,s),se(yt,o),yo=s|o.baseLanes}function Qt(){se(Yt,yo),se(yt,yt.current)}function kn(){yo=Yt.current,oe(yt),oe(Yt)}var Jn=0,rt=null,pt=null,Kt=null,Yr=!1,hn=!1,kr=!1,Ei=0,Ts=0,Ln=null,fn=0;function Rt(){throw Error(n(321))}function si(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!xn(s[u],o[u]))return!1;return!0}function Ss(s,o,u,h,y,w){return Jn=w,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=s===null||s.memoizedState===null?fw:pw,kr=!1,w=u(h,y),kr=!1,hn&&(w=ph(o,u,h,y)),Su(s),w}function Su(s){U.H=Mp;var o=pt!==null&&pt.next!==null;if(Jn=0,Kt=pt=rt=null,Yr=!1,Ts=0,Ln=null,o)throw Error(n(300));s===null||Or||(s=s.dependencies,s!==null&&bu(s)&&(Or=!0))}function ph(s,o,u,h){rt=s;var y=0;do{if(hn&&(Ln=null),Ts=0,hn=!1,25<=y)throw Error(n(301));if(y+=1,Kt=pt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=s2,w=o(u,h)}while(hn);return w}function Cp(){var s=U.H,o=s.useState()[0];return o=typeof o.then=="function"?Cu(o):o,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(rt.flags|=1024),o}function sl(){var s=Ei!==0;return Ei=0,s}function mh(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function gh(s){if(Yr){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Yr=!1}Jn=0,Kt=pt=rt=null,hn=!1,Ts=Ei=0,Ln=null}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?rt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function er(){if(pt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var o=Kt===null?rt.memoizedState:Kt.next;if(o!==null)Kt=o,pt=s;else{if(s===null)throw rt.alternate===null?Error(n(467)):Error(n(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Kt===null?rt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(s){var o=Ts;return Ts+=1,Ln===null&&(Ln=[]),s=be(Ln,s,o),o=rt,(Kt===null?o.memoizedState:Kt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?fw:pw),s}function Au(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Cu(s);if(s.$$typeof===Y)return br(s)}throw Error(n(438,String(s)))}function Mc(s){var o=null,u=rt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=rt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Rc(),rt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),h=0;h<s;h++)u[h]=k;return o.index++,u}function Ks(s,o){return typeof o=="function"?o(s):o}function kc(s){var o=er();return Xs(o,pt,s)}function Xs(s,o,u){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var y=s.baseQueue,w=h.pending;if(w!==null){if(y!==null){var V=y.next;y.next=w.next,w.next=V}o.baseQueue=y=w,h.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{o=y.next;var W=V=null,te=null,me=o,Te=!1;do{var De=me.lane&-536870913;if(De!==me.lane?($t&De)===De:(Jn&De)===De){var ge=me.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),De===nl&&(Te=!0);else if((Jn&ge)===ge){me=me.next,ge===nl&&(Te=!0);continue}else De={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(W=te=De,V=w):te=te.next=De,rt.lanes|=ge,fl|=ge;De=me.action,kr&&u(w,De),w=me.hasEagerState?me.eagerState:u(w,De)}else ge={lane:De,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(W=te=ge,V=w):te=te.next=ge,rt.lanes|=De,fl|=De;me=me.next}while(me!==null&&me!==o);if(te===null?V=w:te.next=W,!xn(w,s.memoizedState)&&(Or=!0,Te&&(u=rl,u!==null)))throw u;s.memoizedState=w,s.baseState=V,s.baseQueue=te,h.lastRenderedState=w}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function al(s){var o=er(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var V=y=y.next;do w=s(w,V.action),V=V.next;while(V!==y);xn(w,o.memoizedState)||(Or=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function vh(s,o,u){var h=rt,y=er(),w=Wt;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var V=!xn((pt||y).memoizedState,u);V&&(y.memoizedState=u,Or=!0),y=y.queue;var W=_h.bind(null,h,y,s);if(Th(2048,8,W,[s]),y.getSnapshot!==o||V||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Pc(9,xp(),Lc.bind(null,h,y,u,o),null),Dn===null)throw Error(n(349));w||(Jn&124)!==0||yh(h,o,u)}return u}function yh(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=rt.updateQueue,o===null?(o=Rc(),rt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Lc(s,o,u,h){o.value=u,o.getSnapshot=h,bh(o)&&wh(s)}function _h(s,o,u){return u(function(){bh(o)&&wh(s)})}function bh(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!xn(s,u)}catch{return!0}}function wh(s){var o=Zo(s,2);o!==null&&as(o,s,2)}function Oc(s){var o=Lr();if(typeof s=="function"){var u=s;if(s=u(),kr){wt(!0);try{u()}finally{wt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:s},o}function Ap(s,o,u,h){return s.baseState=u,Xs(s,pt,typeof h=="function"?h:Ks)}function kv(s,o,u,h,y){if(Rp(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};U.T!==null?u(!0):w.isTransition=!1,h(w),u=o.pending,u===null?(w.next=o.pending=w,Ic(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Ic(s,o){var u=o.action,h=o.payload,y=s.state;if(o.isTransition){var w=U.T,V={};U.T=V;try{var W=u(y,h),te=U.S;te!==null&&te(V,W),Eh(s,o,W)}catch(me){Lv(s,o,me)}finally{U.T=w}}else try{w=u(y,h),Eh(s,o,w)}catch(me){Lv(s,o,me)}}function Eh(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){zb(s,o,h)},function(h){return Lv(s,o,h)}):zb(s,o,u)}function zb(s,o,u){o.status="fulfilled",o.value=u,Hb(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Ic(s,u)))}function Lv(s,o,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Hb(o),o=o.next;while(o!==h)}s.action=null}function Hb(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function qb(s,o){return o}function Yb(s,o){if(Wt){var u=Dn.formState;if(u!==null){e:{var h=rt;if(Wt){if(Mn){t:{for(var y=Mn,w=_s;y.nodeType!==8;){if(!w){y=null;break t}if(y=Js(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Mn=Js(y.nextSibling),h=y.data==="F!";break e}}wi(h)}h=!1}h&&(o=u[0])}}return u=Lr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qb,lastRenderedState:o},u.queue=h,u=cw.bind(null,rt,h),h.dispatch=u,h=Oc(!1),w=Uv.bind(null,rt,!1,h.queue),h=Lr(),y={state:o,dispatch:null,action:s,pending:null},h.queue=y,u=kv.bind(null,rt,y,w,u),y.dispatch=u,h.memoizedState=s,[o,u,!1]}function $b(s){var o=er();return Gb(o,pt,s)}function Gb(s,o,u){if(o=Xs(s,o,qb)[0],s=kc(Ks)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Cu(o)}catch(V){throw V===z?D:V}else h=o;o=er();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(rt.flags|=2048,Pc(9,xp(),t2.bind(null,y,u),null)),[h,w,s]}function t2(s,o){s.action=o}function Wb(s){var o=er(),u=pt;if(u!==null)return Gb(o,u,s);er(),o=o.memoizedState,u=er();var h=u.queue.dispatch;return u.memoizedState=s,[o,h,!1]}function Pc(s,o,u,h){return s={tag:s,create:u,deps:h,inst:o,next:null},o=rt.updateQueue,o===null&&(o=Rc(),rt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s),s}function xp(){return{destroy:void 0,resource:void 0}}function Qb(){return er().memoizedState}function Dp(s,o,u,h){var y=Lr();h=h===void 0?null:h,rt.flags|=s,y.memoizedState=Pc(1|o,xp(),u,h)}function Th(s,o,u,h){var y=er();h=h===void 0?null:h;var w=y.memoizedState.inst;pt!==null&&h!==null&&si(h,pt.memoizedState.deps)?y.memoizedState=Pc(o,w,u,h):(rt.flags|=s,y.memoizedState=Pc(1|o,w,u,h))}function Kb(s,o){Dp(8390656,8,s,o)}function Xb(s,o){Th(2048,8,s,o)}function Zb(s,o){return Th(4,2,s,o)}function Jb(s,o){return Th(4,4,s,o)}function ew(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function tw(s,o,u){u=u!=null?u.concat([s]):null,Th(4,4,ew.bind(null,o,s),u)}function Ov(){}function nw(s,o){var u=er();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&si(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function rw(s,o){var u=er();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&si(o,h[1]))return h[0];if(h=s(),kr){wt(!0);try{s()}finally{wt(!1)}}return u.memoizedState=[h,o],h}function Iv(s,o,u){return u===void 0||(Jn&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=aE(),rt.lanes|=s,fl|=s,u)}function iw(s,o,u,h){return xn(u,o)?u:yt.current!==null?(s=Iv(s,u,h),xn(s,o)||(Or=!0),s):(Jn&42)===0?(Or=!0,s.memoizedState=u):(s=aE(),rt.lanes|=s,fl|=s,o)}function sw(s,o,u,h,y){var w=B.p;B.p=w!==0&&8>w?w:8;var V=U.T,W={};U.T=W,Uv(s,!1,o,u);try{var te=y(),me=U.S;if(me!==null&&me(W,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Te=Sp(te,h);Sh(s,o,Te,ss(s))}else Sh(s,o,h,ss(s))}catch(De){Sh(s,o,{then:function(){},status:"rejected",reason:De},ss())}finally{B.p=w,U.T=V}}function n2(){}function Pv(s,o,u,h){if(s.tag!==5)throw Error(n(476));var y=aw(s).queue;sw(s,y,o,ee,u===null?n2:function(){return ow(s),u(h)})}function aw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function ow(s){var o=aw(s).next.queue;Sh(s,o,{},ss())}function Nv(){return br(zh)}function lw(){return er().memoizedState}function uw(){return er().memoizedState}function r2(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=ss();s=Xe(u);var h=et(o,s,u);h!==null&&(as(h,o,u),nt(h,o,u)),o={cache:dh()},s.payload=o;return}o=o.return}}function i2(s,o,u){var h=ss();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Rp(s)?dw(o,u):(u=wc(s,o,u,h),u!==null&&(as(u,s,h),hw(u,o,h)))}function cw(s,o,u){var h=ss();Sh(s,o,u,h)}function Sh(s,o,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Rp(s))dw(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var V=o.lastRenderedState,W=w(V,u);if(y.hasEagerState=!0,y.eagerState=W,xn(W,V))return ji(s,o,y,0),Dn===null&&bc(),!1}catch{}finally{}if(u=wc(s,o,y,h),u!==null)return as(u,s,h),hw(u,o,h),!0}return!1}function Uv(s,o,u,h){if(h={lane:2,revertLane:my(),action:h,hasEagerState:!1,eagerState:null,next:null},Rp(s)){if(o)throw Error(n(479))}else o=wc(s,u,h,2),o!==null&&as(o,s,2)}function Rp(s){var o=s.alternate;return s===rt||o!==null&&o===rt}function dw(s,o){hn=Yr=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function hw(s,o,u){if((u&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Sr(s,u)}}var Mp={readContext:br,use:Au,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},fw={readContext:br,use:Au,useCallback:function(s,o){return Lr().memoizedState=[s,o===void 0?null:o],s},useContext:br,useEffect:Kb,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Dp(4194308,4,ew.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Dp(4194308,4,s,o)},useInsertionEffect:function(s,o){Dp(4,2,s,o)},useMemo:function(s,o){var u=Lr();o=o===void 0?null:o;var h=s();if(kr){wt(!0);try{s()}finally{wt(!1)}}return u.memoizedState=[h,o],h},useReducer:function(s,o,u){var h=Lr();if(u!==void 0){var y=u(o);if(kr){wt(!0);try{u(o)}finally{wt(!1)}}}else y=o;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=i2.bind(null,rt,s),[h.memoizedState,s]},useRef:function(s){var o=Lr();return s={current:s},o.memoizedState=s},useState:function(s){s=Oc(s);var o=s.queue,u=cw.bind(null,rt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:Ov,useDeferredValue:function(s,o){var u=Lr();return Iv(u,s,o)},useTransition:function(){var s=Oc(!1);return s=sw.bind(null,rt,s.queue,!0,!1),Lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var h=rt,y=Lr();if(Wt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Dn===null)throw Error(n(349));($t&124)!==0||yh(h,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,Kb(_h.bind(null,h,w,s),[s]),h.flags|=2048,Pc(9,xp(),Lc.bind(null,h,w,u,o),null),u},useId:function(){var s=Lr(),o=Dn.identifierPrefix;if(Wt){var u=es,h=Bi;u=(h&~(1<<32-It(h)-1)).toString(32)+u,o=""+o+"R"+u,u=Ei++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=fn++,o=""+o+"r"+u.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Nv,useFormState:Yb,useActionState:Yb,useOptimistic:function(s){var o=Lr();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Uv.bind(null,rt,!0,u),u.dispatch=o,[s,o]},useMemoCache:Mc,useCacheRefresh:function(){return Lr().memoizedState=r2.bind(null,rt)}},pw={readContext:br,use:Au,useCallback:nw,useContext:br,useEffect:Xb,useImperativeHandle:tw,useInsertionEffect:Zb,useLayoutEffect:Jb,useMemo:rw,useReducer:kc,useRef:Qb,useState:function(){return kc(Ks)},useDebugValue:Ov,useDeferredValue:function(s,o){var u=er();return iw(u,pt.memoizedState,s,o)},useTransition:function(){var s=kc(Ks)[0],o=er().memoizedState;return[typeof s=="boolean"?s:Cu(s),o]},useSyncExternalStore:vh,useId:lw,useHostTransitionStatus:Nv,useFormState:$b,useActionState:$b,useOptimistic:function(s,o){var u=er();return Ap(u,pt,s,o)},useMemoCache:Mc,useCacheRefresh:uw},s2={readContext:br,use:Au,useCallback:nw,useContext:br,useEffect:Xb,useImperativeHandle:tw,useInsertionEffect:Zb,useLayoutEffect:Jb,useMemo:rw,useReducer:al,useRef:Qb,useState:function(){return al(Ks)},useDebugValue:Ov,useDeferredValue:function(s,o){var u=er();return pt===null?Iv(u,s,o):iw(u,pt.memoizedState,s,o)},useTransition:function(){var s=al(Ks)[0],o=er().memoizedState;return[typeof s=="boolean"?s:Cu(s),o]},useSyncExternalStore:vh,useId:lw,useHostTransitionStatus:Nv,useFormState:Wb,useActionState:Wb,useOptimistic:function(s,o){var u=er();return pt!==null?Ap(u,pt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:uw},Nc=null,Ch=0;function kp(s){var o=Ch;return Ch+=1,Nc===null&&(Nc=[]),be(Nc,s,o)}function Ah(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Lp(s,o){throw o.$$typeof===g?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function mw(s){var o=s._init;return o(s._payload)}function gw(s){function o(de,ae){if(s){var pe=de.deletions;pe===null?(de.deletions=[ae],de.flags|=16):pe.push(ae)}}function u(de,ae){if(!s)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function h(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function y(de,ae){return de=Ws(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,pe){return de.index=pe,s?(pe=de.alternate,pe!==null?(pe=pe.index,pe<ae?(de.flags|=67108866,ae):pe):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function V(de){return s&&de.alternate===null&&(de.flags|=67108866),de}function W(de,ae,pe,Ce){return ae===null||ae.tag!==6?(ae=Sc(pe,de.mode,Ce),ae.return=de,ae):(ae=y(ae,pe),ae.return=de,ae)}function te(de,ae,pe,Ce){var We=pe.type;return We===E?Te(de,ae,pe.props.children,Ce,pe.key):ae!==null&&(ae.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===C&&mw(We)===ae.type)?(ae=y(ae,pe.props),Ah(ae,pe),ae.return=de,ae):(ae=io(pe.type,pe.key,pe.props,null,de.mode,Ce),Ah(ae,pe),ae.return=de,ae)}function me(de,ae,pe,Ce){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=so(pe,de.mode,Ce),ae.return=de,ae):(ae=y(ae,pe.children||[]),ae.return=de,ae)}function Te(de,ae,pe,Ce,We){return ae===null||ae.tag!==7?(ae=ma(pe,de.mode,Ce,We),ae.return=de,ae):(ae=y(ae,pe),ae.return=de,ae)}function De(de,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Sc(""+ae,de.mode,pe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return pe=io(ae.type,ae.key,ae.props,null,de.mode,pe),Ah(pe,ae),pe.return=de,pe;case b:return ae=so(ae,de.mode,pe),ae.return=de,ae;case C:var Ce=ae._init;return ae=Ce(ae._payload),De(de,ae,pe)}if(J(ae)||F(ae))return ae=ma(ae,de.mode,pe,null),ae.return=de,ae;if(typeof ae.then=="function")return De(de,kp(ae),pe);if(ae.$$typeof===Y)return De(de,tl(de,ae),pe);Lp(de,ae)}return null}function ge(de,ae,pe,Ce){var We=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return We!==null?null:W(de,ae,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return pe.key===We?te(de,ae,pe,Ce):null;case b:return pe.key===We?me(de,ae,pe,Ce):null;case C:return We=pe._init,pe=We(pe._payload),ge(de,ae,pe,Ce)}if(J(pe)||F(pe))return We!==null?null:Te(de,ae,pe,Ce,null);if(typeof pe.then=="function")return ge(de,ae,kp(pe),Ce);if(pe.$$typeof===Y)return ge(de,ae,tl(de,pe),Ce);Lp(de,pe)}return null}function ye(de,ae,pe,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return de=de.get(pe)||null,W(ae,de,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:return de=de.get(Ce.key===null?pe:Ce.key)||null,te(ae,de,Ce,We);case b:return de=de.get(Ce.key===null?pe:Ce.key)||null,me(ae,de,Ce,We);case C:var Ct=Ce._init;return Ce=Ct(Ce._payload),ye(de,ae,pe,Ce,We)}if(J(Ce)||F(Ce))return de=de.get(pe)||null,Te(ae,de,Ce,We,null);if(typeof Ce.then=="function")return ye(de,ae,pe,kp(Ce),We);if(Ce.$$typeof===Y)return ye(de,ae,pe,tl(ae,Ce),We);Lp(ae,Ce)}return null}function lt(de,ae,pe,Ce){for(var We=null,Ct=null,Ze=ae,st=ae=0,Pr=null;Ze!==null&&st<pe.length;st++){Ze.index>st?(Pr=Ze,Ze=null):Pr=Ze.sibling;var nn=ge(de,Ze,pe[st],Ce);if(nn===null){Ze===null&&(Ze=Pr);break}s&&Ze&&nn.alternate===null&&o(de,Ze),ae=w(nn,ae,st),Ct===null?We=nn:Ct.sibling=nn,Ct=nn,Ze=Pr}if(st===pe.length)return u(de,Ze),Wt&&oo(de,st),We;if(Ze===null){for(;st<pe.length;st++)Ze=De(de,pe[st],Ce),Ze!==null&&(ae=w(Ze,ae,st),Ct===null?We=Ze:Ct.sibling=Ze,Ct=Ze);return Wt&&oo(de,st),We}for(Ze=h(Ze);st<pe.length;st++)Pr=ye(Ze,de,st,pe[st],Ce),Pr!==null&&(s&&Pr.alternate!==null&&Ze.delete(Pr.key===null?st:Pr.key),ae=w(Pr,ae,st),Ct===null?We=Pr:Ct.sibling=Pr,Ct=Pr);return s&&Ze.forEach(function(El){return o(de,El)}),Wt&&oo(de,st),We}function it(de,ae,pe,Ce){if(pe==null)throw Error(n(151));for(var We=null,Ct=null,Ze=ae,st=ae=0,Pr=null,nn=pe.next();Ze!==null&&!nn.done;st++,nn=pe.next()){Ze.index>st?(Pr=Ze,Ze=null):Pr=Ze.sibling;var El=ge(de,Ze,nn.value,Ce);if(El===null){Ze===null&&(Ze=Pr);break}s&&Ze&&El.alternate===null&&o(de,Ze),ae=w(El,ae,st),Ct===null?We=El:Ct.sibling=El,Ct=El,Ze=Pr}if(nn.done)return u(de,Ze),Wt&&oo(de,st),We;if(Ze===null){for(;!nn.done;st++,nn=pe.next())nn=De(de,nn.value,Ce),nn!==null&&(ae=w(nn,ae,st),Ct===null?We=nn:Ct.sibling=nn,Ct=nn);return Wt&&oo(de,st),We}for(Ze=h(Ze);!nn.done;st++,nn=pe.next())nn=ye(Ze,de,st,nn.value,Ce),nn!==null&&(s&&nn.alternate!==null&&Ze.delete(nn.key===null?st:nn.key),ae=w(nn,ae,st),Ct===null?We=nn:Ct.sibling=nn,Ct=nn);return s&&Ze.forEach(function(ak){return o(de,ak)}),Wt&&oo(de,st),We}function wn(de,ae,pe,Ce){if(typeof pe=="object"&&pe!==null&&pe.type===E&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:e:{for(var We=pe.key;ae!==null;){if(ae.key===We){if(We=pe.type,We===E){if(ae.tag===7){u(de,ae.sibling),Ce=y(ae,pe.props.children),Ce.return=de,de=Ce;break e}}else if(ae.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===C&&mw(We)===ae.type){u(de,ae.sibling),Ce=y(ae,pe.props),Ah(Ce,pe),Ce.return=de,de=Ce;break e}u(de,ae);break}else o(de,ae);ae=ae.sibling}pe.type===E?(Ce=ma(pe.props.children,de.mode,Ce,pe.key),Ce.return=de,de=Ce):(Ce=io(pe.type,pe.key,pe.props,null,de.mode,Ce),Ah(Ce,pe),Ce.return=de,de=Ce)}return V(de);case b:e:{for(We=pe.key;ae!==null;){if(ae.key===We)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){u(de,ae.sibling),Ce=y(ae,pe.children||[]),Ce.return=de,de=Ce;break e}else{u(de,ae);break}else o(de,ae);ae=ae.sibling}Ce=so(pe,de.mode,Ce),Ce.return=de,de=Ce}return V(de);case C:return We=pe._init,pe=We(pe._payload),wn(de,ae,pe,Ce)}if(J(pe))return lt(de,ae,pe,Ce);if(F(pe)){if(We=F(pe),typeof We!="function")throw Error(n(150));return pe=We.call(pe),it(de,ae,pe,Ce)}if(typeof pe.then=="function")return wn(de,ae,kp(pe),Ce);if(pe.$$typeof===Y)return wn(de,ae,tl(de,pe),Ce);Lp(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(u(de,ae.sibling),Ce=y(ae,pe),Ce.return=de,de=Ce):(u(de,ae),Ce=Sc(pe,de.mode,Ce),Ce.return=de,de=Ce),V(de)):u(de,ae)}return function(de,ae,pe,Ce){try{Ch=0;var We=wn(de,ae,pe,Ce);return Nc=null,We}catch(Ze){if(Ze===z||Ze===D)throw Ze;var Ct=bi(29,Ze,null,de.mode);return Ct.lanes=Ce,Ct.return=de,Ct}finally{}}}var Uc=gw(!0),vw=gw(!1),Cs=re(null),_a=null;function ol(s){var o=s.alternate;se(wr,wr.current&1),se(Cs,s),_a===null&&(o===null||yt.current!==null||o.memoizedState!==null)&&(_a=s)}function yw(s){if(s.tag===22){if(se(wr,wr.current),se(Cs,s),_a===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(_a=s)}}else ll()}function ll(){se(wr,wr.current),se(Cs,Cs.current)}function fo(s){oe(Cs),_a===s&&(_a=null),oe(wr)}var wr=re(0);function Op(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||xy(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function jv(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Vv={enqueueSetState:function(s,o,u){s=s._reactInternals;var h=ss(),y=Xe(h);y.payload=o,u!=null&&(y.callback=u),o=et(s,y,h),o!==null&&(as(o,s,h),nt(o,s,h))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=ss(),y=Xe(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=et(s,y,h),o!==null&&(as(o,s,h),nt(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=ss(),h=Xe(u);h.tag=2,o!=null&&(h.callback=o),o=et(s,h,u),o!==null&&(as(o,s,u),nt(o,s,u))}};function _w(s,o,u,h,y,w,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,V):o.prototype&&o.prototype.isPureReactComponent?!pu(u,h)||!pu(y,w):!0}function bw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Vv.enqueueReplaceState(o,o.state,null)}function xu(s,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var Ip=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ww(s){Ip(s)}function Ew(s){console.error(s)}function Tw(s){Ip(s)}function Pp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Sw(s,o,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bv(s,o,u){return u=Xe(u),u.tag=3,u.payload={element:null},u.callback=function(){Pp(s,o)},u}function Cw(s){return s=Xe(s),s.tag=3,s}function Aw(s,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;s.payload=function(){return y(w)},s.callback=function(){Sw(o,u,h)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){Sw(o,u,h),typeof y!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})})}function a2(s,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&ts(o,u,y,!0),u=Cs.current,u!==null){switch(u.tag){case 13:return _a===null?cy():u.alternate===null&&tr===0&&(tr=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Q?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),hy(s,h,y)),!1;case 22:return u.flags|=65536,h===Q?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),hy(s,h,y)),!1}throw Error(n(435,u.tag))}return hy(s,h,y),cy(),!1}if(Wt)return o=Cs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==uo&&(s=Error(n(422),{cause:h}),yu(Ni(s,u)))):(h!==uo&&(o=Error(n(423),{cause:h}),yu(Ni(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=Ni(h,u),y=Bv(s.stateNode,h,y),ot(s,y),tr!==4&&(tr=2)),!1;var w=Error(n(520),{cause:h});if(w=Ni(w,u),Oh===null?Oh=[w]:Oh.push(w),tr!==4&&(tr=2),o===null)return!0;h=Ni(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Bv(u.stateNode,h,s),ot(u,s),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pl===null||!pl.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Cw(y),Aw(y,s,u,h),ot(u,y),!1}u=u.return}while(u!==null);return!1}var xw=Error(n(461)),Or=!1;function $r(s,o,u,h){o.child=s===null?vw(o,null,u,h):Uc(o,s.child,u,h)}function Dw(s,o,u,h,y){u=u.render;var w=o.ref;if("ref"in h){var V={};for(var W in h)W!=="ref"&&(V[W]=h[W])}else V=h;return Qs(o),h=Ss(s,o,u,V,w,y),W=sl(),s!==null&&!Or?(mh(s,o,y),po(s,o,y)):(Wt&&W&&oh(o),o.flags|=1,$r(s,o,h,y),o.child)}function Rw(s,o,u,h,y){if(s===null){var w=u.type;return typeof w=="function"&&!sh(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,Mw(s,o,w,h,y)):(s=io(u.type,null,h,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!Wv(s,y)){var V=w.memoizedProps;if(u=u.compare,u=u!==null?u:pu,u(V,h)&&s.ref===o.ref)return po(s,o,y)}return o.flags|=1,s=Ws(w,h),s.ref=o.ref,s.return=o,o.child=s}function Mw(s,o,u,h,y){if(s!==null){var w=s.memoizedProps;if(pu(w,h)&&s.ref===o.ref)if(Or=!1,o.pendingProps=h=w,Wv(s,y))(s.flags&131072)!==0&&(Or=!0);else return o.lanes=s.lanes,po(s,o,y)}return Fv(s,o,u,h,y)}function kw(s,o,u){var h=o.pendingProps,y=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=w!==null?w.baseLanes|u:u,s!==null){for(y=o.child=s.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~h}else o.childLanes=0,o.child=null;return Lw(s,o,h,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dc(o,w!==null?w.cachePool:null),w!==null?sn(o,w):Qt(),yw(o);else return o.lanes=o.childLanes=536870912,Lw(s,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Dc(o,w.cachePool),sn(o,w),ll(),o.memoizedState=null):(s!==null&&Dc(o,null),Qt(),ll());return $r(s,o,y,u),o.child}function Lw(s,o,u,h){var y=fh();return y=y===null?null:{parent:_n._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&Dc(o,null),Qt(),yw(o),s!==null&&ts(s,o,h,!0),null}function Np(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Fv(s,o,u,h,y){return Qs(o),u=Ss(s,o,u,h,void 0,y),h=sl(),s!==null&&!Or?(mh(s,o,y),po(s,o,y)):(Wt&&h&&oh(o),o.flags|=1,$r(s,o,u,y),o.child)}function Ow(s,o,u,h,y,w){return Qs(o),o.updateQueue=null,u=ph(o,h,u,y),Su(s),h=sl(),s!==null&&!Or?(mh(s,o,w),po(s,o,w)):(Wt&&h&&oh(o),o.flags|=1,$r(s,o,u,w),o.child)}function Iw(s,o,u,h,y){if(Qs(o),o.stateNode===null){var w=Jo,V=u.contextType;typeof V=="object"&&V!==null&&(w=br(V)),w=new u(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Vv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},je(o),V=u.contextType,w.context=typeof V=="object"&&V!==null?br(V):Jo,w.state=o.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(jv(o,u,V,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&Vv.enqueueReplaceState(w,w.state,null),ft(o,h,w,y),tn(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){w=o.stateNode;var W=o.memoizedProps,te=xu(u,W);w.props=te;var me=w.context,Te=u.contextType;V=Jo,typeof Te=="object"&&Te!==null&&(V=br(Te));var De=u.getDerivedStateFromProps;Te=typeof De=="function"||typeof w.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,Te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(W||me!==V)&&bw(o,w,h,V),Ve=!1;var ge=o.memoizedState;w.state=ge,ft(o,h,w,y),tn(),me=o.memoizedState,W||ge!==me||Ve?(typeof De=="function"&&(jv(o,u,De,h),me=o.memoizedState),(te=Ve||_w(o,u,te,h,ge,me,V))?(Te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=me),w.props=h,w.state=me,w.context=V,h=te):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,dt(s,o),V=o.memoizedProps,Te=xu(u,V),w.props=Te,De=o.pendingProps,ge=w.context,me=u.contextType,te=Jo,typeof me=="object"&&me!==null&&(te=br(me)),W=u.getDerivedStateFromProps,(me=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==De||ge!==te)&&bw(o,w,h,te),Ve=!1,ge=o.memoizedState,w.state=ge,ft(o,h,w,y),tn();var ye=o.memoizedState;V!==De||ge!==ye||Ve||s!==null&&s.dependencies!==null&&bu(s.dependencies)?(typeof W=="function"&&(jv(o,u,W,h),ye=o.memoizedState),(Te=Ve||_w(o,u,Te,h,ge,ye,te)||s!==null&&s.dependencies!==null&&bu(s.dependencies))?(me||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ye,te),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ye,te)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),w.props=h,w.state=ye,w.context=te,h=Te):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),h=!1)}return w=h,Np(s,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&h?(o.child=Uc(o,s.child,null,y),o.child=Uc(o,null,u,y)):$r(s,o,u,y),o.memoizedState=w.state,s=o.child):s=po(s,o,y),s}function Pw(s,o,u,h){return vu(),o.flags|=256,$r(s,o,u,h),o.child}var zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hv(s){return{baseLanes:s,cachePool:il()}}function qv(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=As),s}function Nw(s,o,u){var h=o.pendingProps,y=!1,w=(o.flags&128)!==0,V;if((V=w)||(V=s!==null&&s.memoizedState===null?!1:(wr.current&2)!==0),V&&(y=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,s===null){if(Wt){if(y?ol(o):ll(),Wt){var W=Mn,te;if(te=W){e:{for(te=W,W=_s;te.nodeType!==8;){if(!W){W=null;break e}if(te=Js(te.nextSibling),te===null){W=null;break e}}W=te}W!==null?(o.memoizedState={dehydrated:W,treeContext:ao!==null?{id:Bi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},te=bi(18,null,null,0),te.stateNode=W,te.return=o,o.child=te,_r=o,Mn=null,te=!0):te=!1}te||wi(o)}if(W=o.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return xy(W)?o.lanes=32:o.lanes=536870912,null;fo(o)}return W=h.children,h=h.fallback,y?(ll(),y=o.mode,W=Up({mode:"hidden",children:W},y),h=ma(h,y,u,null),W.return=o,h.return=o,W.sibling=h,o.child=W,y=o.child,y.memoizedState=Hv(u),y.childLanes=qv(s,V,u),o.memoizedState=zv,h):(ol(o),Yv(o,W))}if(te=s.memoizedState,te!==null&&(W=te.dehydrated,W!==null)){if(w)o.flags&256?(ol(o),o.flags&=-257,o=$v(s,o,u)):o.memoizedState!==null?(ll(),o.child=s.child,o.flags|=128,o=null):(ll(),y=h.fallback,W=o.mode,h=Up({mode:"visible",children:h.children},W),y=ma(y,W,u,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,Uc(o,s.child,null,u),h=o.child,h.memoizedState=Hv(u),h.childLanes=qv(s,V,u),o.memoizedState=zv,o=y);else if(ol(o),xy(W)){if(V=W.nextSibling&&W.nextSibling.dataset,V)var me=V.dgst;V=me,h=Error(n(419)),h.stack="",h.digest=V,yu({value:h,source:null,stack:null}),o=$v(s,o,u)}else if(Or||ts(s,o,u,!1),V=(u&s.childLanes)!==0,Or||V){if(V=Dn,V!==null&&(h=u&-u,h=(h&42)!==0?1:ni(h),h=(h&(V.suspendedLanes|u))!==0?0:h,h!==0&&h!==te.retryLane))throw te.retryLane=h,Zo(s,h),as(V,s,h),xw;W.data==="$?"||cy(),o=$v(s,o,u)}else W.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=te.treeContext,Mn=Js(W.nextSibling),_r=o,Wt=!0,lo=null,_s=!1,s!==null&&(pr[Vi++]=Bi,pr[Vi++]=es,pr[Vi++]=ao,Bi=s.id,es=s.overflow,ao=o),o=Yv(o,h.children),o.flags|=4096);return o}return y?(ll(),y=h.fallback,W=o.mode,te=s.child,me=te.sibling,h=Ws(te,{mode:"hidden",children:h.children}),h.subtreeFlags=te.subtreeFlags&65011712,me!==null?y=Ws(me,y):(y=ma(y,W,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,W=s.child.memoizedState,W===null?W=Hv(u):(te=W.cachePool,te!==null?(me=_n._currentValue,te=te.parent!==me?{parent:me,pool:me}:te):te=il(),W={baseLanes:W.baseLanes|u,cachePool:te}),y.memoizedState=W,y.childLanes=qv(s,V,u),o.memoizedState=zv,h):(ol(o),u=s.child,s=u.sibling,u=Ws(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,s!==null&&(V=o.deletions,V===null?(o.deletions=[s],o.flags|=16):V.push(s)),o.child=u,o.memoizedState=null,u)}function Yv(s,o){return o=Up({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Up(s,o){return s=bi(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $v(s,o,u){return Uc(o,s.child,null,u),s=Yv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Uw(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),_u(s.return,o,u)}function Gv(s,o,u,h,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=y)}function jw(s,o,u){var h=o.pendingProps,y=h.revealOrder,w=h.tail;if($r(s,o,h.children,u),h=wr.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Uw(s,u,o);else if(s.tag===19)Uw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(se(wr,h),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&Op(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Gv(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Op(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Gv(o,!0,u,null,w);break;case"together":Gv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function po(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),fl|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ts(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Ws(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Ws(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Wv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&bu(s)))}function o2(s,o,u){switch(o.tag){case 3:ie(o,o.stateNode.containerInfo),ya(o,_n,s.memoizedState.cache),vu();break;case 27:case 5:ke(o);break;case 4:ie(o,o.stateNode.containerInfo);break;case 10:ya(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ol(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Nw(s,o,u):(ol(o),s=po(s,o,u),s!==null?s.sibling:null);ol(o);break;case 19:var y=(s.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(ts(s,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return jw(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(wr,wr.current),h)break;return null;case 22:case 23:return o.lanes=0,kw(s,o,u);case 24:ya(o,_n,s.memoizedState.cache)}return po(s,o,u)}function Vw(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Or=!0;else{if(!Wv(s,u)&&(o.flags&128)===0)return Or=!1,o2(s,o,u);Or=(s.flags&131072)!==0}else Or=!1,Wt&&(o.flags&1048576)!==0&&ah(o,Ac,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")sh(h)?(s=xu(h,s),o.tag=1,o=Iw(null,o,h,s,u)):(o.tag=0,o=Fv(null,o,h,s,u));else{if(h!=null){if(y=h.$$typeof,y===H){o.tag=11,o=Dw(null,o,h,s,u);break e}else if(y===P){o.tag=14,o=Rw(null,o,h,s,u);break e}}throw o=X(h)||h,Error(n(306,o,""))}}return o;case 0:return Fv(s,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=xu(h,o.pendingProps),Iw(s,o,h,y,u);case 3:e:{if(ie(o,o.stateNode.containerInfo),s===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;y=w.element,dt(s,o),ft(o,h,null,u);var V=o.memoizedState;if(h=V.cache,ya(o,_n,h),h!==w.cache&&xc(o,[_n],u,!0),tn(),h=V.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Pw(s,o,h,u);break e}else if(h!==y){y=Ni(Error(n(424)),o),yu(y),o=Pw(s,o,h,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mn=Js(s.firstChild),_r=o,Wt=!0,lo=null,_s=!0,u=vw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vu(),h===y){o=po(s,o,u);break e}$r(s,o,h,u)}o=o.child}return o;case 26:return Np(s,o),s===null?(u=HE(o.type,null,o.pendingProps,null))?o.memoizedState=u:Wt||(u=o.type,s=o.pendingProps,h=Xp(we.current).createElement(u),h[Ge]=o,h[Kn]=s,Wr(h,u,s),Vt(h),o.stateNode=h):o.memoizedState=HE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ke(o),s===null&&Wt&&(h=o.stateNode=BE(o.type,o.pendingProps,we.current),_r=o,_s=!0,y=Mn,vl(o.type)?(Dy=y,Mn=Js(h.firstChild)):Mn=y),$r(s,o,o.pendingProps.children,u),Np(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Wt&&((y=h=Mn)&&(h=P2(h,o.type,o.pendingProps,_s),h!==null?(o.stateNode=h,_r=o,Mn=Js(h.firstChild),_s=!1,y=!0):y=!1),y||wi(o)),ke(o),y=o.type,w=o.pendingProps,V=s!==null?s.memoizedProps:null,h=w.children,Sy(y,w)?h=null:V!==null&&Sy(y,V)&&(o.flags|=32),o.memoizedState!==null&&(y=Ss(s,o,Cp,null,null,u),zh._currentValue=y),Np(s,o),$r(s,o,h,u),o.child;case 6:return s===null&&Wt&&((s=u=Mn)&&(u=N2(u,o.pendingProps,_s),u!==null?(o.stateNode=u,_r=o,Mn=null,s=!0):s=!1),s||wi(o)),null;case 13:return Nw(s,o,u);case 4:return ie(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Uc(o,null,h,u):$r(s,o,h,u),o.child;case 11:return Dw(s,o,o.type,o.pendingProps,u);case 7:return $r(s,o,o.pendingProps,u),o.child;case 8:return $r(s,o,o.pendingProps.children,u),o.child;case 12:return $r(s,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,ya(o,o.type,h.value),$r(s,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Qs(o),y=br(y),h=h(y),o.flags|=1,$r(s,o,h,u),o.child;case 14:return Rw(s,o,o.type,o.pendingProps,u);case 15:return Mw(s,o,o.type,o.pendingProps,u);case 19:return jw(s,o,u);case 31:return h=o.pendingProps,u=o.mode,h={mode:h.mode,children:h.children},s===null?(u=Up(h,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ws(s.child,h),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return kw(s,o,u);case 24:return Qs(o),h=br(_n),s===null?(y=fh(),y===null&&(y=Dn,w=dh(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:h,cache:y},je(o),ya(o,_n,y)):((s.lanes&u)!==0&&(dt(s,o),ft(o,null,null,u),tn()),y=s.memoizedState,w=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ya(o,_n,h)):(h=w.cache,ya(o,_n,h),h!==y.cache&&xc(o,[_n],u,!0))),$r(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function mo(s){s.flags|=4}function Bw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!WE(o)){if(o=Cs.current,o!==null&&(($t&4194048)===$t?_a!==null:($t&62914560)!==$t&&($t&536870912)===0||o!==_a))throw Ae=Q,_;s.flags|=8192}}function jp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?vr():536870912,s.lanes|=o,Fc|=o)}function xh(s,o){if(!Wt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Hn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function l2(s,o,u){var h=o.pendingProps;switch(va(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(o),null;case 1:return Hn(o),null;case 3:return u=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ws(_n),xe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(gu(o)?mo(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ep())),Hn(o),null;case 26:return u=o.memoizedState,s===null?(mo(o),u!==null?(Hn(o),Bw(o,u)):(Hn(o),o.flags&=-16777217)):u?u!==s.memoizedState?(mo(o),Hn(o),Bw(o,u)):(Hn(o),o.flags&=-16777217):(s.memoizedProps!==h&&mo(o),Hn(o),o.flags&=-16777217),null;case 27:Pe(o),u=we.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&mo(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Hn(o),null}s=ue.current,gu(o)?bp(o):(s=BE(y,h,u),o.stateNode=s,mo(o))}return Hn(o),null;case 5:if(Pe(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&mo(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Hn(o),null}if(s=ue.current,gu(o))bp(o);else{switch(y=Xp(we.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}s[Ge]=o,s[Kn]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Wr(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mo(o)}}return Hn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&mo(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(s=we.current,gu(o)){if(s=o.stateNode,u=o.memoizedProps,h=null,y=_r,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[Ge]=o,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||OE(s.nodeValue,u)),s||wi(o)}else s=Xp(s).createTextNode(h),s[Ge]=o,o.stateNode=s}return Hn(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=gu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Ge]=o}else vu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Hn(o),y=!1}else y=Ep(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(fo(o),o):(fo(o),null)}if(fo(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),jp(o,o.updateQueue),Hn(o),null;case 4:return xe(),s===null&&_y(o.stateNode.containerInfo),Hn(o),null;case 10:return ws(o.type),Hn(o),null;case 19:if(oe(wr),y=o.memoizedState,y===null)return Hn(o),null;if(h=(o.flags&128)!==0,w=y.rendering,w===null)if(h)xh(y,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=Op(s),w!==null){for(o.flags|=128,xh(y,!1),s=w.updateQueue,o.updateQueue=s,jp(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Tc(u,s),u=u.sibling;return se(wr,wr.current&1|2),o.child}s=s.sibling}y.tail!==null&&$e()>Fp&&(o.flags|=128,h=!0,xh(y,!1),o.lanes=4194304)}else{if(!h)if(s=Op(w),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,jp(o,s),xh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Wt)return Hn(o),null}else 2*$e()-y.renderingStartTime>Fp&&u!==536870912&&(o.flags|=128,h=!0,xh(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(s=y.last,s!==null?s.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=$e(),o.sibling=null,s=wr.current,se(wr,h?s&1|2:s&1),o):(Hn(o),null);case 22:case 23:return fo(o),kn(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Hn(o),o.subtreeFlags&6&&(o.flags|=8192)):Hn(o),u=o.updateQueue,u!==null&&jp(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),s!==null&&oe(Es),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ws(_n),Hn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function u2(s,o){switch(va(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ws(_n),xe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 13:if(fo(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));vu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return oe(wr),null;case 4:return xe(),null;case 10:return ws(o.type),null;case 22:case 23:return fo(o),kn(),s!==null&&oe(Es),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ws(_n),null;case 25:return null;default:return null}}function Fw(s,o){switch(va(o),o.tag){case 3:ws(_n),xe();break;case 26:case 27:case 5:Pe(o);break;case 4:xe();break;case 13:fo(o);break;case 19:oe(wr);break;case 10:ws(o.type);break;case 22:case 23:fo(o),kn(),s!==null&&oe(Es);break;case 24:ws(_n)}}function Dh(s,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&s)===s){h=void 0;var w=u.create,V=u.inst;h=w(),V.destroy=h}u=u.next}while(u!==y)}}catch(W){Tn(o,o.return,W)}}function ul(s,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&s)===s){var V=h.inst,W=V.destroy;if(W!==void 0){V.destroy=void 0,y=o;var te=u,me=W;try{me()}catch(Te){Tn(y,te,Te)}}}h=h.next}while(h!==w)}}catch(Te){Tn(o,o.return,Te)}}function zw(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{gt(o,u)}catch(h){Tn(s,s.return,h)}}}function Hw(s,o,u){u.props=xu(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Tn(s,o,h)}}function Rh(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(y){Tn(s,o,y)}}function ba(s,o){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){Tn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Tn(s,o,y)}else u.current=null}function qw(s){var o=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){Tn(s,s.return,y)}}function Qv(s,o,u){try{var h=s.stateNode;M2(h,s.type,u,o),h[Kn]=o}catch(y){Tn(s,s.return,y)}}function Yw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vl(s.type)||s.tag===4}function Kv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xv(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Kp));else if(h!==4&&(h===27&&vl(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Xv(s,o,u),s=s.sibling;s!==null;)Xv(s,o,u),s=s.sibling}function Vp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(h===27&&vl(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Vp(s,o,u),s=s.sibling;s!==null;)Vp(s,o,u),s=s.sibling}function $w(s){var o=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Wr(o,h,u),o[Ge]=s,o[Kn]=u}catch(w){Tn(s,s.return,w)}}var go=!1,ur=!1,Zv=!1,Gw=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function c2(s,o){if(s=s.containerInfo,Ey=rm,s=hp(s),Kd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var V=0,W=-1,te=-1,me=0,Te=0,De=s,ge=null;t:for(;;){for(var ye;De!==u||y!==0&&De.nodeType!==3||(W=V+y),De!==w||h!==0&&De.nodeType!==3||(te=V+h),De.nodeType===3&&(V+=De.nodeValue.length),(ye=De.firstChild)!==null;)ge=De,De=ye;for(;;){if(De===s)break t;if(ge===u&&++me===y&&(W=V),ge===w&&++Te===h&&(te=V),(ye=De.nextSibling)!==null)break;De=ge,ge=De.parentNode}De=ye}u=W===-1||te===-1?null:{start:W,end:te}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ty={focusedElem:s,selectionRange:u},rm=!1,Ir=o;Ir!==null;)if(o=Ir,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Ir=s;else for(;Ir!==null;){switch(o=Ir,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var lt=xu(u.type,y,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(lt,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(it){Tn(u,u.return,it)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)Ay(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ay(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Ir=s;break}Ir=o.return}}function Ww(s,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:cl(s,u),h&4&&Dh(5,u);break;case 1:if(cl(s,u),h&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(V){Tn(u,u.return,V)}else{var y=xu(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(V){Tn(u,u.return,V)}}h&64&&zw(u),h&512&&Rh(u,u.return);break;case 3:if(cl(s,u),h&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{gt(s,o)}catch(V){Tn(u,u.return,V)}}break;case 27:o===null&&h&4&&$w(u);case 26:case 5:cl(s,u),o===null&&h&4&&qw(u),h&512&&Rh(u,u.return);break;case 12:cl(s,u);break;case 13:cl(s,u),h&4&&Xw(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=_2.bind(null,u),U2(s,u))));break;case 22:if(h=u.memoizedState!==null||go,!h){o=o!==null&&o.memoizedState!==null||ur,y=go;var w=ur;go=h,(ur=o)&&!w?dl(s,u,(u.subtreeFlags&8772)!==0):cl(s,u),go=y,ur=w}break;case 30:break;default:cl(s,u)}}function Qw(s){var o=s.alternate;o!==null&&(s.alternate=null,Qw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ua(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Vn=null,Fi=!1;function vo(s,o,u){for(u=u.child;u!==null;)Kw(s,o,u),u=u.sibling}function Kw(s,o,u){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Dt,u)}catch{}switch(u.tag){case 26:ur||ba(u,o),vo(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ur||ba(u,o);var h=Vn,y=Fi;vl(u.type)&&(Vn=u.stateNode,Fi=!1),vo(s,o,u),jh(u.stateNode),Vn=h,Fi=y;break;case 5:ur||ba(u,o);case 6:if(h=Vn,y=Fi,Vn=null,vo(s,o,u),Vn=h,Fi=y,Vn!==null)if(Fi)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(u.stateNode)}catch(w){Tn(u,o,w)}else try{Vn.removeChild(u.stateNode)}catch(w){Tn(u,o,w)}break;case 18:Vn!==null&&(Fi?(s=Vn,jE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),$h(s)):jE(Vn,u.stateNode));break;case 4:h=Vn,y=Fi,Vn=u.stateNode.containerInfo,Fi=!0,vo(s,o,u),Vn=h,Fi=y;break;case 0:case 11:case 14:case 15:ur||ul(2,u,o),ur||ul(4,u,o),vo(s,o,u);break;case 1:ur||(ba(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Hw(u,o,h)),vo(s,o,u);break;case 21:vo(s,o,u);break;case 22:ur=(h=ur)||u.memoizedState!==null,vo(s,o,u),ur=h;break;default:vo(s,o,u)}}function Xw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$h(s)}catch(u){Tn(o,o.return,u)}}function d2(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Gw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Gw),o;default:throw Error(n(435,s.tag))}}function Jv(s,o){var u=d2(s);o.forEach(function(h){var y=b2.bind(null,s,h);u.has(h)||(u.add(h),h.then(y,y))})}function ns(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],w=s,V=o,W=V;e:for(;W!==null;){switch(W.tag){case 27:if(vl(W.type)){Vn=W.stateNode,Fi=!1;break e}break;case 5:Vn=W.stateNode,Fi=!1;break e;case 3:case 4:Vn=W.stateNode.containerInfo,Fi=!0;break e}W=W.return}if(Vn===null)throw Error(n(160));Kw(w,V,y),Vn=null,Fi=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Zw(o,s),o=o.sibling}var Zs=null;function Zw(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ns(o,s),rs(s),h&4&&(ul(3,s,s.return),Dh(3,s),ul(5,s,s.return));break;case 1:ns(o,s),rs(s),h&512&&(ur||u===null||ba(u,u.return)),h&64&&go&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Zs;if(ns(o,s),rs(s),h&512&&(ur||u===null||ba(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Ps]||w[Ge]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),Wr(w,h,u),w[Ge]=s,Vt(w),h=w;break e;case"link":var V=$E("link","href",y).get(h+(u.href||""));if(V){for(var W=0;W<V.length;W++)if(w=V[W],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(W,1);break t}}w=y.createElement(h),Wr(w,h,u),y.head.appendChild(w);break;case"meta":if(V=$E("meta","content",y).get(h+(u.content||""))){for(W=0;W<V.length;W++)if(w=V[W],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(W,1);break t}}w=y.createElement(h),Wr(w,h,u),y.head.appendChild(w);break;default:throw Error(n(468,h))}w[Ge]=s,Vt(w),h=w}s.stateNode=h}else GE(y,s.type,s.stateNode);else s.stateNode=YE(y,h,s.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?GE(y,s.type,s.stateNode):YE(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Qv(s,s.memoizedProps,u.memoizedProps)}break;case 27:ns(o,s),rs(s),h&512&&(ur||u===null||ba(u,u.return)),u!==null&&h&4&&Qv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ns(o,s),rs(s),h&512&&(ur||u===null||ba(u,u.return)),s.flags&32){y=s.stateNode;try{pi(y,"")}catch(ye){Tn(s,s.return,ye)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,Qv(s,y,u!==null?u.memoizedProps:y)),h&1024&&(Zv=!0);break;case 6:if(ns(o,s),rs(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(ye){Tn(s,s.return,ye)}}break;case 3:if(em=null,y=Zs,Zs=Zp(o.containerInfo),ns(o,s),Zs=y,rs(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{$h(o.containerInfo)}catch(ye){Tn(s,s.return,ye)}Zv&&(Zv=!1,Jw(s));break;case 4:h=Zs,Zs=Zp(s.stateNode.containerInfo),ns(o,s),rs(s),Zs=h;break;case 12:ns(o,s),rs(s);break;case 13:ns(o,s),rs(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sy=$e()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Jv(s,h)));break;case 22:y=s.memoizedState!==null;var te=u!==null&&u.memoizedState!==null,me=go,Te=ur;if(go=me||y,ur=Te||te,ns(o,s),ur=Te,go=me,rs(s),h&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||te||go||ur||Du(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){te=u=o;try{if(w=te.stateNode,y)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{W=te.stateNode;var De=te.memoizedProps.style,ge=De!=null&&De.hasOwnProperty("display")?De.display:null;W.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ye){Tn(te,te.return,ye)}}}else if(o.tag===6){if(u===null){te=o;try{te.stateNode.nodeValue=y?"":te.memoizedProps}catch(ye){Tn(te,te.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Jv(s,u))));break;case 19:ns(o,s),rs(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Jv(s,h)));break;case 30:break;case 21:break;default:ns(o,s),rs(s)}}function rs(s){var o=s.flags;if(o&2){try{for(var u,h=s.return;h!==null;){if(Yw(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,w=Kv(s);Vp(s,w,y);break;case 5:var V=u.stateNode;u.flags&32&&(pi(V,""),u.flags&=-33);var W=Kv(s);Vp(s,W,V);break;case 3:case 4:var te=u.stateNode.containerInfo,me=Kv(s);Xv(s,me,te);break;default:throw Error(n(161))}}catch(Te){Tn(s,s.return,Te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Jw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Jw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function cl(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ww(s,o.alternate,o),o=o.sibling}function Du(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ul(4,o,o.return),Du(o);break;case 1:ba(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Hw(o,o.return,u),Du(o);break;case 27:jh(o.stateNode);case 26:case 5:ba(o,o.return),Du(o);break;case 22:o.memoizedState===null&&Du(o);break;case 30:Du(o);break;default:Du(o)}s=s.sibling}}function dl(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=s,w=o,V=w.flags;switch(w.tag){case 0:case 11:case 15:dl(y,w,u),Dh(4,w);break;case 1:if(dl(y,w,u),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(me){Tn(h,h.return,me)}if(h=w,y=h.updateQueue,y!==null){var W=h.stateNode;try{var te=y.shared.hiddenCallbacks;if(te!==null)for(y.shared.hiddenCallbacks=null,y=0;y<te.length;y++)qt(te[y],W)}catch(me){Tn(h,h.return,me)}}u&&V&64&&zw(w),Rh(w,w.return);break;case 27:$w(w);case 26:case 5:dl(y,w,u),u&&h===null&&V&4&&qw(w),Rh(w,w.return);break;case 12:dl(y,w,u);break;case 13:dl(y,w,u),u&&V&4&&Xw(y,w);break;case 22:w.memoizedState===null&&dl(y,w,u),Rh(w,w.return);break;case 30:break;default:dl(y,w,u)}o=o.sibling}}function ey(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&wu(u))}function ty(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&wu(s))}function wa(s,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eE(s,o,u,h),o=o.sibling}function eE(s,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:wa(s,o,u,h),y&2048&&Dh(9,o);break;case 1:wa(s,o,u,h);break;case 3:wa(s,o,u,h),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&wu(s)));break;case 12:if(y&2048){wa(s,o,u,h),s=o.stateNode;try{var w=o.memoizedProps,V=w.id,W=w.onPostCommit;typeof W=="function"&&W(V,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Tn(o,o.return,te)}}else wa(s,o,u,h);break;case 13:wa(s,o,u,h);break;case 23:break;case 22:w=o.stateNode,V=o.alternate,o.memoizedState!==null?w._visibility&2?wa(s,o,u,h):Mh(s,o):w._visibility&2?wa(s,o,u,h):(w._visibility|=2,jc(s,o,u,h,(o.subtreeFlags&10256)!==0)),y&2048&&ey(V,o);break;case 24:wa(s,o,u,h),y&2048&&ty(o.alternate,o);break;default:wa(s,o,u,h)}}function jc(s,o,u,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,V=o,W=u,te=h,me=V.flags;switch(V.tag){case 0:case 11:case 15:jc(w,V,W,te,y),Dh(8,V);break;case 23:break;case 22:var Te=V.stateNode;V.memoizedState!==null?Te._visibility&2?jc(w,V,W,te,y):Mh(w,V):(Te._visibility|=2,jc(w,V,W,te,y)),y&&me&2048&&ey(V.alternate,V);break;case 24:jc(w,V,W,te,y),y&&me&2048&&ty(V.alternate,V);break;default:jc(w,V,W,te,y)}o=o.sibling}}function Mh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,h=o,y=h.flags;switch(h.tag){case 22:Mh(u,h),y&2048&&ey(h.alternate,h);break;case 24:Mh(u,h),y&2048&&ty(h.alternate,h);break;default:Mh(u,h)}o=o.sibling}}var kh=8192;function Vc(s){if(s.subtreeFlags&kh)for(s=s.child;s!==null;)tE(s),s=s.sibling}function tE(s){switch(s.tag){case 26:Vc(s),s.flags&kh&&s.memoizedState!==null&&K2(Zs,s.memoizedState,s.memoizedProps);break;case 5:Vc(s);break;case 3:case 4:var o=Zs;Zs=Zp(s.stateNode.containerInfo),Vc(s),Zs=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=kh,kh=16777216,Vc(s),kh=o):Vc(s));break;default:Vc(s)}}function nE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Lh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,iE(h,s)}nE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rE(s),s=s.sibling}function rE(s){switch(s.tag){case 0:case 11:case 15:Lh(s),s.flags&2048&&ul(9,s,s.return);break;case 3:Lh(s);break;case 12:Lh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Bp(s)):Lh(s);break;default:Lh(s)}}function Bp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,iE(h,s)}nE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ul(8,o,o.return),Bp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Bp(o));break;default:Bp(o)}s=s.sibling}}function iE(s,o){for(;Ir!==null;){var u=Ir;switch(u.tag){case 0:case 11:case 15:ul(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:wu(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ir=h;else e:for(u=s;Ir!==null;){h=Ir;var y=h.sibling,w=h.return;if(Qw(h),h===u){Ir=null;break e}if(y!==null){y.return=w,Ir=y;break e}Ir=w}}}var h2={getCacheForType:function(s){var o=br(_n),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},f2=typeof WeakMap=="function"?WeakMap:Map,pn=0,Dn=null,Mt=null,$t=0,mn=0,is=null,hl=!1,Bc=!1,ny=!1,yo=0,tr=0,fl=0,Ru=0,ry=0,As=0,Fc=0,Oh=null,zi=null,iy=!1,sy=0,Fp=1/0,zp=null,pl=null,Gr=0,ml=null,zc=null,Hc=0,ay=0,oy=null,sE=null,Ih=0,ly=null;function ss(){if((pn&2)!==0&&$t!==0)return $t&-$t;if(U.T!==null){var s=nl;return s!==0?s:my()}return Rn()}function aE(){As===0&&(As=($t&536870912)===0||Wt?ti():536870912);var s=Cs.current;return s!==null&&(s.flags|=32),As}function as(s,o,u){(s===Dn&&(mn===2||mn===9)||s.cancelPendingCommit!==null)&&(qc(s,0),gl(s,$t,As,!1)),Un(s,u),((pn&2)===0||s!==Dn)&&(s===Dn&&((pn&2)===0&&(Ru|=u),tr===4&&gl(s,$t,As,!1)),Ea(s))}function oE(s,o,u){if((pn&6)!==0)throw Error(n(327));var h=!u&&(o&124)===0&&(o&s.expiredLanes)===0||ei(s,o),y=h?g2(s,o):dy(s,o,!0),w=h;do{if(y===0){Bc&&!h&&gl(s,o,0,!1);break}else{if(u=s.current.alternate,w&&!p2(u)){y=dy(s,o,!1),w=!1;continue}if(y===2){if(w=o,s.errorRecoveryDisabledLanes&w)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;e:{var W=s;y=Oh;var te=W.current.memoizedState.isDehydrated;if(te&&(qc(W,V).flags|=256),V=dy(W,V,!1),V!==2){if(ny&&!te){W.errorRecoveryDisabledLanes|=w,Ru|=w,y=4;break e}w=zi,zi=y,w!==null&&(zi===null?zi=w:zi.push.apply(zi,w))}y=V}if(w=!1,y!==2)continue}}if(y===1){qc(s,0),gl(s,o,0,!0);break}e:{switch(h=s,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:gl(h,o,As,!hl);break e;case 2:zi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=sy+300-$e(),10<y)){if(gl(h,o,As,!hl),hi(h,0,!0)!==0)break e;h.timeoutHandle=NE(lE.bind(null,h,u,zi,zp,iy,o,As,Ru,Fc,hl,w,2,-0,0),y);break e}lE(h,u,zi,zp,iy,o,As,Ru,Fc,hl,w,0,-0,0)}}break}while(!0);Ea(s)}function lE(s,o,u,h,y,w,V,W,te,me,Te,De,ge,ye){if(s.timeoutHandle=-1,De=o.subtreeFlags,(De&8192||(De&16785408)===16785408)&&(Fh={stylesheets:null,count:0,unsuspend:Q2},tE(o),De=X2(),De!==null)){s.cancelPendingCommit=De(mE.bind(null,s,o,w,u,h,y,V,W,te,Te,1,ge,ye)),gl(s,w,V,!me);return}mE(s,o,w,u,h,y,V,W,te)}function p2(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],w=y.getSnapshot;y=y.value;try{if(!xn(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gl(s,o,u,h){o&=~ry,o&=~Ru,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var y=o;0<y;){var w=31-It(y),V=1<<w;h[w]=-1,y&=~V}u!==0&&Qn(s,u,o)}function Hp(){return(pn&6)===0?(Ph(0),!1):!0}function uy(){if(Mt!==null){if(mn===0)var s=Mt.return;else s=Mt,bs=co=null,gh(s),Nc=null,Ch=0,s=Mt;for(;s!==null;)Fw(s.alternate,s),s=s.return;Mt=null}}function qc(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,L2(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),uy(),Dn=s,Mt=u=Ws(s.current,null),$t=o,mn=0,is=null,hl=!1,Bc=ei(s,o),ny=!1,Fc=As=ry=Ru=fl=tr=0,zi=Oh=null,iy=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var y=31-It(h),w=1<<y;o|=s[y],h&=~w}return yo=o,bc(),u}function uE(s,o){rt=null,U.H=Mp,o===z||o===D?(o=Ie(),mn=3):o===_?(o=Ie(),mn=4):mn=o===xw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,is=o,Mt===null&&(tr=1,Pp(s,Ni(o,s.current)))}function cE(){var s=U.H;return U.H=Mp,s===null?Mp:s}function dE(){var s=U.A;return U.A=h2,s}function cy(){tr=4,hl||($t&4194048)!==$t&&Cs.current!==null||(Bc=!0),(fl&134217727)===0&&(Ru&134217727)===0||Dn===null||gl(Dn,$t,As,!1)}function dy(s,o,u){var h=pn;pn|=2;var y=cE(),w=dE();(Dn!==s||$t!==o)&&(zp=null,qc(s,o)),o=!1;var V=tr;e:do try{if(mn!==0&&Mt!==null){var W=Mt,te=is;switch(mn){case 8:uy(),V=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(o=!0);var me=mn;if(mn=0,is=null,Yc(s,W,te,me),u&&Bc){V=0;break e}break;default:me=mn,mn=0,is=null,Yc(s,W,te,me)}}m2(),V=tr;break}catch(Te){uE(s,Te)}while(!0);return o&&s.shellSuspendCounter++,bs=co=null,pn=h,U.H=y,U.A=w,Mt===null&&(Dn=null,$t=0,bc()),V}function m2(){for(;Mt!==null;)hE(Mt)}function g2(s,o){var u=pn;pn|=2;var h=cE(),y=dE();Dn!==s||$t!==o?(zp=null,Fp=$e()+500,qc(s,o)):Bc=ei(s,o);e:do try{if(mn!==0&&Mt!==null){o=Mt;var w=is;t:switch(mn){case 1:mn=0,is=null,Yc(s,o,w,1);break;case 2:case 9:if(le(w)){mn=0,is=null,fE(o);break}o=function(){mn!==2&&mn!==9||Dn!==s||(mn=7),Ea(s)},w.then(o,o);break e;case 3:mn=7;break e;case 4:mn=5;break e;case 7:le(w)?(mn=0,is=null,fE(o)):(mn=0,is=null,Yc(s,o,w,7));break;case 5:var V=null;switch(Mt.tag){case 26:V=Mt.memoizedState;case 5:case 27:var W=Mt;if(!V||WE(V)){mn=0,is=null;var te=W.sibling;if(te!==null)Mt=te;else{var me=W.return;me!==null?(Mt=me,qp(me)):Mt=null}break t}}mn=0,is=null,Yc(s,o,w,5);break;case 6:mn=0,is=null,Yc(s,o,w,6);break;case 8:uy(),tr=6;break e;default:throw Error(n(462))}}v2();break}catch(Te){uE(s,Te)}while(!0);return bs=co=null,U.H=h,U.A=y,pn=u,Mt!==null?0:(Dn=null,$t=0,bc(),tr)}function v2(){for(;Mt!==null&&!Le();)hE(Mt)}function hE(s){var o=Vw(s.alternate,s,yo);s.memoizedProps=s.pendingProps,o===null?qp(s):Mt=o}function fE(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Ow(u,o,o.pendingProps,o.type,void 0,$t);break;case 11:o=Ow(u,o,o.pendingProps,o.type.render,o.ref,$t);break;case 5:gh(o);default:Fw(u,o),o=Mt=Tc(o,yo),o=Vw(u,o,yo)}s.memoizedProps=s.pendingProps,o===null?qp(s):Mt=o}function Yc(s,o,u,h){bs=co=null,gh(o),Nc=null,Ch=0;var y=o.return;try{if(a2(s,y,o,u,$t)){tr=1,Pp(s,Ni(u,s.current)),Mt=null;return}}catch(w){if(y!==null)throw Mt=y,w;tr=1,Pp(s,Ni(u,s.current)),Mt=null;return}o.flags&32768?(Wt||h===1?s=!0:Bc||($t&536870912)!==0?s=!1:(hl=s=!0,(h===2||h===9||h===3||h===6)&&(h=Cs.current,h!==null&&h.tag===13&&(h.flags|=16384))),pE(o,s)):qp(o)}function qp(s){var o=s;do{if((o.flags&32768)!==0){pE(o,hl);return}s=o.return;var u=l2(o.alternate,o,yo);if(u!==null){Mt=u;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=s}while(o!==null);tr===0&&(tr=5)}function pE(s,o){do{var u=u2(s.alternate,s);if(u!==null){u.flags&=32767,Mt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Mt=s;return}Mt=s=u}while(s!==null);tr=6,Mt=null}function mE(s,o,u,h,y,w,V,W,te){s.cancelPendingCommit=null;do Yp();while(Gr!==0);if((pn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=ih,sr(s,u,w,V,W,te),s===Dn&&(Mt=Dn=null,$t=0),zc=o,ml=s,Hc=u,ay=w,oy=y,sE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,w2(Qe,function(){return bE(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,y=B.p,B.p=2,V=pn,pn|=4;try{c2(s,o,u)}finally{pn=V,B.p=y,U.T=h}}Gr=1,gE(),vE(),yE()}}function gE(){if(Gr===1){Gr=0;var s=ml,o=zc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var h=B.p;B.p=2;var y=pn;pn|=4;try{Zw(o,s);var w=Ty,V=hp(s.containerInfo),W=w.focusedElem,te=w.selectionRange;if(V!==W&&W&&W.ownerDocument&&Qd(W.ownerDocument.documentElement,W)){if(te!==null&&Kd(W)){var me=te.start,Te=te.end;if(Te===void 0&&(Te=me),"selectionStart"in W)W.selectionStart=me,W.selectionEnd=Math.min(Te,W.value.length);else{var De=W.ownerDocument||document,ge=De&&De.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),lt=W.textContent.length,it=Math.min(te.start,lt),wn=te.end===void 0?it:Math.min(te.end,lt);!ye.extend&&it>wn&&(V=wn,wn=it,it=V);var de=Wd(W,it),ae=Wd(W,wn);if(de&&ae&&(ye.rangeCount!==1||ye.anchorNode!==de.node||ye.anchorOffset!==de.offset||ye.focusNode!==ae.node||ye.focusOffset!==ae.offset)){var pe=De.createRange();pe.setStart(de.node,de.offset),ye.removeAllRanges(),it>wn?(ye.addRange(pe),ye.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),ye.addRange(pe))}}}}for(De=[],ye=W;ye=ye.parentNode;)ye.nodeType===1&&De.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<De.length;W++){var Ce=De[W];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}rm=!!Ey,Ty=Ey=null}finally{pn=y,B.p=h,U.T=u}}s.current=o,Gr=2}}function vE(){if(Gr===2){Gr=0;var s=ml,o=zc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var h=B.p;B.p=2;var y=pn;pn|=4;try{Ww(s,o.alternate,o)}finally{pn=y,B.p=h,U.T=u}}Gr=3}}function yE(){if(Gr===4||Gr===3){Gr=0,Fe();var s=ml,o=zc,u=Hc,h=sE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gr=5:(Gr=0,zc=ml=null,_E(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(pl=null),Cn(u),o=o.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Dt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=U.T,y=B.p,B.p=2,U.T=null;try{for(var w=s.onRecoverableError,V=0;V<h.length;V++){var W=h[V];w(W.value,{componentStack:W.stack})}}finally{U.T=o,B.p=y}}(Hc&3)!==0&&Yp(),Ea(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===ly?Ih++:(Ih=0,ly=s):Ih=0,Ph(0)}}function _E(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,wu(o)))}function Yp(s){return gE(),vE(),yE(),bE()}function bE(){if(Gr!==5)return!1;var s=ml,o=ay;ay=0;var u=Cn(Hc),h=U.T,y=B.p;try{B.p=32>u?32:u,U.T=null,u=oy,oy=null;var w=ml,V=Hc;if(Gr=0,zc=ml=null,Hc=0,(pn&6)!==0)throw Error(n(331));var W=pn;if(pn|=4,rE(w.current),eE(w,w.current,V,u),pn=W,Ph(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Dt,w)}catch{}return!0}finally{B.p=y,U.T=h,_E(s,o)}}function wE(s,o,u){o=Ni(u,o),o=Bv(s.stateNode,o,2),s=et(s,o,2),s!==null&&(Un(s,2),Ea(s))}function Tn(s,o,u){if(s.tag===3)wE(s,s,u);else for(;o!==null;){if(o.tag===3){wE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(pl===null||!pl.has(h))){s=Ni(u,s),u=Cw(2),h=et(o,u,2),h!==null&&(Aw(u,h,o,s),Un(h,2),Ea(h));break}}o=o.return}}function hy(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new f2;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(ny=!0,y.add(u),s=y2.bind(null,s,o,u),o.then(s,s))}function y2(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Dn===s&&($t&u)===u&&(tr===4||tr===3&&($t&62914560)===$t&&300>$e()-sy?(pn&2)===0&&qc(s,0):ry|=u,Fc===$t&&(Fc=0)),Ea(s)}function EE(s,o){o===0&&(o=vr()),s=Zo(s,o),s!==null&&(Un(s,o),Ea(s))}function _2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),EE(s,u)}function b2(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),EE(s,u)}function w2(s,o){return Se(s,o)}var $p=null,$c=null,fy=!1,Gp=!1,py=!1,Mu=0;function Ea(s){s!==$c&&s.next===null&&($c===null?$p=$c=s:$c=$c.next=s),Gp=!0,fy||(fy=!0,T2())}function Ph(s,o){if(!py&&Gp){py=!0;do for(var u=!1,h=$p;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var V=h.suspendedLanes,W=h.pingedLanes;w=(1<<31-It(42|s)+1)-1,w&=y&~(V&~W),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,AE(h,w))}else w=$t,w=hi(h,h===Dn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||ei(h,w)||(u=!0,AE(h,w));h=h.next}while(u);py=!1}}function E2(){TE()}function TE(){Gp=fy=!1;var s=0;Mu!==0&&(k2()&&(s=Mu),Mu=0);for(var o=$e(),u=null,h=$p;h!==null;){var y=h.next,w=SE(h,o);w===0?(h.next=null,u===null?$p=y:u.next=y,y===null&&($c=u)):(u=h,(s!==0||(w&3)!==0)&&(Gp=!0)),h=y}Ph(s)}function SE(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var V=31-It(w),W=1<<V,te=y[V];te===-1?((W&u)===0||(W&h)!==0)&&(y[V]=Di(W,o)):te<=o&&(s.expiredLanes|=W),w&=~W}if(o=Dn,u=$t,u=hi(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===o&&(mn===2||mn===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ne(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ei(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(h!==null&&Ne(h),Cn(u)){case 2:case 8:u=Ft;break;case 32:u=Qe;break;case 268435456:u=vt;break;default:u=Qe}return h=CE.bind(null,s),u=Se(u,h),s.callbackPriority=o,s.callbackNode=u,o}return h!==null&&h!==null&&Ne(h),s.callbackPriority=2,s.callbackNode=null,2}function CE(s,o){if(Gr!==0&&Gr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Yp()&&s.callbackNode!==u)return null;var h=$t;return h=hi(s,s===Dn?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(oE(s,h,o),SE(s,$e()),s.callbackNode!=null&&s.callbackNode===u?CE.bind(null,s):null)}function AE(s,o){if(Yp())return null;oE(s,o,!0)}function T2(){O2(function(){(pn&6)!==0?Se(Et,E2):TE()})}function my(){return Mu===0&&(Mu=ti()),Mu}function xE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hs(""+s)}function DE(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function S2(s,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var w=xE((y[Kn]||null).action),V=h.submitter;V&&(o=(o=V[Kn]||null)?xE(o.formAction):V.getAttribute("formAction"),o!==null&&(w=o,V=null));var W=new Qa("action","action",null,h,y);s.push({event:W,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Mu!==0){var te=V?DE(y,V):new FormData(y);Pv(u,{pending:!0,data:te,method:y.method,action:w},null,te)}}else typeof w=="function"&&(W.preventDefault(),te=V?DE(y,V):new FormData(y),Pv(u,{pending:!0,data:te,method:y.method,action:w},w,te))},currentTarget:y}]})}}for(var gy=0;gy<nh.length;gy++){var vy=nh[gy],C2=vy.toLowerCase(),A2=vy[0].toUpperCase()+vy.slice(1);Pi(C2,"on"+A2)}Pi(eh,"onAnimationEnd"),Pi(fp,"onAnimationIteration"),Pi(th,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(pp,"onTransitionRun"),Pi(mp,"onTransitionStart"),Pi(gp,"onTransitionCancel"),Pi(vp,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nh));function RE(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],y=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var V=h.length-1;0<=V;V--){var W=h[V],te=W.instance,me=W.currentTarget;if(W=W.listener,te!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=me;try{w(y)}catch(Te){Ip(Te)}y.currentTarget=null,w=te}else for(V=0;V<h.length;V++){if(W=h[V],te=W.instance,me=W.currentTarget,W=W.listener,te!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=me;try{w(y)}catch(Te){Ip(Te)}y.currentTarget=null,w=te}}}}function kt(s,o){var u=o[qa];u===void 0&&(u=o[qa]=new Set);var h=s+"__bubble";u.has(h)||(ME(o,s,2,!1),u.add(h))}function yy(s,o,u){var h=0;o&&(h|=4),ME(u,s,h,o)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function _y(s){if(!s[Wp]){s[Wp]=!0,ar.forEach(function(u){u!=="selectionchange"&&(x2.has(u)||yy(u,!1,s),yy(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wp]||(o[Wp]=!0,yy("selectionchange",!1,o))}}function ME(s,o,u,h){switch(e1(o)){case 2:var y=ek;break;case 8:y=tk;break;default:y=Oy}u=y.bind(null,o,u,s),y=void 0,!vi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function by(s,o,u,h,y){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var V=h.tag;if(V===3||V===4){var W=h.stateNode.containerInfo;if(W===y)break;if(V===4)for(V=h.return;V!==null;){var te=V.tag;if((te===3||te===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;W!==null;){if(V=Ns(W),V===null)return;if(te=V.tag,te===5||te===6||te===26||te===27){h=w=V;continue e}W=W.parentNode}}h=h.return}ou(function(){var me=w,Te=Dr(u),De=[];e:{var ge=yp.get(s);if(ge!==void 0){var ye=Qa,lt=s;switch(s){case"keypress":if(ps(u)===0)break e;case"keydown":case"keyup":ye=Ii;break;case"focusin":lt="focus",ye=Ja;break;case"focusout":lt="blur",ye=Ja;break;case"beforeblur":case"afterblur":ye=Ja;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=_i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=hc;break;case eh:case fp:case th:ye=to;break;case vp:ye=pc;break;case"scroll":case"scrollend":ye=Yo;break;case"wheel":ye=ro;break;case"copy":case"cut":case"paste":ye=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=cu;break;case"toggle":case"beforetoggle":ye=gc}var it=(o&4)!==0,wn=!it&&(s==="scroll"||s==="scrollend"),de=it?ge!==null?ge+"Capture":null:ge;it=[];for(var ae=me,pe;ae!==null;){var Ce=ae;if(pe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||pe===null||de===null||(Ce=Oi(ae,de),Ce!=null&&it.push(Uh(ae,Ce,pe))),wn)break;ae=ae.return}0<it.length&&(ge=new ye(ge,lt,null,u,Te),De.push({event:ge,listeners:it}))}}if((o&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ge&&u!==hs&&(lt=u.relatedTarget||u.fromElement)&&(Ns(lt)||lt[Ri]))break e;if((ye||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(lt=u.relatedTarget||u.toElement,ye=me,lt=lt?Ns(lt):null,lt!==null&&(wn=a(lt),it=lt.tag,lt!==wn||it!==5&&it!==27&&it!==6)&&(lt=null)):(ye=null,lt=me),ye!==lt)){if(it=_i,Ce="onMouseLeave",de="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(it=cu,Ce="onPointerLeave",de="onPointerEnter",ae="pointer"),wn=ye==null?ge:An(ye),pe=lt==null?ge:An(lt),ge=new it(Ce,ae+"leave",ye,u,Te),ge.target=wn,ge.relatedTarget=pe,Ce=null,Ns(Te)===me&&(it=new it(de,ae+"enter",lt,u,Te),it.target=pe,it.relatedTarget=wn,Ce=it),wn=Ce,ye&&lt)t:{for(it=ye,de=lt,ae=0,pe=it;pe;pe=Gc(pe))ae++;for(pe=0,Ce=de;Ce;Ce=Gc(Ce))pe++;for(;0<ae-pe;)it=Gc(it),ae--;for(;0<pe-ae;)de=Gc(de),pe--;for(;ae--;){if(it===de||de!==null&&it===de.alternate)break t;it=Gc(it),de=Gc(de)}it=null}else it=null;ye!==null&&kE(De,ge,ye,it,!1),lt!==null&&wn!==null&&kE(De,wn,lt,it,!0)}}e:{if(ge=me?An(me):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var We=fu;else if(Zn(ge))if(sp)We=cp;else{We=up;var Ct=lp}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&mi(me.elementType)&&(We=fu):We=yc;if(We&&(We=We(s,me))){vs(De,We,u,Te);break e}Ct&&Ct(s,ge,me),s==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&ii(ge,"number",ge.value)}switch(Ct=me?An(me):window,s){case"focusin":(Zn(Ct)||Ct.contentEditable==="true")&&(Qo=Ct,Xd=me,mu=null);break;case"focusout":mu=Xd=Qo=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Zd(De,u,Te);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Zd(De,u,Te)}var Ze;if(Mr)e:{switch(s){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Pt?_e(s,u)&&(st="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(I&&u.locale!=="ko"&&(Pt||st!=="onCompositionStart"?st==="onCompositionEnd"&&Pt&&(Ze=da()):(yi=Te,fs="value"in yi?yi.value:yi.textContent,Pt=!0)),Ct=Qp(me,st),0<Ct.length&&(st=new Go(st,s,null,u,Te),De.push({event:st,listeners:Ct}),Ze?st.data=Ze:(Ze=Oe(u),Ze!==null&&(st.data=Ze)))),(Ze=A?lr(s,u):Nt(s,u))&&(st=Qp(me,"onBeforeInput"),0<st.length&&(Ct=new Go("onBeforeInput","beforeinput",null,u,Te),De.push({event:Ct,listeners:st}),Ct.data=Ze)),S2(De,s,me,u,Te)}RE(De,o)})}function Uh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Qp(s,o){for(var u=o+"Capture",h=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Oi(s,u),y!=null&&h.unshift(Uh(s,y,w)),y=Oi(s,o),y!=null&&h.push(Uh(s,y,w))),s.tag===3)return h;s=s.return}return[]}function Gc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kE(s,o,u,h,y){for(var w=o._reactName,V=[];u!==null&&u!==h;){var W=u,te=W.alternate,me=W.stateNode;if(W=W.tag,te!==null&&te===h)break;W!==5&&W!==26&&W!==27||me===null||(te=me,y?(me=Oi(u,w),me!=null&&V.unshift(Uh(u,me,te))):y||(me=Oi(u,w),me!=null&&V.push(Uh(u,me,te)))),u=u.return}V.length!==0&&s.push({event:o,listeners:V})}var D2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function LE(s){return(typeof s=="string"?s:""+s).replace(D2,`
`).replace(R2,"")}function OE(s,o){return o=LE(o),LE(s)===o}function Kp(){}function bn(s,o,u,h,y,w){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||pi(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&pi(s,""+h);break;case"className":Mi(s,"class",h);break;case"tabIndex":Mi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(s,u,h);break;case"style":Ho(s,h,w);break;case"data":if(o!=="object"){Mi(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Hs(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&bn(s,o,"name",y.name,y,null),bn(s,o,"formEncType",y.formEncType,y,null),bn(s,o,"formMethod",y.formMethod,y,null),bn(s,o,"formTarget",y.formTarget,y,null)):(bn(s,o,"encType",y.encType,y,null),bn(s,o,"method",y.method,y,null),bn(s,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Hs(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Kp);break;case"onScroll":h!=null&&kt("scroll",s);break;case"onScrollEnd":h!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Hs(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Fs(s,"popover",h);break;case"xlinkActuate":or(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":or(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":or(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":or(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":or(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":or(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":or(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":or(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":or(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fs(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=qd.get(u)||u,Fs(s,u,h))}}function wy(s,o,u,h,y,w){switch(u){case"style":Ho(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof h=="string"?pi(s,h):(typeof h=="number"||typeof h=="bigint")&&pi(s,""+h);break;case"onScroll":h!=null&&kt("scroll",s);break;case"onScrollEnd":h!=null&&kt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Kp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=s[Kn]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(o,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,h,y);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Fs(s,u,h)}}}function Wr(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var h=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var V=u[w];if(V!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bn(s,o,w,V,u,null)}}y&&bn(s,o,"srcSet",u.srcSet,u,null),h&&bn(s,o,"src",u.src,u,null);return;case"input":kt("invalid",s);var W=w=V=y=null,te=null,me=null;for(h in u)if(u.hasOwnProperty(h)){var Te=u[h];if(Te!=null)switch(h){case"name":y=Te;break;case"type":V=Te;break;case"checked":te=Te;break;case"defaultChecked":me=Te;break;case"value":w=Te;break;case"defaultValue":W=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,o));break;default:bn(s,o,h,Te,u,null)}}xr(s,w,W,te,me,V,y,!1),Fr(s);return;case"select":kt("invalid",s),h=V=w=null;for(y in u)if(u.hasOwnProperty(y)&&(W=u[y],W!=null))switch(y){case"value":w=W;break;case"defaultValue":V=W;break;case"multiple":h=W;default:bn(s,o,y,W,u,null)}o=w,u=V,s.multiple=!!h,o!=null?ki(s,!!h,o,!1):u!=null&&ki(s,!!h,u,!0);return;case"textarea":kt("invalid",s),w=y=h=null;for(V in u)if(u.hasOwnProperty(V)&&(W=u[V],W!=null))switch(V){case"value":h=W;break;case"defaultValue":y=W;break;case"children":w=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:bn(s,o,V,W,u,null)}zs(s,h,y,w),Fr(s);return;case"option":for(te in u)if(u.hasOwnProperty(te)&&(h=u[te],h!=null))switch(te){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:bn(s,o,te,h,u,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(h=0;h<Nh.length;h++)kt(Nh[h],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(h=u[me],h!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bn(s,o,me,h,u,null)}return;default:if(mi(o)){for(Te in u)u.hasOwnProperty(Te)&&(h=u[Te],h!==void 0&&wy(s,o,Te,h,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(h=u[W],h!=null&&bn(s,o,W,h,u,null))}function M2(s,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,V=null,W=null,te=null,me=null,Te=null;for(ye in u){var De=u[ye];if(u.hasOwnProperty(ye)&&De!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=De;default:h.hasOwnProperty(ye)||bn(s,o,ye,null,h,De)}}for(var ge in h){var ye=h[ge];if(De=u[ge],h.hasOwnProperty(ge)&&(ye!=null||De!=null))switch(ge){case"type":w=ye;break;case"name":y=ye;break;case"checked":me=ye;break;case"defaultChecked":Te=ye;break;case"value":V=ye;break;case"defaultValue":W=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==De&&bn(s,o,ge,ye,h,De)}}zr(s,V,W,te,me,Te,w,y);return;case"select":ye=V=W=ge=null;for(w in u)if(te=u[w],u.hasOwnProperty(w)&&te!=null)switch(w){case"value":break;case"multiple":ye=te;default:h.hasOwnProperty(w)||bn(s,o,w,null,h,te)}for(y in h)if(w=h[y],te=u[y],h.hasOwnProperty(y)&&(w!=null||te!=null))switch(y){case"value":ge=w;break;case"defaultValue":W=w;break;case"multiple":V=w;default:w!==te&&bn(s,o,y,w,h,te)}o=W,u=V,h=ye,ge!=null?ki(s,!!u,ge,!1):!!h!=!!u&&(o!=null?ki(s,!!u,o,!0):ki(s,!!u,u?[]:"",!1));return;case"textarea":ye=ge=null;for(W in u)if(y=u[W],u.hasOwnProperty(W)&&y!=null&&!h.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:bn(s,o,W,null,h,y)}for(V in h)if(y=h[V],w=u[V],h.hasOwnProperty(V)&&(y!=null||w!=null))switch(V){case"value":ge=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&bn(s,o,V,y,h,w)}Bt(s,ge,ye);return;case"option":for(var lt in u)if(ge=u[lt],u.hasOwnProperty(lt)&&ge!=null&&!h.hasOwnProperty(lt))switch(lt){case"selected":s.selected=!1;break;default:bn(s,o,lt,null,h,ge)}for(te in h)if(ge=h[te],ye=u[te],h.hasOwnProperty(te)&&ge!==ye&&(ge!=null||ye!=null))switch(te){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:bn(s,o,te,ge,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in u)ge=u[it],u.hasOwnProperty(it)&&ge!=null&&!h.hasOwnProperty(it)&&bn(s,o,it,null,h,ge);for(me in h)if(ge=h[me],ye=u[me],h.hasOwnProperty(me)&&ge!==ye&&(ge!=null||ye!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:bn(s,o,me,ge,h,ye)}return;default:if(mi(o)){for(var wn in u)ge=u[wn],u.hasOwnProperty(wn)&&ge!==void 0&&!h.hasOwnProperty(wn)&&wy(s,o,wn,void 0,h,ge);for(Te in h)ge=h[Te],ye=u[Te],!h.hasOwnProperty(Te)||ge===ye||ge===void 0&&ye===void 0||wy(s,o,Te,ge,h,ye);return}}for(var de in u)ge=u[de],u.hasOwnProperty(de)&&ge!=null&&!h.hasOwnProperty(de)&&bn(s,o,de,null,h,ge);for(De in h)ge=h[De],ye=u[De],!h.hasOwnProperty(De)||ge===ye||ge==null&&ye==null||bn(s,o,De,ge,h,ye)}var Ey=null,Ty=null;function Xp(s){return s.nodeType===9?s:s.ownerDocument}function IE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Sy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cy=null;function k2(){var s=window.event;return s&&s.type==="popstate"?s===Cy?!1:(Cy=s,!0):(Cy=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(s){return UE.resolve(null).then(s).catch(I2)}:NE;function I2(s){setTimeout(function(){throw s})}function vl(s){return s==="head"}function jE(s,o){var u=o,h=0,y=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<h&&8>h){u=h;var V=s.ownerDocument;if(u&1&&jh(V.documentElement),u&2&&jh(V.body),u&4)for(u=V.head,jh(u),V=u.firstChild;V;){var W=V.nextSibling,te=V.nodeName;V[Ps]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=W}}if(y===0){s.removeChild(w),$h(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:h=u.charCodeAt(0)-48;else h=0;u=w}while(u);$h(o)}function Ay(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ay(u),ua(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function P2(s,o,u,h){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ps])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Js(s.nextSibling),s===null)break}return null}function N2(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Js(s.nextSibling),s===null))return null;return s}function xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function U2(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Js(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Dy=null;function VE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function BE(s,o,u){switch(o=Xp(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function jh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ua(s)}var xs=new Map,FE=new Set;function Zp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _o=B.d;B.d={f:j2,r:V2,D:B2,C:F2,L:z2,m:H2,X:Y2,S:q2,M:$2};function j2(){var s=_o.f(),o=Hp();return s||o}function V2(s){var o=Vr(s);o!==null&&o.tag===5&&o.type==="form"?ow(o):_o.r(s)}var Wc=typeof document>"u"?null:document;function zE(s,o,u){var h=Wc;if(h&&typeof o=="string"&&o){var y=jn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),FE.has(y)||(FE.add(y),s={rel:s,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Wr(o,"link",s),Vt(o),h.head.appendChild(o)))}}function B2(s){_o.D(s),zE("dns-prefetch",s,null)}function F2(s,o){_o.C(s,o),zE("preconnect",s,o)}function z2(s,o,u){_o.L(s,o,u);var h=Wc;if(h&&s&&o){var y='link[rel="preload"][as="'+jn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+jn(u.imageSizes)+'"]')):y+='[href="'+jn(s)+'"]';var w=y;switch(o){case"style":w=Qc(s);break;case"script":w=Kc(s)}xs.has(w)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),xs.set(w,s),h.querySelector(y)!==null||o==="style"&&h.querySelector(Vh(w))||o==="script"&&h.querySelector(Bh(w))||(o=h.createElement("link"),Wr(o,"link",s),Vt(o),h.head.appendChild(o)))}}function H2(s,o){_o.m(s,o);var u=Wc;if(u&&s){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+jn(h)+'"][href="'+jn(s)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Kc(s)}if(!xs.has(w)&&(s=p({rel:"modulepreload",href:s},o),xs.set(w,s),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bh(w)))return}h=u.createElement("link"),Wr(h,"link",s),Vt(h),u.head.appendChild(h)}}}function q2(s,o,u){_o.S(s,o,u);var h=Wc;if(h&&s){var y=dn(h).hoistableStyles,w=Qc(s);o=o||"default";var V=y.get(w);if(!V){var W={loading:0,preload:null};if(V=h.querySelector(Vh(w)))W.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=xs.get(w))&&Ry(s,u);var te=V=h.createElement("link");Vt(te),Wr(te,"link",s),te._p=new Promise(function(me,Te){te.onload=me,te.onerror=Te}),te.addEventListener("load",function(){W.loading|=1}),te.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Jp(V,o,h)}V={type:"stylesheet",instance:V,count:1,state:W},y.set(w,V)}}}function Y2(s,o){_o.X(s,o);var u=Wc;if(u&&s){var h=dn(u).hoistableScripts,y=Kc(s),w=h.get(y);w||(w=u.querySelector(Bh(y)),w||(s=p({src:s,async:!0},o),(o=xs.get(y))&&My(s,o),w=u.createElement("script"),Vt(w),Wr(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function $2(s,o){_o.M(s,o);var u=Wc;if(u&&s){var h=dn(u).hoistableScripts,y=Kc(s),w=h.get(y);w||(w=u.querySelector(Bh(y)),w||(s=p({src:s,async:!0,type:"module"},o),(o=xs.get(y))&&My(s,o),w=u.createElement("script"),Vt(w),Wr(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function HE(s,o,u,h){var y=(y=we.current)?Zp(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Qc(u.href),u=dn(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Qc(u.href);var w=dn(y).hoistableStyles,V=w.get(s);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,V),(w=y.querySelector(Vh(s)))&&!w._p&&(V.instance=w,V.state.loading=5),xs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xs.set(s,u),w||G2(y,s,u,V.state))),o&&h===null)throw Error(n(528,""));return V}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Kc(u),u=dn(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Qc(s){return'href="'+jn(s)+'"'}function Vh(s){return'link[rel="stylesheet"]['+s+"]"}function qE(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function G2(s,o,u,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Wr(o,"link",u),Vt(o),s.head.appendChild(o))}function Kc(s){return'[src="'+jn(s)+'"]'}function Bh(s){return"script[async]"+s}function YE(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+jn(u.href)+'"]');if(h)return o.instance=h,Vt(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Vt(h),Wr(h,"style",y),Jp(h,u.precedence,s),o.instance=h;case"stylesheet":y=Qc(u.href);var w=s.querySelector(Vh(y));if(w)return o.state.loading|=4,o.instance=w,Vt(w),w;h=qE(u),(y=xs.get(y))&&Ry(h,y),w=(s.ownerDocument||s).createElement("link"),Vt(w);var V=w;return V._p=new Promise(function(W,te){V.onload=W,V.onerror=te}),Wr(w,"link",h),o.state.loading|=4,Jp(w,u.precedence,s),o.instance=w;case"script":return w=Kc(u.src),(y=s.querySelector(Bh(w)))?(o.instance=y,Vt(y),y):(h=u,(y=xs.get(w))&&(h=p({},u),My(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),Vt(y),Wr(y,"link",h),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Jp(h,u.precedence,s));return o.instance}function Jp(s,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,V=0;V<h.length;V++){var W=h[V];if(W.dataset.precedence===o)w=W;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Ry(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function My(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var em=null;function $E(s,o,u){if(em===null){var h=new Map,y=em=new Map;y.set(u,h)}else y=em,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var w=u[y];if(!(w[Ps]||w[Ge]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(o)||"";V=s+V;var W=h.get(V);W?W.push(w):h.set(V,[w])}}return h}function GE(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function W2(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function WE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Fh=null;function Q2(){}function K2(s,o,u){if(Fh===null)throw Error(n(475));var h=Fh;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Qc(u.href),w=s.querySelector(Vh(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=tm.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=w,Vt(w);return}w=s.ownerDocument||s,u=qE(u),(y=xs.get(y))&&Ry(u,y),w=w.createElement("link"),Vt(w);var V=w;V._p=new Promise(function(W,te){V.onload=W,V.onerror=te}),Wr(w,"link",u),o.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=tm.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function X2(){if(Fh===null)throw Error(n(475));var s=Fh;return s.stylesheets&&s.count===0&&ky(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&ky(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function tm(){if(this.count--,this.count===0){if(this.stylesheets)ky(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nm=null;function ky(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nm=new Map,o.forEach(Z2,s),nm=null,tm.call(s))}function Z2(s,o){if(!(o.state.loading&4)){var u=nm.get(s);if(u)var h=u.get(null);else{u=new Map,nm.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var V=y[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),h=V)}h&&u.set(null,h)}y=o.instance,V=y.getAttribute("data-precedence"),w=u.get(V)||h,w===h&&u.set(null,y),u.set(V,y),this.count++,h=tm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var zh={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function J2(s,o,u,h,y,w,V,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function QE(s,o,u,h,y,w,V,W,te,me,Te,De){return s=new J2(s,o,u,V,W,te,me,De),o=1,w===!0&&(o|=24),w=bi(3,null,null,o),s.current=w,w.stateNode=s,o=dh(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:o},je(w),s}function KE(s){return s?(s=Jo,s):Jo}function XE(s,o,u,h,y,w){y=KE(y),h.context===null?h.context=y:h.pendingContext=y,h=Xe(o),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=et(s,h,o),u!==null&&(as(u,s,o),nt(u,s,o))}function ZE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Ly(s,o){ZE(s,o),(s=s.alternate)&&ZE(s,o)}function JE(s){if(s.tag===13){var o=Zo(s,67108864);o!==null&&as(o,s,67108864),Ly(s,67108864)}}var rm=!0;function ek(s,o,u,h){var y=U.T;U.T=null;var w=B.p;try{B.p=2,Oy(s,o,u,h)}finally{B.p=w,U.T=y}}function tk(s,o,u,h){var y=U.T;U.T=null;var w=B.p;try{B.p=8,Oy(s,o,u,h)}finally{B.p=w,U.T=y}}function Oy(s,o,u,h){if(rm){var y=Iy(h);if(y===null)by(s,o,h,im,u),t1(s,h);else if(rk(y,s,o,u,h))h.stopPropagation();else if(t1(s,h),o&4&&-1<nk.indexOf(s)){for(;y!==null;){var w=Vr(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=Sn(w.pendingLanes);if(V!==0){var W=w;for(W.pendingLanes|=2,W.entangledLanes|=2;V;){var te=1<<31-It(V);W.entanglements[1]|=te,V&=~te}Ea(w),(pn&6)===0&&(Fp=$e()+500,Ph(0))}}break;case 13:W=Zo(w,2),W!==null&&as(W,w,2),Hp(),Ly(w,2)}if(w=Iy(h),w===null&&by(s,o,h,im,u),w===y)break;y=w}y!==null&&h.stopPropagation()}else by(s,o,h,null,u)}}function Iy(s){return s=Dr(s),Py(s)}var im=null;function Py(s){if(im=null,s=Ns(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return im=s,null}function e1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case Et:return 2;case Ft:return 8;case Qe:case zt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Ny=!1,yl=null,_l=null,bl=null,Hh=new Map,qh=new Map,wl=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t1(s,o){switch(s){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Hh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(o.pointerId)}}function Yh(s,o,u,h,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Vr(o),o!==null&&JE(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function rk(s,o,u,h,y){switch(o){case"focusin":return yl=Yh(yl,s,o,u,h,y),!0;case"dragenter":return _l=Yh(_l,s,o,u,h,y),!0;case"mouseover":return bl=Yh(bl,s,o,u,h,y),!0;case"pointerover":var w=y.pointerId;return Hh.set(w,Yh(Hh.get(w)||null,s,o,u,h,y)),!0;case"gotpointercapture":return w=y.pointerId,qh.set(w,Yh(qh.get(w)||null,s,o,u,h,y)),!0}return!1}function n1(s){var o=Ns(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Vo(s.priority,function(){if(u.tag===13){var h=ss();h=ni(h);var y=Zo(u,h);y!==null&&as(y,u,h),Ly(u,h)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function sm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Iy(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);hs=h,u.target.dispatchEvent(h),hs=null}else return o=Vr(u),o!==null&&JE(o),s.blockedOn=u,!1;o.shift()}return!0}function r1(s,o,u){sm(s)&&u.delete(o)}function ik(){Ny=!1,yl!==null&&sm(yl)&&(yl=null),_l!==null&&sm(_l)&&(_l=null),bl!==null&&sm(bl)&&(bl=null),Hh.forEach(r1),qh.forEach(r1)}function am(s,o){s.blockedOn===o&&(s.blockedOn=null,Ny||(Ny=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ik)))}var om=null;function i1(s){om!==s&&(om=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){om===s&&(om=null);for(var o=0;o<s.length;o+=3){var u=s[o],h=s[o+1],y=s[o+2];if(typeof h!="function"){if(Py(h||u)===null)continue;break}var w=Vr(u);w!==null&&(s.splice(o,3),o-=3,Pv(w,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function $h(s){function o(te){return am(te,s)}yl!==null&&am(yl,s),_l!==null&&am(_l,s),bl!==null&&am(bl,s),Hh.forEach(o),qh.forEach(o);for(var u=0;u<wl.length;u++){var h=wl[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<wl.length&&(u=wl[0],u.blockedOn===null);)n1(u),u.blockedOn===null&&wl.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],w=u[h+1],V=y[Kn]||null;if(typeof w=="function")V||i1(u);else if(V){var W=null;if(w&&w.hasAttribute("formAction")){if(y=w,V=w[Kn]||null)W=V.formAction;else if(Py(y)!==null)continue}else W=V.action;typeof W=="function"?u[h+1]=W:(u.splice(h,3),h-=3),i1(u)}}}function Uy(s){this._internalRoot=s}lm.prototype.render=Uy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,h=ss();XE(u,h,s,o,null,null)},lm.prototype.unmount=Uy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;XE(s.current,2,null,s,null,null),Hp(),o[Ri]=null}};function lm(s){this._internalRoot=s}lm.prototype.unstable_scheduleHydration=function(s){if(s){var o=Rn();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wl.length&&o!==0&&o<wl[u].priority;u++);wl.splice(u,0,s),u===0&&n1(s)}};var s1=e.version;if(s1!=="19.1.0")throw Error(n(527,s1,"19.1.0"));B.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var sk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{Dt=um.inject(sk),ct=um}catch{}}return Wh.createRoot=function(s,o){if(!i(s))throw Error(n(299));var u=!1,h="",y=ww,w=Ew,V=Tw,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks)),o=QE(s,1,!1,null,null,u,h,y,w,V,W,null),s[Ri]=o.current,_y(s),new Uy(o)},Wh.hydrateRoot=function(s,o,u){if(!i(s))throw Error(n(299));var h=!1,y="",w=ww,V=Ew,W=Tw,te=null,me=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(te=u.unstable_transitionCallbacks),u.formState!==void 0&&(me=u.formState)),o=QE(s,1,!0,o,u??null,h,y,w,V,W,te,me),o.context=KE(null),u=o.current,h=ss(),h=ni(h),y=Xe(h),y.callback=null,et(u,y,h),u=h,o.current.lanes=u,Un(o,u),Ea(o),s[Ri]=o.current,_y(s),new lm(o)},Wh.version="19.1.0",Wh}var m1;function yk(){if(m1)return By.exports;m1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),By.exports=vk(),By.exports}var _k=yk();const bk=d0(_k);var Qh={},g1;function wk(){if(g1)return Qh;g1=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.parse=l,Qh.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const E=new a,M=v.length;if(M<2)return E;const x=(b==null?void 0:b.decode)||p;let L=0;do{const $=v.indexOf("=",L);if($===-1)break;const Y=v.indexOf(";",L),H=Y===-1?M:Y;if($>H){L=v.lastIndexOf(";",$-1)+1;continue}const G=c(v,L,$),q=d(v,$,G),P=v.slice(G,q);if(E[P]===void 0){let C=c(v,$+1,H),S=d(v,H,C);const k=x(v.slice(C,S));E[P]=k}L=H+1}while(L<M);return E}function c(v,b,E){do{const M=v.charCodeAt(b);if(M!==32&&M!==9)return b}while(++b<E);return E}function d(v,b,E){for(;b>E;){const M=v.charCodeAt(--b);if(M!==32&&M!==9)return b+1}return E}function f(v,b,E){const M=(E==null?void 0:E.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=M(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let L=v+"="+x;if(!E)return L;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);L+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);L+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);L+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);L+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(L+="; HttpOnly"),E.secure&&(L+="; Secure"),E.partitioned&&(L+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return L}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return Qh}wk();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v1="popstate";function Ek(r={}){function e(n,i){let{pathname:a,search:l,hash:c}=n.location;return T_("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Ef(i)}return Sk(e,t,null,r)}function Fn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ra(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tk(){return Math.random().toString(36).substring(2,10)}function y1(r,e){return{usr:r.state,key:r.key,idx:e}}function T_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?kd(e):e,state:t,key:e&&e.key||n||Tk()}}function Ef({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function kd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Sk(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let x=p(),L=x==null?null:x-f;f=x,d&&d({action:c,location:M.location,delta:L})}function v(x,L){c="PUSH";let $=T_(M.location,x,L);f=p()+1;let Y=y1($,f),H=M.createHref($);try{l.pushState(Y,"",H)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(H)}a&&d&&d({action:c,location:M.location,delta:1})}function b(x,L){c="REPLACE";let $=T_(M.location,x,L);f=p();let Y=y1($,f),H=M.createHref($);l.replaceState(Y,"",H),a&&d&&d({action:c,location:M.location,delta:0})}function E(x){let L=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof x=="string"?x:Ef(x);return $=$.replace(/ $/,"%20"),Fn(L,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,L)}let M={get action(){return c},get location(){return r(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(v1,g),d=x,()=>{i.removeEventListener(v1,g),d=null}},createHref(x){return e(i,x)},createURL:E,encodeLocation(x){let L=E(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:b,go(x){return l.go(x)}};return M}function pA(r,e,t="/"){return Ck(r,e,t,!1)}function Ck(r,e,t,n){let i=typeof e=="string"?kd(e):e,a=ko(i.pathname||"/",t);if(a==null)return null;let l=mA(r);Ak(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Uk(a);c=Pk(l[d],f,n)}return c}function mA(r,e=[],t=[],n=""){let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Fn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=So([n,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Fn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),mA(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Ok(f,a.index),routesMeta:p})};return r.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of gA(a.path))i(a,l,d)}),e}function gA(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=gA(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function Ak(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Ik(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var xk=/^:[\w-]+$/,Dk=3,Rk=2,Mk=1,kk=10,Lk=-2,_1=r=>r==="*";function Ok(r,e){let t=r.split("/"),n=t.length;return t.some(_1)&&(n+=Lk),e&&(n+=Rk),t.filter(i=>!_1(i)).reduce((i,a)=>i+(xk.test(a)?Dk:a===""?Mk:kk),n)}function Ik(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Pk(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Wm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=Wm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:So([a,g.pathname]),pathnameBase:Fk(So([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=So([a,g.pathnameBase]))}return l}function Wm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Nk(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let E=c[v]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[v];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function Nk(r,e=!1,t=!0){ra(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Uk(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ra(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ko(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function jk(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?kd(r):r;return{pathname:t?t.startsWith("/")?t:Vk(t,e):e,search:zk(n),hash:Hk(i)}}function Vk(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function qy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bk(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f0(r){let e=Bk(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function p0(r,e,t,n=!1){let i;typeof r=="string"?i=kd(r):(i={...r},Fn(!i.pathname||!i.pathname.includes("?"),qy("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),qy("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),qy("#","search","hash",i)));let a=r===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=jk(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var So=r=>r.join("/").replace(/\/\/+/g,"/"),Fk=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zk=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Hk=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qk(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var vA=["POST","PUT","PATCH","DELETE"];new Set(vA);var Yk=["GET",...vA];new Set(Yk);var Ld=T.createContext(null);Ld.displayName="DataRouter";var qg=T.createContext(null);qg.displayName="DataRouterState";var yA=T.createContext({isTransitioning:!1});yA.displayName="ViewTransition";var $k=T.createContext(new Map);$k.displayName="Fetchers";var Gk=T.createContext(null);Gk.displayName="Await";var oa=T.createContext(null);oa.displayName="Navigation";var Ff=T.createContext(null);Ff.displayName="Location";var Is=T.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var m0=T.createContext(null);m0.displayName="RouteError";function Wk(r,{relative:e}={}){Fn(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(oa),{hash:i,pathname:a,search:l}=Hf(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:So([t,a])),n.createHref({pathname:c,search:l,hash:i})}function Od(){return T.useContext(Ff)!=null}function Uo(){return Fn(Od(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ff).location}var _A="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bA(r){T.useContext(oa).static||T.useLayoutEffect(r)}function zf(){let{isDataRoute:r}=T.useContext(Is);return r?cL():Qk()}function Qk(){Fn(Od(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Ld),{basename:e,navigator:t}=T.useContext(oa),{matches:n}=T.useContext(Is),{pathname:i}=Uo(),a=JSON.stringify(f0(n)),l=T.useRef(!1);return bA(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(ra(l.current,_A),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=p0(d,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:So([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,r])}var Kk=T.createContext(null);function Xk(r){let e=T.useContext(Is).outlet;return e&&T.createElement(Kk.Provider,{value:r},e)}function Zk(){let{matches:r}=T.useContext(Is),e=r[r.length-1];return e?e.params:{}}function Hf(r,{relative:e}={}){let{matches:t}=T.useContext(Is),{pathname:n}=Uo(),i=JSON.stringify(f0(t));return T.useMemo(()=>p0(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function Jk(r,e){return wA(r,e)}function wA(r,e,t,n){var $;Fn(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=T.useContext(oa),{matches:l}=T.useContext(Is),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let Y=g&&g.path||"";EA(f,!g||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let v=Uo(),b;if(e){let Y=typeof e=="string"?kd(e):e;Fn(p==="/"||(($=Y.pathname)==null?void 0:$.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),b=Y}else b=v;let E=b.pathname||"/",M=E;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");M="/"+E.replace(/^\//,"").split("/").slice(Y.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:pA(r,{pathname:M});ra(g||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ra(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=iL(x&&x.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:So([p,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:So([p,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,t,n);return e&&L?T.createElement(Ff.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function eL(){let r=uL(),e=qk(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var tL=T.createElement(eL,null),nL=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?T.createElement(Is.Provider,{value:this.props.routeContext},T.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rL({routeContext:r,match:e,children:t}){let n=T.useContext(Ld);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Is.Provider,{value:r},t)}function iL(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Fn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,v=!1,b=null,E=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||tL,l&&(c<0&&p===0?(EA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):c===p&&(v=!0,E=f.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,p+1)),x=()=>{let L;return g?L=b:v?L=E:f.route.Component?L=T.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,T.createElement(rL,{match:f,routeContext:{outlet:d,matches:M,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(nL,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function g0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sL(r){let e=T.useContext(Ld);return Fn(e,g0(r)),e}function aL(r){let e=T.useContext(qg);return Fn(e,g0(r)),e}function oL(r){let e=T.useContext(Is);return Fn(e,g0(r)),e}function v0(r){let e=oL(r),t=e.matches[e.matches.length-1];return Fn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function lL(){return v0("useRouteId")}function uL(){var n;let r=T.useContext(m0),e=aL("useRouteError"),t=v0("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function cL(){let{router:r}=sL("useNavigate"),e=v0("useNavigate"),t=T.useRef(!1);return bA(()=>{t.current=!0}),T.useCallback(async(i,a={})=>{ra(t.current,_A),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var b1={};function EA(r,e,t){!e&&!b1[r]&&(b1[r]=!0,ra(!1,t))}T.memo(dL);function dL({routes:r,future:e,state:t}){return wA(r,void 0,t,e)}function TA({to:r,replace:e,state:t,relative:n}){Fn(Od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(oa);ra(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Is),{pathname:l}=Uo(),c=zf(),d=p0(r,f0(a),l,n==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:n})},[c,f,n,e,t]),null}function hL(r){return Xk(r.context)}function Ta(r){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fL({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){Fn(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=kd(t));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=t,b=T.useMemo(()=>{let E=ko(d,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:g,key:v},navigationType:n}},[l,d,f,p,g,v,n]);return ra(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(oa.Provider,{value:c},T.createElement(Ff.Provider,{children:e,value:b}))}function pL({children:r,location:e}){return Jk(S_(r),e)}function S_(r,e=[]){let t=[];return T.Children.forEach(r,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){t.push.apply(t,S_(n.props.children,a));return}Fn(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=S_(n.props.children,a)),t.push(l)}),t}var Dm="get",Rm="application/x-www-form-urlencoded";function Yg(r){return r!=null&&typeof r.tagName=="string"}function mL(r){return Yg(r)&&r.tagName.toLowerCase()==="button"}function gL(r){return Yg(r)&&r.tagName.toLowerCase()==="form"}function vL(r){return Yg(r)&&r.tagName.toLowerCase()==="input"}function yL(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _L(r,e){return r.button===0&&(!e||e==="_self")&&!yL(r)}var cm=null;function bL(){if(cm===null)try{new FormData(document.createElement("form"),0),cm=!1}catch{cm=!0}return cm}var wL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yy(r){return r!=null&&!wL.has(r)?(ra(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rm}"`),null):r}function EL(r,e){let t,n,i,a,l;if(gL(r)){let c=r.getAttribute("action");n=c?ko(c,e):null,t=r.getAttribute("method")||Dm,i=Yy(r.getAttribute("enctype"))||Rm,a=new FormData(r)}else if(mL(r)||vL(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?ko(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Dm,i=Yy(r.getAttribute("formenctype"))||Yy(c.getAttribute("enctype"))||Rm,a=new FormData(c,r),!bL()){let{name:f,type:p,value:g}=r;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Yg(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dm,n=null,i=Rm,l=r}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:l}}function y0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function TL(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SL(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CL(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await TL(a,t);return l.links?l.links():[]}return[]}));return RL(n.flat(1).filter(SL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function w1(r,e,t,n,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var g;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function AL(r,e,{includeHydrateFallback:t}={}){return xL(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function xL(r){return[...new Set(r)]}function DL(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function RL(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(DL(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function ML(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ko(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SA(){let r=T.useContext(Ld);return y0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kL(){let r=T.useContext(qg);return y0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _0=T.createContext(void 0);_0.displayName="FrameworkContext";function CA(){let r=T.useContext(_0);return y0(r,"You must render this element inside a <HydratedRouter> element"),r}function LL(r,e){let t=T.useContext(_0),[n,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=T.useRef(null);T.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let M=L=>{L.forEach($=>{l($.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[r]),T.useEffect(()=>{if(n){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[n]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return t?r!=="intent"?[a,v,{}]:[a,v,{onFocus:Kh(c,b),onBlur:Kh(d,E),onMouseEnter:Kh(f,b),onMouseLeave:Kh(p,E),onTouchStart:Kh(g,b)}]:[!1,v,{}]}function Kh(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function OL({page:r,...e}){let{router:t}=SA(),n=T.useMemo(()=>pA(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?T.createElement(PL,{page:r,matches:n,...e}):null}function IL(r){let{manifest:e,routeModules:t}=CA(),[n,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return CL(r,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[r,e,t]),n}function PL({page:r,matches:e,...t}){let n=Uo(),{manifest:i,routeModules:a}=CA(),{basename:l}=SA(),{loaderData:c,matches:d}=kL(),f=T.useMemo(()=>w1(r,e,d,i,n,"data"),[r,e,d,i,n]),p=T.useMemo(()=>w1(r,e,d,i,n,"assets"),[r,e,d,i,n]),g=T.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,M=!1;if(e.forEach(L=>{var Y;let $=i.routes[L.route.id];!$||!$.hasLoader||(!f.some(H=>H.route.id===L.route.id)&&L.route.id in c&&((Y=a[L.route.id])!=null&&Y.shouldRevalidate)||$.hasClientLoader?M=!0:E.add(L.route.id))}),E.size===0)return[];let x=ML(r,l);return M&&E.size>0&&x.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[x.pathname+x.search]},[l,c,n,i,f,e,r,a]),v=T.useMemo(()=>AL(p,i),[p,i]),b=IL(p);return T.createElement(T.Fragment,null,g.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:M})=>T.createElement("link",{key:E,...M})))}function NL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AA&&(window.__reactRouterVersion="7.4.1")}catch{}function UL({basename:r,children:e,window:t}){let n=T.useRef();n.current==null&&(n.current=Ek({window:t,v5Compat:!0}));let i=n.current,[a,l]=T.useState({action:i.action,location:i.location}),c=T.useCallback(d=>{T.startTransition(()=>l(d))},[l]);return T.useLayoutEffect(()=>i.listen(c),[i,c]),T.createElement(fL,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},b){let{basename:E}=T.useContext(oa),M=typeof f=="string"&&xA.test(f),x,L=!1;if(typeof f=="string"&&M&&(x=f,AA))try{let S=new URL(window.location.href),k=f.startsWith("//")?new URL(S.protocol+f):new URL(f),N=ko(k.pathname,E);k.origin===S.origin&&N!=null?f=N+k.search+k.hash:L=!0}catch{ra(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Wk(f,{relative:i}),[Y,H,G]=LL(n,v),q=FL(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:g});function P(S){e&&e(S),S.defaultPrevented||q(S)}let C=T.createElement("a",{...v,...G,href:x||$,onClick:L||a?e:P,ref:NL(b,H),target:d,"data-discover":!M&&t==="render"?"true":void 0});return Y&&!M?T.createElement(T.Fragment,null,C,T.createElement(OL,{page:$})):C});Dl.displayName="Link";var jL=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let g=Hf(l,{relative:f.relative}),v=Uo(),b=T.useContext(qg),{navigator:E,basename:M}=T.useContext(oa),x=b!=null&&$L(g)&&c===!0,L=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,$=v.pathname,Y=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||($=$.toLowerCase(),Y=Y?Y.toLowerCase():null,L=L.toLowerCase()),Y&&M&&(Y=ko(Y,M)||Y);const H=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=$===L||!i&&$.startsWith(L)&&$.charAt(H)==="/",q=Y!=null&&(Y===L||!i&&Y.startsWith(L)&&Y.charAt(L.length)==="/"),P={isActive:G,isPending:q,isTransitioning:x},C=G?e:void 0,S;typeof n=="function"?S=n(P):S=[n,G?"active":null,q?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(P):a;return T.createElement(Dl,{...f,"aria-current":C,className:S,ref:p,style:k,to:l,viewTransition:c},typeof d=="function"?d(P):d)});jL.displayName="NavLink";var VL=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:l=Dm,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},b)=>{let E=qL(),M=YL(c,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&xA.test(c),$=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let H=Y.nativeEvent.submitter,G=(H==null?void 0:H.getAttribute("formmethod"))||l;E(H||Y.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return T.createElement("form",{ref:b,method:x,action:M,onSubmit:n?d:$,...v,"data-discover":!L&&r==="render"?"true":void 0})});VL.displayName="Form";function BL(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(r){let e=T.useContext(Ld);return Fn(e,BL(r)),e}function FL(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=zf(),d=Uo(),f=Hf(r,{relative:a});return T.useCallback(p=>{if(_L(p,e)){p.preventDefault();let g=t!==void 0?t:Ef(d)===Ef(f);c(r,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,t,n,e,r,i,a,l])}var zL=0,HL=()=>`__${String(++zL)}__`;function qL(){let{router:r}=DA("useSubmit"),{basename:e}=T.useContext(oa),t=lL();return T.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=EL(n,e);if(i.navigate===!1){let p=i.fetcherKey||HL();await r.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function YL(r,{relative:e}={}){let{basename:t}=T.useContext(oa),n=T.useContext(Is);Fn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Hf(r||".",{relative:e})},l=Uo();if(r==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:So([t,a.pathname])),Ef(a)}function $L(r,e={}){let t=T.useContext(yA);Fn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DA("useViewTransitionState"),i=Hf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ko(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=ko(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Wm(i.pathname,l)!=null||Wm(i.pathname,a)!=null}new TextEncoder;var eu=fA();const GL=d0(eu),RA=T.createContext();function WL(){return T.useContext(RA)}function QL({children:r}){const[e,t]=T.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const n=()=>{t(!e)};return R.jsx(RA.Provider,{value:{darkMode:e,toggleTheme:n},children:r})}const KL=()=>{};var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},XL=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},kA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,f=d?r[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;d||(b=64,l||(v=64)),n.push(t[p],t[g],t[v],t[b])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(MA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const f=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new ZL;const v=a<<2|c>>4;if(n.push(v),f!==64){const b=c<<4&240|f>>2;if(n.push(b),g!==64){const E=f<<6&192|g;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JL=function(r){const e=MA(r);return kA.encodeByteArray(e,!0)},Qm=function(r){return JL(r).replace(/\./g,"")},LA=function(r){try{return kA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=()=>eO().__FIREBASE_DEFAULTS__,nO=()=>{if(typeof process>"u"||typeof E1>"u")return;const r=E1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rO=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LA(r[1]);return e&&JSON.parse(e)},$g=()=>{try{return KL()||tO()||nO()||rO()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OA=r=>{var e,t;return(t=(e=$g())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},IA=r=>{const e=OA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},PA=()=>{var r;return(r=$g())===null||r===void 0?void 0:r.config},NA=r=>{var e;return(e=$g())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qm(JSON.stringify(t)),Qm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function aO(){var r;const e=(r=$g())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cO(){const r=di();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dO(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hO(){try{return typeof indexedDB=="object"}catch{return!1}}function fO(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class za extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=pO,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?mO(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new za(i,c,n)}}function mO(r,e){return r.replace(gO,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const gO=/\{\$([^}]+)}/g;function vO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],l=e[i];if(T1(a)&&T1(l)){if(!zu(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function T1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function af(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function of(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function yO(r,e){const t=new _O(r,e);return t.subscribe.bind(t)}class _O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(r){return r&&r._delegate?r._delegate:r}class ql{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new iO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lu){return this.instances.has(e)}getOptions(e=Lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:EO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Lu){return this.component?this.component.multipleInstances?e:Lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EO(r){return r===Lu?void 0:r}function TO(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const CO={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},AO=Ut.INFO,xO={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},DO=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=xO[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b0{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=DO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const RO=(r,e)=>e.some(t=>r instanceof t);let S1,C1;function MO(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jA=new WeakMap,C_=new WeakMap,VA=new WeakMap,Gy=new WeakMap,w0=new WeakMap;function LO(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(Ul(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&jA.set(t,r)}).catch(()=>{}),w0.set(e,r),e}function OO(r){if(C_.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});C_.set(r,e)}let A_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return C_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||VA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ul(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IO(r){A_=r(A_)}function PO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Wy(this),e,...t);return VA.set(n,e.sort?e.sort():[e]),Ul(n)}:kO().includes(r)?function(...e){return r.apply(Wy(this),e),Ul(jA.get(this))}:function(...e){return Ul(r.apply(Wy(this),e))}}function NO(r){return typeof r=="function"?PO(r):(r instanceof IDBTransaction&&OO(r),RO(r,MO())?new Proxy(r,A_):r)}function Ul(r){if(r instanceof IDBRequest)return LO(r);if(Gy.has(r))return Gy.get(r);const e=NO(r);return e!==r&&(Gy.set(r,e),w0.set(e,r)),e}const Wy=r=>w0.get(r);function UO(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(r,e),c=Ul(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ul(l.result),d.oldVersion,d.newVersion,Ul(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const jO=["get","getKey","getAll","getAllKeys","count"],VO=["put","add","delete","clear"],Qy=new Map;function A1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qy.get(e))return Qy.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=VO.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||jO.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return Qy.set(e,a),a}IO(r=>({...r,get:(e,t,n)=>A1(e,t)||r.get(e,t,n),has:(e,t)=>!!A1(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FO(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function FO(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x_="@firebase/app",x1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new b0("@firebase/app"),zO="@firebase/app-compat",HO="@firebase/analytics-compat",qO="@firebase/analytics",YO="@firebase/app-check-compat",$O="@firebase/app-check",GO="@firebase/auth",WO="@firebase/auth-compat",QO="@firebase/database",KO="@firebase/data-connect",XO="@firebase/database-compat",ZO="@firebase/functions",JO="@firebase/functions-compat",eI="@firebase/installations",tI="@firebase/installations-compat",nI="@firebase/messaging",rI="@firebase/messaging-compat",iI="@firebase/performance",sI="@firebase/performance-compat",aI="@firebase/remote-config",oI="@firebase/remote-config-compat",lI="@firebase/storage",uI="@firebase/storage-compat",cI="@firebase/firestore",dI="@firebase/vertexai",hI="@firebase/firestore-compat",fI="firebase",pI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="[DEFAULT]",mI={[x_]:"fire-core",[zO]:"fire-core-compat",[qO]:"fire-analytics",[HO]:"fire-analytics-compat",[$O]:"fire-app-check",[YO]:"fire-app-check-compat",[GO]:"fire-auth",[WO]:"fire-auth-compat",[QO]:"fire-rtdb",[KO]:"fire-data-connect",[XO]:"fire-rtdb-compat",[ZO]:"fire-fn",[JO]:"fire-fn-compat",[eI]:"fire-iid",[tI]:"fire-iid-compat",[nI]:"fire-fcm",[rI]:"fire-fcm-compat",[iI]:"fire-perf",[sI]:"fire-perf-compat",[aI]:"fire-rc",[oI]:"fire-rc-compat",[lI]:"fire-gcs",[uI]:"fire-gcs-compat",[cI]:"fire-fst",[hI]:"fire-fst-compat",[dI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Map,gI=new Map,R_=new Map;function D1(r,e){try{r.container.addComponent(e)}catch(t){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Hu(r){const e=r.name;if(R_.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,r);for(const t of Km.values())D1(t,r);for(const t of gI.values())D1(t,r);return!0}function Gg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ls(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jl=new qf("app","Firebase",vI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=pI;function BA(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:D_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw jl.create("bad-app-name",{appName:String(i)});if(t||(t=PA()),!t)throw jl.create("no-options");const a=Km.get(i);if(a){if(zu(t,a.options)&&zu(n,a.config))return a;throw jl.create("duplicate-app",{appName:i})}const l=new SO(i);for(const d of R_.values())l.addComponent(d);const c=new yI(t,n,l);return Km.set(i,c),c}function E0(r=D_){const e=Km.get(r);if(!e&&r===D_&&PA())return BA();if(!e)throw jl.create("no-app",{appName:r});return e}function La(r,e,t){var n;let i=(n=mI[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(c.join(" "));return}Hu(new ql(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firebase-heartbeat-database",bI=1,Tf="firebase-heartbeat-store";let Ky=null;function FA(){return Ky||(Ky=UO(_I,bI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Tf)}catch(t){console.warn(t)}}}}).catch(r=>{throw jl.create("idb-open",{originalErrorMessage:r.message})})),Ky}async function wI(r){try{const t=(await FA()).transaction(Tf),n=await t.objectStore(Tf).get(zA(r));return await t.done,n}catch(e){if(e instanceof za)Lo.warn(e.message);else{const t=jl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(t.message)}}}async function R1(r,e){try{const n=(await FA()).transaction(Tf,"readwrite");await n.objectStore(Tf).put(e,zA(r)),await n.done}catch(t){if(t instanceof za)Lo.warn(t.message);else{const n=jl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Lo.warn(n.message)}}}function zA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1024,TI=30;class SI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=M1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TI){const l=xI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Lo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M1(),{heartbeatsToSend:n,unsentEntries:i}=CI(this._heartbeatsCache.heartbeats),a=Qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Lo.warn(t),""}}}function M1(){return new Date().toISOString().substring(0,10)}function CI(r,e=EI){const t=[];let n=r.slice();for(const i of r){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),k1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),k1(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class AI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hO()?fO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return R1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return R1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function k1(r){return Qm(JSON.stringify({version:2,heartbeats:r})).length}function xI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r){Hu(new ql("platform-logger",e=>new BO(e),"PRIVATE")),Hu(new ql("heartbeat",e=>new SI(e),"PRIVATE")),La(x_,x1,r),La(x_,x1,"esm2017"),La("fire-js","")}DI("");var RI="firebase",MI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La(RI,MI,"app");function T0(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function HA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=HA,qA=new qf("auth","Firebase",HA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new b0("@firebase/auth");function LI(r,...e){Xm.logLevel<=Ut.WARN&&Xm.warn(`Auth (${Zu}): ${r}`,...e)}function Mm(r,...e){Xm.logLevel<=Ut.ERROR&&Xm.error(`Auth (${Zu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(r,...e){throw S0(r,...e)}function Oa(r,...e){return S0(r,...e)}function YA(r,e,t){const n=Object.assign(Object.assign({},kI()),{[e]:t});return new qf("auth","Firebase",n).create(e,{appName:r.name})}function Vl(r){return YA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S0(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return qA.create(r,...e)}function at(r,e,...t){if(!r)throw S0(e,...t)}function Eo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mm(e),new Error(e)}function Oo(r,e){r||Eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function OI(){return L1()==="http:"||L1()==="https:"}function L1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||lO()||"connection"in navigator)?navigator.onLine:!0}function PI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oo(t>e,"Short delay should be less than long delay!"),this.isMobile=sO()||uO()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,e){Oo(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jI=new $f(3e4,6e4);function Ju(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function tu(r,e,t,n,i={}){return GA(r,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=Yf(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const f=Object.assign({method:e,headers:d},a);return oO()||(f.referrerPolicy="no-referrer"),$A.fetch()(await WA(r,r.config.apiHost,t,c),f)})}async function GA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},NI),e);try{const i=new BI(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw dm(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw dm(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw dm(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw dm(r,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YA(r,p,f);ia(r,p)}}catch(i){if(i instanceof za)throw i;ia(r,"network-request-failed",{message:String(i)})}}async function Wg(r,e,t,n,i={}){const a=await tu(r,e,t,n,i);return"mfaPendingCredential"in a&&ia(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function WA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,l=a.config.emulator?C0(r.config,i):`${r.config.apiScheme}://${i}`;return UI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function VI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Oa(this.auth,"network-request-failed")),jI.get())})}}function dm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Oa(r,e,n);return i.customData._tokenResponse=t,i}function O1(r){return r!==void 0&&r.enterprise!==void 0}class FI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(r,e){return tu(r,"GET","/v2/recaptchaConfig",Ju(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e){return tu(r,"POST","/v1/accounts:delete",e)}async function Zm(r,e){return tu(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qI(r,e=!1){const t=In(r),n=await t.getIdToken(e),i=A0(n);at(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:mf(Xy(i.auth_time)),issuedAtTime:mf(Xy(i.iat)),expirationTime:mf(Xy(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xy(r){return Number(r)*1e3}function A0(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Mm("JWT malformed, contained fewer than 3 sections"),null;try{const i=LA(t);return i?JSON.parse(i):(Mm("Failed to decode base64 JWT payload"),null)}catch(i){return Mm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function I1(r){const e=A0(r);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof za&&YI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function YI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mf(this.lastLoginAt),this.creationTime=mf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Sf(r,Zm(t,{idToken:n}));at(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?QA(a.providerUserInfo):[],c=WI(r.providerData,l),d=r.isAnonymous,f=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new k_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,g)}async function GI(r){const e=In(r);await Jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function QA(r){return r.map(e=>{var{providerId:t}=e,n=T0(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e){const t=await GA(r,{},async()=>{const n=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,l=await WA(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",$A.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KI(r,e){return tu(r,"POST","/v2/accounts:revokeToken",Ju(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){at(e.length!==0,"internal-error");const t=I1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await QI(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,l=new ld;return n&&(at(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(at(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ld,this.toJSON())}_performRefresh(){return Eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r,e){at(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=T0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new k_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return at(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qI(this,e)}reload(){return GI(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Jm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(Vl(this.auth));const e=await this.getIdToken();return await Sf(this,HI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,l,c,d,f,p;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,$=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Y,emailVerified:H,isAnonymous:G,providerData:q,stsTokenManager:P}=t;at(Y&&P,e,"internal-error");const C=ld.fromJSON(this.name,P);at(typeof Y=="string",e,"internal-error"),Tl(g,e.name),Tl(v,e.name),at(typeof H=="boolean",e,"internal-error"),at(typeof G=="boolean",e,"internal-error"),Tl(b,e.name),Tl(E,e.name),Tl(M,e.name),Tl(x,e.name),Tl(L,e.name),Tl($,e.name);const S=new ta({uid:Y,auth:e,email:v,emailVerified:H,displayName:g,isAnonymous:G,photoURL:E,phoneNumber:b,tenantId:M,stsTokenManager:C,createdAt:L,lastLoginAt:$});return q&&Array.isArray(q)&&(S.providerData=q.map(k=>Object.assign({},k))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,t,n=!1){const i=new ld;i.updateFromServerResponse(t);const a=new ta({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Jm(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?QA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new ld;c.updateFromIdToken(n);const d=new ta({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new k_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function To(r){Oo(r instanceof Function,"Expected a class definition");let e=P1.get(r);return e?(Oo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,P1.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KA.type="NONE";const N1=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e,t){return`firebase:${r}:${e}:${t}`}class ud{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=km(this.userKey,i.apiKey,a),this.fullPersistenceKey=km("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zm(this.auth,{idToken:e}).catch(()=>{});return t?ta._fromGetAccountInfoResponse(this.auth,t,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ud(To(N1),e,n);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||To(N1);const l=km(n,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const v=await Zm(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ta._fromGetAccountInfoResponse(e,v,p)}else g=ta._fromJSON(e,p);f!==a&&(c=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ud(a,e,n):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new ud(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nx(e))return"Blackberry";if(rx(e))return"Webos";if(ZA(e))return"Safari";if((e.includes("chrome/")||JA(e))&&!e.includes("edge/"))return"Chrome";if(tx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function XA(r=di()){return/firefox\//i.test(r)}function ZA(r=di()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JA(r=di()){return/crios\//i.test(r)}function ex(r=di()){return/iemobile/i.test(r)}function tx(r=di()){return/android/i.test(r)}function nx(r=di()){return/blackberry/i.test(r)}function rx(r=di()){return/webos/i.test(r)}function x0(r=di()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XI(r=di()){var e;return x0(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZI(){return cO()&&document.documentMode===10}function ix(r=di()){return x0(r)||tx(r)||rx(r)||nx(r)||/windows phone/i.test(r)||ex(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(r,e=[]){let t;switch(r){case"Browser":t=U1(di());break;case"Worker":t=`${U1(di())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(r,e={}){return tu(r,"GET","/v2/passwordPolicy",Ju(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=6;class nP{constructor(e){var t,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:tP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=To(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await ud.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zm(this,{idToken:e}),n=await ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ls(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(Vl(this));const t=e?In(e):null;return t&&at(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(Vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(Vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(To(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eP(this),t=new nP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await KI(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&To(e)||this._popupRedirectResolver;at(t,this,"argument-error"),this.redirectPersistenceManager=await ud.create(this,[To(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&LI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Id(r){return In(r)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(t=>this.observer=t)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iP(r){Qg=r}function ax(r){return Qg.loadJS(r)}function sP(){return Qg.recaptchaEnterpriseScript}function aP(){return Qg.gapiScript}function oP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lP{constructor(){this.enterprise=new uP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cP="recaptcha-enterprise",ox="NO_RECAPTCHA";class dP{constructor(e){this.type=cP,this.auth=Id(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{zI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new FI(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;O1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(ox)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lP().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(c=>{if(!t&&O1(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=sP();d.length!==0&&(d+=c),ax(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function V1(r,e,t,n=!1,i=!1){const a=new dP(r);let l;if(i)l=ox;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function B1(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await V1(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await V1(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(r,e){const t=Gg(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(zu(a,e??{}))return i;ia(i,"already-initialized")}return t.initialize({options:e})}function fP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(To);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function pP(r,e,t){const n=Id(r);at(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=lx(e),{host:l,port:c}=mP(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){at(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),at(zu(f,n.config.emulator)&&zu(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,gP()}function lx(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mP(r){const e=lx(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:F1(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:F1(l)}}}function F1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Eo("not implemented")}_getIdTokenResponse(e){return Eo("not implemented")}_linkToIdToken(e,t){return Eo("not implemented")}_getReauthenticationResolver(e){return Eo("not implemented")}}async function vP(r,e){return tu(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(r,e){return Wg(r,"POST","/v1/accounts:signInWithPassword",Ju(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(r,e){return Wg(r,"POST","/v1/accounts:signInWithEmailLink",Ju(r,e))}async function bP(r,e){return Wg(r,"POST","/v1/accounts:signInWithEmailLink",Ju(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends D0{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Cf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Cf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B1(e,t,"signInWithPassword",yP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B1(e,n,"signUpPassword",vP);case"emailLink":return bP(e,{idToken:t,email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(r,e){return Wg(r,"POST","/v1/accounts:signInWithIdp",Ju(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="http://localhost";class qu extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ia("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=T0(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new qu(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return cd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cd(e,t)}buildRequest(){const e={requestUri:wP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TP(r){const e=af(of(r)).link,t=e?af(of(e)).deep_link_id:null,n=af(of(r)).deep_link_id;return(n?af(of(n)).link:null)||n||t||e||r}class R0{constructor(e){var t,n,i,a,l,c;const d=af(of(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=EP((i=d.mode)!==null&&i!==void 0?i:null);at(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=TP(e);try{return new R0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.providerId=Pd.PROVIDER_ID}static credential(e,t){return Cf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=R0.parseLink(t);return at(n,"argument-error"),Cf._fromEmailAndCode(e,n.code,n.tenantId)}}Pd.PROVIDER_ID="password";Pd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Gf{constructor(){super("facebook.com")}static credential(e){return qu._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qu._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return kl.credential(t,n)}catch{return null}}}kl.GOOGLE_SIGN_IN_METHOD="google.com";kl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Gf{constructor(){super("github.com")}static credential(e){return qu._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ll.credential(e.oauthAccessToken)}catch{return null}}}Ll.GITHUB_SIGN_IN_METHOD="github.com";Ll.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Gf{constructor(){super("twitter.com")}static credential(e,t){return qu._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ol.credentialFromTaggedObject(e)}static credentialFromError(e){return Ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ol.credential(t,n)}catch{return null}}}Ol.TWITTER_SIGN_IN_METHOD="twitter.com";Ol.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await ta._fromIdTokenResponse(e,n,i),l=z1(n);return new gd({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=z1(n);return new gd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function z1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends za{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,eg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new eg(e,t,n,i)}}function cx(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?eg._fromErrorAndOperation(r,a,e,n):a})}async function SP(r,e,t=!1){const n=await Sf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return gd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(r,e,t=!1){const{auth:n}=r;if(Ls(n.app))return Promise.reject(Vl(n));const i="reauthenticate";try{const a=await Sf(r,cx(n,i,e,r),t);at(a.idToken,n,"internal-error");const l=A0(a.idToken);at(l,n,"internal-error");const{sub:c}=l;return at(r.uid===c,n,"user-mismatch"),gd._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ia(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(r,e,t=!1){if(Ls(r.app))return Promise.reject(Vl(r));const n="signIn",i=await cx(r,n,e),a=await gd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function AP(r,e){return dx(Id(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(r){const e=Id(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DP(r,e,t){return Ls(r.app)?Promise.reject(Vl(r)):AP(In(r),Pd.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&xP(r),n})}function RP(r,e,t,n){return In(r).onIdTokenChanged(e,t,n)}function MP(r,e,t){return In(r).beforeAuthStateChanged(e,t)}function hx(r,e,t,n){return In(r).onAuthStateChanged(e,t,n)}function kP(r){return In(r).signOut()}const tg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tg,"1"),this.storage.removeItem(tg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,OP=10;class px extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);ZI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OP):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const IP=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mx.type="SESSION";const gx=mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Kg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),d=await PP(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=M0("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(){return window}function UP(r){Ia().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof Ia().WorkerGlobalScope<"u"&&typeof Ia().importScripts=="function"}async function jP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function BP(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebaseLocalStorageDb",FP=1,ng="firebaseLocalStorage",_x="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xg(r,e){return r.transaction([ng],e?"readwrite":"readonly").objectStore(ng)}function zP(){const r=indexedDB.deleteDatabase(yx);return new Wf(r).toPromise()}function L_(){const r=indexedDB.open(yx,FP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ng,{keyPath:_x})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ng)?e(n):(n.close(),await zP(),e(await L_()))})})}async function H1(r,e,t){const n=Xg(r,!0).put({[_x]:e,value:t});return new Wf(n).toPromise()}async function HP(r,e){const t=Xg(r,!1).get(e),n=await new Wf(t).toPromise();return n===void 0?null:n.value}function q1(r,e){const t=Xg(r,!0).delete(e);return new Wf(t).toPromise()}const qP=800,YP=3;class bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>YP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kg._getInstance(BP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L_();return await H1(e,tg,"1"),await q1(e,tg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>HP(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Xg(i,!1).getAll();return new Wf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bx.type="LOCAL";const $P=bx;new $f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(r,e){return e?To(e):(at(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends D0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WP(r){return dx(r.auth,new k0(r),r.bypassAuthState)}function QP(r){const{auth:e,user:t}=r;return at(t,e,"internal-error"),CP(t,new k0(r),r.bypassAuthState)}async function KP(r){const{auth:e,user:t}=r;return at(t,e,"internal-error"),SP(t,new k0(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WP;case"linkViaPopup":case"linkViaRedirect":return KP;case"reauthViaPopup":case"reauthViaRedirect":return QP;default:ia(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new $f(2e3,1e4);class id extends wx{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,id.currentPopupAction&&id.currentPopupAction.cancel(),id.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=M0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,id.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XP.get())};e()}}id.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="pendingRedirect",Lm=new Map;class JP extends wx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Lm.get(this.auth._key());if(!e){try{const n=await eN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Lm.set(this.auth._key(),e)}return this.bypassAuthState||Lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(r,e){const t=rN(e),n=nN(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function tN(r,e){Lm.set(r._key(),e)}function nN(r){return To(r._redirectPersistence)}function rN(r){return km(ZP,r.config.apiKey,r.name)}async function iN(r,e,t=!1){if(Ls(r.app))return Promise.reject(Vl(r));const n=Id(r),i=GP(n,e),l=await new JP(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=10*60*1e3;class aN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ex(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Oa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}}function Y1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ex({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ex(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r,e={}){return tu(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^https?/;async function dN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lN(r);for(const t of e)try{if(hN(t))return}catch{}ia(r,"unauthorized-domain")}function hN(r){const e=M_(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!cN.test(t))return!1;if(uN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new $f(3e4,6e4);function $1(){const r=Ia().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pN(r){return new Promise((e,t)=>{var n,i,a;function l(){$1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$1(),t(Oa(r,"network-request-failed"))},timeout:fN.get()})}if(!((i=(n=Ia().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ia().gapi)===null||a===void 0)&&a.load)l();else{const c=oP("iframefcb");return Ia()[c]=()=>{gapi.load?l():t(Oa(r,"network-request-failed"))},ax(`${aP()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Om=null,e})}let Om=null;function mN(r){return Om=Om||pN(r),Om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new $f(5e3,15e3),vN="__/auth/iframe",yN="emulator/auth/iframe",_N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(r){const e=r.config;at(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?C0(e,yN):`https://${r.config.authDomain}/${vN}`,n={apiKey:e.apiKey,appName:r.name,v:Zu},i=bN.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Yf(n).slice(1)}`}async function EN(r){const e=await mN(r),t=Ia().gapi;return at(t,r,"internal-error"),e.open({where:document.body,url:wN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_N,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=Oa(r,"network-request-failed"),c=Ia().setTimeout(()=>{a(l)},gN.get());function d(){Ia().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,CN=600,AN="_blank",xN="http://localhost";class G1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DN(r,e,t,n=SN,i=CN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},TN),{width:n.toString(),height:i.toString(),top:a,left:l}),f=di().toLowerCase();t&&(c=JA(f)?AN:t),XA(f)&&(e=e||xN,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(XI(f)&&c!=="_self")return RN(e||"",c),new G1(null);const g=window.open(e||"",c,p);at(g,r,"popup-blocked");try{g.focus()}catch{}return new G1(g)}function RN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="__/auth/handler",kN="emulator/auth/handler",LN=encodeURIComponent("fac");async function W1(r,e,t,n,i,a){at(r.config.authDomain,r,"auth-domain-config-required"),at(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Zu,eventId:i};if(e instanceof ux){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",vO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Gf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await r._getAppCheckToken(),f=d?`#${LN}=${encodeURIComponent(d)}`:"";return`${ON(r)}?${Yf(c).slice(1)}${f}`}function ON({config:r}){return r.emulator?C0(r,kN):`https://${r.authDomain}/${MN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gx,this._completeRedirectFn=iN,this._overrideRedirectResult=tN}async _openPopup(e,t,n,i){var a;Oo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await W1(e,t,n,M_(),i);return DN(e,l,M0())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await W1(e,t,n,M_(),i);return UP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Oo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await EN(e),n=new aN(e);return t.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Zy];l!==void 0&&t(!!l),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ix()||ZA()||x0()}}const PN=IN;var Q1="@firebase/auth",K1="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(r){Hu(new ql("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sx(r)},f=new rP(n,i,a,d);return fP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Hu(new ql("auth-internal",e=>{const t=Id(e.getProvider("auth").getImmediate());return(n=>new NN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),La(Q1,K1,UN(r)),La(Q1,K1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=5*60,BN=NA("authIdTokenMaxAge")||VN;let X1=null;const FN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>BN)return;const i=t==null?void 0:t.token;X1!==i&&(X1=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zN(r=E0()){const e=Gg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=hP(r,{popupRedirectResolver:PN,persistence:[$P,IP,gx]}),n=NA("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=FN(a.toString());MP(t,l,()=>l(t.currentUser)),RP(t,c=>l(c))}}const i=OA("auth");return i&&pP(t,`http://${i}`),t}function HN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}iP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Oa("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",HN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bl,Tx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function S(){}S.prototype=C.prototype,P.D=C.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(k,N,F){for(var j=Array(arguments.length-2),X=2;X<arguments.length;X++)j[X-2]=arguments[X];return C.prototype[N].apply(k,j)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,S){S||(S=0);var k=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)k[N]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(N=0;16>N;++N)k[N]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=P.g[0],S=P.g[1],N=P.g[2];var F=P.g[3],j=C+(F^S&(N^F))+k[0]+3614090360&4294967295;C=S+(j<<7&4294967295|j>>>25),j=F+(N^C&(S^N))+k[1]+3905402710&4294967295,F=C+(j<<12&4294967295|j>>>20),j=N+(S^F&(C^S))+k[2]+606105819&4294967295,N=F+(j<<17&4294967295|j>>>15),j=S+(C^N&(F^C))+k[3]+3250441966&4294967295,S=N+(j<<22&4294967295|j>>>10),j=C+(F^S&(N^F))+k[4]+4118548399&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(N^C&(S^N))+k[5]+1200080426&4294967295,F=C+(j<<12&4294967295|j>>>20),j=N+(S^F&(C^S))+k[6]+2821735955&4294967295,N=F+(j<<17&4294967295|j>>>15),j=S+(C^N&(F^C))+k[7]+4249261313&4294967295,S=N+(j<<22&4294967295|j>>>10),j=C+(F^S&(N^F))+k[8]+1770035416&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(N^C&(S^N))+k[9]+2336552879&4294967295,F=C+(j<<12&4294967295|j>>>20),j=N+(S^F&(C^S))+k[10]+4294925233&4294967295,N=F+(j<<17&4294967295|j>>>15),j=S+(C^N&(F^C))+k[11]+2304563134&4294967295,S=N+(j<<22&4294967295|j>>>10),j=C+(F^S&(N^F))+k[12]+1804603682&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(N^C&(S^N))+k[13]+4254626195&4294967295,F=C+(j<<12&4294967295|j>>>20),j=N+(S^F&(C^S))+k[14]+2792965006&4294967295,N=F+(j<<17&4294967295|j>>>15),j=S+(C^N&(F^C))+k[15]+1236535329&4294967295,S=N+(j<<22&4294967295|j>>>10),j=C+(N^F&(S^N))+k[1]+4129170786&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^N&(C^S))+k[6]+3225465664&4294967295,F=C+(j<<9&4294967295|j>>>23),j=N+(C^S&(F^C))+k[11]+643717713&4294967295,N=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(N^F))+k[0]+3921069994&4294967295,S=N+(j<<20&4294967295|j>>>12),j=C+(N^F&(S^N))+k[5]+3593408605&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^N&(C^S))+k[10]+38016083&4294967295,F=C+(j<<9&4294967295|j>>>23),j=N+(C^S&(F^C))+k[15]+3634488961&4294967295,N=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(N^F))+k[4]+3889429448&4294967295,S=N+(j<<20&4294967295|j>>>12),j=C+(N^F&(S^N))+k[9]+568446438&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^N&(C^S))+k[14]+3275163606&4294967295,F=C+(j<<9&4294967295|j>>>23),j=N+(C^S&(F^C))+k[3]+4107603335&4294967295,N=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(N^F))+k[8]+1163531501&4294967295,S=N+(j<<20&4294967295|j>>>12),j=C+(N^F&(S^N))+k[13]+2850285829&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^N&(C^S))+k[2]+4243563512&4294967295,F=C+(j<<9&4294967295|j>>>23),j=N+(C^S&(F^C))+k[7]+1735328473&4294967295,N=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(N^F))+k[12]+2368359562&4294967295,S=N+(j<<20&4294967295|j>>>12),j=C+(S^N^F)+k[5]+4294588738&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^N)+k[8]+2272392833&4294967295,F=C+(j<<11&4294967295|j>>>21),j=N+(F^C^S)+k[11]+1839030562&4294967295,N=F+(j<<16&4294967295|j>>>16),j=S+(N^F^C)+k[14]+4259657740&4294967295,S=N+(j<<23&4294967295|j>>>9),j=C+(S^N^F)+k[1]+2763975236&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^N)+k[4]+1272893353&4294967295,F=C+(j<<11&4294967295|j>>>21),j=N+(F^C^S)+k[7]+4139469664&4294967295,N=F+(j<<16&4294967295|j>>>16),j=S+(N^F^C)+k[10]+3200236656&4294967295,S=N+(j<<23&4294967295|j>>>9),j=C+(S^N^F)+k[13]+681279174&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^N)+k[0]+3936430074&4294967295,F=C+(j<<11&4294967295|j>>>21),j=N+(F^C^S)+k[3]+3572445317&4294967295,N=F+(j<<16&4294967295|j>>>16),j=S+(N^F^C)+k[6]+76029189&4294967295,S=N+(j<<23&4294967295|j>>>9),j=C+(S^N^F)+k[9]+3654602809&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^N)+k[12]+3873151461&4294967295,F=C+(j<<11&4294967295|j>>>21),j=N+(F^C^S)+k[15]+530742520&4294967295,N=F+(j<<16&4294967295|j>>>16),j=S+(N^F^C)+k[2]+3299628645&4294967295,S=N+(j<<23&4294967295|j>>>9),j=C+(N^(S|~F))+k[0]+4096336452&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~N))+k[7]+1126891415&4294967295,F=C+(j<<10&4294967295|j>>>22),j=N+(C^(F|~S))+k[14]+2878612391&4294967295,N=F+(j<<15&4294967295|j>>>17),j=S+(F^(N|~C))+k[5]+4237533241&4294967295,S=N+(j<<21&4294967295|j>>>11),j=C+(N^(S|~F))+k[12]+1700485571&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~N))+k[3]+2399980690&4294967295,F=C+(j<<10&4294967295|j>>>22),j=N+(C^(F|~S))+k[10]+4293915773&4294967295,N=F+(j<<15&4294967295|j>>>17),j=S+(F^(N|~C))+k[1]+2240044497&4294967295,S=N+(j<<21&4294967295|j>>>11),j=C+(N^(S|~F))+k[8]+1873313359&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~N))+k[15]+4264355552&4294967295,F=C+(j<<10&4294967295|j>>>22),j=N+(C^(F|~S))+k[6]+2734768916&4294967295,N=F+(j<<15&4294967295|j>>>17),j=S+(F^(N|~C))+k[13]+1309151649&4294967295,S=N+(j<<21&4294967295|j>>>11),j=C+(N^(S|~F))+k[4]+4149444226&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~N))+k[11]+3174756917&4294967295,F=C+(j<<10&4294967295|j>>>22),j=N+(C^(F|~S))+k[2]+718787259&4294967295,N=F+(j<<15&4294967295|j>>>17),j=S+(F^(N|~C))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+F&4294967295}n.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var S=C-this.blockSize,k=this.B,N=this.h,F=0;F<C;){if(N==0)for(;F<=S;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<C;)if(k[N++]=P.charCodeAt(F++),N==this.blockSize){i(this,k),N=0;break}}else for(;F<C;)if(k[N++]=P[F++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=C},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var S=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=S&255,S/=256;for(this.u(P),P=Array(16),C=S=0;4>C;++C)for(var k=0;32>k;k+=8)P[S++]=this.g[C]>>>k&255;return P};function a(P,C){var S=c;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=C(P)}function l(P,C){this.h=C;for(var S=[],k=!0,N=P.length-1;0<=N;N--){var F=P[N]|0;k&&F==C||(S[N]=F,k=!1)}this.g=S}var c={};function d(P){return-128<=P&&128>P?a(P,function(C){return new l([C|0],0>C?-1:0)}):new l([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return x(f(-P));for(var C=[],S=1,k=0;P>=S;k++)C[k]=P/S|0,S*=4294967296;return new l(C,0)}function p(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return x(p(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=f(Math.pow(C,8)),k=g,N=0;N<P.length;N+=8){var F=Math.min(8,P.length-N),j=parseInt(P.substring(N,N+F),C);8>F?(F=f(Math.pow(C,F)),k=k.j(F).add(f(j))):(k=k.j(S),k=k.add(f(j)))}return k}var g=d(0),v=d(1),b=d(16777216);r=l.prototype,r.m=function(){if(M(this))return-x(this).m();for(var P=0,C=1,S=0;S<this.g.length;S++){var k=this.i(S);P+=(0<=k?k:4294967296+k)*C,C*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(M(this))return"-"+x(this).toString(P);for(var C=f(Math.pow(P,6)),S=this,k="";;){var N=H(S,C).g;S=L(S,N.j(C));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=N,E(S))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function M(P){return P.h==-1}r.l=function(P){return P=L(this,P),M(P)?-1:E(P)?0:1};function x(P){for(var C=P.g.length,S=[],k=0;k<C;k++)S[k]=~P.g[k];return new l(S,~P.h).add(v)}r.abs=function(){return M(this)?x(this):this},r.add=function(P){for(var C=Math.max(this.g.length,P.g.length),S=[],k=0,N=0;N<=C;N++){var F=k+(this.i(N)&65535)+(P.i(N)&65535),j=(F>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);k=j>>>16,F&=65535,j&=65535,S[N]=j<<16|F}return new l(S,S[S.length-1]&-2147483648?-1:0)};function L(P,C){return P.add(x(C))}r.j=function(P){if(E(this)||E(P))return g;if(M(this))return M(P)?x(this).j(x(P)):x(x(this).j(P));if(M(P))return x(this.j(x(P)));if(0>this.l(b)&&0>P.l(b))return f(this.m()*P.m());for(var C=this.g.length+P.g.length,S=[],k=0;k<2*C;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<P.g.length;N++){var F=this.i(k)>>>16,j=this.i(k)&65535,X=P.i(N)>>>16,J=P.i(N)&65535;S[2*k+2*N]+=j*J,$(S,2*k+2*N),S[2*k+2*N+1]+=F*J,$(S,2*k+2*N+1),S[2*k+2*N+1]+=j*X,$(S,2*k+2*N+1),S[2*k+2*N+2]+=F*X,$(S,2*k+2*N+2)}for(k=0;k<C;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=C;k<2*C;k++)S[k]=0;return new l(S,0)};function $(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function Y(P,C){this.g=P,this.h=C}function H(P,C){if(E(C))throw Error("division by zero");if(E(P))return new Y(g,g);if(M(P))return C=H(x(P),C),new Y(x(C.g),x(C.h));if(M(C))return C=H(P,x(C)),new Y(x(C.g),C.h);if(30<P.g.length){if(M(P)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var S=v,k=C;0>=k.l(P);)S=G(S),k=G(k);var N=q(S,1),F=q(k,1);for(k=q(k,2),S=q(S,2);!E(k);){var j=F.add(k);0>=j.l(P)&&(N=N.add(S),F=j),k=q(k,1),S=q(S,1)}return C=L(P,N.j(C)),new Y(N,C)}for(N=g;0<=P.l(C);){for(S=Math.max(1,Math.floor(P.m()/C.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=f(S),j=F.j(C);M(j)||0<j.l(P);)S-=k,F=f(S),j=F.j(C);E(F)&&(F=v),N=N.add(F),P=L(P,j)}return new Y(N,P)}r.A=function(P){return H(this,P).h},r.and=function(P){for(var C=Math.max(this.g.length,P.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)&P.i(k);return new l(S,this.h&P.h)},r.or=function(P){for(var C=Math.max(this.g.length,P.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)|P.i(k);return new l(S,this.h|P.h)},r.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)^P.i(k);return new l(S,this.h^P.h)};function G(P){for(var C=P.g.length+1,S=[],k=0;k<C;k++)S[k]=P.i(k)<<1|P.i(k-1)>>>31;return new l(S,P.h)}function q(P,C){var S=C>>5;C%=32;for(var k=P.g.length-S,N=[],F=0;F<k;F++)N[F]=0<C?P.i(F+S)>>>C|P.i(F+S+1)<<32-C:P.i(F+S);return new l(N,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Tx=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Bl=l}).apply(typeof Z1<"u"?Z1:typeof self<"u"?self:typeof window<"u"?window:{});var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sx,lf,Cx,Im,O_,Ax,xx,Dx;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,I){return m==Array.prototype||m==Object.prototype||(m[A]=I.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof hm=="object"&&hm];for(var A=0;A<m.length;++A){var I=m[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=t(this);function i(m,A){if(A)e:{var I=n;m=m.split(".");for(var K=0;K<m.length-1;K++){var fe=m[K];if(!(fe in I))break e;I=I[fe]}m=m[m.length-1],K=I[m],A=A(K),A!=K&&A!=null&&e(I,m,{configurable:!0,writable:!0,value:A})}}function a(m,A){m instanceof String&&(m+="");var I=0,K=!1,fe={next:function(){if(!K&&I<m.length){var _e=I++;return{value:A(_e,m[_e]),done:!1}}return K=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(m){return m||function(){return a(this,function(A,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function f(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function p(m,A,I){return m.call.apply(m.bind,arguments)}function g(m,A,I){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,K),m.apply(A,fe)}}return function(){return m.apply(A,arguments)}}function v(m,A,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function b(m,A){var I=Array.prototype.slice.call(arguments,1);return function(){var K=I.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function E(m,A){function I(){}I.prototype=A.prototype,m.aa=A.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(K,fe,_e){for(var Oe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Oe[Pt-2]=arguments[Pt];return A.prototype[fe].apply(K,Oe)}}function M(m){const A=m.length;if(0<A){const I=Array(A);for(let K=0;K<A;K++)I[K]=m[K];return I}return[]}function x(m,A){for(let I=1;I<arguments.length;I++){const K=arguments[I];if(d(K)){const fe=m.length||0,_e=K.length||0;m.length=fe+_e;for(let Oe=0;Oe<_e;Oe++)m[fe+Oe]=K[Oe]}else m.push(K)}}class L{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function $(m){return/^[\s\xa0]*$/.test(m)}function Y(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function H(m){return H[" "](m),m}H[" "]=function(){};var G=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function q(m,A,I){for(const K in m)A.call(I,m[K],K,m)}function P(m,A){for(const I in m)A.call(void 0,m[I],I,m)}function C(m){const A={};for(const I in m)A[I]=m[I];return A}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,A){let I,K;for(let fe=1;fe<arguments.length;fe++){K=arguments[fe];for(I in K)m[I]=K[I];for(let _e=0;_e<S.length;_e++)I=S[_e],Object.prototype.hasOwnProperty.call(K,I)&&(m[I]=K[I])}}function N(m){var A=1;m=m.split(":");const I=[];for(;0<A&&m.length;)I.push(m.shift()),A--;return m.length&&I.push(m.join(":")),I}function F(m){c.setTimeout(()=>{throw m},0)}function j(){var m=ne;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class X{constructor(){this.h=this.g=null}add(A,I){const K=J.get();K.set(A,I),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new L(()=>new U,m=>m.reset());class U{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,ee=!1,ne=new X,O=()=>{const m=c.Promise.resolve(void 0);B=()=>{m.then(re)}};var re=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(I){F(I)}var A=J;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}ee=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};c.addEventListener("test",I,A),c.removeEventListener("test",I,A)}catch{}return m}();function Z(m,A){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(G){e:{try{H(A.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(A=null)}}else I=="mouseover"?A=m.fromElement:I=="mouseout"&&(A=m.toElement);this.relatedTarget=A,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:we[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Z.aa.h.call(this)}}E(Z,se);var we={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ie=0;function xe(m,A,I,K,fe){this.listener=m,this.proxy=null,this.src=A,this.type=I,this.capture=!!K,this.ha=fe,this.key=++ie,this.da=this.fa=!1}function ke(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Pe(m){this.src=m,this.g={},this.h=0}Pe.prototype.add=function(m,A,I,K,fe){var _e=m.toString();m=this.g[_e],m||(m=this.g[_e]=[],this.h++);var Oe=Se(m,A,K,fe);return-1<Oe?(A=m[Oe],I||(A.fa=!1)):(A=new xe(A,this.src,_e,!!K,fe),A.fa=I,m.push(A)),A};function he(m,A){var I=A.type;if(I in m.g){var K=m.g[I],fe=Array.prototype.indexOf.call(K,A,void 0),_e;(_e=0<=fe)&&Array.prototype.splice.call(K,fe,1),_e&&(ke(A),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Se(m,A,I,K){for(var fe=0;fe<m.length;++fe){var _e=m[fe];if(!_e.da&&_e.listener==A&&_e.capture==!!I&&_e.ha==K)return fe}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Le={};function Fe(m,A,I,K,fe){if(Array.isArray(A)){for(var _e=0;_e<A.length;_e++)Fe(m,A[_e],I,K,fe);return null}return I=on(I),m&&m[Ue]?m.K(A,I,f(K)?!!K.capture:!1,fe):$e(m,A,I,!1,K,fe)}function $e(m,A,I,K,fe,_e){if(!A)throw Error("Invalid event type");var Oe=f(fe)?!!fe.capture:!!fe,Pt=vt(m);if(Pt||(m[Ne]=Pt=new Pe(m)),I=Pt.add(A,I,K,Oe,_e),I.proxy)return I;if(K=tt(),I.proxy=K,K.src=m,K.listener=I,m.addEventListener)ue||(fe=Oe),fe===void 0&&(fe=!1),m.addEventListener(A.toString(),K,fe);else if(m.attachEvent)m.attachEvent(Qe(A.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return I}function tt(){function m(I){return A.call(m.src,m.listener,I)}const A=zt;return m}function Et(m,A,I,K,fe){if(Array.isArray(A))for(var _e=0;_e<A.length;_e++)Et(m,A[_e],I,K,fe);else K=f(K)?!!K.capture:!!K,I=on(I),m&&m[Ue]?(m=m.i,A=String(A).toString(),A in m.g&&(_e=m.g[A],I=Se(_e,I,K,fe),-1<I&&(ke(_e[I]),Array.prototype.splice.call(_e,I,1),_e.length==0&&(delete m.g[A],m.h--)))):m&&(m=vt(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Se(A,I,K,fe)),(I=-1<m?A[m]:null)&&Ft(I))}function Ft(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[Ue])he(A.i,m);else{var I=m.type,K=m.proxy;A.removeEventListener?A.removeEventListener(I,K,m.capture):A.detachEvent?A.detachEvent(Qe(I),K):A.addListener&&A.removeListener&&A.removeListener(K),(I=vt(A))?(he(I,m),I.h==0&&(I.src=null,A[Ne]=null)):ke(m)}}}function Qe(m){return m in Le?Le[m]:Le[m]="on"+m}function zt(m,A){if(m.da)m=!0;else{A=new Z(A,this);var I=m.listener,K=m.ha||m.src;m.fa&&Ft(m),m=I.call(K,A)}return m}function vt(m){return m=m[Ne],m instanceof Pe?m:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(m){return typeof m=="function"?m:(m[Tt]||(m[Tt]=function(A){return m.handleEvent(A)}),m[Tt])}function Dt(){oe.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(Dt,oe),Dt.prototype[Ue]=!0,Dt.prototype.removeEventListener=function(m,A,I,K){Et(this,m,A,I,K)};function ct(m,A){var I,K=m.F;if(K)for(I=[];K;K=K.F)I.push(K);if(m=m.M,K=A.type||A,typeof A=="string")A=new se(A,m);else if(A instanceof se)A.target=A.target||m;else{var fe=A;A=new se(K,m),k(A,fe)}if(fe=!0,I)for(var _e=I.length-1;0<=_e;_e--){var Oe=A.g=I[_e];fe=wt(Oe,K,!0,A)&&fe}if(Oe=A.g=m,fe=wt(Oe,K,!0,A)&&fe,fe=wt(Oe,K,!1,A)&&fe,I)for(_e=0;_e<I.length;_e++)Oe=A.g=I[_e],fe=wt(Oe,K,!1,A)&&fe}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var I=m.g[A],K=0;K<I.length;K++)ke(I[K]);delete m.g[A],m.h--}}this.F=null},Dt.prototype.K=function(m,A,I,K){return this.i.add(String(m),A,!1,I,K)},Dt.prototype.L=function(m,A,I,K){return this.i.add(String(m),A,!0,I,K)};function wt(m,A,I,K){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var fe=!0,_e=0;_e<A.length;++_e){var Oe=A[_e];if(Oe&&!Oe.da&&Oe.capture==I){var Pt=Oe.listener,lr=Oe.ha||Oe.src;Oe.fa&&he(m.i,Oe),fe=Pt.call(lr,K)!==!1&&fe}}return fe&&!K.defaultPrevented}function It(m,A,I){if(typeof m=="function")I&&(m=v(m,I));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:c.setTimeout(m,A||0)}function yn(m){m.g=It(()=>{m.g=null,m.i&&(m.i=!1,yn(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Wn extends oe{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(m){oe.call(this),this.h=m,this.g={}}E(En,oe);var Nn=[];function zn(m){q(m.g,function(A,I){this.g.hasOwnProperty(I)&&Ft(A)},m),m.g={}}En.prototype.N=function(){En.aa.N.call(this),zn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=c.JSON.stringify,hi=c.JSON.parse,ei=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Di(){}Di.prototype.h=null;function ti(m){return m.h||(m.h=m.i())}function vr(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){se.call(this,"d")}E(Un,se);function sr(){se.call(this,"c")}E(sr,se);var Qn={},Sr=null;function ni(){return Sr=Sr||new Dt}Qn.La="serverreachability";function Cn(m){se.call(this,Qn.La,m)}E(Cn,se);function Rn(m){const A=ni();ct(A,new Cn(A))}Qn.STAT_EVENT="statevent";function Vo(m,A){se.call(this,Qn.STAT_EVENT,m),this.stat=A}E(Vo,se);function Jt(m){const A=ni();ct(A,new Vo(A,m))}Qn.Ma="timingevent";function Ge(m,A){se.call(this,Qn.Ma,m),this.size=A}E(Ge,se);function Kn(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},A)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function qa(m,A,I,K,fe,_e){m.info(function(){if(m.g)if(_e)for(var Oe="",Pt=_e.split("&"),lr=0;lr<Pt.length;lr++){var Nt=Pt[lr].split("=");if(1<Nt.length){var ln=Nt[0];Nt=Nt[1];var Zn=ln.split("_");Oe=2<=Zn.length&&Zn[1]=="type"?Oe+(ln+"="+Nt+"&"):Oe+(ln+"=redacted&")}}else Oe=null;else Oe=_e;return"XMLHTTP REQ ("+K+") [attempt "+fe+"]: "+A+`
`+I+`
`+Oe})}function la(m,A,I,K,fe,_e,Oe){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+fe+"]: "+A+`
`+I+`
`+_e+" "+Oe})}function Wi(m,A,I,K){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+Ps(m,I)+(K?" "+K:"")})}function sc(m,A){m.info(function(){return"TIMEOUT: "+A})}Ri.prototype.info=function(){};function Ps(m,A){if(!m.g)return A;if(!A)return null;try{var I=JSON.parse(A);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var K=I[m];if(!(2>K.length)){var fe=K[1];if(Array.isArray(fe)&&!(1>fe.length)){var _e=fe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Oe=1;Oe<fe.length;Oe++)fe[Oe]=""}}}}return Sn(I)}catch{return A}}var ua={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function An(){}E(An,Di),An.prototype.g=function(){return new XMLHttpRequest},An.prototype.i=function(){return{}},Vr=new An;function dn(m,A,I,K){this.j=m,this.i=A,this.l=I,this.R=K||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var ar={},Us={};function Cr(m,A,I){m.L=1,m.v=zs(zr(A)),m.m=I,m.P=!0,Br(m,null)}function Br(m,A){m.F=Date.now(),Vs(m),m.A=zr(m.v);var I=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),qo(I.i,"t",K),m.C=0,I=m.j.J,m.h=new Vt,m.g=pc(m.j,I?A:null,!m.m),0<m.O&&(m.M=new Wn(v(m.Y,m,m.g),m.O)),A=m.U,I=m.g,K=m.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Nn[0]=fe.toString()),fe=Nn);for(var _e=0;_e<fe.length;_e++){var Oe=Fe(I,fe[_e],K||A.handleEvent,!1,A.h||A);if(!Oe)break;A.g[Oe.key]=Oe}A=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),Rn(),qa(m.i,m.u,m.A,m.l,m.R,m.m)}dn.prototype.ca=function(m){m=m.target;const A=this.M;A&&_i(m)==3?A.j():this.Y(m)},dn.prototype.Y=function(m){try{if(m==this.g)e:{const Zn=_i(this.g);var A=this.g.Ba();const vs=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Zn!=4||A==7||(A==8||0>=vs?Rn(3):Rn(2)),Fs(this);var I=this.g.Z();this.X=I;t:if(js(this)){var K=lu(this.g);m="";var fe=K.length,_e=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),Mi(this);var Oe="";break t}this.h.i=new c.TextDecoder}for(A=0;A<fe;A++)this.h.h=!0,m+=this.h.i.decode(K[A],{stream:!(_e&&A==fe-1)});K.length=0,this.h.g+=m,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=I==200,la(this.i,this.u,this.A,this.l,this.R,Zn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,lr=this.g;if((Pt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pt)){var Nt=Pt;break t}}Nt=null}if(I=Nt)Wi(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,I);else{this.o=!1,this.s=3,Jt(12),or(this),Mi(this);break e}}if(this.P){I=!0;let fr;for(;!this.J&&this.C<Oe.length;)if(fr=su(this,Oe),fr==Us){Zn==4&&(this.s=4,Jt(14),I=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==ar){this.s=4,Jt(15),Wi(this.i,this.l,Oe,"[Invalid Chunk]"),I=!1;break}else Wi(this.i,this.l,fr,null),ca(this,fr);if(js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||Oe.length!=0||this.h.h||(this.s=1,Jt(16),I=!1),this.o=this.o&&I,!I)Wi(this.i,this.l,Oe,"[Invalid Chunked Response]"),or(this),Mi(this);else if(0<Oe.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),fa(ln),ln.M=!0,Jt(11))}}else Wi(this.i,this.l,Oe,null),ca(this,Oe);Zn==4&&or(this),this.o&&!this.J&&(Zn==4?Wo(this.j,this):(this.o=!1,Vs(this)))}else oc(this.g),I==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),or(this),Mi(this)}}}catch{}finally{}};function js(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function su(m,A){var I=m.C,K=A.indexOf(`
`,I);return K==-1?Us:(I=Number(A.substring(I,K)),isNaN(I)?ar:(K+=1,K+I>A.length?Us:(A=A.slice(K,K+I),m.C=K+I,A)))}dn.prototype.cancel=function(){this.J=!0,or(this)};function Vs(m){m.S=Date.now()+m.I,Bs(m,m.I)}function Bs(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Kn(v(m.ba,m),A)}function Fs(m){m.B&&(c.clearTimeout(m.B),m.B=null)}dn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(sc(this.i,this.A),this.L!=2&&(Rn(),Jt(17)),or(this),this.s=2,Mi(this)):Bs(this,this.S-m)};function Mi(m){m.j.G==0||m.J||Wo(m.j,m)}function or(m){Fs(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,zn(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function ca(m,A){try{var I=m.j;if(I.G!=0&&(I.g==m||Bo(I.h,m))){if(!m.K&&Bo(I.h,m)&&I.G==3){try{var K=I.Da.g.parse(A)}catch{K=null}if(Array.isArray(K)&&K.length==3){var fe=K;if(fe[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)Ii(I),to(I);else break e;no(I),Jt(18)}}else I.za=fe[1],0<I.za-I.T&&37500>fe[2]&&I.F&&I.v==0&&!I.C&&(I.C=Kn(v(I.Za,I),6e3));if(1>=$a(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else gs(I,11)}else if((m.K||I.g==m)&&Ii(I),!$(A))for(fe=I.Da.g.parse(A),A=0;A<fe.length;A++){let Nt=fe[A];if(I.T=Nt[0],Nt=Nt[1],I.G==2)if(Nt[0]=="c"){I.K=Nt[1],I.ia=Nt[2];const ln=Nt[3];ln!=null&&(I.la=ln,I.j.info("VER="+I.la));const Zn=Nt[4];Zn!=null&&(I.Aa=Zn,I.j.info("SVER="+I.Aa));const vs=Nt[5];vs!=null&&typeof vs=="number"&&0<vs&&(K=1.5*vs,I.L=K,I.j.info("backChannelRequestTimeoutMs_="+K)),K=I;const fr=m.g;if(fr){const ys=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var _e=K.h;_e.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Ga(_e,_e.h),_e.h=null))}if(K.D){const du=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(K.ya=du,Bt(K.I,K.D,du))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),K=I;var Oe=m;if(K.qa=fc(K,K.J?K.ia:null,K.W),Oe.K){Ar(K.h,Oe);var Pt=Oe,lr=K.L;lr&&(Pt.I=lr),Pt.B&&(Fs(Pt),Vs(Pt)),K.g=Oe}else dc(K);0<I.i.length&&$o(I)}else Nt[0]!="stop"&&Nt[0]!="close"||gs(I,7);else I.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?gs(I,7):eo(I):Nt[0]!="noop"&&I.l&&I.l.ta(Nt),I.v=0)}}Rn(4)}catch{}}var au=class{constructor(m,A){this.g=m,this.map=A}};function cs(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ya(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $a(m){return m.h?1:m.g?m.g.size:0}function Bo(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Ga(m,A){m.g?m.g.add(A):m.h=A}function Ar(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}cs.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Fo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const I of m.g.values())A=A.concat(I.D);return A}return M(m.i)}function ac(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var A=[],I=m.length,K=0;K<I;K++)A.push(m[K]);return A}A=[],I=0;for(K in m)A[I++]=m[K];return A}function Fr(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var A=[];m=m.length;for(var I=0;I<m;I++)A.push(I);return A}A=[],I=0;for(const K in m)A[I++]=K;return A}}}function yr(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var I=Fr(m),K=ac(m),fe=K.length,_e=0;_e<fe;_e++)A.call(void 0,K[_e],I&&I[_e],m)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ri(m,A){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var K=m[I].indexOf("="),fe=null;if(0<=K){var _e=m[I].substring(0,K);fe=m[I].substring(K+1)}else _e=m[I];A(_e,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function jn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof jn){this.h=m.h,xr(this,m.j),this.o=m.o,this.g=m.g,ii(this,m.s),this.l=m.l;var A=m.i,I=new hs;I.i=A.i,A.g&&(I.g=new Map(A.g),I.h=A.h),ki(this,I),this.m=m.m}else m&&(A=String(m).match(fi))?(this.h=!1,xr(this,A[1]||"",!0),this.o=pi(A[2]||""),this.g=pi(A[3]||"",!0),ii(this,A[4]),this.l=pi(A[5]||"",!0),ki(this,A[6]||"",!0),this.m=pi(A[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}jn.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Li(A,Ho,!0),":");var I=this.g;return(I||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Li(A,Ho,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Li(I,I.charAt(0)=="/"?qd:mi,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Li(I,Hs)),m.join("")};function zr(m){return new jn(m)}function xr(m,A,I){m.j=I?pi(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function ii(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function ki(m,A,I){A instanceof hs?(m.i=A,ou(m.i,m.h)):(I||(A=Li(A,ds)),m.i=new hs(A,m.h))}function Bt(m,A,I){m.i.set(A,I)}function zs(m){return Bt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function pi(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Li(m,A,I){return typeof m=="string"?(m=encodeURI(m).replace(A,zo),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zo(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ho=/[#\/\?@]/g,mi=/[#\?:]/g,qd=/[#\?]/g,ds=/[#\?@]/g,Hs=/#/g;function hs(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Dr(m){m.g||(m.g=new Map,m.h=0,m.i&&ri(m.i,function(A,I){m.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}r=hs.prototype,r.add=function(m,A){Dr(this),this.i=null,m=Ki(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(A),this.h+=1,this};function Qi(m,A){Dr(m),A=Ki(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function gi(m,A){return Dr(m),A=Ki(m,A),m.g.has(A)}r.forEach=function(m,A){Dr(this),this.g.forEach(function(I,K){I.forEach(function(fe){m.call(A,fe,K,this)},this)},this)},r.na=function(){Dr(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),I=[];for(let K=0;K<A.length;K++){const fe=m[K];for(let _e=0;_e<fe.length;_e++)I.push(A[K])}return I},r.V=function(m){Dr(this);let A=[];if(typeof m=="string")gi(this,m)&&(A=A.concat(this.g.get(Ki(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)A=A.concat(m[I])}return A},r.set=function(m,A){return Dr(this),this.i=null,m=Ki(this,m),gi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},r.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function qo(m,A,I){Qi(m,A),0<I.length&&(m.i=null,m.g.set(Ki(m,A),M(I)),m.h+=I.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var I=0;I<A.length;I++){var K=A[I];const _e=encodeURIComponent(String(K)),Oe=this.V(K);for(K=0;K<Oe.length;K++){var fe=_e;Oe[K]!==""&&(fe+="="+encodeURIComponent(String(Oe[K]))),m.push(fe)}}return this.i=m.join("&")};function Ki(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function ou(m,A){A&&!m.j&&(Dr(m),m.i=null,m.g.forEach(function(I,K){var fe=K.toLowerCase();K!=fe&&(Qi(this,K),qo(this,fe,I))},m)),m.j=A}function Oi(m,A){const I=new Ri;if(c.Image){const K=new Image;K.onload=b(vi,I,"TestLoadImage: loaded",!0,A,K),K.onerror=b(vi,I,"TestLoadImage: error",!1,A,K),K.onabort=b(vi,I,"TestLoadImage: abort",!1,A,K),K.ontimeout=b(vi,I,"TestLoadImage: timeout",!1,A,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else A(!1)}function Xi(m,A){const I=new Ri,K=new AbortController,fe=setTimeout(()=>{K.abort(),vi(I,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:K.signal}).then(_e=>{clearTimeout(fe),_e.ok?vi(I,"TestPingServer: ok",!0,A):vi(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(fe),vi(I,"TestPingServer: error",!1,A)})}function vi(m,A,I,K,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),K(I)}catch{}}function qs(){this.g=new ei}function yi(m,A,I){const K=I||"";try{yr(m,function(fe,_e){let Oe=fe;f(fe)&&(Oe=Sn(fe)),A.push(K+_e+"="+encodeURIComponent(Oe))})}catch(fe){throw A.push(K+"type="+encodeURIComponent("_badmap")),fe}}function fs(m){this.l=m.Ub||null,this.j=m.eb||!1}E(fs,Di),fs.prototype.g=function(){return new Ys(this.l,this.j)},fs.prototype.i=function(m){return function(){return m}}({});function Ys(m,A){Dt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ys,Dt),r=Ys.prototype,r.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Zi(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||c).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?ps(this):Zi(this),this.readyState==3&&da(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,ps(this))},r.Qa=function(m){this.g&&(this.response=m,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Zi(m)}r.setRequestHeader=function(m,A){this.u.append(m,A)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=A.next();return m.join(`\r
`)};function Zi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Wa(m){let A="";return q(m,function(I,K){A+=K,A+=":",A+=I,A+=`\r
`}),A}function Xn(m,A,I){e:{for(K in I){var K=!1;break e}K=!0}K||(I=Wa(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):Bt(m,A,I))}function Ht(m){Dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ht,Dt);var Qa=/^https?$/i,Ji=["POST","PUT"];r=Ht.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,A,I,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?ti(this.o):ti(Vr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(_e){Yo(this,_e);return}if(m=I||"",I=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var fe in K)I.set(fe,K[fe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const _e of K.keys())I.set(_e,K.get(_e));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(I.keys()).find(_e=>_e.toLowerCase()=="content-type"),fe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ji,A,void 0))||K||fe||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Oe]of I)this.g.setRequestHeader(_e,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Za(this),this.u=!0,this.g.send(m),this.u=!1}catch(_e){Yo(this,_e)}};function Yo(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,Ka(m),Hr(m)}function Ka(m){m.A||(m.A=!0,ct(m,"complete"),ct(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ct(this,"complete"),ct(this,"abort"),Hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},r.bb=function(){Xa(this)};function Xa(m){if(m.h&&typeof l<"u"&&(!m.v[1]||_i(m)!=4||m.Z()!=2)){if(m.u&&_i(m)==4)It(m.Ea,0,m);else if(ct(m,"readystatechange"),_i(m)==4){m.h=!1;try{const Oe=m.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var K;if(K=Oe===0){var fe=String(m.D).match(fi)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),K=!Qa.test(fe?fe.toLowerCase():"")}I=K}if(I)ct(m,"complete"),ct(m,"success");else{m.m=6;try{var _e=2<_i(m)?m.g.statusText:""}catch{_e=""}m.l=_e+" ["+m.Z()+"]",Ka(m)}}finally{Hr(m)}}}}function Hr(m,A){if(m.g){Za(m);const I=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||ct(m,"ready");try{I.onreadystatechange=K}catch{}}}function Za(m){m.I&&(c.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function _i(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),hi(A)}};function lu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(m){const A={};m=(m.g&&2<=_i(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if($(m[K]))continue;var I=N(m[K]);const fe=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const _e=A[fe]||[];A[fe]=_e,_e.push(I)}P(A,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(m,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||A}function Ja(m){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,m),this.cb=ha("retryDelaySeedMs",1e4,m),this.Wa=ha("forwardChannelMaxRetries",2,m),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(m&&m.concurrentRequestLimit),this.Da=new qs,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ja.prototype,r.la=8,r.G=1,r.connect=function(m,A,I,K){Jt(0),this.W=m,this.H=A||{},I&&K!==void 0&&(this.H.OSID=I,this.H.OAID=K),this.F=this.X,this.I=fc(this,null,this.W),$o(this)};function eo(m){if(lc(m),m.G==3){var A=m.U++,I=zr(m.I);if(Bt(I,"SID",m.K),Bt(I,"RID",A),Bt(I,"TYPE","terminate"),ms(m,I),A=new dn(m,m.j,A),A.L=2,A.v=zs(zr(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(A.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=A.v,I=!0),I||(A.g=pc(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Vs(A)}hc(m)}function to(m){m.g&&(fa(m),m.g.cancel(),m.g=null)}function lc(m){to(m),m.u&&(c.clearTimeout(m.u),m.u=null),Ii(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function $o(m){if(!Ya(m.h)&&!m.s){m.s=!0;var A=m.Ga;B||O(),ee||(B(),ee=!0),ne.add(A,m),m.B=0}}function uc(m,A){return $a(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Kn(v(m.Ga,m,A),cu(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const fe=new dn(this,this.j,m);let _e=this.o;if(this.S&&(_e?(_e=C(_e),k(_e,this.S)):_e=this.S),this.m!==null||this.O||(fe.H=_e,_e=null),this.P)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var K=this.i[I];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(A+=K,4096<A){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=cc(this,fe,A),I=zr(this.I),Bt(I,"RID",m),Bt(I,"CVER",22),this.D&&Bt(I,"X-HTTP-Session-Id",this.D),ms(this,I),_e&&(this.O?A="headers="+encodeURIComponent(String(Wa(_e)))+"&"+A:this.m&&Xn(I,this.m,_e)),Ga(this.h,fe),this.Ua&&Bt(I,"TYPE","init"),this.P?(Bt(I,"$req",A),Bt(I,"SID","null"),fe.T=!0,Cr(fe,I,null)):Cr(fe,I,A),this.G=2}}else this.G==3&&(m?Go(this,m):this.i.length==0||Ya(this.h)||Go(this))};function Go(m,A){var I;A?I=A.l:I=m.U++;const K=zr(m.I);Bt(K,"SID",m.K),Bt(K,"RID",I),Bt(K,"AID",m.T),ms(m,K),m.m&&m.o&&Xn(K,m.m,m.o),I=new dn(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),A&&(m.i=A.D.concat(m.i)),A=cc(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ga(m.h,I),Cr(I,K,A)}function ms(m,A){m.H&&q(m.H,function(I,K){Bt(A,K,I)}),m.l&&yr({},function(I,K){Bt(A,K,I)})}function cc(m,A,I){I=Math.min(m.i.length,I);var K=m.l?v(m.l.Na,m.l,m):null;e:{var fe=m.i;let _e=-1;for(;;){const Oe=["count="+I];_e==-1?0<I?(_e=fe[0].g,Oe.push("ofs="+_e)):_e=0:Oe.push("ofs="+_e);let Pt=!0;for(let lr=0;lr<I;lr++){let Nt=fe[lr].g;const ln=fe[lr].map;if(Nt-=_e,0>Nt)_e=Math.max(0,fe[lr].g-100),Pt=!1;else try{yi(ln,Oe,"req"+Nt+"_")}catch{K&&K(ln)}}if(Pt){K=Oe.join("&");break e}}}return m=m.i.splice(0,I),A.D=m,K}function dc(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;B||O(),ee||(B(),ee=!0),ne.add(A,m),m.v=0}}function no(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Kn(v(m.Fa,m),cu(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Kn(v(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),to(this),uu(this))};function fa(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function uu(m){m.g=new dn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=zr(m.qa);Bt(A,"RID","rpc"),Bt(A,"SID",m.K),Bt(A,"AID",m.T),Bt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&Bt(A,"TO",m.ja),Bt(A,"TYPE","xmlhttp"),ms(m,A),m.m&&m.o&&Xn(A,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=zs(zr(A)),I.m=null,I.P=!0,Br(I,m)}r.Za=function(){this.C!=null&&(this.C=null,to(this),no(this),Jt(19))};function Ii(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Wo(m,A){var I=null;if(m.g==A){Ii(m),fa(m),m.g=null;var K=2}else if(Bo(m.h,A))I=A.D,Ar(m.h,A),K=1;else return;if(m.G!=0){if(A.o)if(K==1){I=A.m?A.m.length:0,A=Date.now()-A.F;var fe=m.B;K=ni(),ct(K,new Ge(K,I)),$o(m)}else dc(m);else if(fe=A.s,fe==3||fe==0&&0<A.X||!(K==1&&uc(m,A)||K==2&&no(m)))switch(I&&0<I.length&&(A=m.h,A.i=A.i.concat(I)),fe){case 1:gs(m,5);break;case 4:gs(m,10);break;case 3:gs(m,6);break;default:gs(m,2)}}}function cu(m,A){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*A}function gs(m,A){if(m.j.info("Error code "+A),A==2){var I=v(m.fb,m),K=m.Xa;const fe=!K;K=new jn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xr(K,"https"),zs(K),fe?Oi(K.toString(),I):Xi(K.toString(),I)}else Jt(2);m.G=0,m.l&&m.l.sa(A),hc(m),lc(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function hc(m){if(m.G=0,m.ka=[],m.l){const A=Fo(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,M(m.i),m.i.length=0),m.l.ra()}}function fc(m,A,I){var K=I instanceof jn?zr(I):new jn(I);if(K.g!="")A&&(K.g=A+"."+K.g),ii(K,K.s);else{var fe=c.location;K=fe.protocol,A=A?A+"."+fe.hostname:fe.hostname,fe=+fe.port;var _e=new jn(null);K&&xr(_e,K),A&&(_e.g=A),fe&&ii(_e,fe),I&&(_e.l=I),K=_e}return I=m.D,A=m.ya,I&&A&&Bt(K,I,A),Bt(K,"VER",m.la),ms(m,K),K}function pc(m,A,I){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Ht(new fs({eb:I})):new Ht(m.pa),A.Ha(m.J),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ro(){}ro.prototype.g=function(m,A){return new Rr(m,A)};function Rr(m,A){Dt.call(this),this.g=new Ja(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!$(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!$(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Mr(this)}E(Rr,Dt),Rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){eo(this.g)},Rr.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=Sn(m),m=I);A.i.push(new au(A.Ya++,m)),A.G==3&&$o(A)},Rr.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Rr.aa.N.call(this)};function gc(m){Un.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const I in A){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}E(gc,Un);function $s(){sr.call(this),this.status=1}E($s,sr);function Mr(m){this.g=m}E(Mr,mc),Mr.prototype.ua=function(){ct(this.g,"a")},Mr.prototype.ta=function(m){ct(this.g,new gc(m))},Mr.prototype.sa=function(m){ct(this.g,new $s)},Mr.prototype.ra=function(){ct(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,Dx=function(){return new ro},xx=function(){return ni()},Ax=Qn,O_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Im=ua,Ns.COMPLETE="complete",Cx=Ns,vr.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,lf=vr,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Sx=Ht}).apply(typeof hm<"u"?hm:typeof self<"u"?self:typeof window<"u"?window:{});const J1="@firebase/firestore",eT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new b0("@firebase/firestore");function Jc(){return Yu.logLevel}function qe(r,...e){if(Yu.logLevel<=Ut.DEBUG){const t=e.map(L0);Yu.debug(`Firestore (${Nd}): ${r}`,...t)}}function Io(r,...e){if(Yu.logLevel<=Ut.ERROR){const t=e.map(L0);Yu.error(`Firestore (${Nd}): ${r}`,...t)}}function vd(r,...e){if(Yu.logLevel<=Ut.WARN){const t=e.map(L0);Yu.warn(`Firestore (${Nd}): ${r}`,...t)}}function L0(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(r="Unexpected state"){const e=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: `+r;throw Io(e),new Error(e)}function cn(r,e){r||ut()}function mt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends za{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class YN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){cn(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let a=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Co,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Co)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(cn(typeof n.accessToken=="string"),new Rx(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string"),new ui(e)}}class GN{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WN{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new GN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ls(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){cn(this.o===void 0);const n=a=>{a.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn(typeof t.token=="string"),this.R=t.token,new tT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=KN(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function St(r,e){return r<e?-1:r>e?1:0}function I_(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return St(n,i);{const a=Mx(),l=XN(a.encode(nT(r,t)),a.encode(nT(e,t)));return l!==0?l:St(n,i)}}t+=n>65535?2:1}return St(r.length,e.length)}function nT(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function XN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return St(r[t],e[t]);return St(r.length,e.length)}function yd(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=-62135596800,iT=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*iT);return new rr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rT)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static fromTimestamp(e){return new ht(e)}static min(){return new ht(new rr(0,0))}static max(){return new ht(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class Sa{constructor(e,t,n){t===void 0?t=0:t>e.length&&ut(),n===void 0?n=e.length-t:n>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Sa.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return St(e.length,t.length)}static compareSegments(e,t){const n=Sa.isNumericId(e),i=Sa.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Sa.extractNumericId(e).compare(Sa.extractNumericId(t)):I_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bl.fromString(e.substring(4,e.length-2))}}class On extends Sa{construct(e,t,n){return new On(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new On(t)}static emptyPath(){return new On([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Sa{construct(e,t,n){return new Xr(e,t,n)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Xr([sT])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ye(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ye(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new Ye(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(t)}static emptyPath(){return new Xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(On.fromString(e))}static fromName(e){return new Je(On.fromString(e).popFirst(5))}static empty(){return new Je(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function JN(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=ht.fromTimestamp(n===1e9?new rr(t+1,0):new rr(t,n));return new Yl(i,Je.empty(),e)}function e4(r){return new Yl(r.readTime,r.key,Af)}class Yl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Yl(ht.min(),Je.empty(),Af)}static max(){return new Yl(ht.max(),Je.empty(),Af)}}function t4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(r.documentKey,e.documentKey),t!==0?t:St(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(r){if(r.code!==Re.FAILED_PRECONDITION||r.message!==n4)throw r;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,n)=>{t(e)})}static reject(e){return new Me((t,n)=>{n(e)})}static waitFor(e){return new Me((t,n)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},d=>n(d))}),l=!0,a===i&&t()})}static or(e){let t=Me.resolve(!1);for(const n of e)t=t.next(i=>i?Me.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new Me((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(p=>{l[f]=p,++c,c===a&&n(l)},p=>i(p))}})}static doWhile(e,t){return new Me((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function i4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jd(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function Jg(r){return r==null}function rg(r){return r===0&&1/r==-1/0}function s4(r){return typeof r=="number"&&Number.isInteger(r)&&!rg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="";function a4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=aT(e)),e=o4(r.get(t),e);return aT(e)}function o4(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case Lx:t+="";break;default:t+=a}}return t}function aT(r){return r+Lx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function nu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ox(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fm(this.root,e,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fm(this.root,e,this.comparator,!0)}}class fm{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??Kr.RED,this.left=i??Kr.EMPTY,this.right=a??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new Kr(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(e,t,n,i,a){return this}insert(e,t,n){return new Kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new ls([])}unionWith(e){let t=new Er(Xr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yd(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ix("Invalid base64 string: "+a):a}}(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const l4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $l(r){if(cn(!!r),typeof r=="string"){let e=0;const t=l4.exec(r);if(cn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:cr(r.seconds),nanos:cr(r.nanos)}}function cr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gl(r){return typeof r=="string"?Jr.fromBase64String(r):Jr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="server_timestamp",Nx="__type__",Ux="__previous_value__",jx="__local_write_time__";function I0(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nx])===null||t===void 0?void 0:t.stringValue)===Px}function ev(r){const e=r.mapValue.fields[Ux];return I0(e)?ev(e):e}function xf(r){const e=$l(r.mapValue.fields[jx].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,n,i,a,l,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}const ig="(default)";class Df{constructor(e,t){this.projectId=e,this.database=t||ig}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===ig}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__type__",c4="__max__",pm={mapValue:{}},Bx="__vector__",sg="value";function Wl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?I0(r)?4:h4(r)?9007199254740991:d4(r)?10:11:ut()}function Ba(r,e){if(r===e)return!0;const t=Wl(r);if(t!==Wl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xf(r).isEqual(xf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=$l(i.timestampValue),c=$l(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return Gl(i.bytesValue).isEqual(Gl(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return cr(i.geoPointValue.latitude)===cr(a.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return cr(i.integerValue)===cr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=cr(i.doubleValue),c=cr(a.doubleValue);return l===c?rg(l)===rg(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return yd(r.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(oT(l)!==oT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ba(l[d],c[d])))return!1;return!0}(r,e);default:return ut()}}function Rf(r,e){return(r.values||[]).find(t=>Ba(t,e))!==void 0}function _d(r,e){if(r===e)return 0;const t=Wl(r),n=Wl(e);if(t!==n)return St(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return St(r.booleanValue,e.booleanValue);case 2:return function(a,l){const c=cr(a.integerValue||a.doubleValue),d=cr(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return uT(r.timestampValue,e.timestampValue);case 4:return uT(xf(r),xf(e));case 5:return I_(r.stringValue,e.stringValue);case 6:return function(a,l){const c=Gl(a),d=Gl(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=St(c[f],d[f]);if(p!==0)return p}return St(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const c=St(cr(a.latitude),cr(l.latitude));return c!==0?c:St(cr(a.longitude),cr(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return cT(r.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,f,p;const g=a.fields||{},v=l.fields||{},b=(c=g[sg])===null||c===void 0?void 0:c.arrayValue,E=(d=v[sg])===null||d===void 0?void 0:d.arrayValue,M=St(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return M!==0?M:cT(b,E)}(r.mapValue,e.mapValue);case 11:return function(a,l){if(a===pm.mapValue&&l===pm.mapValue)return 0;if(a===pm.mapValue)return 1;if(l===pm.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const v=I_(d[g],p[g]);if(v!==0)return v;const b=_d(c[d[g]],f[p[g]]);if(b!==0)return b}return St(d.length,p.length)}(r.mapValue,e.mapValue);default:throw ut()}}function uT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return St(r,e);const t=$l(r),n=$l(e),i=St(t.seconds,n.seconds);return i!==0?i:St(t.nanos,n.nanos)}function cT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=_d(t[i],n[i]);if(a)return a}return St(t.length,n.length)}function bd(r){return P_(r)}function P_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=$l(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Gl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Je.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=P_(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${P_(t.fields[l])}`;return i+"}"}(r.mapValue):ut()}function Pm(r){switch(Wl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ev(r);return e?16+Pm(e):16;case 5:return 2*r.stringValue.length;case 6:return Gl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Pm(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return nu(n.fields,(a,l)=>{i+=a.length+Pm(l)}),i}(r.mapValue);default:throw ut()}}function dT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function N_(r){return!!r&&"integerValue"in r}function P0(r){return!!r&&"arrayValue"in r}function hT(r){return!!r&&"nullValue"in r}function fT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nm(r){return!!r&&"mapValue"in r}function d4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vx])===null||t===void 0?void 0:t.stringValue)===Bx}function gf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return nu(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=gf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function h4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===c4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gf(t)}setAll(e){let t=Xr.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=gf(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){nu(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new $i(gf(this.value))}}function Fx(r){const e=[];return nu(r.fields,(t,n)=>{const i=new Xr([t]);if(Nm(n)){const a=Fx(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,n,i,a,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ci(e,0,ht.min(),ht.min(),ht.min(),$i.empty(),0)}static newFoundDocument(e,t,n,i){return new ci(e,1,t,ht.min(),n,i,0)}static newNoDocument(e,t){return new ci(e,2,t,ht.min(),ht.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,ht.min(),ht.min(),$i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.position=e,this.inclusive=t}}function pT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],l=r.position[i];if(a.field.isKeyField()?n=Je.comparator(Je.fromName(l.referenceValue),t.key):n=_d(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function mT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ba(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function f4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class gr extends zx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new m4(e,t,n):t==="array-contains"?new y4(e,n):t==="in"?new _4(e,n):t==="not-in"?new b4(e,n):t==="array-contains-any"?new w4(e,n):new gr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new g4(e,n):new v4(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_d(t,this.value)):t!==null&&Wl(this.value)===Wl(t)&&this.matchesComparison(_d(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends zx{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new sa(e,t)}matches(e){return Hx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hx(r){return r.op==="and"}function qx(r){return p4(r)&&Hx(r)}function p4(r){for(const e of r.filters)if(e instanceof sa)return!1;return!0}function U_(r){if(r instanceof gr)return r.field.canonicalString()+r.op.toString()+bd(r.value);if(qx(r))return r.filters.map(e=>U_(e)).join(",");{const e=r.filters.map(t=>U_(t)).join(",");return`${r.op}(${e})`}}function Yx(r,e){return r instanceof gr?function(n,i){return i instanceof gr&&n.op===i.op&&n.field.isEqual(i.field)&&Ba(n.value,i.value)}(r,e):r instanceof sa?function(n,i){return i instanceof sa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,c)=>a&&Yx(l,i.filters[c]),!0):!1}(r,e):void ut()}function $x(r){return r instanceof gr?function(t){return`${t.field.canonicalString()} ${t.op} ${bd(t.value)}`}(r):r instanceof sa?function(t){return t.op.toString()+" {"+t.getFilters().map($x).join(" ,")+"}"}(r):"Filter"}class m4 extends gr{constructor(e,t,n){super(e,t,n),this.key=Je.fromName(n.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class g4 extends gr{constructor(e,t){super(e,"in",t),this.keys=Gx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class v4 extends gr{constructor(e,t){super(e,"not-in",t),this.keys=Gx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gx(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Je.fromName(n.referenceValue))}class y4 extends gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return P0(t)&&Rf(t.arrayValue,this.value)}}class _4 extends gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rf(this.value.arrayValue,t)}}class b4 extends gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rf(this.value.arrayValue,t)}}class w4 extends gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!P0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Rf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function gT(r,e=null,t=[],n=[],i=null,a=null,l=null){return new E4(r,e,t,n,i,a,l)}function N0(r){const e=mt(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>U_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>bd(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>bd(n)).join(",")),e.le=t}return e.le}function U0(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!f4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Yx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mT(r.startAt,e.startAt)&&mT(r.endAt,e.endAt)}function j_(r){return Je.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t=null,n=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function T4(r,e,t,n,i,a,l,c){return new Vd(r,e,t,n,i,a,l,c)}function j0(r){return new Vd(r)}function vT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Wx(r){return r.collectionGroup!==null}function vf(r){const e=mt(r);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Er(Xr.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Mf(a,n))}),t.has(Xr.keyField().canonicalString())||e.he.push(new Mf(Xr.keyField(),n))}return e.he}function Pa(r){const e=mt(r);return e.Pe||(e.Pe=S4(e,vf(r))),e.Pe}function S4(r,e){if(r.limitType==="F")return gT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mf(i.field,a)});const t=r.endAt?new ag(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ag(r.startAt.position,r.startAt.inclusive):null;return gT(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function V_(r,e){const t=r.filters.concat([e]);return new Vd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function B_(r,e,t){return new Vd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function tv(r,e){return U0(Pa(r),Pa(e))&&r.limitType===e.limitType}function Qx(r){return`${N0(Pa(r))}|lt:${r.limitType}`}function ed(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>$x(i)).join(", ")}]`),Jg(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>bd(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>bd(i)).join(",")),`Target(${n})`}(Pa(r))}; limitType=${r.limitType})`}function nv(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of vf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const f=pT(l,c,d);return l.inclusive?f<=0:f<0}(n.startAt,vf(n),i)||n.endAt&&!function(l,c,d){const f=pT(l,c,d);return l.inclusive?f>=0:f>0}(n.endAt,vf(n),i))}(r,e)}function C4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Kx(r){return(e,t)=>{let n=!1;for(const i of vf(r)){const a=A4(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function A4(r,e,t){const n=r.field.isKeyField()?Je.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?_d(d,f):ut()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nu(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new Yn(Je.comparator);function Po(){return x4}const Xx=new Yn(Je.comparator);function uf(...r){let e=Xx;for(const t of r)e=e.insert(t.key,t);return e}function Zx(r){let e=Xx;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Iu(){return yf()}function Jx(){return yf()}function yf(){return new ec(r=>r.toString(),(r,e)=>r.isEqual(e))}const D4=new Yn(Je.comparator),R4=new Er(Je.comparator);function jt(...r){let e=R4;for(const t of r)e=e.add(t);return e}const M4=new Er(St);function k4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(e)?"-0":e}}function eD(r){return{integerValue:""+r}}function L4(r,e){return s4(e)?eD(e):V0(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this._=void 0}}function O4(r,e,t){return r instanceof og?function(i,a){const l={fields:{[Nx]:{stringValue:Px},[jx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&I0(a)&&(a=ev(a)),a&&(l.fields[Ux]=a),{mapValue:l}}(t,e):r instanceof kf?nD(r,e):r instanceof Lf?rD(r,e):function(i,a){const l=tD(i,a),c=yT(l)+yT(i.Ie);return N_(l)&&N_(i.Ie)?eD(c):V0(i.serializer,c)}(r,e)}function I4(r,e,t){return r instanceof kf?nD(r,e):r instanceof Lf?rD(r,e):t}function tD(r,e){return r instanceof lg?function(n){return N_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class og extends rv{}class kf extends rv{constructor(e){super(),this.elements=e}}function nD(r,e){const t=iD(e);for(const n of r.elements)t.some(i=>Ba(i,n))||t.push(n);return{arrayValue:{values:t}}}class Lf extends rv{constructor(e){super(),this.elements=e}}function rD(r,e){let t=iD(e);for(const n of r.elements)t=t.filter(i=>!Ba(i,n));return{arrayValue:{values:t}}}class lg extends rv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function yT(r){return cr(r.integerValue||r.doubleValue)}function iD(r){return P0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function P4(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof kf&&i instanceof kf||n instanceof Lf&&i instanceof Lf?yd(n.elements,i.elements,Ba):n instanceof lg&&i instanceof lg?Ba(n.Ie,i.Ie):n instanceof og&&i instanceof og}(r.transform,e.transform)}class N4{constructor(e,t){this.version=e,this.transformResults=t}}class Na{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Na}static exists(e){return new Na(void 0,e)}static updateTime(e){return new Na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Um(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class iv{}function sD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new oD(r.key,Na.none()):new Qf(r.key,r.data,Na.none());{const t=r.data,n=$i.empty();let i=new Er(Xr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new ru(r.key,n,new ls(i.toArray()),Na.none())}}function U4(r,e,t){r instanceof Qf?function(i,a,l){const c=i.value.clone(),d=bT(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof ru?function(i,a,l){if(!Um(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=bT(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(aD(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function _f(r,e,t,n){return r instanceof Qf?function(a,l,c,d){if(!Um(a.precondition,l))return c;const f=a.value.clone(),p=wT(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(r,e,t,n):r instanceof ru?function(a,l,c,d){if(!Um(a.precondition,l))return c;const f=wT(a.fieldTransforms,d,l),p=l.data;return p.setAll(aD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(a,l,c){return Um(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function j4(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=tD(n.transform,i||null);a!=null&&(t===null&&(t=$i.empty()),t.set(n.field,a))}return t||null}function _T(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yd(n,i,(a,l)=>P4(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qf extends iv{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ru extends iv{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function bT(r,e,t){const n=new Map;cn(r.length===t.length);for(let i=0;i<t.length;i++){const a=r[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,I4(l,c,t[i]))}return n}function wT(r,e,t){const n=new Map;for(const i of r){const a=i.transform,l=t.data.field(i.field);n.set(i.field,O4(a,l,e))}return n}class oD extends iv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V4 extends iv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&U4(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_f(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_f(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Jx();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const d=sD(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ht.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,(t,n)=>_T(t,n))&&yd(this.baseMutations,e.baseMutations,(t,n)=>_T(t,n))}}class B0{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){cn(e.mutations.length===n.length);let i=function(){return D4}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new B0(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,Gt;function H4(r){switch(r){case Re.OK:return ut();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return ut()}}function lD(r){if(r===void 0)return Io("GRPC error has no .code"),Re.UNKNOWN;switch(r){case mr.OK:return Re.OK;case mr.CANCELLED:return Re.CANCELLED;case mr.UNKNOWN:return Re.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Re.INTERNAL;case mr.UNAVAILABLE:return Re.UNAVAILABLE;case mr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case mr.NOT_FOUND:return Re.NOT_FOUND;case mr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case mr.ABORTED:return Re.ABORTED;case mr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case mr.DATA_LOSS:return Re.DATA_LOSS;default:return ut()}}(Gt=mr||(mr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Bl([4294967295,4294967295],0);function ET(r){const e=Mx().encode(r),t=new Tx;return t.update(e),new Uint8Array(t.digest())}function TT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bl([t,n],0),new Bl([i,a],0)]}class F0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cf(`Invalid padding: ${t}`);if(n<0)throw new cf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new cf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new cf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Bl.fromNumber(this.Ee)}Ae(e,t,n){let i=e.add(t.multiply(Bl.fromNumber(n)));return i.compare(q4)===1&&(i=new Bl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ET(e),[n,i]=TT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new F0(a,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=ET(e),[n,i]=TT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sv(ht.min(),i,new Yn(St),Po(),jt())}}class Kf{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kf(n,t,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,n,i){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=i}}class uD{constructor(e,t){this.targetId=e,this.ge=t}}class cD{constructor(e,t,n=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class ST{constructor(){this.pe=0,this.ye=CT(),this.we=Jr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=jt(),t=jt(),n=jt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ut()}}),new Kf(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=CT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,cn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Y4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Po(),this.$e=mm(),this.Ue=mm(),this.Ke=new Yn(St)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,n=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(j_(a))if(n===0){const l=new Je(a.path);this.ze(t,l,ci.newNoDocument(l,ht.min()))}else cn(n===1);else{const l=this.et(t);if(l!==n){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Gl(n).toUint8Array()}catch(d){if(d instanceof Ix)return vd("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new F0(l,i,a)}catch(d){return vd(d instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&j_(c.target)){const d=new Je(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,ci.newNoDocument(d,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let n=jt();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new sv(e,t,this.Ke,this.Qe,n);return this.Qe=Po(),this.$e=mm(),this.Ue=mm(),this.Ke=new Yn(St),i}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ST,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Er(St),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Er(St),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||qe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ST),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mm(){return new Yn(Je.comparator)}function CT(){return new Yn(Je.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},G4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class Q4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F_(r,e){return r.useProto3Json||Jg(e)?e:{value:e}}function ug(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function K4(r,e){return ug(r,e.toTimestamp())}function Ua(r){return cn(!!r),ht.fromTimestamp(function(t){const n=$l(t);return new rr(n.seconds,n.nanos)}(r))}function z0(r,e){return z_(r,e).canonicalString()}function z_(r,e){const t=function(i){return new On(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function hD(r){const e=On.fromString(r);return cn(vD(e)),e}function H_(r,e){return z0(r.databaseId,e.path)}function Jy(r,e){const t=hD(e);if(t.get(1)!==r.databaseId.projectId)throw new Ye(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ye(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Je(pD(t))}function fD(r,e){return z0(r.databaseId,e)}function X4(r){const e=hD(r);return e.length===4?On.emptyPath():pD(e)}function q_(r){return new On(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pD(r){return cn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function AT(r,e,t){return{name:H_(r,e),fields:t.value.mapValue.fields}}function Z4(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ut()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(cn(p===void 0||typeof p=="string"),Jr.fromBase64String(p||"")):(cn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Jr.fromUint8Array(p||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?Re.UNKNOWN:lD(f.code);return new Ye(p,f.message||"")}(l);t=new cD(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Jy(r,n.document.name),a=Ua(n.document.updateTime),l=n.document.createTime?Ua(n.document.createTime):ht.min(),c=new $i({mapValue:{fields:n.document.fields}}),d=ci.newFoundDocument(i,a,l,c),f=n.targetIds||[],p=n.removedTargetIds||[];t=new jm(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Jy(r,n.document),a=n.readTime?Ua(n.readTime):ht.min(),l=ci.newNoDocument(i,a),c=n.removedTargetIds||[];t=new jm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Jy(r,n.document),a=n.removedTargetIds||[];t=new jm([],a,i,null)}else{if(!("filter"in e))return ut();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new z4(i,a),c=n.targetId;t=new uD(c,l)}}return t}function J4(r,e){let t;if(e instanceof Qf)t={update:AT(r,e.key,e.value)};else if(e instanceof oD)t={delete:H_(r,e.key)};else if(e instanceof ru)t={update:AT(r,e.key,e.data),updateMask:l3(e.fieldMask)};else{if(!(e instanceof V4))return ut();t={verify:H_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const c=l.transform;if(c instanceof og)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lg)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw ut()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:K4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ut()}(r,e.precondition)),t}function e3(r,e){return r&&r.length>0?(cn(e!==void 0),r.map(t=>function(i,a){let l=i.updateTime?Ua(i.updateTime):Ua(a);return l.isEqual(ht.min())&&(l=Ua(a)),new N4(l,i.transformResults||[])}(t,e))):[]}function t3(r,e){return{documents:[fD(r,e.path)]}}function n3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=fD(r,i);const a=function(f){if(f.length!==0)return gD(sa.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:td(v.field),direction:s3(v.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=F_(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function r3(r){let e=X4(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){cn(n===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const v=mD(g);return v instanceof sa&&qx(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(v=>function(E){return new Mf(nd(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Jg(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(g){const v=!!g.before,b=g.values||[];return new ag(b,v)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const v=!g.before,b=g.values||[];return new ag(b,v)}(t.endAt)),T4(e,i,l,a,c,"F",d,f)}function i3(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=nd(t.unaryFilter.field);return gr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=nd(t.unaryFilter.field);return gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nd(t.unaryFilter.field);return gr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nd(t.unaryFilter.field);return gr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(r):r.fieldFilter!==void 0?function(t){return gr.create(nd(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return sa.create(t.compositeFilter.filters.map(n=>mD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut()}}(t.compositeFilter.op))}(r):ut()}function s3(r){return $4[r]}function a3(r){return G4[r]}function o3(r){return W4[r]}function td(r){return{fieldPath:r.canonicalString()}}function nd(r){return Xr.fromServerFormat(r.fieldPath)}function gD(r){return r instanceof gr?function(t){if(t.op==="=="){if(fT(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NAN"}};if(hT(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fT(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NOT_NAN"}};if(hT(t.value))return{unaryFilter:{field:td(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(t.field),op:a3(t.op),value:t.value}}}(r):r instanceof sa?function(t){const n=t.getFilters().map(i=>gD(i));return n.length===1?n[0]:{compositeFilter:{op:o3(t.op),filters:n}}}(r):ut()}function l3(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t,n,i,a=ht.min(),l=ht.min(),c=Jr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.Tt=e}}function c3(r){const e=r3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?B_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.Tn=new h3}addToCollectionParentIndex(e,t){return this.Tn.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(Yl.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(Yl.min())}updateCollectionGroup(e,t,n){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class h3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Er(On.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Er(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yD=41943040;class Hi{static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(yD,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new wd(0)}static Kn(){return new wd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",f3=1048576;function RT([r,e],[t,n]){const i=St(r,t);return i===0?St(e,n):i}class p3{constructor(e){this.Hn=e,this.buffer=new Er(RT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();RT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){qe(DT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jd(t)?qe(DT,"Ignoring IndexedDB error during garbage collection: ",t):await Ud(t)}await this.er(3e5)})}}class g3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Me.resolve(Zg.ae);const n=new p3(t);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(xT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,i,a,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(f=Date.now(),Jc()<=Ut.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function v3(r,e){return new g3(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new ec(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&_f(n.mutation,i,ls.empty(),rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,jt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=jt()){const i=Iu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let l=uf();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Iu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,jt()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let a=Po();const l=yf(),c=function(){return yf()}();return t.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof ru)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),_f(p.mutation,f,p.mutation.getFieldMask(),rr.now())):l.set(f.key,ls.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var g;return c.set(f,new _3(p,(g=l.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const n=yf();let i=new Yn((l,c)=>l-c),a=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let p=n.get(d)||ls.empty();p=c.applyToLocalView(f,p),n.set(d,p);const g=(i.get(c.batchId)||jt()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,g=Jx();p.forEach(v=>{if(!a.has(v)){const b=sD(t.get(v),n.get(v));b!==null&&g.set(v,b),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Me.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Me.resolve(Iu());let c=Af,d=a;return l.next(f=>Me.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?Me.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,jt())).next(p=>({batchId:c,changes:Zx(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(n=>{let i=uf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let l=uf();return this.indexManager.getCollectionParents(e,a).next(c=>Me.forEach(c,d=>{const f=function(g,v){return new Vd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(l=>{a.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ci.newInvalidDocument(p)))});let c=uf();return l.forEach((d,f)=>{const p=a.get(d);p!==void 0&&_f(p.mutation,f,ls.empty(),rr.now()),nv(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Me.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ua(i.createTime)}}(t)),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:c3(i.bundledQuery),readTime:Ua(i.readTime)}}(t)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.overlays=new Yn(Je.comparator),this.Rr=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Iu();return Me.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.Et(e,t,a)}),Me.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(n)),Me.resolve()}getOverlaysForCollection(e,t,n){const i=Iu(),a=t.length+1,l=new Je(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Yn((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=Iu(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Iu(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=i)););return Me.resolve(c)}Et(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new F4(t,n));let a=this.Rr.get(t);a===void 0&&(a=jt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.Vr=new Er(Nr.mr),this.gr=new Er(Nr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Nr(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Nr(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Je(new On([])),n=new Nr(t,e),i=new Nr(t,e+1),a=[];return this.gr.forEachInRange([n,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Je(new On([])),n=new Nr(t,e),i=new Nr(t,e+1);let a=jt();return this.gr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Nr(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Nr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Je.comparator(e.key,t.key)||St(e.Cr,t.Cr)}static pr(e,t){return St(e.Cr,t.Cr)||Je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Er(Nr.mr)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new B4(a,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Nr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Me.resolve(l)}lookupMutationBatch(e,t){return Me.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Nr(n),a=i<0?0:i;return Me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?O0:this.Fr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Nr(t,0),i=new Nr(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,i],l=>{const c=this.Or(l.Cr);a.push(c)}),Me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Er(St);return t.forEach(i=>{const a=new Nr(i,0),l=new Nr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{n=n.add(c.Cr)})}),Me.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Je.isDocumentKey(a)||(a=a.child(""));const l=new Nr(new Je(a),0);let c=new Er(St);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Cr)),!0)},l),Me.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){cn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Me.forEach(t.mutations,i=>{const a=new Nr(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Nr(t,0),i=this.Mr.firstAfterOrEqual(n);return Me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.kr=e,this.docs=function(){return new Yn(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Me.resolve(n?n.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let n=Po();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ci.newInvalidDocument(i))}),Me.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=Po();const l=t.path,c=new Je(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||t4(e4(p),n)<=0||(i.has(p.key)||nv(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Me.resolve(a)}getAllFromCollectionGroup(e,t,n,i){ut()}qr(e,t){return Me.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new A3(this)}getSize(e){return Me.resolve(this.size)}}class A3 extends y3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),Me.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.persistence=e,this.Qr=new ec(t=>N0(t),U0),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.$r=0,this.Ur=new H0,this.targetCount=0,this.Kr=wd.Un()}forEachTarget(e,t){return this.Qr.forEach((n,i)=>t(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Me.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new wd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.zn(t),Me.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Me.waitFor(a).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Me.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Me.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Me.resolve(n)}containsKey(e,t){return Me.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zg(0),this.zr=!1,this.zr=!0,this.jr=new T3,this.referenceDelegate=e(this),this.Hr=new x3(this),this.indexManager=new d3,this.remoteDocumentCache=function(i){return new C3(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new u3(t),this.Yr=new w3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new S3(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){qe("MemoryPersistence","Starting transaction:",e);const i=new D3(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return Me.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class D3 extends r4{constructor(e){super(),this.currentSequenceNumber=e}}class q0{constructor(e){this.persistence=e,this.ti=new H0,this.ni=null}static ri(e){return new q0(e)}get ii(){if(this.ni)return this.ni;throw ut()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Me.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Me.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.ii,n=>{const i=Je.fromPath(n);return this.si(e,i).next(a=>{a||t.removeEntry(i,ht.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Me.or([()=>Me.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class cg{constructor(e,t){this.persistence=e,this.oi=new ec(n=>a4(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=v3(this,t)}static ri(e,t){return new cg(e,t)}Zr(){}Xr(e){return Me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return Me.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(a=>a?Me.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(n++,a.removeEntry(l,ht.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pm(e.data.value)),t}ar(e,t,n){return Me.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Me.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=i}static Yi(e,t){let n=jt(),i=jt();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Y0(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dO()?8:i4(di())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new R3;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,n,i){return n.documentReadCount<this.es?(Jc()<=Ut.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",ed(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Me.resolve()):(Jc()<=Ut.DEBUG&&qe("QueryEngine","Query:",ed(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(Jc()<=Ut.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",ed(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(t))):Me.resolve())}rs(e,t){if(vT(t))return Me.resolve(null);let n=Pa(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=B_(t,null,"F"),n=Pa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=jt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.cs(t,c);return this.ls(t,f,l,d.readTime)?this.rs(e,B_(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,n,i){return vT(t)||i.isEqual(ht.min())?Me.resolve(null):this.ns.getDocuments(e,n).next(a=>{const l=this.cs(t,a);return this.ls(t,l,n,i)?Me.resolve(null):(Jc()<=Ut.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ed(t)),this.hs(e,l,t,JN(i,Af)).next(c=>c))})}cs(e,t){let n=new Er(Kx(e));return t.forEach((i,a)=>{nv(e,a)&&(n=n.add(a))}),n}ls(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,n){return Jc()<=Ut.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",ed(t)),this.ns.getDocumentsMatchingQuery(e,t,Yl.min(),n)}hs(e,t,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LocalStore",k3=3e8;class L3{constructor(e,t,n,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Yn(St),this.Is=new ec(a=>N0(a),U0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function O3(r,e,t,n){return new L3(r,e,t,n)}async function bD(r,e){const t=mt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let d=jt();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(n,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function I3(r,e){const t=mt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,f,p){const g=f.batch,v=g.keys();let b=Me.resolve();return v.forEach(E=>{b=b.next(()=>p.getEntry(d,E)).next(M=>{const x=f.docVersions.get(E);cn(x!==null),M.version.compareTo(x)<0&&(g.applyToRemoteDocument(M,f),M.isValidDocument()&&(M.setReadTime(f.commitVersion),p.addEntry(M)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=jt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function wD(r){const e=mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function P3(r,e){const t=mt(r),n=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((p,g)=>{const v=i.get(g);if(!v)return;c.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,g)));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Jr.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),i=i.insert(g,b),function(M,x,L){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=k3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,b,p)&&c.push(t.Hr.updateTargetData(a,b))});let d=Po(),f=jt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(N3(a,l,e.documentUpdates).next(p=>{d=p.Vs,f=p.fs})),!n.isEqual(ht.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(g=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return Me.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.Ts=i,a))}function N3(r,e,t){let n=jt(),i=jt();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=Po();return t.forEach((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(ht.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):qe($0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function U3(r,e){const t=mt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=O0),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function j3(r,e){const t=mt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Hr.getTargetData(n,e).next(a=>a?(i=a,Me.resolve(i)):t.Hr.allocateTargetId(n).next(l=>(i=new Il(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Y_(r,e,t){const n=mt(r),i=n.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!jd(l))throw l;qe($0,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function MT(r,e,t){const n=mt(r);let i=ht.min(),a=jt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const g=mt(d),v=g.Is.get(p);return v!==void 0?Me.resolve(g.Ts.get(v)):g.Hr.getTargetData(f,p)}(n,l,Pa(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?i:ht.min(),t?a:jt())).next(c=>(V3(n,C4(e),c),{documents:c,gs:a})))}function V3(r,e,t){let n=r.Es.get(e)||ht.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Es.set(e,n)}class kT{constructor(){this.activeTargetIds=k4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B3{constructor(){this.ho=new kT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="ConnectivityMonitor";class OT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){qe(LT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){qe(LT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm=null;function $_(){return gm===null?gm=function(){return 268435456+Math.round(2147483648*Math.random())}():gm++,"0x"+gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="RestConnection",z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===ig?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,t,n,i,a){const l=$_(),c=this.bo(e,t.toUriEncodedString());qe(e_,`Sending RPC '${e}' ${l}:`,c,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,a),this.vo(e,c,d,n).then(f=>(qe(e_,`Received RPC '${e}' ${l}: `,f),f),f=>{throw vd(e_,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",n),f})}Co(e,t,n,i,a,l){return this.So(e,t,n,i,a)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const n=z3[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class Y3 extends H3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,i){const a=$_();return new Promise((l,c)=>{const d=new Sx;d.setWithCredentials(!0),d.listenOnce(Cx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Im.NO_ERROR:const p=d.getResponseJson();qe(oi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Im.TIMEOUT:qe(oi,`RPC '${e}' ${a} timed out`),c(new Ye(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const g=d.getStatus();if(qe(oi,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const E=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(L)>=0?L:Re.UNKNOWN}(b.status);c(new Ye(E,b.message))}else c(new Ye(Re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ye(Re.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{qe(oi,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);qe(oi,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",f,n,15)})}Wo(e,t,n){const i=$_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Dx(),c=xx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const p=a.join("");qe(oi,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);let v=!1,b=!1;const E=new q3({Fo:x=>{b?qe(oi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(qe(oi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),qe(oi,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},Mo:()=>g.close()}),M=(x,L,$)=>{x.listen(L,Y=>{try{$(Y)}catch(H){setTimeout(()=>{throw H},0)}})};return M(g,lf.EventType.OPEN,()=>{b||(qe(oi,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),M(g,lf.EventType.CLOSE,()=>{b||(b=!0,qe(oi,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),M(g,lf.EventType.ERROR,x=>{b||(b=!0,vd(oi,`RPC '${e}' stream ${i} transport errored:`,x),E.Uo(new Ye(Re.UNAVAILABLE,"The operation could not be completed")))}),M(g,lf.EventType.MESSAGE,x=>{var L;if(!b){const $=x.data[0];cn(!!$);const Y=$,H=(Y==null?void 0:Y.error)||((L=Y[0])===null||L===void 0?void 0:L.error);if(H){qe(oi,`RPC '${e}' stream ${i} received error:`,H);const G=H.status;let q=function(S){const k=mr[S];if(k!==void 0)return lD(k)}(G),P=H.message;q===void 0&&(q=Re.INTERNAL,P="Unknown error status: "+G+" with message "+H.message),b=!0,E.Uo(new Ye(q,P)),g.close()}else qe(oi,`RPC '${e}' stream ${i} received:`,$),E.Ko($)}}),M(c,Ax.STAT_EVENT,x=>{x.stat===O_.PROXY?qe(oi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===O_.NOPROXY&&qe(oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function t_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){return new Q4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-n);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class TD{constructor(e,t,n,i,a,l,c,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ED(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(Io(t.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===t&&this.V_(n,i)},n=>{e(()=>{const i=new Ye(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return qe(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(qe(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $3 extends TD{constructor(e,t,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Z4(this.serializer,e),n=function(a){if(!("targetChange"in a))return ht.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ht.min():l.readTime?Ua(l.readTime):ht.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=q_(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=j_(d)?{documents:t3(a,d)}:{query:n3(a,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=dD(a,l.resumeToken);const f=F_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(ht.min())>0){c.readTime=ug(a,l.snapshotVersion.toTimestamp());const f=F_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const n=i3(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=q_(this.serializer),t.removeTarget=e,this.I_(t)}}class G3 extends TD{constructor(e,t,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return cn(!!e.streamToken),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=e3(e.writeResults,e.commitTime),n=Ua(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=q_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>J4(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{}class Q3 extends W3{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ye(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,z_(t,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Re.UNKNOWN,a.toString())})}Co(e,t,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,z_(t,n),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ye(Re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Io(t),this.N_=!1):qe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="RemoteStore";class X3{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{n.enqueueAndForget(async()=>{tc(this)&&(qe($u,"Restarting streams for network reachability change."),await async function(d){const f=mt(d);f.W_.add(4),await Xf(f),f.j_.set("Unknown"),f.W_.delete(4),await ov(f)}(this))})}),this.j_=new K3(n,i)}}async function ov(r){if(tc(r))for(const e of r.G_)await e(!0)}async function Xf(r){for(const e of r.G_)await e(!1)}function SD(r,e){const t=mt(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),K0(t)?Q0(t):Bd(t).c_()&&W0(t,e))}function G0(r,e){const t=mt(r),n=Bd(t);t.K_.delete(e),n.c_()&&CD(t,e),t.K_.size===0&&(n.c_()?n.P_():tc(t)&&t.j_.set("Unknown"))}function W0(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bd(r).y_(e)}function CD(r,e){r.H_.Ne(e),Bd(r).w_(e)}function Q0(r){r.H_=new Y4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Bd(r).start(),r.j_.B_()}function K0(r){return tc(r)&&!Bd(r).u_()&&r.K_.size>0}function tc(r){return mt(r).W_.size===0}function AD(r){r.H_=void 0}async function Z3(r){r.j_.set("Online")}async function J3(r){r.K_.forEach((e,t)=>{W0(r,e)})}async function eU(r,e){AD(r),K0(r)?(r.j_.q_(e),Q0(r)):r.j_.set("Unknown")}async function tU(r,e,t){if(r.j_.set("Online"),e instanceof cD&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(r,e)}catch(n){qe($u,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await dg(r,n)}else if(e instanceof jm?r.H_.We(e):e instanceof uD?r.H_.Ze(e):r.H_.je(e),!t.isEqual(ht.min()))try{const n=await wD(r.localStore);t.compareTo(n)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(Jr.EMPTY_BYTE_STRING,p.snapshotVersion)),CD(a,d);const g=new Il(p.target,d,f,p.sequenceNumber);W0(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){qe($u,"Failed to raise snapshot:",n),await dg(r,n)}}async function dg(r,e,t){if(!jd(e))throw e;r.W_.add(1),await Xf(r),r.j_.set("Offline"),t||(t=()=>wD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{qe($u,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await ov(r)})}function xD(r,e){return e().catch(t=>dg(r,t,e))}async function lv(r){const e=mt(r),t=Ql(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:O0;for(;nU(e);)try{const i=await U3(e.localStore,n);if(i===null){e.U_.length===0&&t.P_();break}n=i.batchId,rU(e,i)}catch(i){await dg(e,i)}DD(e)&&RD(e)}function nU(r){return tc(r)&&r.U_.length<10}function rU(r,e){r.U_.push(e);const t=Ql(r);t.c_()&&t.S_&&t.b_(e.mutations)}function DD(r){return tc(r)&&!Ql(r).u_()&&r.U_.length>0}function RD(r){Ql(r).start()}async function iU(r){Ql(r).C_()}async function sU(r){const e=Ql(r);for(const t of r.U_)e.b_(t.mutations)}async function aU(r,e,t){const n=r.U_.shift(),i=B0.from(n,e,t);await xD(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await lv(r)}async function oU(r,e){e&&Ql(r).S_&&await async function(n,i){if(function(l){return H4(l)&&l!==Re.ABORTED}(i.code)){const a=n.U_.shift();Ql(n).h_(),await xD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lv(n)}}(r,e),DD(r)&&RD(r)}async function PT(r,e){const t=mt(r);t.asyncQueue.verifyOperationInProgress(),qe($u,"RemoteStore received new credentials");const n=tc(t);t.W_.add(3),await Xf(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ov(t)}async function lU(r,e){const t=mt(r);e?(t.W_.delete(2),await ov(t)):e||(t.W_.add(2),await Xf(t),t.j_.set("Unknown"))}function Bd(r){return r.J_||(r.J_=function(t,n,i){const a=mt(t);return a.M_(),new $3(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:Z3.bind(null,r),No:J3.bind(null,r),Lo:eU.bind(null,r),p_:tU.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),K0(r)?Q0(r):r.j_.set("Unknown")):(await r.J_.stop(),AD(r))})),r.J_}function Ql(r){return r.Y_||(r.Y_=function(t,n,i){const a=mt(t);return a.M_(),new G3(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:iU.bind(null,r),Lo:oU.bind(null,r),D_:sU.bind(null,r),v_:aU.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await lv(r)):(await r.Y_.stop(),r.U_.length>0&&(qe($u,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const l=Date.now()+n,c=new X0(e,t,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(r,e){if(Io("AsyncQueue",`${e}: ${r}`),jd(r))return new Ye(Re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static emptySet(e){return new dd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Je.comparator(t.key,n.key):(t,n)=>Je.comparator(t.key,n.key),this.keyedMap=uf(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new dd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.Z_=new Yn(Je.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ut():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ed{constructor(e,t,n,i,a,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ed(e,t,dd.emptySet(t),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class cU{constructor(){this.queries=UT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const i=mt(t),a=i.queries;i.queries=UT(),a.forEach((l,c)=>{for(const d of c.ta)d.onError(n)})})(this,new Ye(Re.ABORTED,"Firestore shutting down"))}}function UT(){return new ec(r=>Qx(r),tv)}async function MD(r,e){const t=mt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(n=2):(a=new uU,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Z0(l,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&J0(t)}async function kD(r,e){const t=mt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function dU(r,e){const t=mt(r);let n=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(n=!0);l.ea=i}}n&&J0(t)}function hU(r,e,t){const n=mt(r),i=n.queries.get(e);if(i)for(const a of i.ta)a.onError(t);n.queries.delete(e)}function J0(r){r.ia.forEach(e=>{e.next()})}var G_,jT;(jT=G_||(G_={}))._a="default",jT.Cache="cache";class LD{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ed(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==G_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.key=e}}class ID{constructor(e){this.key=e}}class fU{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jt(),this.mutatedKeys=jt(),this.ya=Kx(e),this.wa=new dd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new NT,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const v=i.get(p),b=nv(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;v&&b?v.data.isEqual(b.data)?E!==M&&(n.track({type:3,doc:b}),x=!0):this.va(v,b)||(n.track({type:2,doc:b}),x=!0,(d&&this.ya(b,d)>0||f&&this.ya(b,f)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),x=!0):v&&!b&&(n.track({type:1,doc:v}),x=!0,(d||f)&&(c=!0)),x&&(b?(l=l.add(b),a=M?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,g)=>function(b,E){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return M(b)-M(E)}(p.type,g.type)||this.ya(p.doc,g.doc)),this.Ca(n),i=i!=null&&i;const c=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new Ed(this.query,e.wa,a,l,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new NT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=jt(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new ID(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new OD(n))}),t}Oa(e){this.fa=e.gs,this.pa=jt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ed.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const eb="SyncEngine";class pU{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mU{constructor(e){this.key=e,this.Ba=!1}}class gU{constructor(e,t,n,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ec(c=>Qx(c),tv),this.qa=new Map,this.Qa=new Set,this.$a=new Yn(Je.comparator),this.Ua=new Map,this.Ka=new H0,this.Wa={},this.Ga=new Map,this.za=wd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vU(r,e,t=!0){const n=BD(r);let i;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await PD(n,e,t,!0),i}async function yU(r,e){const t=BD(r);await PD(t,e,!0,!1)}async function PD(r,e,t,n){const i=await j3(r.localStore,Pa(e)),a=i.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await _U(r,e,a,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&SD(r.remoteStore,i),c}async function _U(r,e,t,n,i){r.Ha=(g,v,b)=>async function(M,x,L,$){let Y=x.view.ba(L);Y.ls&&(Y=await MT(M.localStore,x.query,!1).then(({documents:P})=>x.view.ba(P,Y)));const H=$&&$.targetChanges.get(x.targetId),G=$&&$.targetMismatches.get(x.targetId)!=null,q=x.view.applyChanges(Y,M.isPrimaryClient,H,G);return BT(M,x.targetId,q.Ma),q.snapshot}(r,g,v,b);const a=await MT(r.localStore,e,!0),l=new fU(e,a.gs),c=l.ba(a.documents),d=Kf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),f=l.applyChanges(c,r.isPrimaryClient,d);BT(r,t,f.Ma);const p=new pU(e,t,l);return r.ka.set(e,p),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),f.snapshot}async function bU(r,e,t){const n=mt(r),i=n.ka.get(e),a=n.qa.get(i.targetId);if(a.length>1)return n.qa.set(i.targetId,a.filter(l=>!tv(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Y_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&G0(n.remoteStore,i.targetId),W_(n,i.targetId)}).catch(Ud)):(W_(n,i.targetId),await Y_(n.localStore,i.targetId,!0))}async function wU(r,e){const t=mt(r),n=t.ka.get(e),i=t.qa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),G0(t.remoteStore,n.targetId))}async function EU(r,e,t){const n=RU(r);try{const i=await function(l,c){const d=mt(l),f=rr.now(),p=c.reduce((b,E)=>b.add(E.key),jt());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=Po(),M=jt();return d.ds.getEntries(b,p).next(x=>{E=x,E.forEach((L,$)=>{$.isValidDocument()||(M=M.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,E)).next(x=>{g=x;const L=[];for(const $ of c){const Y=j4($,g.get($.key).overlayedDocument);Y!=null&&L.push(new ru($.key,Y,Fx(Y.value.mapValue),Na.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,L,c)}).next(x=>{v=x;const L=x.applyToLocalDocumentSet(g,M);return d.documentOverlayCache.saveOverlays(b,x.batchId,L)})}).then(()=>({batchId:v.batchId,changes:Zx(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new Yn(St)),f=f.insert(c,d),l.Wa[l.currentUser.toKey()]=f}(n,i.batchId,t),await Zf(n,i.changes),await lv(n.remoteStore)}catch(i){const a=Z0(i,"Failed to persist write");t.reject(a)}}async function ND(r,e){const t=mt(r);try{const n=await P3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ua.get(a);l&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?cn(l.Ba):i.removedDocuments.size>0&&(cn(l.Ba),l.Ba=!1))}),await Zf(t,n,e)}catch(n){await Ud(n)}}function VT(r,e,t){const n=mt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=mt(l);d.onlineState=c;let f=!1;d.queries.forEach((p,g)=>{for(const v of g.ta)v.sa(c)&&(f=!0)}),f&&J0(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function TU(r,e,t){const n=mt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ua.get(e),a=i&&i.key;if(a){let l=new Yn(Je.comparator);l=l.insert(a,ci.newNoDocument(a,ht.min()));const c=jt().add(a),d=new sv(ht.min(),new Map,new Yn(St),l,c);await ND(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),tb(n)}else await Y_(n.localStore,e,!1).then(()=>W_(n,e,t)).catch(Ud)}async function SU(r,e){const t=mt(r),n=e.batch.batchId;try{const i=await I3(t.localStore,e);jD(t,n,null),UD(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Zf(t,i)}catch(i){await Ud(i)}}async function CU(r,e,t){const n=mt(r);try{const i=await function(l,c){const d=mt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next(g=>(cn(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(n.localStore,e);jD(n,e,t),UD(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Zf(n,i)}catch(i){await Ud(i)}}function UD(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function jD(r,e,t){const n=mt(r);let i=n.Wa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function W_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||VD(r,n)})}function VD(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(G0(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),tb(r))}function BT(r,e,t){for(const n of t)n instanceof OD?(r.Ka.addReference(n.key,e),AU(r,n)):n instanceof ID?(qe(eb,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||VD(r,n.key)):ut()}function AU(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(qe(eb,"New document in limbo: "+t),r.Qa.add(n),tb(r))}function tb(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Je(On.fromString(e)),n=r.za.next();r.Ua.set(n,new mU(t)),r.$a=r.$a.insert(t,n),SD(r.remoteStore,new Il(Pa(j0(t.path)),n,"TargetPurposeLimboResolution",Zg.ae))}}async function Zf(r,e,t){const n=mt(r),i=[],a=[],l=[];n.ka.isEmpty()||(n.ka.forEach((c,d)=>{l.push(n.Ha(d,e,t).then(f=>{var p;if((f||t)&&n.isPrimaryClient){const g=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Y0.Yi(d.targetId,f);a.push(g)}}))}),await Promise.all(l),n.La.p_(i),await async function(d,f){const p=mt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Me.forEach(f,v=>Me.forEach(v.Hi,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>Me.forEach(v.Ji,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!jd(g))throw g;qe($0,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const b=p.Ts.get(v),E=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(E);p.Ts=p.Ts.insert(v,M)}}}(n.localStore,a))}async function xU(r,e){const t=mt(r);if(!t.currentUser.isEqual(e)){qe(eb,"User change. New user:",e.toKey());const n=await bD(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(d=>{d.reject(new Ye(Re.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zf(t,n.Rs)}}function DU(r,e){const t=mt(r),n=t.Ua.get(e);if(n&&n.Ba)return jt().add(n.key);{let i=jt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function BD(r){const e=mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ND.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TU.bind(null,e),e.La.p_=dU.bind(null,e.eventManager),e.La.Ja=hU.bind(null,e.eventManager),e}function RU(r){const e=mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CU.bind(null,e),e}class hg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=av(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return O3(this.persistence,new M3,e.initialUser,this.serializer)}Xa(e){return new _D(q0.ri,this.serializer)}Za(e){return new B3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hg.provider={build:()=>new hg};class MU extends hg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){cn(this.persistence.referenceDelegate instanceof cg);const n=this.persistence.referenceDelegate.garbageCollector;return new m3(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new _D(n=>cg.ri(n,t),this.serializer)}}class Q_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>VT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await lU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cU}()}createDatastore(e){const t=av(e.databaseInfo.databaseId),n=function(a){return new Y3(a)}(e.databaseInfo);return function(a,l,c,d){return new Q3(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,l,c){return new X3(n,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>VT(this.syncEngine,t,0),function(){return OT.D()?new OT:new F3}())}createSyncEngine(e,t){return function(i,a,l,c,d,f,p){const g=new gU(i,a,l,c,d,f);return p&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=mt(i);qe($u,"RemoteStore shutting down."),a.W_.add(5),await Xf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Q_.provider={build:()=>new Q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="FirestoreClient";class kU{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=kx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{qe(Kl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(qe(Kl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Z0(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function n_(r,e){r.asyncQueue.verifyOperationInProgress(),qe(Kl,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await bD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function FT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await LU(r);qe(Kl,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>PT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>PT(e.remoteStore,i)),r._onlineComponents=e}async function LU(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){qe(Kl,"Using user provided OfflineComponentProvider");try{await n_(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;vd("Error using user provided cache. Falling back to memory cache: "+t),await n_(r,new hg)}}else qe(Kl,"Using default OfflineComponentProvider"),await n_(r,new MU(void 0));return r._offlineComponents}async function zD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(qe(Kl,"Using user provided OnlineComponentProvider"),await FT(r,r._uninitializedComponentsProvider._online)):(qe(Kl,"Using default OnlineComponentProvider"),await FT(r,new Q_))),r._onlineComponents}function OU(r){return zD(r).then(e=>e.syncEngine)}async function HD(r){const e=await zD(r),t=e.eventManager;return t.onListen=vU.bind(null,e.syncEngine),t.onUnlisten=bU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wU.bind(null,e.syncEngine),t}function IU(r,e,t={}){const n=new Co;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const p=new FD({next:v=>{p.su(),l.enqueueAndForget(()=>kD(a,g));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new Ye(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new Ye(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new LD(j0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return MD(a,g)}(await HD(r),r.asyncQueue,e,t,n)),n.promise}function PU(r,e,t={}){const n=new Co;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const p=new FD({next:v=>{p.su(),l.enqueueAndForget(()=>kD(a,g)),v.fromCache&&d.source==="server"?f.reject(new Ye(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new LD(c,p,{includeMetadataChanges:!0,Ta:!0});return MD(a,g)}(await HD(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r,e,t){if(!t)throw new Ye(Re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NU(r,e,t,n){if(e===!0&&n===!0)throw new Ye(Re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function HT(r){if(!Je.isDocumentKey(r))throw new Ye(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qT(r){if(Je.isDocumentKey(r))throw new Ye(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ut()}function Xl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ye(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uv(r);throw new Ye(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firestore.googleapis.com",YT=!0;class $T{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$D,this.ssl=YT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f3)throw new Ye(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cv{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new qN;switch(n.type){case"firstParty":return new WN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ye(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=zT.get(t);n&&(qe("ComponentProvider","Removing Datastore"),zT.delete(t),n.terminate())}(this),Promise.resolve()}}function UU(r,e,t,n={}){var i;const a=(r=Xl(r,cv))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==$D&&a.host!==c&&vd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:n});if(!zu(d,l)&&(r._setSettings(d),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=ui.MOCK_USER;else{f=UA(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new Ye(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ui(g)}r._authCredentials=new YN(new Rx(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nc(this.firestore,e,this._query)}}class Gi{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class Fl extends nc{constructor(e,t,n){super(e,t,j0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Je(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function hd(r,e,...t){if(r=In(r),YD("collection","path",e),r instanceof cv){const n=On.fromString(e,...t);return qT(n),new Fl(r,null,n)}{if(!(r instanceof Gi||r instanceof Fl))throw new Ye(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(On.fromString(e,...t));return qT(n),new Fl(r.firestore,null,n)}}function nb(r,e,...t){if(r=In(r),arguments.length===1&&(e=kx.newId()),YD("doc","path",e),r instanceof cv){const n=On.fromString(e,...t);return HT(n),new Gi(r,null,new Je(n))}{if(!(r instanceof Gi||r instanceof Fl))throw new Ye(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(On.fromString(e,...t));return HT(n),new Gi(r.firestore,r instanceof Fl?r.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class WT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ED(this,"async_queue_retry"),this.Su=()=>{const n=t_();n&&qe(GT,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=t_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=t_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Co;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jd(e))throw e;qe(GT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Io("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=X0.createAndSchedule(this,e,t,n,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&ut()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Jf extends cv{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new WT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WT(e),this._firestoreClient=void 0,await e}}}function jU(r,e){const t=typeof r=="object"?r:E0(),n=typeof r=="string"?r:ig,i=Gg(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=IA("firestore");a&&UU(i,...a)}return i}function rb(r){if(r._terminated)throw new Ye(Re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VU(r),r._firestoreClient}function VU(r){var e,t,n;const i=r._freezeSettings(),a=function(c,d,f,p){return new u4(c,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qD(p.experimentalLongPollingOptions),p.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new kU(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Td(Jr.fromBase64String(e))}catch(t){throw new Ye(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Td(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ye(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=/^__.*__$/;class FU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qf(e,this.data,t,this.fieldTransforms)}}class GD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class ab{constructor(e,t,n,i,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ab(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WD(this.Lu)&&BU.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||av(e)}ju(e,t,n,i=!1){return new ab({Lu:e,methodName:t,zu:n,path:Xr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ob(r){const e=r._freezeSettings(),t=av(r._databaseId);return new zU(r._databaseId,!!e.ignoreUndefinedProperties,t)}function HU(r,e,t,n,i,a={}){const l=r.ju(a.merge||a.mergeFields?2:0,e,t,i);lb("Data must be an object, but it was:",l,n);const c=QD(n,l);let d,f;if(a.merge)d=new ls(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=K_(e,g,t);if(!l.contains(v))throw new Ye(Re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XD(p,v)||p.push(v)}d=new ls(p),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new FU(new $i(c),d,f)}class fv extends ib{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fv}}function qU(r,e,t,n){const i=r.ju(1,e,t);lb("Data must be an object, but it was:",i,n);const a=[],l=$i.empty();nu(n,(d,f)=>{const p=ub(e,d,t);f=In(f);const g=i.Uu(p);if(f instanceof fv)a.push(p);else{const v=ep(f,g);v!=null&&(a.push(p),l.set(p,v))}});const c=new ls(a);return new GD(l,c,i.fieldTransforms)}function YU(r,e,t,n,i,a){const l=r.ju(1,e,t),c=[K_(e,n,t)],d=[i];if(a.length%2!=0)throw new Ye(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(K_(e,a[v])),d.push(a[v+1]);const f=[],p=$i.empty();for(let v=c.length-1;v>=0;--v)if(!XD(f,c[v])){const b=c[v];let E=d[v];E=In(E);const M=l.Uu(b);if(E instanceof fv)f.push(b);else{const x=ep(E,M);x!=null&&(f.push(b),p.set(b,x))}}const g=new ls(f);return new GD(p,g,l.fieldTransforms)}function $U(r,e,t,n=!1){return ep(t,r.ju(n?4:3,e))}function ep(r,e){if(KD(r=In(r)))return lb("Unsupported field value:",e,r),QD(r,e);if(r instanceof ib)return function(n,i){if(!WD(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const c of n){let d=ep(c,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=In(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return L4(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=rr.fromDate(n);return{timestampValue:ug(i.serializer,a)}}if(n instanceof rr){const a=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ug(i.serializer,a)}}if(n instanceof hv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Td)return{bytesValue:dD(i.serializer,n._byteString)};if(n instanceof Gi){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:z0(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof sb)return function(l,c){return{mapValue:{fields:{[Vx]:{stringValue:Bx},[sg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return V0(c.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${uv(n)}`)}(r,e)}function QD(r,e){const t={};return Ox(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(r,(n,i)=>{const a=ep(i,e.qu(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function KD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rr||r instanceof hv||r instanceof Td||r instanceof Gi||r instanceof ib||r instanceof sb)}function lb(r,e,t){if(!KD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=uv(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function K_(r,e,t){if((e=In(e))instanceof dv)return e._internalPath;if(typeof e=="string")return ub(r,e);throw fg("Field path arguments must be of type string or ",r,!1,void 0,t)}const GU=new RegExp("[~\\*/\\[\\]]");function ub(r,e,t){if(e.search(GU)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new dv(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function fg(r,e,t,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Ye(Re.INVALID_ARGUMENT,c+r+d)}function XD(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WU extends ZD{data(){return super.data()}}function pv(r,e){return typeof e=="string"?ub(r,e):e instanceof dv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ye(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cb{}class JD extends cb{}function Of(r,e,...t){let n=[];e instanceof cb&&n.push(e),n=n.concat(t),function(a){const l=a.filter(d=>d instanceof db).length,c=a.filter(d=>d instanceof mv).length;if(l>1||l>0&&c>0)throw new Ye(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class mv extends JD{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new mv(e,t,n)}_apply(e){const t=this._parse(e);return eR(e._query,t),new nc(e.firestore,e.converter,V_(e._query,t))}_parse(e){const t=ob(e.firestore);return function(a,l,c,d,f,p,g){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ye(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){XT(g,p);const E=[];for(const M of g)E.push(KT(d,a,M));v={arrayValue:{values:E}}}else v=KT(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||XT(g,p),v=$U(c,l,g,p==="in"||p==="not-in");return gr.create(f,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function If(r,e,t){const n=e,i=pv("where",r);return mv._create(i,n,t)}class db extends cb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new db(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:sa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)eR(l,d),l=V_(l,d)}(e._query,t),new nc(e.firestore,e.converter,V_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hb extends JD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hb(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mf(a,l)}(e._query,this._field,this._direction);return new nc(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Vd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function QT(r,e="asc"){const t=e,n=pv("orderBy",r);return hb._create(n,t)}function KT(r,e,t){if(typeof(t=In(t))=="string"){if(t==="")throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(e)&&t.indexOf("/")!==-1)throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(On.fromString(t));if(!Je.isDocumentKey(n))throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return dT(r,new Je(n))}if(t instanceof Gi)return dT(r,t._key);throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uv(t)}.`)}function XT(r,e){if(!Array.isArray(r)||r.length===0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eR(r,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ye(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KU{convertValue(e,t="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return nu(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[sg].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>cr(l.doubleValue));return new sb(a)}convertGeoPoint(e){return new hv(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ev(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const t=$l(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=On.fromString(e);cn(vD(n));const i=new Df(n.get(1),n.get(3)),a=new Je(n.popFirst(5));return i.isEqual(t)||Io(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tR extends ZD{constructor(e,t,n,i,a,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(pv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vm extends tR{data(e={}){return super.data(e)}}class ZU{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new df(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Vm(this._firestore,this._userDataWriter,n.key,n,new df(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Vm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Vm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:JU(c.type),doc:d,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JU(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(r){r=Xl(r,Gi);const e=Xl(r.firestore,Jf);return IU(rb(e),r._key).then(t=>rj(e,r,t))}class nR extends KU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function Pf(r){r=Xl(r,nc);const e=Xl(r.firestore,Jf),t=rb(e),n=new nR(e);return QU(r._query),PU(t,r._query).then(i=>new ZU(e,n,r,i))}function tj(r,e,t,...n){r=Xl(r,Gi);const i=Xl(r.firestore,Jf),a=ob(i);let l;return l=typeof(e=In(e))=="string"||e instanceof dv?YU(a,"updateDoc",r._key,e,t,n):qU(a,"updateDoc",r._key,e),rR(i,[l.toMutation(r._key,Na.exists(!0))])}function nj(r,e){const t=Xl(r.firestore,Jf),n=nb(r),i=XU(r.converter,e);return rR(t,[HU(ob(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Na.exists(!1))]).then(()=>n)}function rR(r,e){return function(n,i){const a=new Co;return n.asyncQueue.enqueueAndForget(async()=>EU(await OU(n),i,a)),a.promise}(rb(r),e)}function rj(r,e,t){const n=t.docs.get(e._key),i=new nR(r);return new tR(r,i,e._key,n,new df(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Nd=i})(Zu),Hu(new ql("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new Jf(new $N(n.getProvider("auth-internal")),new QN(l,n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ye(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(f.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),La(J1,eT,e),La(J1,eT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebasestorage.googleapis.com",sR="storageBucket",ij=2*60*1e3,sj=10*60*1e3,aj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends za{constructor(e,t,n=0){super(r_(e),`Firebase Storage: ${t} (${r_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function r_(r){return"storage/"+r}function fb(){const r="An unknown error occurred, please check the error payload for server response.";return new $n(Pn.UNKNOWN,r)}function oj(r){return new $n(Pn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function lj(r){return new $n(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uj(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $n(Pn.UNAUTHENTICATED,r)}function cj(){return new $n(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dj(r){return new $n(Pn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function aR(){return new $n(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oR(){return new $n(Pn.CANCELED,"User canceled the upload/download.")}function hj(r){return new $n(Pn.INVALID_URL,"Invalid URL '"+r+"'.")}function fj(r){return new $n(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function pj(){return new $n(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sR+"' property when initializing the app?")}function lR(){return new $n(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mj(){return new $n(Pn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gj(){return new $n(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vj(r){return new $n(Pn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function X_(r){return new $n(Pn.INVALID_ARGUMENT,r)}function uR(){return new $n(Pn.APP_DELETED,"The Firebase app was deleted.")}function yj(r){return new $n(Pn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bf(r,e){return new $n(Pn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Xh(r){throw new $n(Pn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ci.makeFromUrl(e,t)}catch{return new Ci(e,"")}if(n.path==="")return n;throw fj(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${v}`,"i"),E={bucket:1,path:3},M=t===iR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",L=new RegExp(`^https?://${M}/${i}/${x}`,"i"),Y=[{regex:c,indices:d,postModify:a},{regex:b,indices:E,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<Y.length;H++){const G=Y[H],q=G.regex.exec(e);if(q){const P=q[G.indices.bucket];let C=q[G.indices.path];C||(C=""),n=new Ci(P,C),G.postModify(n);break}}if(n==null)throw hj(e);return n}}class _j{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(r,e,t){let n=1,i=null,a=null,l=!1,c=0;function d(){return c===2}let f=!1;function p(...x){f||(f=!0,e.apply(null,x))}function g(x){i=setTimeout(()=>{i=null,r(b,d())},x)}function v(){a&&clearTimeout(a)}function b(x,...L){if(f){v();return}if(x){v(),p.call(null,x,...L);return}if(d()||l){v(),p.call(null,x,...L);return}n<64&&(n*=2);let Y;c===1?(c=2,Y=0):Y=(n+Math.random())*1e3,g(Y)}let E=!1;function M(x){E||(E=!0,v(),!f&&(i!==null?(x||(c=2),clearTimeout(i),g(0)):x||(c=1)))}return g(0),a=setTimeout(()=>{l=!0,M(!0)},t),M}function wj(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(r){return r!==void 0}function Tj(r){return typeof r=="function"}function Sj(r){return typeof r=="object"&&!Array.isArray(r)}function gv(r){return typeof r=="string"||r instanceof String}function ZT(r){return pb()&&r instanceof Blob}function pb(){return typeof Blob<"u"}function Z_(r,e,t,n){if(n<e)throw X_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw X_(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function cR(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var ju;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ju||(ju={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t,n,i,a,l,c,d,f,p,g,v=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,E)=>{this.resolve_=b,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new vm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===ju.NO_ERROR,d=a.getStatus();if(!c||dR(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===ju.ABORT;n(!1,new vm(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new vm(f,a))})},t=(n,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());Ej(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=fb();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?uR():oR();l(d)}else{const d=aR();l(d)}};this.canceled_?t(!1,new vm(!1,null,!0)):this.backoffId_=bj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Aj(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xj(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dj(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Rj(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Mj(r,e,t,n,i,a,l=!0){const c=cR(r.urlParams),d=r.url+c,f=Object.assign({},r.headers);return Dj(f,e),Aj(f,t),xj(f,a),Rj(f,n),new Cj(d,r.method,f,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lj(...r){const e=kj();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(pb())return new Blob(r);throw new $n(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Oj(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(r){if(typeof atob>"u")throw vj("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class i_{constructor(e,t){this.data=e,this.contentType=t||null}}function Pj(r,e){switch(r){case Ma.RAW:return new i_(hR(e));case Ma.BASE64:case Ma.BASE64URL:return new i_(fR(r,e));case Ma.DATA_URL:return new i_(Uj(e),jj(e))}throw fb()}function hR(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=r.charCodeAt(++t);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Nj(r){let e;try{e=decodeURIComponent(r)}catch{throw bf(Ma.DATA_URL,"Malformed data URL.")}return hR(e)}function fR(r,e){switch(r){case Ma.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw bf(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ma.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw bf(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Ij(e)}catch(i){throw i.message.includes("polyfill")?i:bf(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class pR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bf(Ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=Vj(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Uj(r){const e=new pR(r);return e.base64?fR(Ma.BASE64,e.rest):Nj(e.rest)}function jj(r){return new pR(r).contentType}function Vj(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){let n=0,i="";ZT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(ZT(this.data_)){const n=this.data_,i=Oj(n,e,t);return i===null?null:new bo(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new bo(n,!0)}}static getBlob(...e){if(pb()){const t=e.map(n=>n instanceof bo?n.data_:n);return new bo(Lj.apply(null,t))}else{const t=e.map(l=>gv(l)?Pj(Ma.RAW,l).data:l.data_);let n=0;t.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new bo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){let e;try{e=JSON.parse(r)}catch{return null}return Sj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Fj(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function mR(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(r,e){return e}class Ti{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||zj}}let ym=null;function Hj(r){return!gv(r)||r.length<2?r:mR(r)}function gb(){if(ym)return ym;const r=[];r.push(new Ti("bucket")),r.push(new Ti("generation")),r.push(new Ti("metageneration")),r.push(new Ti("name","fullPath",!0));function e(a,l){return Hj(l)}const t=new Ti("name");t.xform=e,r.push(t);function n(a,l){return l!==void 0?Number(l):l}const i=new Ti("size");return i.xform=n,r.push(i),r.push(new Ti("timeCreated")),r.push(new Ti("updated")),r.push(new Ti("md5Hash",null,!0)),r.push(new Ti("cacheControl",null,!0)),r.push(new Ti("contentDisposition",null,!0)),r.push(new Ti("contentEncoding",null,!0)),r.push(new Ti("contentLanguage",null,!0)),r.push(new Ti("contentType",null,!0)),r.push(new Ti("metadata","customMetadata",!0)),ym=r,ym}function qj(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Ci(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function Yj(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];n[l.local]=l.xform(n,e[l.server])}return qj(n,r),n}function gR(r,e,t){const n=mb(e);return n===null?null:Yj(r,n,t)}function $j(r,e,t,n){const i=mb(e);if(i===null||!gv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const p=r.bucket,g=r.fullPath,v="/b/"+l(p)+"/o/"+l(g),b=rc(v,t,n),E=cR({alt:"media",token:f});return b+E})[0]}function vR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="prefixes",eS="items";function Gj(r,e,t){const n={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[JT])for(const i of t[JT]){const a=i.replace(/\/$/,""),l=r._makeStorageReference(new Ci(e,a));n.prefixes.push(l)}if(t[eS])for(const i of t[eS]){const a=r._makeStorageReference(new Ci(e,i.name));n.items.push(a)}return n}function Wj(r,e,t){const n=mb(t);return n===null?null:Gj(r,e,n)}class iu{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(r){if(!r)throw fb()}function vb(r,e){function t(n,i){const a=gR(r,i,e);return ja(a!==null),a}return t}function Qj(r,e){function t(n,i){const a=Wj(r,e,i);return ja(a!==null),a}return t}function Kj(r,e){function t(n,i){const a=gR(r,i,e);return ja(a!==null),$j(a,i,r.host,r._protocol)}return t}function Fd(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=cj():i=uj():t.getStatus()===402?i=lj(r.bucket):t.getStatus()===403?i=dj(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function yb(r){const e=Fd(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=oj(r.path)),a.serverResponse=i.serverResponse,a}return t}function Xj(r,e,t){const n=e.fullServerUrl(),i=rc(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,c=new iu(i,a,vb(r,t),l);return c.errorHandler=yb(e),c}function Zj(r,e,t,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),n&&(a.pageToken=n),i&&(a.maxResults=i);const l=e.bucketOnlyServerUrl(),c=rc(l,r.host,r._protocol),d="GET",f=r.maxOperationRetryTime,p=new iu(c,d,Qj(r,e.bucket),f);return p.urlParams=a,p.errorHandler=Fd(e),p}function Jj(r,e,t){const n=e.fullServerUrl(),i=rc(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,c=new iu(i,a,Kj(r,t),l);return c.errorHandler=yb(e),c}function eV(r,e){const t=e.fullServerUrl(),n=rc(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function l(d,f){}const c=new iu(n,i,l,a);return c.successCodes=[200,204],c.errorHandler=yb(e),c}function tV(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function yR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=tV(null,e)),n}function _R(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let Y="";for(let H=0;H<2;H++)Y=Y+Math.random().toString().slice(2);return Y}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=yR(e,n,i),p=vR(f,t),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",b=bo.getBlob(g,n,v);if(b===null)throw lR();const E={name:f.fullPath},M=rc(a,r.host,r._protocol),x="POST",L=r.maxUploadRetryTime,$=new iu(M,x,vb(r,t),L);return $.urlParams=E,$.headers=l,$.body=b.uploadData(),$.errorHandler=Fd(e),$}class pg{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function _b(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{ja(!1)}return ja(!!t&&(e||["active"]).indexOf(t)!==-1),t}function nV(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l=yR(e,n,i),c={name:l.fullPath},d=rc(a,r.host,r._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},g=vR(l,t),v=r.maxUploadRetryTime;function b(M){_b(M);let x;try{x=M.getResponseHeader("X-Goog-Upload-URL")}catch{ja(!1)}return ja(gv(x)),x}const E=new iu(d,f,b,v);return E.urlParams=c,E.headers=p,E.body=g,E.errorHandler=Fd(e),E}function rV(r,e,t,n){const i={"X-Goog-Upload-Command":"query"};function a(f){const p=_b(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ja(!1)}g||ja(!1);const v=Number(g);return ja(!isNaN(v)),new pg(v,n.size(),p==="final")}const l="POST",c=r.maxUploadRetryTime,d=new iu(t,l,a,c);return d.headers=i,d.errorHandler=Fd(e),d}const tS=256*1024;function iV(r,e,t,n,i,a,l,c){const d=new pg(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=n.size()),n.size()!==d.total)throw mj();const f=d.total-d.current;let p=f;i>0&&(p=Math.min(p,i));const g=d.current,v=g+p;let b="";p===0?b="finalize":f===p?b="upload, finalize":b="upload";const E={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${d.current}`},M=n.slice(g,v);if(M===null)throw lR();function x(H,G){const q=_b(H,["active","final"]),P=d.current+p,C=n.size();let S;return q==="final"?S=vb(e,a)(H,G):S=null,new pg(P,C,q==="final",S)}const L="POST",$=e.maxUploadRetryTime,Y=new iu(t,L,x,$);return Y.headers=E,Y.body=M.uploadData(),Y.progressCallback=c||null,Y.errorHandler=Fd(r),Y}const qi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function s_(r){switch(r){case"running":case"pausing":case"canceling":return qi.RUNNING;case"paused":return qi.PAUSED;case"success":return qi.SUCCESS;case"canceled":return qi.CANCELED;case"error":return qi.ERROR;default:return qi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,t,n){if(Tj(e)||t!=null||n!=null)this.next=e,this.error=t??void 0,this.complete=n??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class aV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ju.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ju.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ju.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i){if(this.sent_)throw Xh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oV extends aV{initXhr(){this.xhr_.responseType="text"}}function wo(){return new oV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=gb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(dR(i.status,[]))if(a)i=aR();else{this.sleepTime=Math.max(this.sleepTime*2,aj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const n=nV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,wo,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const i=rV(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,wo,t,n);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=tS*this._chunkMultiplier,t=new pg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=iV(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,wo,i,a,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){tS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Xj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,wo,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=_R(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,wo,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=oR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=s_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const a=new sV(t||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(s_(this._state)){case qi.SUCCESS:Xc(this._resolve.bind(null,this.snapshot))();break;case qi.CANCELED:case qi.ERROR:const t=this._reject;Xc(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(s_(this._state)){case qi.RUNNING:case qi.PAUSED:e.next&&Xc(e.next.bind(e,this.snapshot))();break;case qi.SUCCESS:e.complete&&Xc(e.complete.bind(e))();break;case qi.CANCELED:case qi.ERROR:e.error&&Xc(e.error.bind(e,this._error))();break;default:e.error&&Xc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this._service=e,t instanceof Ci?this._location=t:this._location=Ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gu(e,t)}get root(){const e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mR(this._location.path)}get storage(){return this._service}get parent(){const e=Bj(this._location.path);if(e===null)return null;const t=new Ci(this._location.bucket,e);return new Gu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yj(e)}}function uV(r,e,t){r._throwIfRoot("uploadBytes");const n=_R(r.storage,r._location,gb(),new bo(e,!0),t);return r.storage.makeRequestWithTokens(n,wo).then(i=>({metadata:i,ref:r}))}function cV(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new lV(r,new bo(e),t)}function dV(r){const e={prefixes:[],items:[]};return bR(r,e).then(()=>e)}async function bR(r,e,t){const i=await hV(r,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await bR(r,e,i.nextPageToken)}function hV(r,e){e!=null&&typeof e.maxResults=="number"&&Z_("options.maxResults",1,1e3,e.maxResults);const t=e||{},n=Zj(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(n,wo)}function fV(r){r._throwIfRoot("getDownloadURL");const e=Jj(r.storage,r._location,gb());return r.storage.makeRequestWithTokens(e,wo).then(t=>{if(t===null)throw gj();return t})}function pV(r){r._throwIfRoot("deleteObject");const e=eV(r.storage,r._location);return r.storage.makeRequestWithTokens(e,wo)}function mV(r,e){const t=Fj(r._location.path,e),n=new Ci(r._location.bucket,t);return new Gu(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(r){return/^[A-Za-z]+:\/\//.test(r)}function vV(r,e){return new Gu(r,e)}function wR(r,e){if(r instanceof bb){const t=r;if(t._bucket==null)throw pj();const n=new Gu(t,t._bucket);return e!=null?wR(n,e):n}else return e!==void 0?mV(r,e):r}function yV(r,e){if(e&&gV(e)){if(r instanceof bb)return vV(r,e);throw X_("To use ref(service, url), the first argument must be a Storage instance.")}else return wR(r,e)}function nS(r,e){const t=e==null?void 0:e[sR];return t==null?null:Ci.makeFromBucketSpec(t,r)}function _V(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:UA(i,r.app.options.projectId))}class bb{constructor(e,t,n,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=iR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ij,this._maxUploadRetryTime=sj,this._requests=new Set,i!=null?this._bucket=Ci.makeFromBucketSpec(i,this._host):this._bucket=nS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ci.makeFromBucketSpec(this._url,e):this._bucket=nS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gu(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new _j(uR());{const l=Mj(e,this._appId,n,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const rS="@firebase/storage",iS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="storage";function TR(r,e,t){return r=In(r),uV(r,e,t)}function bV(r,e,t){return r=In(r),cV(r,e,t)}function a_(r){return r=In(r),dV(r)}function hf(r){return r=In(r),fV(r)}function sS(r){return r=In(r),pV(r)}function Cl(r,e){return r=In(r),yV(r,e)}function wV(r=E0(),e){r=In(r);const n=Gg(r,ER).getImmediate({identifier:e}),i=IA("storage");return i&&EV(n,...i),n}function EV(r,e,t,n={}){_V(r,e,t,n)}function TV(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new bb(t,n,i,e,Zu)}function SV(){Hu(new ql(ER,TV,"PUBLIC").setMultipleInstances(!0)),La(rS,iS,""),La(rS,iS,"esm2017")}SV();const CV={apiKey:"AIzaSyAcOv9f-14NF_b15KExdQC1h8LUZa0tSpo",authDomain:"chaaya.ai",projectId:"photoshoto-a7226",storageBucket:"gs://photoshoto-a7226.appspot.com",messagingSenderId:"662675060225",appId:"1:662675060225:web:71903d0e60c17cebc9f200"},wb=BA(CV),Qr=zN(wb),Pl=jU(wb),Al=wV(wb),SR=T.createContext();function Eb(){return T.useContext(SR)}function AV({children:r}){const[e,t]=T.useState(null),[n,i]=T.useState(!0);T.useEffect(()=>hx(Qr,f=>{t(f),i(!1)}),[]);const c={user:e,login:(d,f)=>DP(Qr,d,f),logout:()=>kP(Qr)};return R.jsx(SR.Provider,{value:c,children:!n&&r})}function xV({children:r}){const{user:e}=Eb();return e?r:R.jsx(TA,{to:"/login"})}var CR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=ve.createContext&&ve.createContext(CR),DV=["attr","size","title"];function RV(r,e){if(r==null)return{};var t=MV(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function MV(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function mg(){return mg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mg.apply(this,arguments)}function oS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(t),!0).forEach(function(n){kV(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kV(r,e,t){return e=LV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LV(r){var e=OV(r,"string");return typeof e=="symbol"?e:e+""}function OV(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function AR(r){return r&&r.map((e,t)=>ve.createElement(e.tag,gg({key:t},e.attr),AR(e.child)))}function Gn(r){return e=>ve.createElement(IV,mg({attr:gg({},r.attr)},e),AR(r.child))}function IV(r){var e=t=>{var{attr:n,size:i,title:a}=r,l=RV(r,DV),c=i||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),ve.createElement("svg",mg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:d,style:gg(gg({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ve.createElement("title",null,a),r.children)};return aS!==void 0?ve.createElement(aS.Consumer,null,t=>e(t)):e(CR)}function xR(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(r)}function PV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(r)}function NV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function UV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function jV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"},child:[]}]})(r)}function DR(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},child:[]}]})(r)}function VV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(r)}function RR(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},child:[]}]})(r)}function BV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function FV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},child:[]}]})(r)}function lS(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(r)}function zV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(r)}function HV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},child:[]}]})(r)}function uS(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(r)}function qV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"},child:[]}]})(r)}function cS(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function YV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function $V(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},child:[]}]})(r)}function dS(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"},child:[]}]})(r)}function GV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function WV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 011-1h1V6a1 1 0 012 0v1h1a1 1 0 110 2H9v1a1 1 0 11-2 0V9H6a1 1 0 01-1-1z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8zm6-4a4 4 0 100 8 4 4 0 000-8z",clipRule:"evenodd"},child:[]}]})(r)}function QV(r){return Gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5 8a1 1 0 011-1h4a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}const KV=({isOpen:r,toggleSidebar:e})=>{const t=Uo();return R.jsxs("div",{className:`sidebar ${r?"open":""}`,children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[R.jsx(Dl,{to:"/",className:"text-decoration-none",children:R.jsx("img",{src:"/dashboard_event/images/wawasensei-white.png",alt:"Chaaya.ai",style:{height:"84px",width:"auto"},className:"sidebar-logo"})}),R.jsx("button",{className:"btn d-md-none",onClick:e,children:R.jsx(GV,{})})]}),R.jsxs("div",{className:"nav flex-column nav-pills",children:[R.jsxs(Dl,{to:"/",className:`nav-link ${t.pathname==="/"?"active":""}`,"data-discover":"true",children:[R.jsx(VV,{className:"me-2"}),"Dashboard"]}),R.jsxs(Dl,{to:"/events",className:`nav-link ${t.pathname==="/events"?"active":""}`,"data-discover":"true",children:[R.jsx(xR,{className:"me-2"}),"Events"]}),R.jsxs(Dl,{to:"/analytics",className:`nav-link ${t.pathname==="/analytics"?"active":""}`,"data-discover":"true",children:[R.jsx(PV,{className:"me-2"}),"Analytics"]}),R.jsxs(Dl,{to:"/attendees",className:`nav-link ${t.pathname==="/attendees"?"active":""}`,"data-discover":"true",children:[R.jsx($V,{className:"me-2"}),"Attendees"]}),R.jsx("div",{className:"nav-item",children:R.jsxs(Dl,{to:"/folders",className:`nav-link ${t.pathname==="/folders"?"active":""}`,"data-discover":"true",children:[R.jsx(DR,{className:"me-2"}),"Folders"]})})]})]})};function XV(r){return Gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function ZV({toggleSidebar:r}){const{darkMode:e,toggleTheme:t}=WL(),{user:n,logout:i}=Eb(),a=zf(),l=async()=>{try{await i(),a("/login")}catch(c){console.error("Failed to log out:",c)}};return R.jsx("nav",{className:"navbar navbar-expand-lg mb-4",children:R.jsxs("div",{className:"container-fluid",children:[R.jsx("button",{className:"btn d-md-none",onClick:r,children:R.jsx(BV,{size:24})}),R.jsx("div",{className:"d-flex align-items-center",children:R.jsx("input",{type:"search",className:"form-control ms-2",placeholder:"Search..."})}),R.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[R.jsx("button",{className:"theme-toggle me-3",onClick:t,"aria-label":"Toggle theme",children:e?R.jsx(qV,{size:24}):R.jsx(FV,{size:24})}),R.jsxs("div",{className:"dropdown",children:[R.jsx("button",{className:"btn btn-link",type:"button",id:"profileDropdown","data-bs-toggle":"dropdown",children:R.jsx(XV,{size:32,className:"text-primary"})}),R.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[R.jsx("li",{children:R.jsx("span",{className:"dropdown-item-text",children:n==null?void 0:n.email})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("button",{className:"dropdown-item",onClick:l,children:"Logout"})})]})]})]})]})})}function JV(){const[r,e]=T.useState(!1);return R.jsxs("div",{className:"dashboard-container",children:[R.jsx(KV,{isOpen:r,toggleSidebar:()=>e(!r)}),R.jsxs("div",{className:"main-content",children:[R.jsx(ZV,{toggleSidebar:()=>e(!r)}),R.jsx("div",{className:"container-fluid",children:R.jsx(hL,{})})]})]})}function e6(){const[r,e]=T.useState(""),[t,n]=T.useState(""),[i,a]=T.useState(""),[l,c]=T.useState(!1),d=zf(),{login:f}=Eb();async function p(g){g.preventDefault();try{a(""),c(!0),await f(r,t),d("/")}catch(v){a("Failed to sign in: "+v.message)}finally{c(!1)}}return R.jsx("div",{className:"auth-wrapper",children:R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx("h2",{className:"text-center mb-4",children:"Login"}),i&&R.jsx("div",{className:"alert alert-danger",children:i}),R.jsxs("form",{onSubmit:p,children:[R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Email"}),R.jsx("input",{type:"email",className:"form-control",value:r,onChange:g=>e(g.target.value),required:!0})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Password"}),R.jsx("input",{type:"password",className:"form-control",value:t,onChange:g=>n(g.target.value),required:!0})]}),R.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:l,children:l?"Logging in...":"Login"})]})]})})})}function t6(){return R.jsx("div",{className:"container-fluid",children:R.jsx("div",{className:"row",children:R.jsxs("div",{className:"col-12",children:[R.jsx("h2",{className:"mb-4",children:"Dashboard Overview"}),R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"col-md-3 mb-4",children:R.jsxs("div",{className:"stat-card",children:[R.jsx("h3",{children:"Total Events"}),R.jsx("h2",{children:"156"})]})}),R.jsx("div",{className:"col-md-3 mb-4",children:R.jsxs("div",{className:"stat-card",children:[R.jsx("h3",{children:"Active Events"}),R.jsx("h2",{children:"32"})]})}),R.jsx("div",{className:"col-md-3 mb-4",children:R.jsxs("div",{className:"stat-card",children:[R.jsx("h3",{children:"Total Revenue"}),R.jsx("h2",{children:"$45,678"})]})}),R.jsx("div",{className:"col-md-3 mb-4",children:R.jsxs("div",{className:"stat-card",children:[R.jsx("h3",{children:"Attendees"}),R.jsx("h2",{children:"1,234"})]})})]}),R.jsxs("div",{className:"table-responsive mt-4",children:[R.jsx("h3",{className:"mb-4",children:"Recent Events"}),R.jsxs("table",{className:"table",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Event Name"}),R.jsx("th",{children:"Date"}),R.jsx("th",{children:"Location"}),R.jsx("th",{children:"Status"})]})}),R.jsxs("tbody",{children:[R.jsxs("tr",{children:[R.jsx("td",{children:"Summer Music Festival"}),R.jsx("td",{children:"2024-06-15"}),R.jsx("td",{children:"Central Park"}),R.jsx("td",{children:R.jsx("span",{className:"badge bg-success",children:"Active"})})]}),R.jsxs("tr",{children:[R.jsx("td",{children:"Tech Conference 2024"}),R.jsx("td",{children:"2024-07-20"}),R.jsx("td",{children:"Convention Center"}),R.jsx("td",{children:R.jsx("span",{className:"badge bg-warning",children:"Pending"})})]})]})]})]})]})})})}function MR(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=MR(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Zr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=MR(r))&&(n&&(n+=" "),n+=e);return n}const kR=6048e5,n6=864e5,vv=6e4,yv=36e5,r6=1e3,hS=Symbol.for("constructDateFrom");function vn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&hS in r?r[hS](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ke(r,e){return vn(e||r,r)}function na(r,e,t){const n=Ke(r,t==null?void 0:t.in);return isNaN(e)?vn((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function aa(r,e,t){const n=Ke(r,t==null?void 0:t.in);if(isNaN(e))return vn(r,NaN);if(!e)return n;const i=n.getDate(),a=vn(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function LR(r,e,t){return vn(r,+Ke(r)+e)}function i6(r,e,t){return LR(r,e*yv)}let s6={};function ic(){return s6}function No(r,e){var c,d,f,p;const t=ic(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Ke(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Sd(r,e){return No(r,{...e,weekStartsOn:1})}function OR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=vn(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Sd(i),l=vn(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Sd(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function vg(r){const e=Ke(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function jo(r,...e){const t=vn.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Wu(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Cd(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e),a=Wu(n),l=Wu(i),c=+a-vg(a),d=+l-vg(l);return Math.round((c-d)/n6)}function a6(r,e){const t=OR(r,e),n=vn(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Sd(n)}function J_(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*vv),n}function Tb(r,e,t){return aa(r,e*3,t)}function o6(r,e,t){return LR(r,e*1e3)}function yg(r,e,t){return na(r,e*7,t)}function Ao(r,e,t){return aa(r,e*12,t)}function fS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vn.bind(null,i));const a=Ke(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),vn(n,t||NaN)}function pS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vn.bind(null,i));const a=Ke(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),vn(n,t||NaN)}function l6(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e);return+Wu(n)==+Wu(i)}function xo(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function _g(r){return!(!xo(r)&&typeof r!="number"||isNaN(+Ke(r)))}function bg(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return a*12+l}function Vu(r,e){const t=Ke(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function wg(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=Vu(n)-Vu(i);return a*4+l}function Eg(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function u6(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e),a=mS(n,i),l=Math.abs(Cd(n,i));n.setDate(n.getDate()-a*l);const c=+(mS(n,i)===-a),d=a*(l-c);return d===0?0:d}function mS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function IR(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function PR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function e0(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function NR(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function UR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function _v(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function c6(r,e){var c,d;const t=ic(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const d6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h6=(r,e,t)=>{let n;const i=d6[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function o_(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const f6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g6={date:o_({formats:f6,defaultWidth:"full"}),time:o_({formats:p6,defaultWidth:"full"}),dateTime:o_({formats:m6,defaultWidth:"full"})},v6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y6=(r,e,t,n)=>v6[r];function Zh(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const _6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C6=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},A6={ordinalNumber:C6,era:Zh({values:_6,defaultWidth:"wide"}),quarter:Zh({values:b6,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Zh({values:w6,defaultWidth:"wide"}),day:Zh({values:E6,defaultWidth:"wide"}),dayPeriod:Zh({values:T6,defaultWidth:"wide",formattingValues:S6,defaultFormattingWidth:"wide"})};function Jh(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?D6(c,g=>g.test(l)):x6(c,g=>g.test(l));let f;f=r.valueCallback?r.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function x6(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function D6(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function R6(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const M6=/^(\d+)(th|st|nd|rd)?/i,k6=/\d+/i,L6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O6={any:[/^b/i,/^(a|c)/i]},I6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P6={any:[/1/i,/2/i,/3/i,/4/i]},N6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z6={ordinalNumber:R6({matchPattern:M6,parsePattern:k6,valueCallback:r=>parseInt(r,10)}),era:Jh({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),quarter:Jh({matchPatterns:I6,defaultMatchWidth:"wide",parsePatterns:P6,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Jh({matchPatterns:N6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),day:Jh({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any"}),dayPeriod:Jh({matchPatterns:B6,defaultMatchWidth:"any",parsePatterns:F6,defaultParseWidth:"any"})},jR={code:"en-US",formatDistance:h6,formatLong:g6,formatRelative:y6,localize:A6,match:z6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function H6(r,e){const t=Ke(r,e==null?void 0:e.in);return Cd(t,_v(t))+1}function Sb(r,e){const t=Ke(r,e==null?void 0:e.in),n=+Sd(t)-+a6(t);return Math.round(n/kR)+1}function Cb(r,e){var p,g,v,b;const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=ic(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=vn((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=No(l,e),d=vn((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const f=No(d,e);return+t>=+c?n+1:+t>=+f?n:n-1}function q6(r,e){var c,d,f,p;const t=ic(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=Cb(r,e),a=vn((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),No(a,e)}function VR(r,e){const t=Ke(r,e==null?void 0:e.in),n=+No(t,e)-+q6(t,e);return Math.round(n/kR)+1}function gn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Sl={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return gn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):gn(t+1,2)},d(r,e){return gn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return gn(r.getHours()%12||12,e.length)},H(r,e){return gn(r.getHours(),e.length)},m(r,e){return gn(r.getMinutes(),e.length)},s(r,e){return gn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return gn(i,e.length)}},Zc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Sl.y(r,e)},Y:function(r,e,t,n){const i=Cb(r,n),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return gn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):gn(a,e.length)},R:function(r,e){const t=OR(r);return gn(t,e.length)},u:function(r,e){const t=r.getFullYear();return gn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return gn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return gn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Sl.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return gn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=VR(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):gn(i,e.length)},I:function(r,e,t){const n=Sb(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):gn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Sl.d(r,e)},D:function(r,e,t){const n=H6(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):gn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return gn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return gn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return gn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Zc.noon:n===0?i=Zc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Zc.evening:n>=12?i=Zc.afternoon:n>=4?i=Zc.morning:i=Zc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Sl.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Sl.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):gn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):gn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Sl.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Sl.s(r,e)},S:function(r,e){return Sl.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return yS(n);case"XXXX":case"XX":return Ou(n);case"XXXXX":case"XXX":default:return Ou(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return yS(n);case"xxxx":case"xx":return Ou(n);case"xxxxx":case"xxx":default:return Ou(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vS(n,":");case"OOOO":default:return"GMT"+Ou(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vS(n,":");case"zzzz":default:return"GMT"+Ou(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return gn(n,e.length)},T:function(r,e,t){return gn(+r,e.length)}};function vS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+gn(a,2)}function yS(r,e){return r%60===0?(r>0?"-":"+")+gn(Math.abs(r)/60,2):Ou(r,e)}function Ou(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=gn(Math.trunc(n/60),2),a=gn(n%60,2);return t+i+e+a}const _S=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BR=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Y6=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return _S(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",_S(n,e)).replace("{{time}}",BR(i,e))},t0={p:BR,P:Y6},$6=/^D+$/,G6=/^Y+$/,W6=["D","DD","YY","YYYY"];function Q6(r){return $6.test(r)}function K6(r){return G6.test(r)}function X6(r,e,t){const n=Z6(r,e,t);if(console.warn(n),W6.includes(r))throw new RangeError(n)}function Z6(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t5=/^'([^]*?)'?$/,n5=/''/g,r5=/[a-zA-Z]/;function Nf(r,e,t){var p,g,v,b,E,M,x,L;const n=ic(),i=(t==null?void 0:t.locale)??n.locale??jR,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((M=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:M.weekStartsOn)??n.weekStartsOn??((L=(x=n.locale)==null?void 0:x.options)==null?void 0:L.weekStartsOn)??0,c=Ke(r,t==null?void 0:t.in);if(!_g(c))throw new RangeError("Invalid time value");let d=e.match(e5).map($=>{const Y=$[0];if(Y==="p"||Y==="P"){const H=t0[Y];return H($,i.formatLong)}return $}).join("").match(J6).map($=>{if($==="''")return{isToken:!1,value:"'"};const Y=$[0];if(Y==="'")return{isToken:!1,value:i5($)};if(gS[Y])return{isToken:!0,value:$};if(Y.match(r5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return{isToken:!1,value:$}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map($=>{if(!$.isToken)return $.value;const Y=$.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&K6(Y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Q6(Y))&&X6(Y,e,String(r));const H=gS[Y[0]];return H(c,Y,i.localize,f)}).join("")}function i5(r){const e=r.match(t5);return e?e[1].replace(n5,"'"):r}function bS(r,e){return Ke(r,e==null?void 0:e.in).getDate()}function s5(r,e){return Ke(r,e==null?void 0:e.in).getDay()}function a5(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),a=vn(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function o5(){return Object.assign({},ic())}function Do(r,e){return Ke(r,e==null?void 0:e.in).getHours()}function l5(r,e){const t=Ke(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Ro(r,e){return Ke(r,e==null?void 0:e.in).getMinutes()}function Ai(r,e){return Ke(r,e==null?void 0:e.in).getMonth()}function zl(r){return Ke(r).getSeconds()}function n0(r){return+Ke(r)}function At(r,e){return Ke(r,e==null?void 0:e.in).getFullYear()}function Zl(r,e){return+Ke(r)>+Ke(e)}function Qu(r,e){return+Ke(r)<+Ke(e)}function u5(r,e){return+Ke(r)==+Ke(e)}function c5(r,e){const t=d5(e)?new e(0):vn(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function d5(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const h5=10;class FR{constructor(){He(this,"subPriority",0)}validate(e,t){return!0}}class f5 extends FR{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class p5 extends FR{constructor(t,n){super();He(this,"priority",h5);He(this,"subPriority",-1);this.context=t||(i=>vn(n,i))}set(t,n){return n.timestampIsSet?t:vn(t,c5(t,this.context))}}class an{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new f5(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class m5 extends an{constructor(){super(...arguments);He(this,"priority",140);He(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const dr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Da={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hr(r,e){return r&&{value:e(r.value),rest:r.rest}}function qn(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ra(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*yv+a*vv+l*r6),rest:e.slice(t[0].length)}}function zR(r){return qn(dr.anyDigitsSigned,r)}function ir(r,e){switch(r){case 1:return qn(dr.singleDigit,e);case 2:return qn(dr.twoDigits,e);case 3:return qn(dr.threeDigits,e);case 4:return qn(dr.fourDigits,e);default:return qn(new RegExp("^\\d{1,"+r+"}"),e)}}function Tg(r,e){switch(r){case 1:return qn(dr.singleDigitSigned,e);case 2:return qn(dr.twoDigitsSigned,e);case 3:return qn(dr.threeDigitsSigned,e);case 4:return qn(dr.fourDigitsSigned,e);default:return qn(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Ab(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function HR(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,l=Math.trunc(a/100)*100,c=r>=a%100;i=r+l-(c?100:0)}return t?i:1-i}function qR(r){return r%400===0||r%4===0&&r%100!==0}class g5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return hr(ir(4,t),a);case"yo":return hr(i.ordinalNumber(t,{unit:"year"}),a);default:return hr(ir(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const a=t.getFullYear();if(i.isTwoDigitYear){const c=HR(i.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class v5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return hr(ir(4,t),a);case"Yo":return hr(i.ordinalNumber(t,{unit:"year"}),a);default:return hr(ir(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,a){const l=Cb(t,a);if(i.isTwoDigitYear){const d=HR(i.year,l);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),No(t,a)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),No(t,a)}}class y5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Tg(n==="R"?4:n.length,t)}set(t,n,i){const a=vn(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Sd(a)}}class _5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Tg(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class b5 extends an{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return ir(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class w5 extends an{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return ir(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class E5 extends an{constructor(){super(...arguments);He(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);He(this,"priority",110)}parse(t,n,i){const a=l=>l-1;switch(n){case"M":return hr(qn(dr.month,t),a);case"MM":return hr(ir(2,t),a);case"Mo":return hr(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class T5 extends an{constructor(){super(...arguments);He(this,"priority",110);He(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const a=l=>l-1;switch(n){case"L":return hr(qn(dr.month,t),a);case"LL":return hr(ir(2,t),a);case"Lo":return hr(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function S5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=VR(n,t)-e;return n.setDate(n.getDate()-i*7),Ke(n,t==null?void 0:t.in)}class C5 extends an{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return qn(dr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,a){return No(S5(t,i,a),a)}}function A5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=Sb(n,t)-e;return n.setDate(n.getDate()-i*7),n}class x5 extends an{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return qn(dr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Sd(A5(t,i))}}const D5=[31,28,31,30,31,30,31,31,30,31,30,31],R5=[31,29,31,30,31,30,31,31,30,31,30,31];class M5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"subPriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return qn(dr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ir(n.length,t)}}validate(t,n){const i=t.getFullYear(),a=qR(i),l=t.getMonth();return a?n>=1&&n<=R5[l]:n>=1&&n<=D5[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class k5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"subpriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return qn(dr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ir(n.length,t)}}validate(t,n){const i=t.getFullYear();return qR(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function xb(r,e,t){var g,v,b,E;const n=ic(),i=(t==null?void 0:t.weekStartsOn)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((E=(b=n.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,a=Ke(r,t==null?void 0:t.in),l=a.getDay(),d=(e%7+7)%7,f=7-i,p=e<0||e>6?e-(l+f)%7:(d+f)%7-(l+f)%7;return na(a,p,t)}class L5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xb(t,i,a),t.setHours(0,0,0,0),t}}class O5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,a){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return hr(ir(n.length,t),l);case"eo":return hr(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xb(t,i,a),t.setHours(0,0,0,0),t}}class I5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,a){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return hr(ir(n.length,t),l);case"co":return hr(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=xb(t,i,a),t.setHours(0,0,0,0),t}}function P5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=l5(n,t),a=e-i;return na(n,a,t)}class N5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const a=l=>l===0?7:l;switch(n){case"i":case"ii":return ir(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return hr(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return hr(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return hr(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return hr(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=P5(t,i),t.setHours(0,0,0,0),t}}class U5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Ab(i),0,0,0),t}}class j5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Ab(i),0,0,0),t}}class V5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Ab(i),0,0,0),t}}class B5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return qn(dr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class F5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return qn(dr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class z5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return qn(dr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class H5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return qn(dr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class q5 extends an{constructor(){super(...arguments);He(this,"priority",60);He(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return qn(dr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class Y5 extends an{constructor(){super(...arguments);He(this,"priority",50);He(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return qn(dr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class $5 extends an{constructor(){super(...arguments);He(this,"priority",30);He(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return hr(ir(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class G5 extends an{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Ra(Da.basicOptionalMinutes,t);case"XX":return Ra(Da.basic,t);case"XXXX":return Ra(Da.basicOptionalSeconds,t);case"XXXXX":return Ra(Da.extendedOptionalSeconds,t);case"XXX":default:return Ra(Da.extended,t)}}set(t,n,i){return n.timestampIsSet?t:vn(t,t.getTime()-vg(t)-i)}}class W5 extends an{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Ra(Da.basicOptionalMinutes,t);case"xx":return Ra(Da.basic,t);case"xxxx":return Ra(Da.basicOptionalSeconds,t);case"xxxxx":return Ra(Da.extendedOptionalSeconds,t);case"xxx":default:return Ra(Da.extended,t)}}set(t,n,i){return n.timestampIsSet?t:vn(t,t.getTime()-vg(t)-i)}}class Q5 extends an{constructor(){super(...arguments);He(this,"priority",40);He(this,"incompatibleTokens","*")}parse(t){return zR(t)}set(t,n,i){return[vn(t,i*1e3),{timestampIsSet:!0}]}}class K5 extends an{constructor(){super(...arguments);He(this,"priority",20);He(this,"incompatibleTokens","*")}parse(t){return zR(t)}set(t,n,i){return[vn(t,i),{timestampIsSet:!0}]}}const X5={G:new m5,y:new g5,Y:new v5,R:new y5,u:new _5,Q:new b5,q:new w5,M:new E5,L:new T5,w:new C5,I:new x5,d:new M5,D:new k5,E:new L5,e:new O5,c:new I5,i:new N5,a:new U5,b:new j5,B:new V5,h:new B5,H:new F5,K:new z5,k:new H5,m:new q5,s:new Y5,S:new $5,X:new G5,x:new W5,t:new Q5,T:new K5},Z5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eB=/^'([^]*?)'?$/,tB=/''/g,nB=/\S/,rB=/[a-zA-Z]/;function iB(r,e,t,n){var x,L,$,Y,H,G,q,P;const i=()=>vn((n==null?void 0:n.in)||t,NaN),a=o5(),l=(n==null?void 0:n.locale)??a.locale??jR,c=(n==null?void 0:n.firstWeekContainsDate)??((L=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:L.firstWeekContainsDate)??a.firstWeekContainsDate??((Y=($=a.locale)==null?void 0:$.options)==null?void 0:Y.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((G=(H=n==null?void 0:n.locale)==null?void 0:H.options)==null?void 0:G.weekStartsOn)??a.weekStartsOn??((P=(q=a.locale)==null?void 0:q.options)==null?void 0:P.weekStartsOn)??0;if(!e)return r?i():Ke(t,n==null?void 0:n.in);const f={firstWeekContainsDate:c,weekStartsOn:d,locale:l},p=[new p5(n==null?void 0:n.in,t)],g=e.match(J5).map(C=>{const S=C[0];if(S in t0){const k=t0[S];return k(C,l.formatLong)}return C}).join("").match(Z5),v=[];for(let C of g){const S=C[0],k=X5[S];if(k){const{incompatibleTokens:N}=k;if(Array.isArray(N)){const j=v.find(X=>N.includes(X.token)||X.token===S);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${C}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);v.push({token:S,fullToken:C});const F=k.run(r,C,l.match,f);if(!F)return i();p.push(F.setter),r=F.rest}else{if(S.match(rB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(C==="''"?C="'":S==="'"&&(C=sB(C)),r.indexOf(C)===0)r=r.slice(C.length);else return i()}}if(r.length>0&&nB.test(r))return i();const b=p.map(C=>C.priority).sort((C,S)=>S-C).filter((C,S,k)=>k.indexOf(C)===S).map(C=>p.filter(S=>S.priority===C).sort((S,k)=>k.subPriority-S.subPriority)).map(C=>C[0]);let E=Ke(t,n==null?void 0:n.in);if(isNaN(+E))return i();const M={};for(const C of b){if(!C.validate(E,f))return i();const S=C.set(E,M,f);Array.isArray(S)?(E=S[0],Object.assign(M,S[1])):E=S}return E}function sB(r){return r.match(eB)[1].replace(tB,"'")}function aB(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function oB(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e);return+e0(n)==+e0(i)}function lB(r,e,t){const[n,i]=jo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function Uf(r,e,t){const n=+Ke(r,t==null?void 0:t.in),[i,a]=[+Ke(e.start,t==null?void 0:t.in),+Ke(e.end,t==null?void 0:t.in)].sort((l,c)=>l-c);return n>=i&&n<=a}function uB(r,e,t){return na(r,-1,t)}function cB(r,e){const t=()=>vn(e==null?void 0:e.in,NaN),i=pB(r);let a;if(i.date){const f=mB(i.date,2);a=gB(f.restDateString,f.year)}if(!a||isNaN(+a))return t();const l=+a;let c=0,d;if(i.time&&(c=vB(i.time),isNaN(c)))return t();if(i.timezone){if(d=yB(i.timezone),isNaN(d))return t()}else{const f=new Date(l+c),p=Ke(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Ke(l+c+d,e==null?void 0:e.in)}const _m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pB(r){const e={},t=r.split(_m.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],_m.timeZoneDelimiter.test(e.date)&&(e.date=r.split(_m.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=_m.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function mB(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function gB(r,e){if(e===null)return new Date(NaN);const t=r.match(dB);if(!t)return new Date(NaN);const n=!!t[4],i=ef(t[1]),a=ef(t[2])-1,l=ef(t[3]),c=ef(t[4]),d=ef(t[5])-1;if(n)return TB(e,c,d)?_B(e,c,d):new Date(NaN);{const f=new Date(0);return!wB(e,a,l)||!EB(e,i)?new Date(NaN):(f.setUTCFullYear(e,a,Math.max(i,l)),f)}}function ef(r){return r?parseInt(r):1}function vB(r){const e=r.match(hB);if(!e)return NaN;const t=l_(e[1]),n=l_(e[2]),i=l_(e[3]);return SB(t,n,i)?t*yv+n*vv+i*1e3:NaN}function l_(r){return r&&parseFloat(r.replace(",","."))||0}function yB(r){if(r==="Z")return 0;const e=r.match(fB);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return CB(n,i)?t*(n*yv+i*vv):NaN}function _B(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const bB=[31,null,31,30,31,30,31,31,30,31,30,31];function YR(r){return r%400===0||r%4===0&&r%100!==0}function wB(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(bB[e]||(YR(r)?29:28))}function EB(r,e){return e>=1&&e<=(YR(r)?366:365)}function TB(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function SB(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function CB(r,e){return e>=0&&e<=59}function Ms(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=n.getFullYear(),a=n.getDate(),l=vn(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=a5(l);return n.setMonth(e,Math.min(a,c)),n}function Bm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setHours(e),n}function Fm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setMinutes(e),n}function rd(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return Ms(n,n.getMonth()+a*3)}function zm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Ca(r,e,t){const n=Ke(r,t==null?void 0:t.in);return isNaN(+n)?vn(r,NaN):(n.setFullYear(e),n)}function Bu(r,e,t){return aa(r,-e,t)}function $R(r,e,t){return Tb(r,-1,t)}function wS(r,e,t){return yg(r,-1,t)}function Ad(r,e,t){return Ao(r,-e,t)}function bv(){return typeof window<"u"}function zd(r){return GR(r)?(r.nodeName||"").toLowerCase():"#document"}function us(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ha(r){var e;return(e=(GR(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function GR(r){return bv()?r instanceof Node||r instanceof us(r).Node:!1}function xi(r){return bv()?r instanceof Element||r instanceof us(r).Element:!1}function Fa(r){return bv()?r instanceof HTMLElement||r instanceof us(r).HTMLElement:!1}function ES(r){return!bv()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof us(r).ShadowRoot}function tp(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Os(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function AB(r){return["table","td","th"].includes(zd(r))}function wv(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Db(r){const e=Rb(),t=xi(r)?Os(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function xB(r){let e=Jl(r);for(;Fa(e)&&!xd(e);){if(Db(e))return e;if(wv(e))return null;e=Jl(e)}return null}function Rb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xd(r){return["html","body","#document"].includes(zd(r))}function Os(r){return us(r).getComputedStyle(r)}function Ev(r){return xi(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Jl(r){if(zd(r)==="html")return r;const e=r.assignedSlot||r.parentNode||ES(r)&&r.host||Ha(r);return ES(e)?e.host:e}function WR(r){const e=Jl(r);return xd(e)?r.ownerDocument?r.ownerDocument.body:r.body:Fa(e)&&tp(e)?e:WR(e)}function jf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=WR(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),l=us(i);if(a){const c=r0(l);return e.concat(l,l.visualViewport||[],tp(i)?i:[],c&&t?jf(c):[])}return e.concat(i,jf(i,[],t))}function r0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Dd=Math.min,Fu=Math.max,Sg=Math.round,bm=Math.floor,Va=r=>({x:r,y:r}),DB={left:"right",right:"left",bottom:"top",top:"bottom"},RB={start:"end",end:"start"};function MB(r,e,t){return Fu(r,Dd(e,t))}function Tv(r,e){return typeof r=="function"?r(e):r}function Rd(r){return r.split("-")[0]}function np(r){return r.split("-")[1]}function kB(r){return r==="x"?"y":"x"}function Mb(r){return r==="y"?"height":"width"}function Vf(r){return["top","bottom"].includes(Rd(r))?"y":"x"}function kb(r){return kB(Vf(r))}function LB(r,e,t){t===void 0&&(t=!1);const n=np(r),i=kb(r),a=Mb(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Cg(l)),[l,Cg(l)]}function OB(r){const e=Cg(r);return[i0(r),e,i0(e)]}function i0(r){return r.replace(/start|end/g,e=>RB[e])}function IB(r,e,t){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?a:l;default:return[]}}function PB(r,e,t,n){const i=np(r);let a=IB(Rd(r),t==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(i0)))),a}function Cg(r){return r.replace(/left|right|bottom|top/g,e=>DB[e])}function NB(r){return{top:0,right:0,bottom:0,left:0,...r}}function QR(r){return typeof r!="number"?NB(r):{top:r,right:r,bottom:r,left:r}}function Ag(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function TS(r,e,t){let{reference:n,floating:i}=r;const a=Vf(e),l=kb(e),c=Mb(l),d=Rd(e),f=a==="y",p=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,v=n[c]/2-i[c]/2;let b;switch(d){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(np(e)){case"start":b[l]-=v*(t&&f?-1:1);break;case"end":b[l]+=v*(t&&f?-1:1);break}return b}const UB=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:p,y:g}=TS(f,n,d),v=n,b={},E=0;for(let M=0;M<c.length;M++){const{name:x,fn:L}=c[M],{x:$,y:Y,data:H,reset:G}=await L({x:p,y:g,initialPlacement:n,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:r,floating:e}});p=$??p,g=Y??g,b={...b,[x]:{...b[x],...H}},G&&E<=50&&(E++,typeof G=="object"&&(G.placement&&(v=G.placement),G.rects&&(f=G.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):G.rects),{x:p,y:g}=TS(f,v,d)),M=-1)}return{x:p,y:g,placement:v,strategy:i,middlewareData:b}};async function jB(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:c,strategy:d}=r,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=Tv(e,r),E=QR(b),x=c[v?g==="floating"?"reference":"floating":g],L=Ag(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(x)))==null||t?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),$=g==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,Y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),H=await(a.isElement==null?void 0:a.isElement(Y))?await(a.getScale==null?void 0:a.getScale(Y))||{x:1,y:1}:{x:1,y:1},G=Ag(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:$,offsetParent:Y,strategy:d}):$);return{top:(L.top-G.top+E.top)/H.y,bottom:(G.bottom-L.bottom+E.bottom)/H.y,left:(L.left-G.left+E.left)/H.x,right:(G.right-L.right+E.right)/H.x}}const VB=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=Tv(r,e)||{};if(f==null)return{};const g=QR(p),v={x:t,y:n},b=kb(i),E=Mb(b),M=await l.getDimensions(f),x=b==="y",L=x?"top":"left",$=x?"bottom":"right",Y=x?"clientHeight":"clientWidth",H=a.reference[E]+a.reference[b]-v[b]-a.floating[E],G=v[b]-a.reference[b],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let P=q?q[Y]:0;(!P||!await(l.isElement==null?void 0:l.isElement(q)))&&(P=c.floating[Y]||a.floating[E]);const C=H/2-G/2,S=P/2-M[E]/2-1,k=Dd(g[L],S),N=Dd(g[$],S),F=k,j=P-M[E]-N,X=P/2-M[E]/2+C,J=MB(F,X,j),U=!d.arrow&&np(i)!=null&&X!==J&&a.reference[E]/2-(X<F?k:N)-M[E]/2<0,B=U?X<F?X-F:X-j:0;return{[b]:v[b]+B,data:{[b]:J,centerOffset:X-J-B,...U&&{alignmentOffset:B}},reset:U}}}),BB=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:M=!0,...x}=Tv(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=Rd(i),$=Vf(c),Y=Rd(c)===c,H=await(d.isRTL==null?void 0:d.isRTL(f.floating)),G=v||(Y||!M?[Cg(c)]:OB(c)),q=E!=="none";!v&&q&&G.push(...PB(c,M,E,H));const P=[c,...G],C=await jB(e,x),S=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&S.push(C[L]),g){const X=LB(i,l,H);S.push(C[X[0]],C[X[1]])}if(k=[...k,{placement:i,overflows:S}],!S.every(X=>X<=0)){var N,F;const X=(((N=a.flip)==null?void 0:N.index)||0)+1,J=P[X];if(J)return{data:{index:X,overflows:k},reset:{placement:J}};let U=(F=k.filter(B=>B.overflows[0]<=0).sort((B,ee)=>B.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(b){case"bestFit":{var j;const B=(j=k.filter(ee=>{if(q){const ne=Vf(ee.placement);return ne===$||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,O)=>ne+O,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:j[0];B&&(U=B);break}case"initialPlacement":U=c;break}if(i!==U)return{reset:{placement:U}}}return{}}}};async function FB(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Rd(t),c=np(t),d=Vf(t)==="y",f=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,g=Tv(e,r);let{mainAxis:v,crossAxis:b,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof E=="number"&&(b=c==="end"?E*-1:E),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const zB=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:l,middlewareData:c}=e,d=await FB(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}};function KR(r){const e=Os(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Fa(r),a=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=Sg(t)!==a||Sg(n)!==l;return c&&(t=a,n=l),{width:t,height:n,$:c}}function Lb(r){return xi(r)?r:r.contextElement}function fd(r){const e=Lb(r);if(!Fa(e))return Va(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=KR(e);let l=(a?Sg(t.width):t.width)/n,c=(a?Sg(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const HB=Va(0);function XR(r){const e=us(r);return!Rb()||!e.visualViewport?HB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qB(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==us(r)?!1:e}function Ku(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=Lb(r);let l=Va(1);e&&(n?xi(n)&&(l=fd(n)):l=fd(r));const c=qB(a,t,n)?XR(a):Va(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,g=i.height/l.y;if(a){const v=us(a),b=n&&xi(n)?us(n):n;let E=v,M=r0(E);for(;M&&n&&b!==E;){const x=fd(M),L=M.getBoundingClientRect(),$=Os(M),Y=L.left+(M.clientLeft+parseFloat($.paddingLeft))*x.x,H=L.top+(M.clientTop+parseFloat($.paddingTop))*x.y;d*=x.x,f*=x.y,p*=x.x,g*=x.y,d+=Y,f+=H,E=us(M),M=r0(E)}}return Ag({width:p,height:g,x:d,y:f})}function Ob(r,e){const t=Ev(r).scrollLeft;return e?e.left+t:Ku(Ha(r)).left+t}function ZR(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Ob(r,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function YB(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",l=Ha(n),c=e?wv(e.floating):!1;if(n===l||c&&a)return t;let d={scrollLeft:0,scrollTop:0},f=Va(1);const p=Va(0),g=Fa(n);if((g||!g&&!a)&&((zd(n)!=="body"||tp(l))&&(d=Ev(n)),Fa(n))){const b=Ku(n);f=fd(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=l&&!g&&!a?ZR(l,d,!0):Va(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function $B(r){return Array.from(r.getClientRects())}function GB(r){const e=Ha(r),t=Ev(r),n=r.ownerDocument.body,i=Fu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Fu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Ob(r);const c=-t.scrollTop;return Os(n).direction==="rtl"&&(l+=Fu(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:c}}function WB(r,e){const t=us(r),n=Ha(r),i=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const f=Rb();(!f||f&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:c,y:d}}function QB(r,e){const t=Ku(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=Fa(r)?fd(r):Va(1),l=r.clientWidth*a.x,c=r.clientHeight*a.y,d=i*a.x,f=n*a.y;return{width:l,height:c,x:d,y:f}}function SS(r,e,t){let n;if(e==="viewport")n=WB(r,t);else if(e==="document")n=GB(Ha(r));else if(xi(e))n=QB(e,t);else{const i=XR(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ag(n)}function JR(r,e){const t=Jl(r);return t===e||!xi(t)||xd(t)?!1:Os(t).position==="fixed"||JR(t,e)}function KB(r,e){const t=e.get(r);if(t)return t;let n=jf(r,[],!1).filter(c=>xi(c)&&zd(c)!=="body"),i=null;const a=Os(r).position==="fixed";let l=a?Jl(r):r;for(;xi(l)&&!xd(l);){const c=Os(l),d=Db(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tp(l)&&!d&&JR(r,l))?n=n.filter(p=>p!==l):i=c,l=Jl(l)}return e.set(r,n),n}function XB(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?wv(e)?[]:KB(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((f,p)=>{const g=SS(e,p,i);return f.top=Fu(g.top,f.top),f.right=Dd(g.right,f.right),f.bottom=Dd(g.bottom,f.bottom),f.left=Fu(g.left,f.left),f},SS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ZB(r){const{width:e,height:t}=KR(r);return{width:e,height:t}}function JB(r,e,t){const n=Fa(e),i=Ha(e),a=t==="fixed",l=Ku(r,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=Va(0);if(n||!n&&!a)if((zd(e)!=="body"||tp(i))&&(c=Ev(e)),n){const v=Ku(e,!0,a,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&(d.x=Ob(i));const f=i&&!n&&!a?ZR(i,c):Va(0),p=l.left+c.scrollLeft-d.x-f.x,g=l.top+c.scrollTop-d.y-f.y;return{x:p,y:g,width:l.width,height:l.height}}function u_(r){return Os(r).position==="static"}function CS(r,e){if(!Fa(r)||Os(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ha(r)===t&&(t=t.ownerDocument.body),t}function eM(r,e){const t=us(r);if(wv(r))return t;if(!Fa(r)){let i=Jl(r);for(;i&&!xd(i);){if(xi(i)&&!u_(i))return i;i=Jl(i)}return t}let n=CS(r,e);for(;n&&AB(n)&&u_(n);)n=CS(n,e);return n&&xd(n)&&u_(n)&&!Db(n)?t:n||xB(r)||t}const e9=async function(r){const e=this.getOffsetParent||eM,t=this.getDimensions,n=await t(r.floating);return{reference:JB(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t9(r){return Os(r).direction==="rtl"}const n9={convertOffsetParentRelativeRectToViewportRelativeRect:YB,getDocumentElement:Ha,getClippingRect:XB,getOffsetParent:eM,getElementRects:e9,getClientRects:$B,getDimensions:ZB,getScale:fd,isElement:xi,isRTL:t9};function tM(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function r9(r,e){let t=null,n;const i=Ha(r);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=r.getBoundingClientRect(),{left:p,top:g,width:v,height:b}=f;if(c||e(),!v||!b)return;const E=bm(g),M=bm(i.clientWidth-(p+v)),x=bm(i.clientHeight-(g+b)),L=bm(p),Y={rootMargin:-E+"px "+-M+"px "+-x+"px "+-L+"px",threshold:Fu(0,Dd(1,d))||1};let H=!0;function G(q){const P=q[0].intersectionRatio;if(P!==d){if(!H)return l();P?l(!1,P):n=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!tM(f,r.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(G,{...Y,root:i.ownerDocument})}catch{t=new IntersectionObserver(G,Y)}t.observe(r)}return l(!0),a}function i9(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Lb(r),p=i||a?[...f?jf(f):[],...jf(e)]:[];p.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const g=f&&c?r9(f,t):null;let v=-1,b=null;l&&(b=new ResizeObserver(L=>{let[$]=L;$&&$.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var Y;(Y=b)==null||Y.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let E,M=d?Ku(r):null;d&&x();function x(){const L=Ku(r);M&&!tM(M,L)&&t(),M=L,E=requestAnimationFrame(x)}return t(),()=>{var L;p.forEach($=>{i&&$.removeEventListener("scroll",t),a&&$.removeEventListener("resize",t)}),g==null||g(),(L=b)==null||L.disconnect(),b=null,d&&cancelAnimationFrame(E)}}const s9=zB,a9=BB,AS=VB,o9=(r,e,t)=>{const n=new Map,i={platform:n9,...t},a={...i.platform,_c:n};return UB(r,e,{...i,platform:a})};var Hm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function xg(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!xg(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!xg(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function nM(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function xS(r,e){const t=nM(r);return Math.round(e*t)/t}function c_(r){const e=T.useRef(r);return Hm(()=>{e.current=r}),e}function l9(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=r,[p,g]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=T.useState(n);xg(v,n)||b(n);const[E,M]=T.useState(null),[x,L]=T.useState(null),$=T.useCallback(ee=>{ee!==q.current&&(q.current=ee,M(ee))},[]),Y=T.useCallback(ee=>{ee!==P.current&&(P.current=ee,L(ee))},[]),H=a||E,G=l||x,q=T.useRef(null),P=T.useRef(null),C=T.useRef(p),S=d!=null,k=c_(d),N=c_(i),F=c_(f),j=T.useCallback(()=>{if(!q.current||!P.current)return;const ee={placement:e,strategy:t,middleware:v};N.current&&(ee.platform=N.current),o9(q.current,P.current,ee).then(ne=>{const O={...ne,isPositioned:F.current!==!1};X.current&&!xg(C.current,O)&&(C.current=O,eu.flushSync(()=>{g(O)}))})},[v,e,t,N,F]);Hm(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[f]);const X=T.useRef(!1);Hm(()=>(X.current=!0,()=>{X.current=!1}),[]),Hm(()=>{if(H&&(q.current=H),G&&(P.current=G),H&&G){if(k.current)return k.current(H,G,j);j()}},[H,G,j,k,S]);const J=T.useMemo(()=>({reference:q,floating:P,setReference:$,setFloating:Y}),[$,Y]),U=T.useMemo(()=>({reference:H,floating:G}),[H,G]),B=T.useMemo(()=>{const ee={position:t,left:0,top:0};if(!U.floating)return ee;const ne=xS(U.floating,p.x),O=xS(U.floating,p.y);return c?{...ee,transform:"translate("+ne+"px, "+O+"px)",...nM(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:O}},[t,c,U.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:j,refs:J,elements:U,floatingStyles:B}),[p,j,J,U,B])}const u9=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?AS({element:n.current,padding:i}).fn(t):{}:n?AS({element:n,padding:i}).fn(t):{}}}},c9=(r,e)=>({...s9(r),options:[r,e]}),d9=(r,e)=>({...a9(r),options:[r,e]}),h9=(r,e)=>({...u9(r),options:[r,e]}),rM={...fk},f9=rM.useInsertionEffect,p9=f9||(r=>r());function m9(r){const e=T.useRef(()=>{});return p9(()=>{e.current=r}),T.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Dg=typeof document<"u"?T.useLayoutEffect:T.useEffect;let DS=!1,g9=0;const RS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+g9++;function v9(){const[r,e]=T.useState(()=>DS?RS():void 0);return Dg(()=>{r==null&&e(RS())},[]),T.useEffect(()=>{DS=!0},[]),r}const y9=rM.useId,iM=y9||v9,_9=T.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:l}},width:c=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:g,stroke:v,d:b,style:{transform:E,...M}={},...x}=e,L=iM(),[$,Y]=T.useState(!1);if(Dg(()=>{if(!i)return;Os(i).direction==="rtl"&&Y(!0)},[i]),!i)return null;const[H,G]=n.split("-"),q=H==="top"||H==="bottom";let P=g;(q&&l!=null&&l.x||!q&&l!=null&&l.y)&&(P=null);const C=p*2,S=C/2,k=c/2*(f/-8+1),N=d/2*f/4,F=!!b,j=P&&G==="end"?"bottom":"top";let X=P&&G==="end"?"right":"left";P&&$&&(X=G==="end"?"left":"right");const J=(a==null?void 0:a.x)!=null?P||a.x:"",U=(a==null?void 0:a.y)!=null?P||a.y:"",B=b||"M0,0"+(" H"+c)+(" L"+(c-k)+","+(d-N))+(" Q"+c/2+","+d+" "+k+","+(d-N))+" Z",ee={top:F?"rotate(180deg)":"",left:F?"rotate(90deg)":"rotate(-90deg)",bottom:F?"":"rotate(180deg)",right:F?"rotate(-90deg)":"rotate(90deg)"}[H];return R.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:F?c:c+C,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[X]:J,[j]:U,[H]:q||F?"100%":"calc(100% - "+C/2+"px)",transform:[ee,E].filter(ne=>!!ne).join(" "),...M},children:[C>0&&R.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:v,strokeWidth:C+(b?0:1),d:B}),R.jsx("path",{stroke:C&&!b?x.fill:"none",d:B}),R.jsx("clipPath",{id:L,children:R.jsx("rect",{x:-S,y:S*(F?-1:1),width:c+C,height:c})})]})});function b9(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const w9=T.createContext(null),E9=T.createContext(null),T9=()=>{var r;return((r=T.useContext(w9))==null?void 0:r.id)||null},S9=()=>T.useContext(E9);function C9(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=iM(),a=T.useRef({}),[l]=T.useState(()=>b9()),c=T9()!=null,[d,f]=T.useState(n.reference),p=m9((b,E,M)=>{a.current.openEvent=b?E:void 0,l.emit("openchange",{open:b,event:E,reason:M,nested:c}),t==null||t(b,E,M)}),g=T.useMemo(()=>({setPositionReference:f}),[]),v=T.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return T.useMemo(()=>({dataRef:a,open:e,onOpenChange:p,elements:v,events:l,floatingId:i,refs:g}),[e,p,v,l,i,g])}function A9(r){r===void 0&&(r={});const{nodeId:e}=r,t=C9({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,l]=T.useState(null),[c,d]=T.useState(null),p=(i==null?void 0:i.domReference)||a,g=T.useRef(null),v=S9();Dg(()=>{p&&(g.current=p)},[p]);const b=l9({...r,elements:{...i,...c&&{reference:c}}}),E=T.useCallback(Y=>{const H=xi(Y)?{getBoundingClientRect:()=>Y.getBoundingClientRect(),getClientRects:()=>Y.getClientRects(),contextElement:Y}:Y;d(H),b.refs.setReference(H)},[b.refs]),M=T.useCallback(Y=>{(xi(Y)||Y===null)&&(g.current=Y,l(Y)),(xi(b.refs.reference.current)||b.refs.reference.current===null||Y!==null&&!xi(Y))&&b.refs.setReference(Y)},[b.refs]),x=T.useMemo(()=>({...b.refs,setReference:M,setPositionReference:E,domReference:g}),[b.refs,M,E]),L=T.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),$=T.useMemo(()=>({...b,...n,refs:x,elements:L,nodeId:e}),[b,x,L,e,n]);return Dg(()=>{n.dataRef.current.floatingContext=$;const Y=v==null?void 0:v.nodesRef.current.find(H=>H.id===e);Y&&(Y.context=$)}),T.useMemo(()=>({...b,context:$,refs:x,elements:L}),[b,x,L,$])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var s0=function(e,t){return s0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},s0(e,t)};function Ur(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Zt=function(){return Zt=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Zt.apply(this,arguments)};function ka(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var x9=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ve.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},l)},D9=function(r,e){var t=T.useRef(null),n=T.useRef(r);n.current=r;var i=T.useCallback(function(a){var l,c=a.composed&&a.composedPath&&a.composedPath().find(function(d){return d instanceof Node})||a.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,a))},[e]);return T.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Sv=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,l=r.ignoreClass,c=D9(t,l);return ve.createElement("div",{className:n,style:a,ref:function(d){c.current=d,i&&(i.current=d)}},e)},Be;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(Be||(Be={}));function sM(){var r=typeof window<"u"?window:globalThis;return r}var rp=12;function un(r){if(r==null)return new Date;var e=typeof r=="string"?cB(r):Ke(r);return Cv(e)?e:new Date}function d_(r,e,t,n,i){i===void 0&&(i=un());for(var a=Md(t)||Md(Ib()),l=Array.isArray(e)?e:[e],c=0,d=l;c<d.length;c++){var f=d[c],p=iB(r,f,i,{locale:a});if(Cv(p)&&(!n||r===Bn(p,f,t)))return p}return null}function Cv(r,e){return _g(r)&&!Qu(r,new Date("1/1/1800"))}function Bn(r,e,t){if(t==="en")return Nf(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Md(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Md(Ib()),Nf(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Rs(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Bn(r,i,n)||""}function R9(r,e,t){if(!r)return"";var n=Rs(r,t),i=e?Rs(e,t):"";return"".concat(n," - ").concat(i)}function M9(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Rs(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Rs(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function h_(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Bm(Fm(zm(r,c),a),n)}function k9(r){return Sb(r)}function L9(r,e){return Bn(r,"ddd",e)}function qm(r){return Wu(r)}function Hl(r,e,t){var n=Md(e||Ib());return No(r,{locale:n,weekStartsOn:t})}function Mo(r){return NR(r)}function ff(r){return _v(r)}function MS(r){return e0(r)}function kS(){return Wu(un())}function LS(r){return IR(r)}function O9(r){return c6(r)}function I9(r){return PR(r)}function Aa(r,e){return r&&e?lB(r,e):!r&&!e}function Si(r,e){return r&&e?aB(r,e):!r&&!e}function Rg(r,e){return r&&e?oB(r,e):!r&&!e}function Xt(r,e){return r&&e?l6(r,e):!r&&!e}function Pu(r,e){return r&&e?u5(r,e):!r&&!e}function pf(r,e,t){var n,i=Wu(e),a=IR(t);try{n=Uf(r,{start:i,end:a})}catch{n=!1}return n}function Ib(){var r=sM();return r.__localeId__}function Md(r){if(typeof r=="string"){var e=sM();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function P9(r,e,t){return e(Bn(r,"EEEE",t))}function N9(r,e){return Bn(r,"EEEEEE",e)}function U9(r,e){return Bn(r,"EEE",e)}function Pb(r,e){return Bn(Ms(un(),r),"LLLL",e)}function aM(r,e){return Bn(Ms(un(),r),"LLL",e)}function j9(r,e){return Bn(rd(un(),r),"QQQ",e)}function ks(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return ip(r,{minDate:n,maxDate:i})||a&&a.some(function(p){return p instanceof Date?Xt(r,p):Xt(r,p.date)})||l&&l.some(function(p){var g=p.start,v=p.end;return Uf(r,{start:g,end:v})})||c&&!c.some(function(p){return Xt(r,p)})||d&&!d.some(function(p){var g=p.start,v=p.end;return Uf(r,{start:g,end:v})})||f&&!f(un(r))||!1}function Nb(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var l=a.start,c=a.end;return Uf(r,{start:l,end:c})}):n&&n.some(function(a){var l;return a instanceof Date?Xt(r,a):Xt(r,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function oM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return ip(r,{minDate:n?NR(n):void 0,maxDate:i?PR(i):void 0})||(a==null?void 0:a.some(function(d){return Si(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Si(r,d)})||c&&!c(un(r))||!1}function wm(r,e,t,n){var i=At(r),a=Ai(r),l=At(e),c=Ai(e),d=At(n);return i===l&&i===d?a<=t&&t<=c:i<l?d===i&&a<=t||d===l&&c>=t||d<l&&d>i:!1}function V9(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates;return ip(r,{minDate:n,maxDate:i})||a&&a.some(function(c){return Si(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return Si(c,r)})||!1}function Em(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return ip(r,{minDate:n,maxDate:i})||(a==null?void 0:a.some(function(d){return Rg(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Rg(r,d)})||c&&!c(un(r))||!1}function Tm(r,e,t){if(!e||!t||!_g(e)||!_g(t))return!1;var n=At(e),i=At(t);return n<=r&&i>=r}function Ym(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return ip(d,{minDate:n?_v(n):void 0,maxDate:i?UR(i):void 0})||(a==null?void 0:a.some(function(f){return Aa(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Aa(d,f)})||c&&!c(un(d))||!1}function Sm(r,e,t,n){var i=At(r),a=Vu(r),l=At(e),c=Vu(e),d=At(n);return i===l&&i===d?a<=t&&t<=c:i<l?d===i&&a<=t||d===l&&c>=t||d<l&&d>i:!1}function ip(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&Cd(r,i)<0||a&&Cd(r,a)>0)!==null&&t!==void 0?t:!1}function OS(r,e){return e.some(function(t){return Do(t)===Do(r)&&Ro(t)===Ro(r)&&zl(t)===zl(r)})}function IS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&OS(r,n)||i&&!OS(r,i)||a&&!a(r)||!1}function PS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=un();i=Bm(i,Do(r)),i=Fm(i,Ro(r)),i=zm(i,zl(r));var a=un();a=Bm(a,Do(t)),a=Fm(a,Ro(t)),a=zm(a,zl(t));var l=un();l=Bm(l,Do(n)),l=Fm(l,Ro(n)),l=zm(l,zl(n));var c;try{c=!Uf(i,{start:a,end:l})}catch{c=!1}return c}function NS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Bu(r,1);return n&&bg(n,a)>0||i&&i.every(function(l){return bg(l,a)>0})||!1}function US(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=aa(r,1);return n&&bg(a,n)>0||i&&i.every(function(l){return bg(a,l)>0})||!1}function B9(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=_v(r),l=$R(a);return n&&wg(n,l)>0||i&&i.every(function(c){return wg(c,l)>0})||!1}function F9(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=UR(r),l=Tb(a,1);return n&&wg(l,n)>0||i&&i.every(function(c){return wg(l,c)>0})||!1}function jS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Ad(r,1);return n&&Eg(n,a)>0||i&&i.every(function(l){return Eg(l,a)>0})||!1}function z9(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?rp:i,l=ff(Ad(r,a)),c=Nl(l,a).endPeriod,d=n&&At(n);return d&&d>c||!1}function VS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Ao(r,1);return n&&Eg(a,n)>0||i&&i.every(function(l){return Eg(a,l)>0})||!1}function H9(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?rp:i,l=Ao(r,a),c=Nl(l,a).startPeriod,d=n&&At(n);return d&&d<c||!1}function lM(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Cd(i,e)>=0});return pS(n)}else return t?pS(t):e}function uM(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Cd(i,e)<=0});return fS(n)}else return t?fS(t):e}function BS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var l=r[i];if(xo(l)){var c=Bn(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",g=l[p];if(typeof p=="string"&&Array.isArray(g))for(var v=0,b=g.length;v<b;v++){var E=g[v];if(E){var c=Bn(E,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(p)||(d.push(p),n.set(c,d))}}}}return n}function q9(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function Y9(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(xo(i)){var l=Bn(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&q9(c.holidayNames,[a]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?ka(ka([],d,!0),[a],!1):[a],t.set(l,c)}}}),t}function $9(r,e,t,n,i){for(var a=i.length,l=[],c=0;c<a;c++){var d=r,f=i[c];f&&(d=i6(d,Do(f)),d=J_(d,Ro(f)),d=o6(d,zl(f)));var p=J_(r,(t+1)*n);Zl(d,e)&&Qu(d,p)&&f!=null&&l.push(f)}return l}function FS(r){return r<10?"0".concat(r):"".concat(r)}function Nl(r,e){e===void 0&&(e=rp);var t=Math.ceil(At(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function G9(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function zS(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ke(r.getTime()-e*1e3-t)}function W9(r,e){return zS(r).getTime()===zS(e).getTime()}function HS(r){if(!xo(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function qS(r,e){if(!xo(r)||!xo(e))throw new Error("Invalid date received");var t=HS(r),n=HS(e);return Qu(t,n)}function cM(r){return r.key===Be.Space}var Q9=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ve.createRef(),n.onTimeChange=function(i){var a,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),f=d?c:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),g=p[0],v=p[1];f.setHours(Number(g)),f.setMinutes(Number(v))}(l=(a=n.props).onChange)===null||l===void 0||l.call(a,f)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,l=a.date,c=a.timeString,d=a.customTimeInput;return d?T.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var f;(f=n.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){n.onTimeChange(f.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ve.createElement("div",{className:"react-datepicker__input-time-container"},ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ve.createElement("div",{className:"react-datepicker-time__input-container"},ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(T.Component),K9=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=T.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return Xt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Nb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Xt(t.props.day,Hl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Xt(n,Hl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var l=Bn(i,"MM.dd.yyyy");return a.get(l)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,l=i.holidays;if(!l)return[void 0];var c=Bn(a,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:pf(i,a,l)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,g=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!v||!f&&t.isDisabled()?!1:l&&g&&(Qu(v,g)||Pu(v,g))?pf(a,v,g):c&&p&&(Zl(v,p)||Pu(v,p))||d&&p&&!g&&(Zl(v,p)||Pu(v,p))?pf(a,p,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Xt(a,d):Xt(a,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Xt(a,f):Xt(a,l)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Xt(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Xt(l,i)},t.isWeekend=function(){var n=s5(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ai(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ai(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(un())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Zr("react-datepicker__day",i,"react-datepicker__day--"+L9(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(Bn(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,l=a===void 0?new Map:a,c=n.excludeDates,d=Bn(i,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(c==null?void 0:c.filter(function(p){return p instanceof Date?Xt(p,i):Xt(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Xt(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(bS(t.props.day),t.props.day):bS(t.props.day)},t.render=function(){return ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(T.Component),X9=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=T.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xt(t.props.date,t.props.selected)&&Xt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xt(t.props.date,t.props.selected)&&Xt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Xt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,l=a===void 0?e.defaultProps.ariaLabelPrefix:a,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Xt(this.props.date,this.props.selected)};return ve.createElement("div",{ref:this.weekNumberEl,className:Zr(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(T.Component),Z9=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var l,c,d,f=new Date(n),p=0;p<7;p++){var g=new Date(n);g.setDate(g.getDate()+p);var v=!t.isDisabled(g);if(v){f=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,i,a),t.props.showWeekPicker&&t.handleDayClick(f,a),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):k9(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=na(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=na(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(ve.createElement(X9,Zt({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=na(n,c);return ve.createElement(K9,Zt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Hl(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xt(t.startOfWeek(),t.props.selected)&&Xt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ve.createElement("div",{className:Zr(t)},this.renderDays())},e}(T.Component),tf,J9=6,pd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},f_=(tf={},tf[pd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},tf[pd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},tf[pd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},tf),Cm=1;function YS(r,e){return r?pd.FOUR_COLUMNS:e?pd.TWO_COLUMNS:pd.THREE_COLUMNS}var eF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=ka([],Array(12),!0).map(function(){return T.createRef()}),t.QUARTER_REFS=ka([],Array(4),!0).map(function(){return T.createRef()}),t.isDisabled=function(n){return ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Nb(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,l;(l=(a=t.props).onDayClick)===null||l===void 0||l.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Si(Ms(a,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Rg(rd(a,n),l)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Si(Ms(a,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Rg(rd(a,n),c)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||f)||!v?!1:c&&g?wm(v,g,n,l):d&&p||f&&p&&!g?wm(p,v,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.startDate,d=a.selectsStart,f=Ms(l,n),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?Si(f,p):Si(f,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.endDate,d=a.selectsEnd,f=a.selectsRange,p=Ms(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||f?Si(p,g):Si(p,c)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||f)||!v?!1:c&&g?Sm(v,g,n,l):d&&p||f&&p&&!g?Sm(p,v,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=na(n,6);return Si(n,i)||Si(a,i)},t.isCurrentMonth=function(n,i){return At(n)===At(un())&&i===Ai(un())},t.isCurrentQuarter=function(n,i){return At(n)===At(un())&&i===Vu(un())},t.isSelectedMonth=function(n,i,a){return Ai(a)===i&&At(n)===At(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,a){return Vu(n)===i&&At(n)===At(a)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,a=0,l=!1,c=Hl(Mo(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(E){return t.props.showWeekPicker?Hl(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(E){return t.props.showWeekPicker?Hl(E,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,g=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ve.createElement(Z9,Zt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:c,month:Ai(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!l;){a++,c=yg(c,1);var v=i&&a>=J9,b=!i&&!t.isWeekInMonth(c);if(v||b)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),l=a.isDisabled,c=a.labelDate;l||t.handleDayClick(Mo(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,l=i.labelDate;a||t.handleDayMouseEnter(Mo(l))},t.handleMonthNavigation=function(n,i){var a,l,c,d;(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,a){var l,c=t.props,d=c.selected,f=c.preSelection,p=c.setPreSelection,g=c.minDate,v=c.maxDate,b=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(f){var M=YS(b,E),x=t.getVerticalOffset(M),L=(l=f_[M])===null||l===void 0?void 0:l.grid,$=function(P,C,S){var k,N,F=C,j=S;switch(P){case Be.ArrowRight:F=aa(C,Cm),j=S===11?0:S+Cm;break;case Be.ArrowLeft:F=Bu(C,Cm),j=S===0?11:S-Cm;break;case Be.ArrowUp:F=Bu(C,x),j=!((k=L==null?void 0:L[0])===null||k===void 0)&&k.includes(S)?S+12-x:S-x;break;case Be.ArrowDown:F=aa(C,x),j=!((N=L==null?void 0:L[L.length-1])===null||N===void 0)&&N.includes(S)?S-12+x:S+x;break}return{newCalculatedDate:F,newCalculatedMonth:j}},Y=function(P,C,S){for(var k=40,N=P,F=!1,j=0,X=$(N,C,S),J=X.newCalculatedDate,U=X.newCalculatedMonth;!F;){if(j>=k){J=C,U=S;break}if(g&&J<g){N=Be.ArrowRight;var B=$(N,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}if(v&&J>v){N=Be.ArrowLeft;var B=$(N,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}if(V9(J,t.props)){var B=$(N,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}else F=!0;j++}return{newCalculatedDate:J,newCalculatedMonth:U}};if(i===Be.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),p==null||p(d));return}var H=Y(i,f,a),G=H.newCalculatedDate,q=H.newCalculatedMonth;switch(i){case Be.ArrowRight:case Be.ArrowLeft:case Be.ArrowUp:case Be.ArrowDown:t.handleMonthNavigation(q,G);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=f_[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,l=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,d=n.key;d!==Be.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var a=rd(t.props.day,i);Em(a,t.props)||t.handleDayClick(MS(a),n)},t.onQuarterMouseEnter=function(n){var i=rd(t.props.day,n);Em(i,t.props)||t.handleDayMouseEnter(MS(i))},t.handleQuarterNavigation=function(n,i){var a,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var a,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case Be.Enter:t.onQuarterClick(n,i),(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,t.props.selected);break;case Be.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Tb(t.props.preSelection,1));break;case Be.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,$R(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,l=a.day,c=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,g=Ms(l,n);return{isDisabled:(i=(c||d||f||p)&&oM(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,f=i.monthClassName,p=f?f(Ms(a,n)):void 0,g=t.getSelection();return Zr("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,n,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(a,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?wm(l,c,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Ai(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Vu(t.props.preSelection),a=Em(t.props.day,t.props),l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,f=i.day,p=i.locale,g=Ms(f,n),v=t.isDisabled(g)||t.isExcluded(g)?d:l;return"".concat(v," ").concat(Bn(g,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,d=i.selected,f=i.minDate,p=i.maxDate,g=i.excludeDates,v=i.includeDates,b=i.filterDate,E=i.preSelection,M=i.disabledKeyboardNavigation,x=(f||p||g||v||b)&&Em(rd(a,n),t.props);return Zr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(a,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&E&&t.isSelectedQuarter(a,n,E)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?Sm(l,c,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,f=aM(n,c),p=Pb(n,c);return l?l(n,f,p,d):a?p:f},t.getQuarterContent=function(n){var i,a=t.props,l=a.renderQuarterContent,c=a.locale,d=j9(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,f=(n=f_[YS(l,a)])===null||n===void 0?void 0:n.grid;return f==null?void 0:f.map(function(p,g){return ve.createElement("div",{className:"react-datepicker__month-wrapper",key:g},p.map(function(v,b){return ve.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(E){t.onMonthClick(E,v)},onKeyDown:function(E){cM(E)&&(E.preventDefault(),E.key=Be.Enter),t.onMonthKeyDown(E,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(c,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,l=[1,2,3,4];return ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return ve.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,c)},onKeyDown:function(f){t.onQuarterKeyDown(f,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":a?t.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,f=n.showWeekPicker;return Zr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Bn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(T.Component),tF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ve.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ve.createElement(Sv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),nF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return ve.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ve.createElement(tF,Zt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return aM(a,t.props.locale)}:function(a){return Pb(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(T.Component);function rF(r,e){for(var t=[],n=Mo(r),i=Mo(e);!Zl(n,i);)t.push(un(n)),n=aa(n,1);return t}var iF=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=n0(i),l=Aa(n.props.date,i)&&Si(n.props.date,i);return ve.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":l?"true":void 0},l?ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Bn(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:rF(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Zr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ve.createElement(Sv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),sF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Mo(t.props.minDate),i=Mo(t.props.maxDate),a=[];!Zl(n,i);){var l=n0(n);a.push(ve.createElement("option",{key:l,value:l},Bn(n,t.props.dateFormat,t.props.locale))),n=aa(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:n0(Mo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Bn(t.props.date,t.props.dateFormat,t.props.locale);return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ve.createElement(iF,Zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=un(n);Aa(t.props.date,i)&&Si(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),aF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&PS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&IS(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&W9(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&PS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&IS(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Do(n)*3600+Ro(n)*60+zl(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,l;n.key===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(n.key===Be.ArrowUp||n.key===Be.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Be.ArrowDown||n.key===Be.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Be.Enter&&t.handleClick(i),(l=(a=t.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||un(),d=qm(c),f=t.props.injectTimes&&t.props.injectTimes.sort(function(x,L){return x.getTime()-L.getTime()}),p=60*G9(c),g=p/l,v=0;v<g;v++){var b=J_(d,v*l);if(i.push(b),f){var E=$9(d,b,v,l,f);i=i.concat(E)}}var M=i.reduce(function(x,L){return L.getTime()<=c.getTime()?L:x},i[0]);return i.map(function(x){return ve.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(L){x===M&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,x)},tabIndex:x===M?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},Bn(x,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ve.createElement(ve.Fragment,null):ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ve.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ve.createElement("div",{className:"react-datepicker__time"},ve.createElement("div",{className:"react-datepicker__time-box"},ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(T.Component),$S=3,oF=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=ka([],Array(n.props.yearItemNumber),!0).map(function(){return T.createRef()}),n.isDisabled=function(i){return ks(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Nb(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var l,c,d,f,p=n.props,g=p.date,v=p.yearItemNumber;if(!(g===void 0||v===void 0)){var b=Nl(g,v).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,a),i-b<0?n.updateFocusOnPaginate(v-(b-i)):i-b>=v?n.updateFocusOnPaginate(Math.abs(v-(i-b))):(f=(d=n.YEAR_REFS[i-b])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},n.isSameDay=function(i,a){return Xt(i,a)},n.isCurrentYear=function(i){return i===At(un())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Aa(Ca(un(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Aa(Ca(un(),i),n.props.endDate)},n.isInRange=function(i){return Tm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,f=a.startDate,p=a.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&p?Tm(i,n.selectingDate(),p):c&&f||d&&f&&!p?Tm(i,f,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,f=Ca(un(),i);return d?Aa(f,(a=n.selectingDate())!==null&&a!==void 0?a:null):Aa(f,c??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=Ca(un(),i);return d||f?Aa(p,(a=n.selectingDate())!==null&&a!==void 0?a:null):Aa(p,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var a=n.props,l=a.minDate,c=a.maxDate,d=a.excludeDates,f=a.includeDates,p=a.filterDate,g=ff(Ca(n.props.date,i)),v=(l||c||d||f||p)&&Ym(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Xt(g,ff(n.props.selected))&&Xt(g,ff(n.props.preSelection))&&!v}},n.onYearClick=function(i,a){var l=n.props.date;l!==void 0&&n.handleYearClick(ff(Ca(l,a)),i)},n.onYearKeyDown=function(i,a){var l,c,d=i.key,f=n.props,p=f.date,g=f.yearItemNumber,v=f.handleOnKeyDown;if(d!==Be.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case Be.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case Be.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,Ao(n.props.preSelection,1));break;case Be.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,Ad(n.props.preSelection,1));break;case Be.ArrowUp:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var b=Nl(p,g).startPeriod,E=$S,M=a-E;if(M<b){var x=g%E;a>=b&&a<b+x?E=x:E+=x,M=a-E}n.handleYearNavigation(M,Ad(n.props.preSelection,E));break}case Be.ArrowDown:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var L=Nl(p,g).endPeriod,E=$S,M=a+E;if(M>L){var x=g%E;a<=L&&a>L-x?E=x:E+=x,M=a+E}n.handleYearNavigation(M,Ao(n.props.preSelection,E));break}}v&&v(i)},n.getYearClassNames=function(i){var a=n.props,l=a.date,c=a.minDate,d=a.maxDate,f=a.selected,p=a.excludeDates,g=a.includeDates,v=a.filterDate,b=a.yearClassName;return Zr("react-datepicker__year-text","react-datepicker__year-".concat(i),l?b==null?void 0:b(Ca(l,i)):void 0,{"react-datepicker__year-text--selected":f?i===At(f):void 0,"react-datepicker__year-text--disabled":(c||d||p||g||v)&&Ym(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=At(n.props.preSelection),l=Ym(i,n.props);return i===a&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(a===void 0)return null;for(var f=Nl(a,l),p=f.startPeriod,g=f.endPeriod,v=function(M){n.push(ve.createElement("div",{ref:b.YEAR_REFS[M-p],onClick:function(x){t.onYearClick(x,M)},onKeyDown:function(x){cM(x)&&(x.preventDefault(),x.key=Be.Enter),t.onYearKeyDown(x,M)},tabIndex:Number(b.getYearTabIndex(M)),className:b.getYearClassNames(M),onMouseEnter:b.props.usePointerEvent?void 0:function(x){return c(x,M)},onPointerEnter:b.props.usePointerEvent?function(x){return c(x,M)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(x){return d(x,M)},onPointerLeave:b.props.usePointerEvent?function(x){return d(x,M)}:void 0,key:M,"aria-current":b.isCurrentYear(M)?"date":void 0},b.getYearContent(M)))},b=this,E=p;E<=g;E++)v(E);return ve.createElement("div",{className:"react-datepicker__year"},ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(T.Component);function lF(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var l=r+e-a,c=!0;t&&(c=At(t)<=l),n&&c&&(c=At(n)>=l),c&&i.push(l)}return i}var uF=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(g){return ve.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:n.onChange.bind(n,g),"aria-selected":c===g?"true":void 0},c===g?ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),f=n.props.minDate?At(n.props.minDate):null,p=n.props.maxDate?At(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(g){return g===p}))&&d.unshift(ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!n.state.yearsList.find(function(g){return g===f}))&&d.push(ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(f){return f+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=i||(a?10:5);return n.state={yearsList:lF(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=T.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Zr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ve.createElement(Sv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),cF=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?At(t.props.minDate):1900,i=t.props.maxDate?At(t.props.maxDate):2100,a=[],l=n;l<=i;l++)a.push(ve.createElement("option",{key:l,value:l},l));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ve.createElement(uF,Zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,l;(l=(a=t.props).onSelect)===null||l===void 0||l.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),dF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hF=function(r){var e=(r.className||"").split(/\s+/);return dF.some(function(t){return e.indexOf(t)>=0})},fF=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,l;hF(i.target)&&((l=(a=n.props).onDropdownFocus)===null||l===void 0||l.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,l=i.selected,c=i.openToDate,d=lM(n.props),f=uM(n.props),p=un(),g=c||l||a;return g||(d&&Qu(p,d)?d:f&&Zl(p,f)?f:p)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:aa(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:Bu(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,l){n.props.onSelect(i,a,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:Ca(un(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,l,c,d;(l=(a=n.props).onYearChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!ks(i,n.props))return i;for(var a=Mo(i),l=I9(i),c=u6(l,a),d=null,f=0;f<=c;f++){var p=na(a,f);if(!ks(p,n.props)){d=p;break}}return d},n.handleMonthChange=function(i){var a,l,c,d=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var a,l;(l=(a=n.props).onMonthChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var l=a.date;return{date:Ca(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var l=a.date;return{date:Ms(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var l=a.date;return{date:Ca(Ms(l,Ai(i)),At(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var a=Hl(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ve.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=na(a,c),f=n.formatWeekday(d,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ve.createElement("div",{key:c,"aria-label":Bn(d,"EEEE",n.props.locale),className:Zr("react-datepicker__day-name",p)},f)}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?P9(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?U9(i,a):N9(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Ad(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,p=Bu(n.state.date,f),g;switch(!0){case n.props.showMonthYearPicker:g=jS(n.state.date,n.props);break;case n.props.showYearPicker:g=z9(n.state.date,n.props);break;case n.props.showQuarterYearPicker:g=B9(n.state.date,n.props);break;default:g=NS(p,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&g||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),g&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),E=void 0);var M=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,L=x.previousMonthButtonLabel,$=L===void 0?e.defaultProps.previousMonthButtonLabel:L,Y=x.previousYearButtonLabel,H=Y===void 0?e.defaultProps.previousYearButtonLabel:Y,G=n.props,q=G.previousMonthAriaLabel,P=q===void 0?typeof $=="string"?$:"Previous Month":q,C=G.previousYearAriaLabel,S=C===void 0?typeof H=="string"?H:"Previous Year":C;return ve.createElement("button",{type:"button",className:b.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":M?S:P},ve.createElement("span",{className:v.join(" ")},M?H:$))}}},n.increaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Ao(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=VS(n.state.date,n.props);break;case n.props.showYearPicker:a=H9(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=F9(n.state.date,n.props);break;default:a=US(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,g=p.nextMonthButtonLabel,v=g===void 0?e.defaultProps.nextMonthButtonLabel:g,b=p.nextYearButtonLabel,E=b===void 0?e.defaultProps.nextYearButtonLabel:b,M=n.props,x=M.nextMonthAriaLabel,L=x===void 0?typeof v=="string"?v:"Next Month":x,$=M.nextYearAriaLabel,Y=$===void 0?typeof E=="string"?E:"Next Year":$;return ve.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":f?Y:L},ve.createElement("span",{className:c.join(" ")},f?E:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ve.createElement("h2",{className:a.join(" ")},Bn(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ve.createElement(cF,Zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:At(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ve.createElement(nF,Zt({},e.defaultProps,n.props,{month:Ai(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ve.createElement(sF,Zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(kS(),i),n.props.setPreSelection&&n.props.setPreSelection(kS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ve.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var a=i.monthDate,l=i.i;return ve.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ve.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderCustomHeader=function(i){var a,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var f=NS(n.state.date,n.props),p=US(n.state.date,n.props),g=jS(n.state.date,n.props),v=VS(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(a=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,Zt(Zt({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:g,nextYearButtonDisabled:v})),b&&ve.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var a=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?e.defaultProps.yearItemNumber:d,p=Nl(a,f),g=p.startPeriod,v=p.endPeriod;return ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(v):At(a))},n.renderHeader=function(i){var a=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:a,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ao(n.state.date,d):Bu(n.state.date,d),p=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,g=0;g<c;++g){var v=g-p+d,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ao(f,v):aa(f,v),E="month-".concat(g),M=g<c-1,x=g>0;l.push(ve.createElement("div",{key:E,ref:function(L){n.monthContainer=L??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:g}),ve.createElement(eF,Zt({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:g,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:M,monthShowsDuplicateDaysStart:x}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ve.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ve.createElement(oF,Zt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ve.createElement(aF,Zt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Cv(i)&&!!n.props.selected,l=a?"".concat(FS(i.getHours()),":").concat(FS(i.getMinutes())):"";if(n.props.showTimeInput)return ve.createElement(Q9,Zt({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,a=Nl(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=a.startPeriod,c=a.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=At(n.state.date):d="".concat(Pb(Ai(n.state.date),n.props.locale)," ").concat(At(n.state.date)),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ve.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=T.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Xt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Si(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Xt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||x9;return ve.createElement(Sv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},ve.createElement(t,{className:Zr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(T.Component),pF=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return ve.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(ve.isValidElement(e)){var l=e;return ve.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(n),onClick:function(c){typeof l.props.onClick=="function"&&l.props.onClick(c),typeof i=="function"&&i(c)}})}return ve.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},dM=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return GL.createPortal(this.props.children,this.el)},e}(T.Component),mF="[tabindex], a, button, input, select, textarea",gF=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},hM=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(mF),1,-1).filter(gF)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=T.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(T.Component);function vF(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=T.useRef(null),l=A9(Zt({open:!i,whileElementsMounted:i9,placement:t.popperPlacement,middleware:ka([d9({padding:15}),c9(10),h9({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Zt(Zt({},t),{hidePopper:i,popperProps:Zt(Zt({},l),{arrowRef:a})});return ve.createElement(r,Zt({},c))};return e}var yF=function(r){Ur(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,a=t.hidePopper,l=a===void 0?e.defaultProps.hidePopper:a,c=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,g=t.portalId,v=t.portalHost,b=t.popperProps,E=t.showArrow,M=void 0;if(!l){var x=Zr("react-datepicker-popper",n);M=ve.createElement(hM,{enableTabLoop:f},ve.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:x,"data-placement":b.placement,onKeyDown:p},c,E&&ve.createElement(_9,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(M=T.createElement(this.props.popperContainer,{},M)),g&&!l&&(M=ve.createElement(dM,{portalId:g,portalHost:v},M));var L=Zr("react-datepicker-wrapper",i);return ve.createElement(ve.Fragment,null,ve.createElement("div",{ref:b.refs.setReference,className:L},d),M)},e}(T.Component),_F=vF(yF),GS="react-datepicker-ignore-onclickoutside";function bF(r,e){return r&&e?Ai(r)!==Ai(e)||At(r)!==At(e):r!==e}var p_="Date input not valid.",m_=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:un()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,l){var c=new Date(l.date);return Cv(c)?ka(ka([],a,!0),[Zt(Zt({},l),{date:c})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),l=lM(n.props),c=uM(n.props),d=l&&Qu(a,qm(l))?l:c&&Zl(a,LS(c))?c:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:BS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Zt(Zt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Zt(Zt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:g_},function(){i||n.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return xo(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((l=(a=n.props).onFocus)===null||l===void 0||l.call(a,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var a,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(a=n.props).onBlur)===null||l===void 0||l.call(a,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,l;n.props.inline||n.setOpen(!1),(l=(a=n.props).onClickOutside)===null||l===void 0||l.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,l,c,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var g=f[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,f),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){n.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:wF});var v=n.props,b=v.selectsRange,E=v.startDate,M=v.endDate,x=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,L=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,$=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(b){var Y=$.split("-",2).map(function(N){return N.trim()}),H=Y[0],G=Y[1],q=d_(H??"",x,n.props.locale,L),P=d_(G??"",x,n.props.locale,L),C=(E==null?void 0:E.getTime())!==(q==null?void 0:q.getTime()),S=(M==null?void 0:M.getTime())!==(P==null?void 0:P.getTime());if(!C&&!S||q&&ks(q,n.props)||P&&ks(P,n.props))return;(c=(l=n.props).onChange)===null||c===void 0||c.call(l,[q,P],g)}else{var k=d_($,x,n.props.locale,L,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(k||!$)&&n.setSelected(k,g,!0)}}},n.handleSelect=function(i,a,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(a),n.setSelected(i,a,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,f=c.endDate;d&&!f&&(n.props.swapRange||!qS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,a,l,c){var d,f,p=i;if(n.props.showYearPicker){if(p!==null&&Ym(At(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&oM(p,n.props))return}else if(p!==null&&ks(p,n.props))return;var g=n.props,v=g.onChange,b=g.selectsRange,E=g.startDate,M=g.endDate,x=g.selectsMultiple,L=g.selectedDates,$=g.minTime,Y=g.swapRange;if(!Pu(n.props.selected,p)||n.props.allowSameDay||b||x)if(p!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=h_(p,{hour:Do(n.props.selected),minute:Ro(n.props.selected),second:zl(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&$&&(p=h_(p,{hour:$.getHours(),minute:$.getMinutes(),second:$.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),b){var H=!E&&!M,G=E&&!M,q=E&&M;H?v==null||v([p,null],a):G&&(p===null?v==null||v([null,null],a):qS(p,E)?Y?v==null||v([p,E],a):v==null||v([p,null],a):v==null||v([E,p],a)),q&&(v==null||v([p,null],a))}else if(x){if(p!==null)if(!(L!=null&&L.length))v==null||v([p],a);else{var P=L.some(function(S){return Xt(S,p)});if(P){var C=L.filter(function(S){return!Xt(S,p)});v==null||v(C,a)}else v==null||v(ka(ka([],L,!0),[p],!1),a)}}else v==null||v(p,a);l||((f=(d=n.props).onSelect)===null||f===void 0||f.call(d,p,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){var a=xo(n.props.minDate),l=xo(n.props.maxDate),c=!0;if(i){var d=qm(i);if(a&&l)c=pf(i,n.props.minDate,n.props.maxDate);else if(a){var f=qm(n.props.minDate);c=Zl(i,f)||Pu(d,f)}else if(l){var p=LS(n.props.maxDate);c=Qu(i,p)||Pu(d,p)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:h_(c,{hour:Do(i),minute:Ro(i)});n.setState({preSelection:d}),(l=(a=n.props).onChange)===null||l===void 0||l.call(a,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,l,c,d,f,p;(l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i);var g=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(g===Be.ArrowDown||g===Be.ArrowUp||g===Be.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(g===Be.ArrowDown||g===Be.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var E=un(n.state.preSelection);g===Be.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===g_?(n.handleSelect(E,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):g===Be.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):g===Be.Tab&&n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:p_})}},n.onPortalKeyDown=function(i){var a=i.key;a===Be.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,l,c,d,f,p,g=n.props,v=g.minDate,b=g.maxDate,E=g.disabledKeyboardNavigation,M=g.showWeekPicker,x=g.shouldCloseOnSelect,L=g.locale,$=g.calendarStartDay,Y=g.adjustDateOnChange,H=g.inline;if((l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i),!E){var G=i.key,q=i.shiftKey,P=un(n.state.preSelection),C=function(J,U){var B=U;switch(J){case Be.ArrowRight:B=M?yg(U,1):na(U,1);break;case Be.ArrowLeft:B=M?wS(U):uB(U);break;case Be.ArrowUp:B=wS(U);break;case Be.ArrowDown:B=yg(U,1);break;case Be.PageUp:B=q?Ad(U,1):Bu(U,1);break;case Be.PageDown:B=q?Ao(U,1):aa(U,1);break;case Be.Home:B=Hl(U,L,$);break;case Be.End:B=O9(U);break}return B},S=function(J,U){for(var B=40,ee=J,ne=!1,O=0,re=C(J,U);!ne;){if(O>=B){re=U;break}v&&re<v&&(ee=Be.ArrowRight,re=ks(v,n.props)?C(ee,re):v),b&&re>b&&(ee=Be.ArrowLeft,re=ks(b,n.props)?C(ee,re):b),ks(re,n.props)?((ee===Be.PageUp||ee===Be.Home)&&(ee=Be.ArrowRight),(ee===Be.PageDown||ee===Be.End)&&(ee=Be.ArrowLeft),re=C(ee,re)):ne=!0,O++}return re};if(G===Be.Enter){i.preventDefault(),n.handleSelect(P,i),!x&&n.setPreSelection(P);return}else if(G===Be.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:p_});return}var k=null;switch(G){case Be.ArrowLeft:case Be.ArrowRight:case Be.ArrowUp:case Be.ArrowDown:case Be.PageUp:case Be.PageDown:case Be.Home:case Be.End:k=S(G,P);break}if(!k){(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:p_});return}if(i.preventDefault(),n.setState({lastPreSelectChange:g_}),Y&&n.setSelected(k),n.setPreSelection(k),H){var N=Ai(P),F=Ai(k),j=At(P),X=At(k);N!==F||j!==X?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===Be.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,l=a.selectsRange,c=a.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:ve.createElement(fF,Zt({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Y9(n.modifyHolidays()),outsideClickIgnoreClass:GS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,a=i.dateFormat,l=a===void 0?e.defaultProps.dateFormat:a,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Rs(n.props.startDate,{dateFormat:f,locale:c}),". ").concat(n.props.endDate?"End date: "+Rs(n.props.endDate,{dateFormat:f,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Rs(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(Rs(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(Rs(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Rs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(Rs(n.props.selected,{dateFormat:f,locale:c})),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var i,a,l,c=Zr(n.props.className,(i={},i[GS]=n.state.open,i)),d=n.props.customInput||ve.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref",p=n.props,g=p.dateFormat,v=g===void 0?e.defaultProps.dateFormat:g,b=p.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?R9(n.props.startDate,n.props.endDate,{dateFormat:v,locale:b}):n.props.selectsMultiple?M9((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:b}):Rs(n.props.selected,{dateFormat:v,locale:b});return T.cloneElement(d,(a={},a[f]=function(M){n.input=M},a.value=E,a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Zr(d.props.className,c),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,f=i.endDate,p=i.clearButtonTitle,g=i.clearButtonClassName,v=g===void 0?"":g,b=i.ariaLabelClose,E=b===void 0?"Close":b,M=i.selectedDates;return a&&(c!=null||d!=null||f!=null||M!=null&&M.length)?ve.createElement("button",{type:"button",className:Zr("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,l,c;t.inline&&bF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:BS(this.props.highlightDates)}),!n.focused&&!Pu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ve.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ve.createElement(pF,Zt({icon:i,className:Zr(l,!l&&a,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ve.createElement(hM,{enableTabLoop:this.props.enableTabLoop},ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ve.createElement(dM,Zt({portalId:this.props.portalId},this.props),n)),ve.createElement("div",null,this.renderInputContainer(),n)}return ve.createElement(_F,Zt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(T.Component),wF="input",g_="navigate";function Bf(r){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(r)}function EF(r,e){if(Bf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function TF(r){var e=EF(r,"string");return Bf(e)=="symbol"?e:e+""}function Ee(r,e,t){return(e=TF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var v_,WS;function SF(){if(WS)return v_;WS=1;var r=function(t,n,i,a,l,c,d,f){if(!t){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,a,l,c,d,f],v=0;p=new Error(n.replace(/%s/g,function(){return g[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return v_=r,v_}var CF=SF(),Tr=fM(CF),bt=T.createContext(null);function AF(){Tr(!!T.useContext,"useGoogleMap is React hook and requires React version 16.8+");var r=T.useContext(bt);return Tr(!!r,"useGoogleMap needs a GoogleMap available up in the tree"),r}function xF(r,e,t){return Object.keys(r).reduce(function(i,a){return e(i,r[a],a)},t)}function DF(r,e){Object.keys(r).forEach(t=>e(r[t],t))}function RF(r,e,t,n){var i={},a=(l,c)=>{var d=t[c];d!==e[c]&&(i[c]=d,l(n,d))};return DF(r,a),i}function MF(r,e,t){var n=xF(t,function(a,l,c){return typeof r[c]=="function"&&a.push(google.maps.event.addListener(e,l,r[c])),a},[]);return n}function kF(r){google.maps.event.removeListener(r)}function Ot(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(kF)}function xt(r){var{updaterMap:e,eventMap:t,prevProps:n,nextProps:i,instance:a}=r,l=MF(i,a,t);return RF(e,n,i,a),l}var QS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},KS={extraMapTypes(r,e){e.forEach(function(n,i){r.mapTypes.set(String(i),n)})},center(r,e){r.setCenter(e)},clickableIcons(r,e){r.setClickableIcons(e)},heading(r,e){r.setHeading(e)},mapTypeId(r,e){r.setMapTypeId(e)},options(r,e){r.setOptions(e)},streetView(r,e){r.setStreetView(e)},tilt(r,e){r.setTilt(e)},zoom(r,e){r.setZoom(e)}};function LF(r){var{children:e,options:t,id:n,mapContainerStyle:i,mapContainerClassName:a,center:l,onClick:c,onDblClick:d,onDrag:f,onDragEnd:p,onDragStart:g,onMouseMove:v,onMouseOut:b,onMouseOver:E,onMouseDown:M,onMouseUp:x,onRightClick:L,onCenterChanged:$,onLoad:Y,onUnmount:H}=r,[G,q]=T.useState(null),P=T.useRef(null),[C,S]=T.useState(null),[k,N]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,se]=T.useState(null),[ue,Z]=T.useState(null),[we,Ue]=T.useState(null),[ie,xe]=T.useState(null),[ke,Pe]=T.useState(null);return T.useEffect(()=>{t&&G!==null&&G.setOptions(t)},[G,t]),T.useEffect(()=>{G!==null&&typeof l<"u"&&G.setCenter(l)},[G,l]),T.useEffect(()=>{G&&d&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(G,"dblclick",d)))},[d]),T.useEffect(()=>{G&&p&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(G,"dragend",p)))},[p]),T.useEffect(()=>{G&&g&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(G,"dragstart",g)))},[g]),T.useEffect(()=>{G&&M&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(G,"mousedown",M)))},[M]),T.useEffect(()=>{G&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(G,"mousemove",v)))},[v]),T.useEffect(()=>{G&&b&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(G,"mouseout",b)))},[b]),T.useEffect(()=>{G&&E&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(G,"mouseover",E)))},[E]),T.useEffect(()=>{G&&x&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(G,"mouseup",x)))},[x]),T.useEffect(()=>{G&&L&&(we!==null&&google.maps.event.removeListener(we),Ue(google.maps.event.addListener(G,"rightclick",L)))},[L]),T.useEffect(()=>{G&&c&&(ie!==null&&google.maps.event.removeListener(ie),xe(google.maps.event.addListener(G,"click",c)))},[c]),T.useEffect(()=>{G&&f&&(ke!==null&&google.maps.event.removeListener(ke),Pe(google.maps.event.addListener(G,"drag",f)))},[f]),T.useEffect(()=>{G&&$&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(G,"center_changed",$)))},[c]),T.useEffect(()=>{var he=P.current===null?null:new google.maps.Map(P.current,t);return q(he),he!==null&&Y&&Y(he),()=>{he!==null&&H&&H(he)}},[]),R.jsx("div",{id:n,ref:P,style:i,className:a,children:R.jsx(bt.Provider,{value:G,children:G!==null?e:null})})}T.memo(LF);class OF extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{map:null}),Ee(this,"registeredEvents",[]),Ee(this,"mapRef",null),Ee(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Ee(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Ee(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Ee(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=xt({updaterMap:KS,eventMap:QS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:KS,eventMap:QS,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ot(this.registeredEvents))}render(){return R.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:R.jsx(bt.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function XS(r,e,t,n,i,a,l){try{var c=r[a](l),d=c.value}catch(f){return void t(f)}c.done?e(d):Promise.resolve(d).then(n,i)}function pM(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function l(d){XS(a,n,i,l,c,"next",d)}function c(d){XS(a,n,i,l,c,"throw",d)}l(void 0)})}}function mM(r){var{googleMapsApiKey:e,googleMapsClientId:t,version:n="weekly",language:i,region:a,libraries:l,channel:c,mapIds:d,authReferrerPolicy:f}=r,p=[];return Tr(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),n&&p.push("v=".concat(n)),i&&p.push("language=".concat(i)),a&&p.push("region=".concat(a)),l&&l.length&&p.push("libraries=".concat(l.sort().join(","))),c&&p.push("channel=".concat(c)),d&&d.length&&p.push("map_ids=".concat(d.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var Nu=typeof document<"u";function gM(r){var{url:e,id:t,nonce:n}=r;return Nu?new Promise(function(a,l){var c=document.getElementById(t),d=window;if(c){var f=c.getAttribute("data-state");if(c.src===e&&f!=="error"){if(f==="ready")return a(t);var p=d.initMap,g=c.onerror;d.initMap=function(){p&&p(),a(t)},c.onerror=function(b){g&&g(b),l(b)};return}else c.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=e,v.id=t,v.async=!0,v.nonce=n||"",v.onerror=function(E){v.setAttribute("data-state","error"),l(E)},d.initMap=function(){v.setAttribute("data-state","ready"),a(t)},document.head.appendChild(v)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function ZS(r){var e=r.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:r.tagName.toLowerCase()==="style"&&r.styleSheet&&r.styleSheet.cssText&&r.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(r.styleSheet.cssText="",!0):r.tagName.toLowerCase()==="style"&&r.innerHTML&&r.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(r.innerHTML="",!0):r.tagName.toLowerCase()==="style"&&!r.styleSheet&&!r.innerHTML}function vM(){var r=document.getElementsByTagName("head")[0];if(r){var e=r.insertBefore.bind(r);r.insertBefore=function(i,a){return ZS(i)||Reflect.apply(e,r,[i,a]),i};var t=r.appendChild.bind(r);r.appendChild=function(i){return ZS(i)||Reflect.apply(t,r,[i]),i}}}var nf=!1;function yM(){return R.jsx("div",{children:"Loading..."})}var a0={id:"script-loader",version:"weekly"};class _M extends T.PureComponent{constructor(){super(...arguments),Ee(this,"check",null),Ee(this,"state",{loaded:!1}),Ee(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Ee(this,"isCleaningUp",pM(function*(){function e(t){if(!nf)t();else if(Nu)var n=window.setInterval(function(){nf||(window.clearInterval(n),t())},1)}return new Promise(e)})),Ee(this,"cleanup",()=>{nf=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),Ee(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&vM(),Tr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:mM(this.props)};gM(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Ee(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Nu){if(window.google&&window.google.maps&&!nf){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Nu&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Nu){this.cleanup();var e=()=>{this.check||(delete window.google,nf=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return R.jsxs(R.Fragment,{children:[R.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||R.jsx(yM,{})]})}}Ee(_M,"defaultProps",a0);function IF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function Ub(r,e){if(r==null)return{};var t,n,i=IF(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var JS;function PF(r){var{id:e=a0.id,version:t=a0.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:d,preventGoogleFontsLoading:f,channel:p,mapIds:g,authReferrerPolicy:v}=r,b=T.useRef(!1),[E,M]=T.useState(!1),[x,L]=T.useState(void 0);T.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),T.useEffect(function(){Nu&&f&&vM()},[f]),T.useEffect(function(){E&&Tr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var $=mM({version:t,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:d,channel:p,mapIds:g,authReferrerPolicy:v});T.useEffect(function(){if(!Nu)return;function G(){b.current&&(M(!0),JS=$)}if(window.google&&window.google.maps&&JS===$){G();return}gM({id:e,url:$,nonce:n}).then(G).catch(function(P){b.current&&L(P),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(P)})},[e,$,n]);var Y=T.useRef(void 0);return T.useEffect(function(){Y.current&&d!==Y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Y.current=d},[d]),{isLoaded:E,loadError:x,url:$}}var NF=["loadingElement","onLoad","onError","onUnmount","children"],UF=R.jsx(yM,{});function jF(r){var{loadingElement:e,onLoad:t,onError:n,onUnmount:i,children:a}=r,l=Ub(r,NF),{isLoaded:c,loadError:d}=PF(l);return T.useEffect(function(){c&&typeof t=="function"&&t()},[c,t]),T.useEffect(function(){d&&typeof n=="function"&&n(d)},[d,n]),T.useEffect(function(){return()=>{i&&i()}},[i]),c?a:e||UF}T.memo(jF);var eC;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(eC||(eC={}));function tC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Mg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var nC={},rC={options(r,e){r.setOptions(e)}};function VF(r){var{options:e,onLoad:t,onUnmount:n}=r,i=T.useContext(bt),[a,l]=T.useState(null);return T.useEffect(()=>{a!==null&&a.setMap(i)},[i]),T.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),T.useEffect(()=>{var c=new google.maps.TrafficLayer(Mg(Mg({},e),{},{map:i}));return l(c),t&&t(c),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}T.memo(VF);class BF extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{trafficLayer:null}),Ee(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Ee(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Mg(Mg({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:rC,eventMap:nC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:rC,eventMap:nC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ot(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ee(BF,"contextType",bt);function FF(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(bt),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.BicyclingLayer;return a(l),l.setMap(n),e&&e(l),()=>{l!==null&&(t&&t(l),l.setMap(null))}},[]),null}T.memo(FF);class zF extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{bicyclingLayer:null}),Ee(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Ee(zF,"contextType",bt);function HF(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(bt),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.TransitLayer;return a(l),l.setMap(n),e&&e(l),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}T.memo(HF);class qF extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{transitLayer:null}),Ee(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Ee(qF,"contextType",bt);function iC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var sC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},aC={drawingMode(r,e){r.setDrawingMode(e)},options(r,e){r.setOptions(e)}};function YF(r){var{options:e,drawingMode:t,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:f,onUnmount:p}=r,g=T.useContext(bt),[v,b]=T.useState(null),[E,M]=T.useState(null),[x,L]=T.useState(null),[$,Y]=T.useState(null),[H,G]=T.useState(null),[q,P]=T.useState(null),[C,S]=T.useState(null);return T.useEffect(()=>{v!==null&&v.setMap(g)},[g]),T.useEffect(()=>{e&&v!==null&&v.setOptions(e)},[v,e]),T.useEffect(()=>{v!==null&&v.setDrawingMode(t??null)},[v,t]),T.useEffect(()=>{v&&n&&(E!==null&&google.maps.event.removeListener(E),M(google.maps.event.addListener(v,"circlecomplete",n)))},[v,n]),T.useEffect(()=>{v&&i&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(v,"markercomplete",i)))},[v,i]),T.useEffect(()=>{v&&a&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(v,"overlaycomplete",a)))},[v,a]),T.useEffect(()=>{v&&l&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(v,"polygoncomplete",l)))},[v,l]),T.useEffect(()=>{v&&c&&(q!==null&&google.maps.event.removeListener(q),P(google.maps.event.addListener(v,"polylinecomplete",c)))},[v,c]),T.useEffect(()=>{v&&d&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(v,"rectanglecomplete",d)))},[v,d]),T.useEffect(()=>{Tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var k=new google.maps.drawing.DrawingManager(kg(kg({},e),{},{map:g}));return t&&k.setDrawingMode(t),n&&M(google.maps.event.addListener(k,"circlecomplete",n)),i&&L(google.maps.event.addListener(k,"markercomplete",i)),a&&Y(google.maps.event.addListener(k,"overlaycomplete",a)),l&&G(google.maps.event.addListener(k,"polygoncomplete",l)),c&&P(google.maps.event.addListener(k,"polylinecomplete",c)),d&&S(google.maps.event.addListener(k,"rectanglecomplete",d)),b(k),f&&f(k),()=>{v!==null&&(E&&google.maps.event.removeListener(E),x&&google.maps.event.removeListener(x),$&&google.maps.event.removeListener($),H&&google.maps.event.removeListener(H),q&&google.maps.event.removeListener(q),C&&google.maps.event.removeListener(C),p&&p(v),v.setMap(null))}},[]),null}T.memo(YF);class $F extends T.PureComponent{constructor(e){super(e),Ee(this,"registeredEvents",[]),Ee(this,"state",{drawingManager:null}),Ee(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(kg(kg({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:aC,eventMap:sC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:aC,eventMap:sC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ot(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Ee($F,"contextType",bt);function oC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function md(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var lC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},uC={animation(r,e){r.setAnimation(e)},clickable(r,e){r.setClickable(e)},cursor(r,e){r.setCursor(e)},draggable(r,e){r.setDraggable(e)},icon(r,e){r.setIcon(e)},label(r,e){r.setLabel(e)},map(r,e){r.setMap(e)},opacity(r,e){r.setOpacity(e)},options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},shape(r,e){r.setShape(e)},title(r,e){r.setTitle(e)},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},Lg={};function GF(r){var{position:e,options:t,clusterer:n,noClustererRedraw:i,children:a,draggable:l,visible:c,animation:d,clickable:f,cursor:p,icon:g,label:v,opacity:b,shape:E,title:M,zIndex:x,onClick:L,onDblClick:$,onDrag:Y,onDragEnd:H,onDragStart:G,onMouseOut:q,onMouseOver:P,onMouseUp:C,onMouseDown:S,onRightClick:k,onClickableChanged:N,onCursorChanged:F,onAnimationChanged:j,onDraggableChanged:X,onFlatChanged:J,onIconChanged:U,onPositionChanged:B,onShapeChanged:ee,onTitleChanged:ne,onVisibleChanged:O,onZindexChanged:re,onLoad:oe,onUnmount:se}=r,ue=T.useContext(bt),[Z,we]=T.useState(null),[Ue,ie]=T.useState(null),[xe,ke]=T.useState(null),[Pe,he]=T.useState(null),[Se,Ne]=T.useState(null),[Le,Fe]=T.useState(null),[$e,tt]=T.useState(null),[Et,Ft]=T.useState(null),[Qe,zt]=T.useState(null),[vt,Tt]=T.useState(null),[on,Dt]=T.useState(null),[ct,wt]=T.useState(null),[It,yn]=T.useState(null),[Wn,En]=T.useState(null),[Nn,zn]=T.useState(null),[Sn,hi]=T.useState(null),[ei,Di]=T.useState(null),[ti,vr]=T.useState(null),[jr,Un]=T.useState(null),[sr,Qn]=T.useState(null),[Sr,ni]=T.useState(null),[Cn,Rn]=T.useState(null);T.useEffect(()=>{Z!==null&&Z.setMap(ue)},[ue]),T.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),T.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setDraggable(l)},[Z,l]),T.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),T.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setVisible(c)},[Z,c]),T.useEffect(()=>{Z==null||Z.setAnimation(d)},[Z,d]),T.useEffect(()=>{Z&&f!==void 0&&Z.setClickable(f)},[Z,f]),T.useEffect(()=>{Z&&p!==void 0&&Z.setCursor(p)},[Z,p]),T.useEffect(()=>{Z&&g!==void 0&&Z.setIcon(g)},[Z,g]),T.useEffect(()=>{Z&&v!==void 0&&Z.setLabel(v)},[Z,v]),T.useEffect(()=>{Z&&b!==void 0&&Z.setOpacity(b)},[Z,b]),T.useEffect(()=>{Z&&E!==void 0&&Z.setShape(E)},[Z,E]),T.useEffect(()=>{Z&&M!==void 0&&Z.setTitle(M)},[Z,M]),T.useEffect(()=>{Z&&x!==void 0&&Z.setZIndex(x)},[Z,x]),T.useEffect(()=>{Z&&$&&(Ue!==null&&google.maps.event.removeListener(Ue),ie(google.maps.event.addListener(Z,"dblclick",$)))},[$]),T.useEffect(()=>{Z&&H&&(xe!==null&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener(Z,"dragend",H)))},[H]),T.useEffect(()=>{Z&&G&&(Pe!==null&&google.maps.event.removeListener(Pe),he(google.maps.event.addListener(Z,"dragstart",G)))},[G]),T.useEffect(()=>{Z&&S&&(Se!==null&&google.maps.event.removeListener(Se),Ne(google.maps.event.addListener(Z,"mousedown",S)))},[S]),T.useEffect(()=>{Z&&q&&(Le!==null&&google.maps.event.removeListener(Le),Fe(google.maps.event.addListener(Z,"mouseout",q)))},[q]),T.useEffect(()=>{Z&&P&&($e!==null&&google.maps.event.removeListener($e),tt(google.maps.event.addListener(Z,"mouseover",P)))},[P]),T.useEffect(()=>{Z&&C&&(Et!==null&&google.maps.event.removeListener(Et),Ft(google.maps.event.addListener(Z,"mouseup",C)))},[C]),T.useEffect(()=>{Z&&k&&(Qe!==null&&google.maps.event.removeListener(Qe),zt(google.maps.event.addListener(Z,"rightclick",k)))},[k]),T.useEffect(()=>{Z&&L&&(vt!==null&&google.maps.event.removeListener(vt),Tt(google.maps.event.addListener(Z,"click",L)))},[L]),T.useEffect(()=>{Z&&Y&&(on!==null&&google.maps.event.removeListener(on),Dt(google.maps.event.addListener(Z,"drag",Y)))},[Y]),T.useEffect(()=>{Z&&N&&(ct!==null&&google.maps.event.removeListener(ct),wt(google.maps.event.addListener(Z,"clickable_changed",N)))},[N]),T.useEffect(()=>{Z&&F&&(It!==null&&google.maps.event.removeListener(It),yn(google.maps.event.addListener(Z,"cursor_changed",F)))},[F]),T.useEffect(()=>{Z&&j&&(Wn!==null&&google.maps.event.removeListener(Wn),En(google.maps.event.addListener(Z,"animation_changed",j)))},[j]),T.useEffect(()=>{Z&&X&&(Nn!==null&&google.maps.event.removeListener(Nn),zn(google.maps.event.addListener(Z,"draggable_changed",X)))},[X]),T.useEffect(()=>{Z&&J&&(Sn!==null&&google.maps.event.removeListener(Sn),hi(google.maps.event.addListener(Z,"flat_changed",J)))},[J]),T.useEffect(()=>{Z&&U&&(ei!==null&&google.maps.event.removeListener(ei),Di(google.maps.event.addListener(Z,"icon_changed",U)))},[U]),T.useEffect(()=>{Z&&B&&(ti!==null&&google.maps.event.removeListener(ti),vr(google.maps.event.addListener(Z,"position_changed",B)))},[B]),T.useEffect(()=>{Z&&ee&&(jr!==null&&google.maps.event.removeListener(jr),Un(google.maps.event.addListener(Z,"shape_changed",ee)))},[ee]),T.useEffect(()=>{Z&&ne&&(sr!==null&&google.maps.event.removeListener(sr),Qn(google.maps.event.addListener(Z,"title_changed",ne)))},[ne]),T.useEffect(()=>{Z&&O&&(Sr!==null&&google.maps.event.removeListener(Sr),ni(google.maps.event.addListener(Z,"visible_changed",O)))},[O]),T.useEffect(()=>{Z&&re&&(Cn!==null&&google.maps.event.removeListener(Cn),Rn(google.maps.event.addListener(Z,"zindex_changed",re)))},[re]),T.useEffect(()=>{var Jt=md(md(md({},t||Lg),n?Lg:{map:ue}),{},{position:e}),Ge=new google.maps.Marker(Jt);return n?n.addMarker(Ge,!!i):Ge.setMap(ue),e&&Ge.setPosition(e),typeof c<"u"&&Ge.setVisible(c),typeof l<"u"&&Ge.setDraggable(l),typeof f<"u"&&Ge.setClickable(f),typeof p=="string"&&Ge.setCursor(p),g&&Ge.setIcon(g),typeof v<"u"&&Ge.setLabel(v),typeof b<"u"&&Ge.setOpacity(b),E&&Ge.setShape(E),typeof M=="string"&&Ge.setTitle(M),typeof x=="number"&&Ge.setZIndex(x),$&&ie(google.maps.event.addListener(Ge,"dblclick",$)),H&&ke(google.maps.event.addListener(Ge,"dragend",H)),G&&he(google.maps.event.addListener(Ge,"dragstart",G)),S&&Ne(google.maps.event.addListener(Ge,"mousedown",S)),q&&Fe(google.maps.event.addListener(Ge,"mouseout",q)),P&&tt(google.maps.event.addListener(Ge,"mouseover",P)),C&&Ft(google.maps.event.addListener(Ge,"mouseup",C)),k&&zt(google.maps.event.addListener(Ge,"rightclick",k)),L&&Tt(google.maps.event.addListener(Ge,"click",L)),Y&&Dt(google.maps.event.addListener(Ge,"drag",Y)),N&&wt(google.maps.event.addListener(Ge,"clickable_changed",N)),F&&yn(google.maps.event.addListener(Ge,"cursor_changed",F)),j&&En(google.maps.event.addListener(Ge,"animation_changed",j)),X&&zn(google.maps.event.addListener(Ge,"draggable_changed",X)),J&&hi(google.maps.event.addListener(Ge,"flat_changed",J)),U&&Di(google.maps.event.addListener(Ge,"icon_changed",U)),B&&vr(google.maps.event.addListener(Ge,"position_changed",B)),ee&&Un(google.maps.event.addListener(Ge,"shape_changed",ee)),ne&&Qn(google.maps.event.addListener(Ge,"title_changed",ne)),O&&ni(google.maps.event.addListener(Ge,"visible_changed",O)),re&&Rn(google.maps.event.addListener(Ge,"zindex_changed",re)),we(Ge),oe&&oe(Ge),()=>{Ue!==null&&google.maps.event.removeListener(Ue),xe!==null&&google.maps.event.removeListener(xe),Pe!==null&&google.maps.event.removeListener(Pe),Se!==null&&google.maps.event.removeListener(Se),Le!==null&&google.maps.event.removeListener(Le),$e!==null&&google.maps.event.removeListener($e),Et!==null&&google.maps.event.removeListener(Et),Qe!==null&&google.maps.event.removeListener(Qe),vt!==null&&google.maps.event.removeListener(vt),ct!==null&&google.maps.event.removeListener(ct),It!==null&&google.maps.event.removeListener(It),Wn!==null&&google.maps.event.removeListener(Wn),Nn!==null&&google.maps.event.removeListener(Nn),Sn!==null&&google.maps.event.removeListener(Sn),ei!==null&&google.maps.event.removeListener(ei),ti!==null&&google.maps.event.removeListener(ti),sr!==null&&google.maps.event.removeListener(sr),Sr!==null&&google.maps.event.removeListener(Sr),Cn!==null&&google.maps.event.removeListener(Cn),se&&se(Ge),n?n.removeMarker(Ge,!!i):Ge&&Ge.setMap(null)}},[]);var Vo=T.useMemo(()=>a?T.Children.map(a,Jt=>{if(!T.isValidElement(Jt))return Jt;var Ge=Jt;return T.cloneElement(Ge,{anchor:Z})}):null,[a,Z]);return R.jsx(R.Fragment,{children:Vo})||null}T.memo(GF);class bM extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[])}componentDidMount(){var e=this;return pM(function*(){var t=md(md(md({},e.props.options||Lg),e.props.clusterer?Lg:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=xt({updaterMap:uC,eventMap:lC,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:uC,eventMap:lC,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ot(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?T.Children.map(this.props.children,t=>{if(!T.isValidElement(t))return t;var n=t;return T.cloneElement(n,{anchor:this.marker})}):null;return e||null}}Ee(bM,"contextType",bt);var WF=function(){function r(e,t){e.getClusterer().extend(r,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return r.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},r.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},r.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),a=t.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=t.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var c=l.getZoom()||0;n!==null&&c>n&&l.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},r.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},r.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},r.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},r.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},r.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},r.prototype.show=function(){var e,t,n,i,a,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((t=d[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=c,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var b=document.createElement("div");b.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(b.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(b.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(b),this.div.title=c,this.div.style.display=""}this.visible=!0},r.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},r.prototype.setCenter=function(e){this.center=e},r.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},r}(),QF=function(){function r(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new WF(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return r.prototype.getSize=function(){return this.markers.length},r.prototype.getMarkers=function(){return this.markers},r.prototype.getCenter=function(){return this.center},r.prototype.getMap=function(){return this.map},r.prototype.getClusterer=function(){return this.markerClusterer},r.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0,i=t;n<i.length;n++){var a=i[n],l=a.getPosition();l&&e.extend(l)}return e},r.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},r.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(l!==null&&typeof c<"u"&&c>l)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var p=f[d];p.setMap(null)}else e.setMap(null);return!0},r.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},r.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},r.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},r.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},r}();function KF(r,e){var t=r.length,n=t.toString().length,i=Math.min(n,e);return{text:t.toString(),index:i,title:""}}var XF=2e3,ZF=500,JF="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",e8="png",t8=[53,56,66,78,90],n8="cluster",wM=function(){function r(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(r,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||JF,this.imageExtension=n.imageExtension||e8,this.imageSizes=n.imageSizes||t8,this.calculator=n.calculator||KF,this.batchSize=n.batchSize||XF,this.batchSizeIE=n.batchSizeIE||ZF,this.clusterClass=n.clusterClass||n8,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return r.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},r.prototype.onIdle=function(){this.redraw()},r.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},r.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var l=a[i];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var f=d[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},r.prototype.draw=function(){},r.prototype.getMap=function(){return null},r.prototype.getPanes=function(){return null},r.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},r.prototype.setMap=function(){},r.prototype.addListener=function(){return{remove:function(){}}},r.prototype.bindTo=function(){},r.prototype.get=function(){},r.prototype.notify=function(){},r.prototype.set=function(){},r.prototype.setValues=function(){},r.prototype.unbind=function(){},r.prototype.unbindAll=function(){},r.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},r.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var a=i[n],l=a.getPosition();l&&t.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(t)},r.prototype.getGridSize=function(){return this.gridSize},r.prototype.setGridSize=function(e){this.gridSize=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.setMaxZoom=function(e){this.maxZoom=e},r.prototype.getStyles=function(){return this.styles},r.prototype.setStyles=function(e){this.styles=e},r.prototype.getTitle=function(){return this.title},r.prototype.setTitle=function(e){this.title=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick},r.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},r.prototype.getAverageCenter=function(){return this.averageCenter},r.prototype.setAverageCenter=function(e){this.averageCenter=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},r.prototype.getImageExtension=function(){return this.imageExtension},r.prototype.setImageExtension=function(e){this.imageExtension=e},r.prototype.getImagePath=function(){return this.imagePath},r.prototype.setImagePath=function(e){this.imagePath=e},r.prototype.getImageSizes=function(){return this.imageSizes},r.prototype.setImageSizes=function(e){this.imageSizes=e},r.prototype.getCalculator=function(){return this.calculator},r.prototype.setCalculator=function(e){this.calculator=e},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},r.prototype.getClusterClass=function(){return this.clusterClass},r.prototype.setClusterClass=function(e){this.clusterClass=e},r.prototype.getMarkers=function(){return this.markers},r.prototype.getTotalMarkers=function(){return this.markers.length},r.prototype.getClusters=function(){return this.clusters},r.prototype.getTotalClusters=function(){return this.clusters.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},r.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},r.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},r.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},r.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},r.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,a=e;i<a.length;i++){var l=a[i];n=n||this.removeMarker_(l)}return!t&&n&&this.repaint(),n},r.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},r.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=e;n<i.length;n++){var a=i[n];a.remove()}},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var a=t.fromDivPixelToLatLng(n);a!==null&&e.extend(a)}if(i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}return e},r.prototype.redraw=function(){this.createClusters(0)},r.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){var i=n[t];i.remove()}this.clusters=[];for(var a=0,l=this.markers;a<l.length;a++){var c=l[a];c.isAdded=!1,e&&c.setMap(null)}},r.prototype.distanceBetweenPoints=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},r.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return n?t.contains(n):!1},r.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,a=0,l=this.clusters;a<l.length;a++){var c=l[a];t=c;var d=t.getCenter(),f=e.getPosition();if(d&&f){var p=this.distanceBetweenPoints(d,f);p<n&&(n=p,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new QF(this),t.addMarker(e),this.clusters.push(t))},r.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,a=(n==null?void 0:n.getZoom())||0,l=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(e+this.batchSize,this.markers.length),f=e;f<d;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,c)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,v=this.clusters;g<v.length;g++){var b=v[g];b.updateIcon()}}}},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype){var l=a;this.prototype[l]=i.prototype[l]}return this}).apply(e,[t])},r}();function cC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function r8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ds={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},rn={averageCenter(r,e){r.setAverageCenter(e)},batchSizeIE(r,e){r.setBatchSizeIE(e)},calculator(r,e){r.setCalculator(e)},clusterClass(r,e){r.setClusterClass(e)},enableRetinaIcons(r,e){r.setEnableRetinaIcons(e)},gridSize(r,e){r.setGridSize(e)},ignoreHidden(r,e){r.setIgnoreHidden(e)},imageExtension(r,e){r.setImageExtension(e)},imagePath(r,e){r.setImagePath(e)},imageSizes(r,e){r.setImageSizes(e)},maxZoom(r,e){r.setMaxZoom(e)},minimumClusterSize(r,e){r.setMinimumClusterSize(e)},styles(r,e){r.setStyles(e)},title(r,e){r.setTitle(e)},zoomOnClick(r,e){r.setZoomOnClick(e)}},i8={};function s8(r){var{children:e,options:t,averageCenter:n,batchSizeIE:i,calculator:a,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:f,imageExtension:p,imagePath:g,imageSizes:v,maxZoom:b,minimumClusterSize:E,styles:M,title:x,zoomOnClick:L,onClick:$,onClusteringBegin:Y,onClusteringEnd:H,onMouseOver:G,onMouseOut:q,onLoad:P,onUnmount:C}=r,[S,k]=T.useState(null),N=T.useContext(bt),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null);return T.useEffect(()=>{S&&q&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(S,Ds.onMouseOut,q)))},[q]),T.useEffect(()=>{S&&G&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(S,Ds.onMouseOver,G)))},[G]),T.useEffect(()=>{S&&$&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(S,Ds.onClick,$)))},[$]),T.useEffect(()=>{S&&Y&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(S,Ds.onClusteringBegin,Y)))},[Y]),T.useEffect(()=>{S&&H&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(S,Ds.onClusteringEnd,H)))},[H]),T.useEffect(()=>{typeof n<"u"&&S!==null&&rn.averageCenter(S,n)},[S,n]),T.useEffect(()=>{typeof i<"u"&&S!==null&&rn.batchSizeIE(S,i)},[S,i]),T.useEffect(()=>{typeof a<"u"&&S!==null&&rn.calculator(S,a)},[S,a]),T.useEffect(()=>{typeof l<"u"&&S!==null&&rn.clusterClass(S,l)},[S,l]),T.useEffect(()=>{typeof c<"u"&&S!==null&&rn.enableRetinaIcons(S,c)},[S,c]),T.useEffect(()=>{typeof d<"u"&&S!==null&&rn.gridSize(S,d)},[S,d]),T.useEffect(()=>{typeof f<"u"&&S!==null&&rn.ignoreHidden(S,f)},[S,f]),T.useEffect(()=>{typeof p<"u"&&S!==null&&rn.imageExtension(S,p)},[S,p]),T.useEffect(()=>{typeof g<"u"&&S!==null&&rn.imagePath(S,g)},[S,g]),T.useEffect(()=>{typeof v<"u"&&S!==null&&rn.imageSizes(S,v)},[S,v]),T.useEffect(()=>{typeof b<"u"&&S!==null&&rn.maxZoom(S,b)},[S,b]),T.useEffect(()=>{typeof E<"u"&&S!==null&&rn.minimumClusterSize(S,E)},[S,E]),T.useEffect(()=>{typeof M<"u"&&S!==null&&rn.styles(S,M)},[S,M]),T.useEffect(()=>{typeof x<"u"&&S!==null&&rn.title(S,x)},[S,x]),T.useEffect(()=>{typeof L<"u"&&S!==null&&rn.zoomOnClick(S,L)},[S,L]),T.useEffect(()=>{if(N){var oe=r8({},t||i8),se=new wM(N,[],oe);return n&&rn.averageCenter(se,n),i&&rn.batchSizeIE(se,i),a&&rn.calculator(se,a),l&&rn.clusterClass(se,l),c&&rn.enableRetinaIcons(se,c),d&&rn.gridSize(se,d),f&&rn.ignoreHidden(se,f),p&&rn.imageExtension(se,p),g&&rn.imagePath(se,g),v&&rn.imageSizes(se,v),b&&rn.maxZoom(se,b),E&&rn.minimumClusterSize(se,E),M&&rn.styles(se,M),x&&rn.title(se,x),L&&rn.zoomOnClick(se,L),q&&ne(google.maps.event.addListener(se,Ds.onMouseOut,q)),G&&re(google.maps.event.addListener(se,Ds.onMouseOver,G)),$&&j(google.maps.event.addListener(se,Ds.onClick,$)),Y&&J(google.maps.event.addListener(se,Ds.onClusteringBegin,Y)),H&&B(google.maps.event.addListener(se,Ds.onClusteringEnd,H)),k(se),P&&P(se),()=>{ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),C&&C(se)}}},[]),S!==null&&e(S)||null}T.memo(s8);class a8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{markerClusterer:null}),Ee(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new wM(this.context,[],this.props.options);this.registeredEvents=xt({updaterMap:rn,eventMap:Ds,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:rn,eventMap:Ds,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ot(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Ee(a8,"contextType",bt);function dC(r){r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}var EM=function(){function r(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(r,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return r.prototype.createInfoBoxDiv=function(){var e=this,t=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||dC(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=a;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,dC))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},r.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},r.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},r.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},r.prototype.getCloseClickHandler=function(){return this.closeClickHandler},r.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,a=t.getBounds();a&&!a.contains(this.position)&&t.setCenter(this.position);var l=t.getDiv(),c=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,g=this.div.offsetWidth,v=this.div.offsetHeight,b=this.infoBoxClearance.width,E=this.infoBoxClearance.height,M=this.getProjection(),x=M.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-f+b?n=x.x+f-b:x.x+g+f+b>c&&(n=x.x+g+f+b-c),this.alignBottom?x.y<-p+E+v?i=x.y+p-E-v:x.y+p+E>d&&(i=x.y+p+E-d):x.y<-p+E?i=x.y+p-E:x.y+v+p+E>d&&(i=x.y+v+p+E-d)),n===0&&i===0||t.panBy(n,i)}}},r.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},r.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},r.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},r.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},r.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},r.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},r.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},r.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},r.prototype.getContent=function(){return this.content},r.prototype.getPosition=function(){return this.position},r.prototype.getZIndex=function(){return this.zIndex},r.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},r.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},r.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},r.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},r.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[t])},r}(),o8=["position"],l8=["position"];function hC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Og(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var fC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},pC={options(r,e){r.setOptions(e)},position(r,e){e instanceof google.maps.LatLng?r.setPosition(e):r.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},u8={};function c8(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:g,onUnmount:v}=r,b=T.useContext(bt),[E,M]=T.useState(null),[x,L]=T.useState(null),[$,Y]=T.useState(null),[H,G]=T.useState(null),[q,P]=T.useState(null),[C,S]=T.useState(null),k=T.useRef(null);return T.useEffect(()=>{b&&E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{if(i&&E!==null){var N=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);E.setPosition(N)}},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&c&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"domready",c)))},[c]),T.useEffect(()=>{E&&d&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(q!==null&&google.maps.event.removeListener(q),P(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{if(b){var N=n||u8,{position:F}=N,j=Ub(N,o8),X;F&&!(F instanceof google.maps.LatLng)&&(X=new google.maps.LatLng(F.lat,F.lng));var J=new EM(Og(Og({},j),X?{position:X}:{}));k.current=document.createElement("div"),M(J),l&&L(google.maps.event.addListener(J,"closeclick",l)),c&&Y(google.maps.event.addListener(J,"domready",c)),d&&G(google.maps.event.addListener(J,"content_changed",d)),f&&P(google.maps.event.addListener(J,"position_changed",f)),p&&S(google.maps.event.addListener(J,"zindex_changed",p)),J.setContent(k.current),t?J.open(b,t):J.getPosition()?J.open(b):Tr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(J)}return()=>{E!==null&&(x&&google.maps.event.removeListener(x),H&&google.maps.event.removeListener(H),$&&google.maps.event.removeListener($),q&&google.maps.event.removeListener(q),C&&google.maps.event.removeListener(C),v&&v(E),E.close())}},[]),k.current?eu.createPortal(T.Children.only(e),k.current):null}T.memo(c8);class d8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",null),Ee(this,"state",{infoBox:null}),Ee(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Tr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Ee(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,n=Ub(e,l8),i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));var a=new EM(Og(Og({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=xt({updaterMap:pC,eventMap:fC,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:pC,eventMap:fC,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Ot(this.registeredEvents),t.close())}render(){return this.containerElement?eu.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Ee(d8,"contextType",bt);var y_,mC;function h8(){return mC||(mC=1,y_=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var l=a[i];if(!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),y_}var f8=h8(),gC=fM(f8),vC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],__=1,rf=8;class jb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==__)throw new Error("Got v".concat(i," data when expected v").concat(__,"."));var a=vC[n&15];if(!a)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new jb(c,l,a,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=vC.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,rf,e),this.coords=new this.ArrayType(this.data,rf+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(rf+l+c+d),this.ids=new this.IndexArrayType(this.data,rf,e),this.coords=new this.ArrayType(this.data,rf+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(__<<4)+a]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return o0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,d=[0,a.length-1,0],f=[];d.length;){var p=d.pop()||0,g=d.pop()||0,v=d.pop()||0;if(g-v<=c){for(var b=v;b<=g;b++){var E=l[2*b],M=l[2*b+1];E>=e&&E<=n&&M>=t&&M<=i&&f.push(a[b])}continue}var x=v+g>>1,L=l[2*x],$=l[2*x+1];L>=e&&L<=n&&$>=t&&$<=i&&f.push(a[x]),(p===0?e<=L:t<=$)&&(d.push(v),d.push(x-1),d.push(1-p)),(p===0?n>=L:i>=$)&&(d.push(x+1),d.push(g),d.push(1-p))}return f}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],d=[],f=n*n;c.length;){var p=c.pop()||0,g=c.pop()||0,v=c.pop()||0;if(g-v<=l){for(var b=v;b<=g;b++)yC(a[2*b],a[2*b+1],e,t)<=f&&d.push(i[b]);continue}var E=v+g>>1,M=a[2*E],x=a[2*E+1];yC(M,x,e,t)<=f&&d.push(i[E]),(p===0?e-n<=M:t-n<=x)&&(c.push(v),c.push(E-1),c.push(1-p)),(p===0?e+n>=M:t+n>=x)&&(c.push(E+1),c.push(g),c.push(1-p))}return d}}function o0(r,e,t,n,i,a){if(!(i-n<=t)){var l=n+i>>1;TM(r,e,l,n,i,a),o0(r,e,t,n,l-1,1-a),o0(r,e,t,l+1,i,1-a)}}function TM(r,e,t,n,i,a){for(;i>n;){if(i-n>600){var l=i-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(t-c*f/l+p)),v=Math.min(i,Math.floor(t+(l-c)*f/l+p));TM(r,e,t,g,v,a)}var b=e[2*t+a],E=n,M=i;for(sf(r,e,n,t),e[2*i+a]>b&&sf(r,e,n,i);E<M;){for(sf(r,e,E,M),E++,M--;e[2*E+a]<b;)E++;for(;e[2*M+a]>b;)M--}e[2*n+a]===b?sf(r,e,n,M):(M++,sf(r,e,M,i)),M<=t&&(n=M+1),t<=M&&(i=M-1)}}function sf(r,e,t,n){b_(r,t,n),b_(e,2*t,2*n),b_(e,2*t+1,2*n+1)}function b_(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function yC(r,e,t,n){var i=r-t,a=e-n;return i*i+a*a}var p8={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:r=>r},_C=Math.fround||(r=>e=>(r[0]=+e,r[0]))(new Float32Array(1)),ku=2,Rl=3,w_=4,xl=5,SM=6;class m8{constructor(e){this.options=Object.assign(Object.create(p8),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var a="prepare ".concat(e.length," points");t&&console.time(a),this.points=e;for(var l=[],c=0;c<e.length;c++){var d=e[c];if(d.geometry){var[f,p]=d.geometry.coordinates,g=_C(Am(f)),v=_C(xm(p));l.push(g,v,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var b=this.trees[i+1]=this._createTree(l);t&&console.timeEnd(a);for(var E=i;E>=n;E--){var M=+Date.now();b=this.trees[E]=this._createTree(this._cluster(b,E)),t&&console.log("z%d: %d clusters in %dms",E,b.numItems,+Date.now()-M)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,a=180;else if(n>a){var c=this.getClusters([n,i,180,l],t),d=this.getClusters([-180,i,a,l],t);return c.concat(d)}var f=this.trees[this._limitZoom(t)],p=f.range(Am(n),xm(l),Am(a),xm(i)),g=f.data,v=[];for(var b of p){var E=this.stride*b;v.push(g[E+xl]>1?bC(g,E,this.clusterProps):this.points[g[E+Rl]])}return v}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);var l=a.data;if(t*this.stride>=l.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=l[t*this.stride],f=l[t*this.stride+1],p=a.within(d,f,c),g=[];for(var v of p){var b=v*this.stride;l[b+w_]===e&&g.push(l[b+xl]>1?bC(l,b,this.clusterProps):this.points[l[b+Rl]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:l,radius:c}=this.options,d=c/l,f=(n-d)/a,p=(n+1+d)/a,g={features:[]};return this._addTileFeatures(i.range((t-d)/a,f,(t+1+d)/a,p),i.data,t,n,a,g),t===0&&this._addTileFeatures(i.range(1-d/a,f,1,p),i.data,a,n,a,g),t===a-1&&this._addTileFeatures(i.range(0,f,d/a,p),i.data,-1,n,a,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,a){var l=this.getChildren(t);for(var c of l){var d=c.properties;if(d&&d.cluster?a+d.point_count<=i?a+=d.point_count:a=this._appendLeaves(e,d.cluster_id,n,i,a):a<i?a++:e.push(c),e.length===n)break}return a}_createTree(e){for(var t=new jb(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,a,l){for(var c of e){var d=c*this.stride,f=t[d+xl]>1,p=void 0,g=void 0,v=void 0;if(f)p=CM(t,d,this.clusterProps),g=t[d],v=t[d+1];else{var b=this.points[t[d+Rl]];p=b.properties;var[E,M]=b.geometry.coordinates;g=Am(E),v=xm(M)}var x={type:1,geometry:[[Math.round(this.options.extent*(g*a-n)),Math.round(this.options.extent*(v*a-i))]],tags:p},L=void 0;f||this.options.generateId?L=t[d+Rl]:L=this.points[t[d+Rl]].id,L!==void 0&&(x.id=L),l.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:a,minPoints:l}=this.options,c=n/(i*Math.pow(2,t)),d=e.data,f=[],p=this.stride,g=0;g<d.length;g+=p)if(!(d[g+ku]<=t)){d[g+ku]=t;var v=d[g],b=d[g+1],E=e.within(d[g],d[g+1],c),M=d[g+xl],x=M;for(var L of E){var $=L*p;d[$+ku]>t&&(x+=d[$+xl])}if(x>M&&x>=l){var Y=v*M,H=b*M,G=void 0,q=-1,P=((g/p|0)<<5)+(t+1)+this.points.length;for(var C of E){var S=C*p;if(!(d[S+ku]<=t)){d[S+ku]=t;var k=d[S+xl];Y+=d[S]*k,H+=d[S+1]*k,d[S+w_]=P,a&&(G||(G=this._map(d,g,!0),q=this.clusterProps.length,this.clusterProps.push(G)),a(G,this._map(d,S)))}}d[g+w_]=P,f.push(Y/x,H/x,1/0,P,-1,x),a&&f.push(q)}else{for(var N=0;N<p;N++)f.push(d[g+N]);if(x>1)for(var F of E){var j=F*p;if(!(d[j+ku]<=t)){d[j+ku]=t;for(var X=0;X<p;X++)f.push(d[j+X])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+xl]>1){var i=this.clusterProps[e[t+SM]];return n?Object.assign({},i):i}var a=this.points[e[t+Rl]].properties,l=this.options.map(a);return n&&l===a?Object.assign({},l):l}}function bC(r,e,t){return{type:"Feature",id:r[e+Rl],properties:CM(r,e,t),geometry:{type:"Point",coordinates:[g8(r[e]),v8(r[e+1])]}}}function CM(r,e,t){var n=r[e+xl],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,a=r[e+SM],l=a===-1?{}:Object.assign({},t[a]);return Object.assign(l,{cluster:!0,cluster_id:r[e+Rl],point_count:n,point_count_abbreviated:i})}function Am(r){return r/360+.5}function xm(r){var e=Math.sin(r*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function g8(r){return(r-.5)*360}function v8(r){var e=(180-r*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function y8(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}class os{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class l0{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(os.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>os.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(os.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class _8{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return b8(t)}}var b8=r=>{var e=r.map(t=>new l0({position:os.getPosition(t),markers:[t]}));return e};class w8 extends _8{constructor(e){var{maxZoom:t,radius:n=60}=e,i=y8(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new m8(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!gC(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var l=os.getPosition(a),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:a}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!gC(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new l0({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:n,lng:t}});var a=i.marker;return new l0({markers:[a],position:os.getPosition(a)})}}class E8{constructor(e,t){this.markers={sum:e.length};var n=t.map(a=>a.count),i=n.reduce((a,l)=>a+l,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class T8{render(e,t,n){var{count:i,position:a}=e,l=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+i;if(os.isAdvancedMarkerAvailable(n)){var p=new DOMParser,g=p.parseFromString(c,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var v={map:n,position:a,zIndex:f,title:d,content:g};return new google.maps.marker.AdvancedMarkerElement(v)}var b={position:a,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}function S8(r,e){for(var t in e.prototype)r.prototype[t]=e.prototype[t]}class Vb{constructor(){S8(Vb,google.maps.OverlayView)}}var wf;(function(r){r.CLUSTERING_BEGIN="clusteringbegin",r.CLUSTERING_END="clusteringend",r.CLUSTER_CLICK="click"})(wf||(wf={}));var C8=(r,e,t)=>{t.fitBounds(e.bounds)};class A8 extends Vb{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:a=new w8(i),renderer:l=new T8,onClusterClick:c=C8}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=a,this.renderer=l,this.onClusterClick=c,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(n=>{this.addMarker(n,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return n===-1?!1:(os.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,wf.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var a of t)a.markers.length==1&&i.add(a.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||os.setMap(c.marker,null):l.push(c.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>os.setMap(d,null)))}google.maps.event.trigger(this,wf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>os.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new E8(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(i=>os.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,wf.CLUSTER_CLICK,n),this.onClusterClick(i,n,t)})),os.setMap(n.marker,t)})}}function wC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function EC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function x8(r){var e=AF(),[t,n]=T.useState(null);return T.useEffect(()=>{if(e&&t===null){var i=new A8(EC(EC({},r),{},{map:e}));n(i)}},[e]),t}function D8(r){var{children:e,options:t}=r,n=x8(t);return n!==null?e(n):null}T.memo(D8);var TC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},SC={options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},zIndex(r,e){r.setZIndex(e)}};function R8(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:g,onUnmount:v}=r,b=T.useContext(bt),[E,M]=T.useState(null),[x,L]=T.useState(null),[$,Y]=T.useState(null),[H,G]=T.useState(null),[q,P]=T.useState(null),[C,S]=T.useState(null),k=T.useRef(null);return T.useEffect(()=>{E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{i&&E!==null&&E.setPosition(i)},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(x!==null&&google.maps.event.removeListener(x),L(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&c&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"domready",c)))},[c]),T.useEffect(()=>{E&&d&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(q!==null&&google.maps.event.removeListener(q),P(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{var N=new google.maps.InfoWindow(n);return M(N),k.current=document.createElement("div"),l&&L(google.maps.event.addListener(N,"closeclick",l)),c&&Y(google.maps.event.addListener(N,"domready",c)),d&&G(google.maps.event.addListener(N,"content_changed",d)),f&&P(google.maps.event.addListener(N,"position_changed",f)),p&&S(google.maps.event.addListener(N,"zindex_changed",p)),N.setContent(k.current),i&&N.setPosition(i),a&&N.setZIndex(a),t?N.open(b,t):N.getPosition()?N.open(b):Tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(N),()=>{x&&google.maps.event.removeListener(x),H&&google.maps.event.removeListener(H),$&&google.maps.event.removeListener($),q&&google.maps.event.removeListener(q),C&&google.maps.event.removeListener(C),v&&v(N),N.close()}},[]),k.current?eu.createPortal(T.Children.only(e),k.current):null}T.memo(R8);class M8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",null),Ee(this,"state",{infoWindow:null}),Ee(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Ee(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=xt({updaterMap:SC,eventMap:TC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:SC,eventMap:TC,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ot(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?eu.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Ee(M8,"contextType",bt);function CC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ig(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var AC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},xC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},visible(r,e){r.setVisible(e)}},k8={};function L8(r){var{options:e,draggable:t,editable:n,visible:i,path:a,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:M,onDrag:x,onLoad:L,onUnmount:$}=r,Y=T.useContext(bt),[H,G]=T.useState(null),[q,P]=T.useState(null),[C,S]=T.useState(null),[k,N]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,se]=T.useState(null),[ue,Z]=T.useState(null),[we,Ue]=T.useState(null);return T.useEffect(()=>{H!==null&&H.setMap(Y)},[Y]),T.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),T.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),T.useEffect(()=>{typeof n<"u"&&H!==null&&H.setEditable(n)},[H,n]),T.useEffect(()=>{typeof i<"u"&&H!==null&&H.setVisible(i)},[H,i]),T.useEffect(()=>{typeof a<"u"&&H!==null&&H.setPath(a)},[H,a]),T.useEffect(()=>{H&&l&&(q!==null&&google.maps.event.removeListener(q),P(google.maps.event.addListener(H,"dblclick",l)))},[l]),T.useEffect(()=>{H&&c&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(H,"dragend",c)))},[c]),T.useEffect(()=>{H&&d&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(H,"dragstart",d)))},[d]),T.useEffect(()=>{H&&f&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(H,"mousedown",f)))},[f]),T.useEffect(()=>{H&&p&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(H,"mousemove",p)))},[p]),T.useEffect(()=>{H&&g&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(H,"mouseout",g)))},[g]),T.useEffect(()=>{H&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(H,"mouseover",v)))},[v]),T.useEffect(()=>{H&&b&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(H,"mouseup",b)))},[b]),T.useEffect(()=>{H&&E&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(H,"rightclick",E)))},[E]),T.useEffect(()=>{H&&M&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(H,"click",M)))},[M]),T.useEffect(()=>{H&&x&&(we!==null&&google.maps.event.removeListener(we),Ue(google.maps.event.addListener(H,"drag",x)))},[x]),T.useEffect(()=>{var ie=new google.maps.Polyline(Ig(Ig({},e||k8),{},{map:Y}));return a&&ie.setPath(a),typeof i<"u"&&ie.setVisible(i),typeof n<"u"&&ie.setEditable(n),typeof t<"u"&&ie.setDraggable(t),l&&P(google.maps.event.addListener(ie,"dblclick",l)),c&&S(google.maps.event.addListener(ie,"dragend",c)),d&&N(google.maps.event.addListener(ie,"dragstart",d)),f&&j(google.maps.event.addListener(ie,"mousedown",f)),p&&J(google.maps.event.addListener(ie,"mousemove",p)),g&&B(google.maps.event.addListener(ie,"mouseout",g)),v&&ne(google.maps.event.addListener(ie,"mouseover",v)),b&&re(google.maps.event.addListener(ie,"mouseup",b)),E&&se(google.maps.event.addListener(ie,"rightclick",E)),M&&Z(google.maps.event.addListener(ie,"click",M)),x&&Ue(google.maps.event.addListener(ie,"drag",x)),G(ie),L&&L(ie),()=>{q!==null&&google.maps.event.removeListener(q),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),$&&$(ie),ie.setMap(null)}},[]),null}T.memo(L8);class O8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{polyline:null}),Ee(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Ig(Ig({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:xC,eventMap:AC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:xC,eventMap:AC,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ot(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Ee(O8,"contextType",bt);function DC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function RC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var MC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},kC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},paths(r,e){r.setPaths(e)},visible(r,e){r.setVisible(e)}};function I8(r){var{options:e,draggable:t,editable:n,visible:i,path:a,paths:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:M,onClick:x,onDrag:L,onLoad:$,onUnmount:Y,onEdit:H}=r,G=T.useContext(bt),[q,P]=T.useState(null),[C,S]=T.useState(null),[k,N]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,se]=T.useState(null),[ue,Z]=T.useState(null),[we,Ue]=T.useState(null),[ie,xe]=T.useState(null);return T.useEffect(()=>{q!==null&&q.setMap(G)},[G]),T.useEffect(()=>{typeof e<"u"&&q!==null&&q.setOptions(e)},[q,e]),T.useEffect(()=>{typeof t<"u"&&q!==null&&q.setDraggable(t)},[q,t]),T.useEffect(()=>{typeof n<"u"&&q!==null&&q.setEditable(n)},[q,n]),T.useEffect(()=>{typeof i<"u"&&q!==null&&q.setVisible(i)},[q,i]),T.useEffect(()=>{typeof a<"u"&&q!==null&&q.setPath(a)},[q,a]),T.useEffect(()=>{typeof l<"u"&&q!==null&&q.setPaths(l)},[q,l]),T.useEffect(()=>{q&&typeof c=="function"&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(q,"dblclick",c)))},[c]),T.useEffect(()=>{q&&(google.maps.event.addListener(q.getPath(),"insert_at",()=>{H==null||H(q)}),google.maps.event.addListener(q.getPath(),"set_at",()=>{H==null||H(q)}),google.maps.event.addListener(q.getPath(),"remove_at",()=>{H==null||H(q)}))},[q,H]),T.useEffect(()=>{q&&typeof d=="function"&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener(q,"dragend",d)))},[d]),T.useEffect(()=>{q&&typeof f=="function"&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(q,"dragstart",f)))},[f]),T.useEffect(()=>{q&&typeof p=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(q,"mousedown",p)))},[p]),T.useEffect(()=>{q&&typeof g=="function"&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(q,"mousemove",g)))},[g]),T.useEffect(()=>{q&&typeof v=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(q,"mouseout",v)))},[v]),T.useEffect(()=>{q&&typeof b=="function"&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(q,"mouseover",b)))},[b]),T.useEffect(()=>{q&&typeof E=="function"&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(q,"mouseup",E)))},[E]),T.useEffect(()=>{q&&typeof M=="function"&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(q,"rightclick",M)))},[M]),T.useEffect(()=>{q&&typeof x=="function"&&(we!==null&&google.maps.event.removeListener(we),Ue(google.maps.event.addListener(q,"click",x)))},[x]),T.useEffect(()=>{q&&typeof L=="function"&&(ie!==null&&google.maps.event.removeListener(ie),xe(google.maps.event.addListener(q,"drag",L)))},[L]),T.useEffect(()=>{var ke=new google.maps.Polygon(RC(RC({},e),{},{map:G}));return a&&ke.setPath(a),l&&ke.setPaths(l),typeof i<"u"&&ke.setVisible(i),typeof n<"u"&&ke.setEditable(n),typeof t<"u"&&ke.setDraggable(t),c&&S(google.maps.event.addListener(ke,"dblclick",c)),d&&N(google.maps.event.addListener(ke,"dragend",d)),f&&j(google.maps.event.addListener(ke,"dragstart",f)),p&&J(google.maps.event.addListener(ke,"mousedown",p)),g&&B(google.maps.event.addListener(ke,"mousemove",g)),v&&ne(google.maps.event.addListener(ke,"mouseout",v)),b&&re(google.maps.event.addListener(ke,"mouseover",b)),E&&se(google.maps.event.addListener(ke,"mouseup",E)),M&&Z(google.maps.event.addListener(ke,"rightclick",M)),x&&Ue(google.maps.event.addListener(ke,"click",x)),L&&xe(google.maps.event.addListener(ke,"drag",L)),P(ke),$&&$(ke),()=>{C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),we!==null&&google.maps.event.removeListener(we),Y&&Y(ke),ke.setMap(null)}},[]),null}T.memo(I8);class P8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=xt({updaterMap:kC,eventMap:MC,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:kC,eventMap:MC,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ot(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Ee(P8,"contextType",bt);function LC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var OC={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},IC={bounds(r,e){r.setBounds(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},visible(r,e){r.setVisible(e)}};function N8(r){var{options:e,bounds:t,draggable:n,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:M,onDrag:x,onBoundsChanged:L,onLoad:$,onUnmount:Y}=r,H=T.useContext(bt),[G,q]=T.useState(null),[P,C]=T.useState(null),[S,k]=T.useState(null),[N,F]=T.useState(null),[j,X]=T.useState(null),[J,U]=T.useState(null),[B,ee]=T.useState(null),[ne,O]=T.useState(null),[re,oe]=T.useState(null),[se,ue]=T.useState(null),[Z,we]=T.useState(null),[Ue,ie]=T.useState(null),[xe,ke]=T.useState(null);return T.useEffect(()=>{G!==null&&G.setMap(H)},[H]),T.useEffect(()=>{typeof e<"u"&&G!==null&&G.setOptions(e)},[G,e]),T.useEffect(()=>{typeof n<"u"&&G!==null&&G.setDraggable(n)},[G,n]),T.useEffect(()=>{typeof i<"u"&&G!==null&&G.setEditable(i)},[G,i]),T.useEffect(()=>{typeof a<"u"&&G!==null&&G.setVisible(a)},[G,a]),T.useEffect(()=>{typeof t<"u"&&G!==null&&G.setBounds(t)},[G,t]),T.useEffect(()=>{G&&l&&(P!==null&&google.maps.event.removeListener(P),C(google.maps.event.addListener(G,"dblclick",l)))},[l]),T.useEffect(()=>{G&&c&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(G,"dragend",c)))},[c]),T.useEffect(()=>{G&&d&&(N!==null&&google.maps.event.removeListener(N),F(google.maps.event.addListener(G,"dragstart",d)))},[d]),T.useEffect(()=>{G&&f&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(G,"mousedown",f)))},[f]),T.useEffect(()=>{G&&p&&(J!==null&&google.maps.event.removeListener(J),U(google.maps.event.addListener(G,"mousemove",p)))},[p]),T.useEffect(()=>{G&&g&&(B!==null&&google.maps.event.removeListener(B),ee(google.maps.event.addListener(G,"mouseout",g)))},[g]),T.useEffect(()=>{G&&v&&(ne!==null&&google.maps.event.removeListener(ne),O(google.maps.event.addListener(G,"mouseover",v)))},[v]),T.useEffect(()=>{G&&b&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(G,"mouseup",b)))},[b]),T.useEffect(()=>{G&&E&&(se!==null&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(G,"rightclick",E)))},[E]),T.useEffect(()=>{G&&M&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(G,"click",M)))},[M]),T.useEffect(()=>{G&&x&&(Ue!==null&&google.maps.event.removeListener(Ue),ie(google.maps.event.addListener(G,"drag",x)))},[x]),T.useEffect(()=>{G&&L&&(xe!==null&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener(G,"bounds_changed",L)))},[L]),T.useEffect(()=>{var Pe=new google.maps.Rectangle(Pg(Pg({},e),{},{map:H}));return typeof a<"u"&&Pe.setVisible(a),typeof i<"u"&&Pe.setEditable(i),typeof n<"u"&&Pe.setDraggable(n),typeof t<"u"&&Pe.setBounds(t),l&&C(google.maps.event.addListener(Pe,"dblclick",l)),c&&k(google.maps.event.addListener(Pe,"dragend",c)),d&&F(google.maps.event.addListener(Pe,"dragstart",d)),f&&X(google.maps.event.addListener(Pe,"mousedown",f)),p&&U(google.maps.event.addListener(Pe,"mousemove",p)),g&&ee(google.maps.event.addListener(Pe,"mouseout",g)),v&&O(google.maps.event.addListener(Pe,"mouseover",v)),b&&oe(google.maps.event.addListener(Pe,"mouseup",b)),E&&ue(google.maps.event.addListener(Pe,"rightclick",E)),M&&we(google.maps.event.addListener(Pe,"click",M)),x&&ie(google.maps.event.addListener(Pe,"drag",x)),L&&ke(google.maps.event.addListener(Pe,"bounds_changed",L)),q(Pe),$&&$(Pe),()=>{P!==null&&google.maps.event.removeListener(P),S!==null&&google.maps.event.removeListener(S),N!==null&&google.maps.event.removeListener(N),j!==null&&google.maps.event.removeListener(j),J!==null&&google.maps.event.removeListener(J),B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),se!==null&&google.maps.event.removeListener(se),Z!==null&&google.maps.event.removeListener(Z),Ue!==null&&google.maps.event.removeListener(Ue),xe!==null&&google.maps.event.removeListener(xe),Y&&Y(Pe),Pe.setMap(null)}},[]),null}T.memo(N8);class U8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{rectangle:null}),Ee(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Pg(Pg({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:IC,eventMap:OC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:IC,eventMap:OC,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ot(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Ee(U8,"contextType",bt);function PC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ng(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var NC={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},UC={center(r,e){r.setCenter(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},radius(r,e){r.setRadius(e)},visible(r,e){r.setVisible(e)}},j8={};function V8(r){var{options:e,center:t,radius:n,draggable:i,editable:a,visible:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:M,onClick:x,onDrag:L,onCenterChanged:$,onRadiusChanged:Y,onLoad:H,onUnmount:G}=r,q=T.useContext(bt),[P,C]=T.useState(null),[S,k]=T.useState(null),[N,F]=T.useState(null),[j,X]=T.useState(null),[J,U]=T.useState(null),[B,ee]=T.useState(null),[ne,O]=T.useState(null),[re,oe]=T.useState(null),[se,ue]=T.useState(null),[Z,we]=T.useState(null),[Ue,ie]=T.useState(null),[xe,ke]=T.useState(null),[Pe,he]=T.useState(null),[Se,Ne]=T.useState(null);return T.useEffect(()=>{P!==null&&P.setMap(q)},[q]),T.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),T.useEffect(()=>{typeof i<"u"&&P!==null&&P.setDraggable(i)},[P,i]),T.useEffect(()=>{typeof a<"u"&&P!==null&&P.setEditable(a)},[P,a]),T.useEffect(()=>{typeof l<"u"&&P!==null&&P.setVisible(l)},[P,l]),T.useEffect(()=>{typeof n=="number"&&P!==null&&P.setRadius(n)},[P,n]),T.useEffect(()=>{typeof t<"u"&&P!==null&&P.setCenter(t)},[P,t]),T.useEffect(()=>{P&&c&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(P,"dblclick",c)))},[c]),T.useEffect(()=>{P&&d&&(N!==null&&google.maps.event.removeListener(N),F(google.maps.event.addListener(P,"dragend",d)))},[d]),T.useEffect(()=>{P&&f&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(P,"dragstart",f)))},[f]),T.useEffect(()=>{P&&p&&(J!==null&&google.maps.event.removeListener(J),U(google.maps.event.addListener(P,"mousedown",p)))},[p]),T.useEffect(()=>{P&&g&&(B!==null&&google.maps.event.removeListener(B),ee(google.maps.event.addListener(P,"mousemove",g)))},[g]),T.useEffect(()=>{P&&v&&(ne!==null&&google.maps.event.removeListener(ne),O(google.maps.event.addListener(P,"mouseout",v)))},[v]),T.useEffect(()=>{P&&b&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(P,"mouseover",b)))},[b]),T.useEffect(()=>{P&&E&&(se!==null&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(P,"mouseup",E)))},[E]),T.useEffect(()=>{P&&M&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(P,"rightclick",M)))},[M]),T.useEffect(()=>{P&&x&&(Ue!==null&&google.maps.event.removeListener(Ue),ie(google.maps.event.addListener(P,"click",x)))},[x]),T.useEffect(()=>{P&&L&&(xe!==null&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener(P,"drag",L)))},[L]),T.useEffect(()=>{P&&$&&(Pe!==null&&google.maps.event.removeListener(Pe),he(google.maps.event.addListener(P,"center_changed",$)))},[x]),T.useEffect(()=>{P&&Y&&(Se!==null&&google.maps.event.removeListener(Se),Ne(google.maps.event.addListener(P,"radius_changed",Y)))},[Y]),T.useEffect(()=>{var Le=new google.maps.Circle(Ng(Ng({},e||j8),{},{map:q}));return typeof n=="number"&&Le.setRadius(n),typeof t<"u"&&Le.setCenter(t),typeof n=="number"&&Le.setRadius(n),typeof l<"u"&&Le.setVisible(l),typeof a<"u"&&Le.setEditable(a),typeof i<"u"&&Le.setDraggable(i),c&&k(google.maps.event.addListener(Le,"dblclick",c)),d&&F(google.maps.event.addListener(Le,"dragend",d)),f&&X(google.maps.event.addListener(Le,"dragstart",f)),p&&U(google.maps.event.addListener(Le,"mousedown",p)),g&&ee(google.maps.event.addListener(Le,"mousemove",g)),v&&O(google.maps.event.addListener(Le,"mouseout",v)),b&&oe(google.maps.event.addListener(Le,"mouseover",b)),E&&ue(google.maps.event.addListener(Le,"mouseup",E)),M&&we(google.maps.event.addListener(Le,"rightclick",M)),x&&ie(google.maps.event.addListener(Le,"click",x)),L&&ke(google.maps.event.addListener(Le,"drag",L)),$&&he(google.maps.event.addListener(Le,"center_changed",$)),Y&&Ne(google.maps.event.addListener(Le,"radius_changed",Y)),C(Le),H&&H(Le),()=>{S!==null&&google.maps.event.removeListener(S),N!==null&&google.maps.event.removeListener(N),j!==null&&google.maps.event.removeListener(j),J!==null&&google.maps.event.removeListener(J),B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),se!==null&&google.maps.event.removeListener(se),Z!==null&&google.maps.event.removeListener(Z),Ue!==null&&google.maps.event.removeListener(Ue),Pe!==null&&google.maps.event.removeListener(Pe),Se!==null&&google.maps.event.removeListener(Se),G&&G(Le),Le.setMap(null)}},[]),null}T.memo(V8);class B8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{circle:null}),Ee(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Ng(Ng({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:UC,eventMap:NC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:UC,eventMap:NC,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ot(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Ee(B8,"contextType",bt);function jC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ug(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var VC={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},BC={add(r,e){r.add(e)},addgeojson(r,e,t){r.addGeoJson(e,t)},contains(r,e){r.contains(e)},foreach(r,e){r.forEach(e)},loadgeojson(r,e,t,n){r.loadGeoJson(e,t,n)},overridestyle(r,e,t){r.overrideStyle(e,t)},remove(r,e){r.remove(e)},revertstyle(r,e){r.revertStyle(e)},controlposition(r,e){r.setControlPosition(e)},controls(r,e){r.setControls(e)},drawingmode(r,e){r.setDrawingMode(e)},map(r,e){r.setMap(e)},style(r,e){r.setStyle(e)},togeojson(r,e){r.toGeoJson(e)}};function F8(r){var{options:e,onClick:t,onDblClick:n,onMouseDown:i,onMouseMove:a,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:f,onAddFeature:p,onRemoveFeature:g,onRemoveProperty:v,onSetGeometry:b,onSetProperty:E,onLoad:M,onUnmount:x}=r,L=T.useContext(bt),[$,Y]=T.useState(null),[H,G]=T.useState(null),[q,P]=T.useState(null),[C,S]=T.useState(null),[k,N]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,se]=T.useState(null),[ue,Z]=T.useState(null),[we,Ue]=T.useState(null),[ie,xe]=T.useState(null);return T.useEffect(()=>{$!==null&&$.setMap(L)},[L]),T.useEffect(()=>{$&&n&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener($,"dblclick",n)))},[n]),T.useEffect(()=>{$&&i&&(q!==null&&google.maps.event.removeListener(q),P(google.maps.event.addListener($,"mousedown",i)))},[i]),T.useEffect(()=>{$&&a&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener($,"mousemove",a)))},[a]),T.useEffect(()=>{$&&l&&(k!==null&&google.maps.event.removeListener(k),N(google.maps.event.addListener($,"mouseout",l)))},[l]),T.useEffect(()=>{$&&c&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener($,"mouseover",c)))},[c]),T.useEffect(()=>{$&&d&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener($,"mouseup",d)))},[d]),T.useEffect(()=>{$&&f&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener($,"rightclick",f)))},[f]),T.useEffect(()=>{$&&t&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener($,"click",t)))},[t]),T.useEffect(()=>{$&&p&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener($,"addfeature",p)))},[p]),T.useEffect(()=>{$&&g&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener($,"removefeature",g)))},[g]),T.useEffect(()=>{$&&v&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener($,"removeproperty",v)))},[v]),T.useEffect(()=>{$&&b&&(we!==null&&google.maps.event.removeListener(we),Ue(google.maps.event.addListener($,"setgeometry",b)))},[b]),T.useEffect(()=>{$&&E&&(ie!==null&&google.maps.event.removeListener(ie),xe(google.maps.event.addListener($,"setproperty",E)))},[E]),T.useEffect(()=>{if(L!==null){var ke=new google.maps.Data(Ug(Ug({},e),{},{map:L}));n&&G(google.maps.event.addListener(ke,"dblclick",n)),i&&P(google.maps.event.addListener(ke,"mousedown",i)),a&&S(google.maps.event.addListener(ke,"mousemove",a)),l&&N(google.maps.event.addListener(ke,"mouseout",l)),c&&j(google.maps.event.addListener(ke,"mouseover",c)),d&&J(google.maps.event.addListener(ke,"mouseup",d)),f&&B(google.maps.event.addListener(ke,"rightclick",f)),t&&ne(google.maps.event.addListener(ke,"click",t)),p&&re(google.maps.event.addListener(ke,"addfeature",p)),g&&se(google.maps.event.addListener(ke,"removefeature",g)),v&&Z(google.maps.event.addListener(ke,"removeproperty",v)),b&&Ue(google.maps.event.addListener(ke,"setgeometry",b)),E&&xe(google.maps.event.addListener(ke,"setproperty",E)),Y(ke),M&&M(ke)}return()=>{$&&(H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),we!==null&&google.maps.event.removeListener(we),ie!==null&&google.maps.event.removeListener(ie),x&&x($),$.setMap(null))}},[]),null}T.memo(F8);class z8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{data:null}),Ee(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ug(Ug({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:BC,eventMap:VC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:BC,eventMap:VC,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ot(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Ee(z8,"contextType",bt);function FC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var HC={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},qC={options(r,e){r.setOptions(e)},url(r,e){r.setUrl(e)},zIndex(r,e){r.setZIndex(e)}};class H8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{kmlLayer:null}),Ee(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(zC(zC({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:qC,eventMap:HC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:qC,eventMap:HC,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ot(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Ee(H8,"contextType",bt);function AM(r,e){return typeof e=="function"?e(r.offsetWidth,r.offsetHeight):{x:0,y:0}}function q8(r,e){return new e(r.lat,r.lng)}function Y8(r,e){return new e(new google.maps.LatLng(r.ne.lat,r.ne.lng),new google.maps.LatLng(r.sw.lat,r.sw.lng))}function $8(r,e,t){return r instanceof e?r:t(r,e)}function G8(r,e,t){return r instanceof e?r:t(r,e)}function W8(r,e,t){var n=r&&r.fromLatLngToDivPixel(t.getNorthEast()),i=r&&r.fromLatLngToDivPixel(t.getSouthWest());return n&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-i.x-e.x,"px"),height:"".concat(i.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Q8(r,e,t){var n=r&&r.fromLatLngToDivPixel(t);if(n){var{x:i,y:a}=n;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function xM(r,e,t,n){return t!==void 0?W8(r,e,G8(t,google.maps.LatLngBounds,Y8)):Q8(r,e,$8(n,google.maps.LatLng,q8))}function K8(r,e){return r.left===e.left&&r.top===e.top&&r.width===e.height&&r.height===e.height}function YC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function X8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Z8(r,e,t,n,i){class a extends google.maps.OverlayView{constructor(c,d,f,p){super(),this.container=c,this.pane=d,this.position=f,this.bounds=p}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=X8({},this.container?AM(this.container,i):{x:0,y:0}),f=xM(c,d,this.bounds,this.position);for(var[p,g]of Object.entries(f))this.container.style[p]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(r,e,t,n)}function $C(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function J8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$C(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function GC(r){if(!r)return"";var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);return e+""}function WC(r){if(!r)return"";var e=r instanceof google.maps.LatLngBounds?r:new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.east),new google.maps.LatLng(r.north,r.west));return e+""}function ez(r){var{position:e,bounds:t,mapPaneName:n,zIndex:i,onLoad:a,onUnmount:l,getPixelPositionOffset:c,children:d}=r,f=T.useContext(bt),p=T.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),g=T.useMemo(()=>Z8(p,n,e,t,c),[p,n,e,t]);return T.useEffect(()=>(a==null||a(g),g==null||g.setMap(f),()=>{l==null||l(g),g==null||g.setMap(null)}),[f,g]),T.useEffect(()=>{p.style.zIndex="".concat(i)},[i,p]),eu.createPortal(d,p)}T.memo(ez);class Hd extends T.PureComponent{constructor(e){super(e),Ee(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Ee(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();Tr(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),Ee(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),Ee(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=J8({x:0,y:0},this.containerRef.current?AM(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=xM(n,i,this.props.bounds,this.props.position);if(!K8(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,f;this.setState({containerStyle:{top:(l=a.top)!==null&&l!==void 0?l:0,left:(c=a.left)!==null&&c!==void 0?c:0,width:(d=a.width)!==null&&d!==void 0?d:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),Ee(this,"draw",()=>{this.onPositionElement()}),Ee(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=T.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=GC(e.position),n=GC(this.props.position),i=WC(e.bounds),a=WC(this.props.bounds);(t!==n||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?eu.createPortal(R.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:T.Children.only(this.props.children)}),e):null}}Ee(Hd,"FLOAT_PANE","floatPane");Ee(Hd,"MAP_PANE","mapPane");Ee(Hd,"MARKER_LAYER","markerLayer");Ee(Hd,"OVERLAY_LAYER","overlayLayer");Ee(Hd,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Ee(Hd,"contextType",bt);function tz(){}function QC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function KC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var XC={onDblClick:"dblclick",onClick:"click"},ZC={opacity(r,e){r.setOpacity(e)}};function nz(r){var{url:e,bounds:t,options:n,visible:i}=r,a=T.useContext(bt),l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),c=T.useMemo(()=>new google.maps.GroundOverlay(e,l,n),[]);return T.useEffect(()=>{c!==null&&c.setMap(a)},[a]),T.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(a))},[c,e]),T.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),T.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&c!==null&&(c.set("bounds",d),c.setMap(a))},[c,t]),null}T.memo(nz);class DM extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{groundOverlay:null}),Ee(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Tr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,KC(KC({},this.props.options),{},{map:this.context}));this.registeredEvents=xt({updaterMap:ZC,eventMap:XC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:ZC,eventMap:XC,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Ee(DM,"defaultProps",{onLoad:tz});Ee(DM,"contextType",bt);function JC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var eA={},tA={data(r,e){r.setData(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)}};function rz(r){var{data:e,onLoad:t,onUnmount:n,options:i}=r,a=T.useContext(bt),[l,c]=T.useState(null);return T.useEffect(()=>{google.maps.visualization||Tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),T.useEffect(()=>{Tr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),T.useEffect(()=>{l!==null&&l.setMap(a)},[a]),T.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),T.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(jg(jg({},i),{},{data:e,map:a}));return c(d),t&&t(d),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}T.memo(rz);class iz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{heatmapLayer:null}),Ee(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Tr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(jg(jg({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=xt({updaterMap:tA,eventMap:eA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:tA,eventMap:eA,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ot(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Ee(iz,"contextType",bt);var nA={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},rA={register(r,e,t){r.registerPanoProvider(e,t)},links(r,e){r.setLinks(e)},motionTracking(r,e){r.setMotionTracking(e)},options(r,e){r.setOptions(e)},pano(r,e){r.setPano(e)},position(r,e){r.setPosition(e)},pov(r,e){r.setPov(e)},visible(r,e){r.setVisible(e)},zoom(r,e){r.setZoom(e)}};class sz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{streetViewPanorama:null}),Ee(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=xt({updaterMap:rA,eventMap:nA,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:rA,eventMap:nA,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ot(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Ee(sz,"contextType",bt);class az extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{streetViewService:null}),Ee(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Ee(az,"contextType",bt);var iA={onDirectionsChanged:"directions_changed"},sA={directions(r,e){r.setDirections(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},panel(r,e){r.setPanel(e)},routeIndex(r,e){r.setRouteIndex(e)}};class oz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{directionsRenderer:null}),Ee(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=xt({updaterMap:sA,eventMap:iA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:sA,eventMap:iA,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ot(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Ee(oz,"contextType",bt);var aA={onPlacesChanged:"places_changed"},oA={bounds(r,e){r.setBounds(e)}};class lz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",T.createRef()),Ee(this,"state",{searchBox:null}),Ee(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=xt({updaterMap:oA,eventMap:aA,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:oA,eventMap:aA,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ot(this.registeredEvents))}render(){return R.jsx("div",{ref:this.containerElement,children:T.Children.only(this.props.children)})}}Ee(lz,"contextType",bt);var lA={onPlaceChanged:"place_changed"},uA={bounds(r,e){r.setBounds(e)},restrictions(r,e){r.setComponentRestrictions(e)},fields(r,e){r.setFields(e)},options(r,e){r.setOptions(e)},types(r,e){r.setTypes(e)}};class RM extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",T.createRef()),Ee(this,"state",{autocomplete:null}),Ee(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=xt({updaterMap:uA,eventMap:lA,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ot(this.registeredEvents),this.registeredEvents=xt({updaterMap:uA,eventMap:lA,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ot(this.registeredEvents)}render(){return R.jsx("div",{ref:this.containerElement,className:this.props.className,children:T.Children.only(this.props.children)})}}Ee(RM,"defaultProps",{className:""});Ee(RM,"contextType",bt);const uz="AIzaSyCU0plQDFAs1MMKQN_sPZHPpBcKN1qe0PU";var cz=Object.defineProperty,Vg=Object.getOwnPropertySymbols,MM=Object.prototype.hasOwnProperty,kM=Object.prototype.propertyIsEnumerable,cA=(r,e,t)=>e in r?cz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u0=(r,e)=>{for(var t in e||(e={}))MM.call(e,t)&&cA(r,t,e[t]);if(Vg)for(var t of Vg(e))kM.call(e,t)&&cA(r,t,e[t]);return r},c0=(r,e)=>{var t={};for(var n in r)MM.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Vg)for(var n of Vg(r))e.indexOf(n)<0&&kM.call(r,n)&&(t[n]=r[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xu;(r=>{const e=class Lt{constructor(d,f,p,g){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<Lt.MIN_VERSION||d>Lt.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let E=0;E<this.size;E++)v.push(!1);for(let E=0;E<this.size;E++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(p);if(this.drawCodewords(b),g==-1){let E=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const x=this.getPenaltyScore();x<E&&(g=M,E=x),this.applyMask(M)}}i(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(d,f){const p=r.QrSegment.makeSegments(d);return Lt.encodeSegments(p,f)}static encodeBinary(d,f){const p=r.QrSegment.makeBytes(d);return Lt.encodeSegments([p],f)}static encodeSegments(d,f,p=1,g=40,v=-1,b=!0){if(!(Lt.MIN_VERSION<=p&&p<=g&&g<=Lt.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let E,M;for(E=p;;E++){const Y=Lt.getNumDataCodewords(E,f)*8,H=l.getTotalBits(d,E);if(H<=Y){M=H;break}if(E>=g)throw new RangeError("Data too long")}for(const Y of[Lt.Ecc.MEDIUM,Lt.Ecc.QUARTILE,Lt.Ecc.HIGH])b&&M<=Lt.getNumDataCodewords(E,Y)*8&&(f=Y);let x=[];for(const Y of d){t(Y.mode.modeBits,4,x),t(Y.numChars,Y.mode.numCharCountBits(E),x);for(const H of Y.getData())x.push(H)}i(x.length==M);const L=Lt.getNumDataCodewords(E,f)*8;i(x.length<=L),t(0,Math.min(4,L-x.length),x),t(0,(8-x.length%8)%8,x),i(x.length%8==0);for(let Y=236;x.length<L;Y^=253)t(Y,8,x);let $=[];for(;$.length*8<x.length;)$.push(0);return x.forEach((Y,H)=>$[H>>>3]|=Y<<7-(H&7)),new Lt(E,f,$,v)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let p=0;p<f;p++)for(let g=0;g<f;g++)p==0&&g==0||p==0&&g==f-1||p==f-1&&g==0||this.drawAlignmentPattern(d[p],d[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let p=f;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const g=(f<<10|p)^21522;i(g>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,n(g,v));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,n(g,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,n(g,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,n(g,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let p=0;p<18;p++){const g=n(f,p),v=this.size-11+p%3,b=Math.floor(p/3);this.setFunctionModule(v,b,g),this.setFunctionModule(b,v,g)}}drawFinderPattern(d,f){for(let p=-4;p<=4;p++)for(let g=-4;g<=4;g++){const v=Math.max(Math.abs(g),Math.abs(p)),b=d+g,E=f+p;0<=b&&b<this.size&&0<=E&&E<this.size&&this.setFunctionModule(b,E,v!=2&&v!=4)}}drawAlignmentPattern(d,f){for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)this.setFunctionModule(d+g,f+p,Math.max(Math.abs(g),Math.abs(p))!=1)}setFunctionModule(d,f,p){this.modules[f][d]=p,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,p=this.errorCorrectionLevel;if(d.length!=Lt.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const g=Lt.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],v=Lt.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],b=Math.floor(Lt.getNumRawDataModules(f)/8),E=g-b%g,M=Math.floor(b/g);let x=[];const L=Lt.reedSolomonComputeDivisor(v);for(let Y=0,H=0;Y<g;Y++){let G=d.slice(H,H+M-v+(Y<E?0:1));H+=G.length;const q=Lt.reedSolomonComputeRemainder(G,L);Y<E&&G.push(0),x.push(G.concat(q))}let $=[];for(let Y=0;Y<x[0].length;Y++)x.forEach((H,G)=>{(Y!=M-v||G>=E)&&$.push(H[Y])});return i($.length==b),$}drawCodewords(d){if(d.length!=Math.floor(Lt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let g=0;g<this.size;g++)for(let v=0;v<2;v++){const b=p-v,M=(p+1&2)==0?this.size-1-g:g;!this.isFunction[M][b]&&f<d.length*8&&(this.modules[M][b]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let g;switch(d){case 0:g=(p+f)%2==0;break;case 1:g=f%2==0;break;case 2:g=p%3==0;break;case 3:g=(p+f)%3==0;break;case 4:g=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:g=p*f%2+p*f%3==0;break;case 6:g=(p*f%2+p*f%3)%2==0;break;case 7:g=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&g&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let b=!1,E=0,M=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[v][x]==b?(E++,E==5?d+=Lt.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,M),b||(d+=this.finderPenaltyCountPatterns(M)*Lt.PENALTY_N3),b=this.modules[v][x],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,M)*Lt.PENALTY_N3}for(let v=0;v<this.size;v++){let b=!1,E=0,M=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][v]==b?(E++,E==5?d+=Lt.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,M),b||(d+=this.finderPenaltyCountPatterns(M)*Lt.PENALTY_N3),b=this.modules[x][v],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,M)*Lt.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let b=0;b<this.size-1;b++){const E=this.modules[v][b];E==this.modules[v][b+1]&&E==this.modules[v+1][b]&&E==this.modules[v+1][b+1]&&(d+=Lt.PENALTY_N2)}let f=0;for(const v of this.modules)f=v.reduce((b,E)=>b+(E?1:0),f);const p=this.size*this.size,g=Math.ceil(Math.abs(f*20-p*10)/p)-1;return i(0<=g&&g<=9),d+=g*Lt.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let g=this.size-7;p.length<d;g-=f)p.splice(1,0,g);return p}}static getNumRawDataModules(d){if(d<Lt.MIN_VERSION||d>Lt.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;f-=(25*p-10)*p-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(Lt.getNumRawDataModules(d)/8)-Lt.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*Lt.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let g=0;g<d-1;g++)f.push(0);f.push(1);let p=1;for(let g=0;g<d;g++){for(let v=0;v<f.length;v++)f[v]=Lt.reedSolomonMultiply(f[v],p),v+1<f.length&&(f[v]^=f[v+1]);p=Lt.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(d,f){let p=f.map(g=>0);for(const g of d){const v=g^p.shift();p.push(0),f.forEach((b,E)=>p[E]^=Lt.reedSolomonMultiply(b,v))}return p}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let g=7;g>=0;g--)p=p<<1^(p>>>7)*285,p^=(f>>>g&1)*d;return i(p>>>8==0),p}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const p=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(p&&d[0]>=f*4&&d[6]>=f?1:0)+(p&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,p){return d&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function t(c,d,f){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)f.push(c>>>p&1)}function n(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class nr{constructor(d,f,p){if(this.mode=d,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let f=[];for(const p of d)t(p,8,f);return new nr(nr.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!nr.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<d.length;){const g=Math.min(d.length-p,3);t(parseInt(d.substring(p,p+g),10),g*3+1,f),p+=g}return new nr(nr.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!nr.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=d.length;p+=2){let g=nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;g+=nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),t(g,11,f)}return p<d.length&&t(nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,f),new nr(nr.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:nr.isNumeric(d)?[nr.makeNumeric(d)]:nr.isAlphanumeric(d)?[nr.makeAlphanumeric(d)]:[nr.makeBytes(nr.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)t(d,8,f);else if(d<16384)t(2,2,f),t(d,14,f);else if(d<1e6)t(6,3,f),t(d,21,f);else throw new RangeError("ECI assignment value out of range");return new nr(nr.Mode.ECI,0,f)}static isNumeric(d){return nr.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return nr.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let p=0;for(const g of d){const v=g.mode.numCharCountBits(f);if(g.numChars>=1<<v)return 1/0;p+=4+v+g.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?f.push(d.charCodeAt(p)):(f.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return f}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;r.QrSegment=a})(Xu||(Xu={}));(r=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(r.QrCode||(r.QrCode={}))})(Xu||(Xu={}));(r=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(r.QrSegment||(r.QrSegment={}))})(Xu||(Xu={}));var sd=Xu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var dz={L:sd.QrCode.Ecc.LOW,M:sd.QrCode.Ecc.MEDIUM,Q:sd.QrCode.Ecc.QUARTILE,H:sd.QrCode.Ecc.HIGH},LM=128,OM="L",IM="#FFFFFF",PM="#000000",NM=!1,UM=1,hz=4,fz=0,pz=.1;function jM(r,e=0){const t=[];return r.forEach(function(n,i){let a=null;n.forEach(function(l,c){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===n.length-1){if(!l)return;a===null?t.push(`M${c+e},${i+e} h1v1H${c+e}z`):t.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}l&&a===null&&(a=c)})}),t.join("")}function VM(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function mz(r,e,t,n){if(n==null)return null;const i=r.length+t*2,a=Math.floor(e*pz),l=i/e,c=(n.width||a)*l,d=(n.height||a)*l,f=n.x==null?r.length/2-c/2:n.x*l,p=n.y==null?r.length/2-d/2:n.y*l,g=n.opacity==null?1:n.opacity;let v=null;if(n.excavate){let E=Math.floor(f),M=Math.floor(p),x=Math.ceil(c+f-E),L=Math.ceil(d+p-M);v={x:E,y:M,w:x,h:L}}const b=n.crossOrigin;return{x:f,y:p,h:d,w:c,excavation:v,opacity:g,crossOrigin:b}}function gz(r,e){return e!=null?Math.max(Math.floor(e),0):r?hz:fz}function BM({value:r,level:e,minVersion:t,includeMargin:n,marginSize:i,imageSettings:a,size:l,boostLevel:c}){let d=ve.useMemo(()=>{const E=(Array.isArray(r)?r:[r]).reduce((M,x)=>(M.push(...sd.QrSegment.makeSegments(x)),M),[]);return sd.QrCode.encodeSegments(E,dz[e],t,void 0,void 0,c)},[r,e,t,c]);const{cells:f,margin:p,numCells:g,calculatedImageSettings:v}=ve.useMemo(()=>{let b=d.getModules();const E=gz(n,i),M=b.length+E*2,x=mz(b,l,E,a);return{cells:b,margin:E,numCells:M,calculatedImageSettings:x}},[d,l,a,n,i]);return{qrcode:d,margin:p,cells:f,numCells:g,calculatedImageSettings:v}}var vz=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),yz=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=LM,level:l=OM,bgColor:c=IM,fgColor:d=PM,includeMargin:f=NM,minVersion:p=UM,boostLevel:g,marginSize:v,imageSettings:b}=n,M=c0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=M,L=c0(M,["style"]),$=b==null?void 0:b.src,Y=ve.useRef(null),H=ve.useRef(null),G=ve.useCallback(X=>{Y.current=X,typeof t=="function"?t(X):t&&(t.current=X)},[t]),[q,P]=ve.useState(!1),{margin:C,cells:S,numCells:k,calculatedImageSettings:N}=BM({value:i,level:l,minVersion:p,boostLevel:g,includeMargin:f,marginSize:v,imageSettings:b,size:a});ve.useEffect(()=>{if(Y.current!=null){const X=Y.current,J=X.getContext("2d");if(!J)return;let U=S;const B=H.current,ee=N!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;ee&&N.excavation!=null&&(U=VM(S,N.excavation));const ne=window.devicePixelRatio||1;X.height=X.width=a*ne;const O=a/k*ne;J.scale(O,O),J.fillStyle=c,J.fillRect(0,0,k,k),J.fillStyle=d,vz?J.fill(new Path2D(jM(U,C))):S.forEach(function(re,oe){re.forEach(function(se,ue){se&&J.fillRect(ue+C,oe+C,1,1)})}),N&&(J.globalAlpha=N.opacity),ee&&J.drawImage(B,N.x+C,N.y+C,N.w,N.h)}}),ve.useEffect(()=>{P(!1)},[$]);const F=u0({height:a,width:a},x);let j=null;return $!=null&&(j=ve.createElement("img",{src:$,key:$,style:{display:"none"},onLoad:()=>{P(!0)},ref:H,crossOrigin:N==null?void 0:N.crossOrigin})),ve.createElement(ve.Fragment,null,ve.createElement("canvas",u0({style:F,height:a,width:a,ref:G,role:"img"},L)),j)});yz.displayName="QRCodeCanvas";var FM=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=LM,level:l=OM,bgColor:c=IM,fgColor:d=PM,includeMargin:f=NM,minVersion:p=UM,boostLevel:g,title:v,marginSize:b,imageSettings:E}=n,M=c0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:L,numCells:$,calculatedImageSettings:Y}=BM({value:i,level:l,minVersion:p,boostLevel:g,includeMargin:f,marginSize:b,imageSettings:E,size:a});let H=L,G=null;E!=null&&Y!=null&&(Y.excavation!=null&&(H=VM(L,Y.excavation)),G=ve.createElement("image",{href:E.src,height:Y.h,width:Y.w,x:Y.x+x,y:Y.y+x,preserveAspectRatio:"none",opacity:Y.opacity,crossOrigin:Y.crossOrigin}));const q=jM(H,x);return ve.createElement("svg",u0({height:a,width:a,viewBox:`0 0 ${$} ${$}`,ref:t,role:"img"},M),!!v&&ve.createElement("title",null,v),ve.createElement("path",{fill:c,d:`M0,0 h${$}v${$}H0z`,shapeRendering:"crispEdges"}),ve.createElement("path",{fill:d,d:q,shapeRendering:"crispEdges"}),G)});FM.displayName="QRCodeSVG";const zM=T.createContext(),_z=["places"];function bz({children:r}){const[e,t]=T.useState(!1);return R.jsx(_M,{googleMapsApiKey:uz,libraries:_z,onLoad:()=>t(!0),children:R.jsx(zM.Provider,{value:{isLoaded:e},children:r})})}const wz={width:"100%",height:"300px",borderRadius:"8px"};function Ez(){var xe,ke,Pe;const{isLoaded:r}=T.useContext(zM),[e,t]=T.useState(!1),[n,i]=T.useState(!0),[a,l]=T.useState(null),c=T.useRef(null),[d,f]=T.useState({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((xe=Qr.currentUser)==null?void 0:xe.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),[p,g]=T.useState(null),[v,b]=T.useState([]),[E,M]=T.useState(!0),[x,L]=T.useState(!1),[$,Y]=T.useState(null),[H,G]=T.useState({}),[q,P]=T.useState(!1),[C,S]=T.useState(null),[k,N]=T.useState({coverImage:!1,avatar:!1,logo:!1,introVideo:!1}),F=he=>{const{name:Se,value:Ne,type:Le,checked:Fe}=he.target;f($e=>({...$e,[Se]:Le==="checkbox"?Fe:Ne})),G($e=>({...$e,[Se]:null}))},j=()=>{var he;f({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((he=Qr.currentUser)==null?void 0:he.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),l(null)},X=()=>{t(!1),L(!1),P(!1),Y(null),S(null),j(),G({}),l(null)},J=()=>{t(!0),B()},U=async he=>{var Ne;he.preventDefault();const Se=se();if(Object.keys(Se).length>0){G(Se);return}try{const Le={event_name:d.event_name,event_type:d.event_type||"normal",event_location_name:d.event_location_name,event_location:new hv(d.event_location.lat,d.event_location.lng),date:rr.fromDate(d.date),start_time:rr.fromDate(d.start_time),end_time:rr.fromDate(d.end_time),live_stream_enabled:d.live_stream_enabled,has_QR_code:d.has_QR_code,live_session_url:d.live_session_url,event_host:((Ne=Qr.currentUser)==null?void 0:Ne.uid)||"",folders:d.folders.filter(Fe=>Fe.trim()!==""),event_description:d.event_description};x&&$?await tj(nb(Pl,"events",$),Le):await nj(hd(Pl,"events"),Le),X(),await ee()}catch(Le){console.error("Error saving event: ",Le),g("Failed to save event: "+Le.message)}},B=()=>{const he=new Date;he.setHours(9,0,0);const Se=new Date;Se.setHours(17,0,0),f(Ne=>({...Ne,start_time:he,end_time:Se}))},ee=async()=>{try{if(i(!0),g(null),!Qr.currentUser){g("User not authenticated"),i(!1);return}const he=hd(Pl,"events"),Se=Of(he,If("event_host","==",Qr.currentUser.uid),QT("date","desc")),Le=(await Pf(Se)).docs.map(Fe=>({id:Fe.id,...Fe.data()}));console.log("Fetched events:",Le),b(Le),i(!1)}catch(he){console.error("Error fetching events:",he),g("Failed to fetch events"),i(!1)}};T.useEffect(()=>{const he=async()=>{try{if(i(!0),g(null),!Qr.currentUser){g("User not authenticated"),i(!1);return}const Ne=hd(Pl,"events"),Le=Of(Ne,If("event_host","==",Qr.currentUser.uid),QT("date","desc")),$e=(await Pf(Le)).docs.map(tt=>({id:tt.id,...tt.data()}));console.log("Fetched events:",$e),b($e),i(!1)}catch(Ne){console.error("Error fetching events:",Ne),g("Failed to fetch events"),i(!1)}};Qr.currentUser&&he();const Se=Qr.onAuthStateChanged(Ne=>{Ne?he():(b([]),i(!1))});return()=>Se()},[(ke=Qr.currentUser)==null?void 0:ke.uid]);const ne=he=>{if(!he)return"";const Se=he.toDate();return Nf(Se,"dd/MM/yyyy")},O=he=>{if(!he)return"";const Se=he.toDate();return Nf(Se,"hh:mm a")};T.useEffect(()=>{},[]),T.useEffect(()=>{if(e&&r&&c.current&&!a)try{const he={componentRestrictions:{country:"in"},types:["geocode","establishment"]},Se=new window.google.maps.places.Autocomplete(c.current,he);Se.addListener("place_changed",()=>{const Ne=Se.getPlace();Ne.geometry&&f(Le=>({...Le,event_location_name:Ne.formatted_address,event_location:{lat:Ne.geometry.location.lat(),lng:Ne.geometry.location.lng()}}))}),l(Se)}catch(he){console.error("Error initializing autocomplete:",he)}},[e,r]),T.useEffect(()=>()=>{a&&l(null)},[]);const re=he=>{const Se={lat:he.event_location.latitude,lng:he.event_location.longitude};P(!1),L(!0),Y(he.id),f({event_name:he.event_name,event_type:he.event_type||"normal",event_location_name:he.event_location_name,event_location:Se,date:he.date.toDate(),start_time:he.start_time.toDate(),end_time:he.end_time.toDate(),live_stream_enabled:he.live_stream_enabled||!1,has_QR_code:he.has_QR_code||!1,live_session_url:he.live_session_url||"",event_host:he.event_host,folders:he.folders||[],coverImage:he.coverImage||"",avatar:he.avatar||"",logo:he.logo||"",introVideo:he.introVideo||"",event_description:he.event_description||""}),t(!0)},oe=he=>{var Se,Ne,Le;try{const Fe=(Se=he.date)!=null&&Se.toDate?he.date.toDate():new Date(he.date),$e=(Ne=he.start_time)!=null&&Ne.toDate?he.start_time.toDate():new Date(he.start_time),tt=(Le=he.end_time)!=null&&Le.toDate?he.end_time.toDate():new Date(he.end_time),Et={lat:he.event_location.latitude,lng:he.event_location.longitude};P(!0),S(he.id),f({...he,date:Fe,start_time:$e,end_time:tt,event_location:Et}),t(!0),console.log("Event data being set:",{date:Fe,start_time:$e,end_time:tt})}catch(Fe){console.error("Error in handleViewEvent:",Fe)}},se=()=>{const he={};return d.event_name.trim()||(he.event_name="Event name is required"),(!d.event_location_name||!d.event_location)&&(he.event_location="Location is required"),console.log("Form validation:",{formData:d,errors:he,hasErrors:Object.keys(he).length>0}),G(he),he},ue=()=>{f(he=>({...he,folders:[...he.folders,""]}))},Z=(he,Se)=>{const Ne=Se.replace(/[^a-zA-Z0-9]/g,"");f(Le=>{const Fe=[...Le.folders];return Fe[he]=Ne,{...Le,folders:Fe}})},we=he=>{f(Se=>({...Se,folders:Se.folders.filter((Ne,Le)=>Le!==he)}))},Ue=()=>{const he=document.querySelector(".qr-code svg");if(!he)return;const Se=document.createElement("canvas"),Ne=Se.getContext("2d");Se.width=1e3,Se.height=1e3;const Le=new XMLSerializer().serializeToString(he),Fe=new Image;Fe.onload=()=>{Ne.fillStyle="white",Ne.fillRect(0,0,Se.width,Se.height),Ne.drawImage(Fe,0,0,Se.width,Se.height);const $e=document.createElement("a");$e.download=`event-qr-${C}.png`,$e.href=Se.toDataURL("image/png"),$e.click()},Fe.src="data:image/svg+xml;base64,"+btoa(Le)},ie=async(he,Se)=>{if(!(!he||!Qr.currentUser))try{N(Fe=>({...Fe,[Se]:!0}));const Ne=Cl(Al,`users/${Qr.currentUser.uid}/event_media/${Se}/${Date.now()}_${he.name}`);await TR(Ne,he);const Le=await hf(Ne);f(Fe=>({...Fe,[Se]:Le})),N(Fe=>({...Fe,[Se]:!1}))}catch(Ne){console.error(`Error uploading ${Se}:`,Ne),g(`Failed to upload ${Se}`),N(Le=>({...Le,[Se]:!1}))}};return p?R.jsxs("div",{className:"container-fluid",children:[R.jsx("div",{className:"alert alert-danger",role:"alert",children:p}),R.jsx("div",{className:"table-responsive",children:R.jsxs("table",{className:"table table-striped",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Event Name"}),R.jsx("th",{children:"Date"}),R.jsx("th",{children:"Location"}),R.jsx("th",{children:"Status"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:R.jsxs("tr",{children:[R.jsx("td",{children:"Summer Music Festival"}),R.jsx("td",{children:"2024-06-15"}),R.jsx("td",{children:"Central Park"}),R.jsx("td",{children:R.jsx("span",{className:"badge bg-success",children:"Active"})}),R.jsxs("td",{children:[R.jsx("button",{className:"btn btn-sm btn-primary me-2",children:"Edit"}),R.jsx("button",{className:"btn btn-sm btn-danger",children:"Delete"})]})]})})]})})]}):R.jsxs("div",{className:"container-fluid",children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[R.jsx("h2",{children:"Events Management"}),R.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:J,children:[R.jsx(uS,{className:"me-2"}),"Create New Event"]})]}),p?R.jsx("div",{className:"alert alert-danger",role:"alert",children:p}):n?R.jsx("div",{className:"card",children:R.jsxs("div",{className:"card-body text-center py-5",children:[R.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})}),R.jsx("p",{className:"text-muted mb-0",children:"Loading events..."})]})}):v.length===0?R.jsx("div",{className:"card",children:R.jsx("div",{className:"card-body text-center py-5",children:R.jsx("p",{className:"text-muted mb-0",children:"No events found. Create your first event!"})})}):R.jsx("div",{className:"table-responsive",children:R.jsxs("table",{className:"table table-striped",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Event Name"}),R.jsx("th",{children:"Type"}),R.jsx("th",{children:"Location"}),R.jsx("th",{children:"Date"}),R.jsx("th",{children:"Time"}),R.jsx("th",{children:"Status"}),R.jsx("th",{children:"Folders"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:v.map(he=>R.jsxs("tr",{onClick:()=>oe(he),style:{cursor:"pointer"},className:"hover-highlight",children:[R.jsx("td",{children:he.event_name}),R.jsx("td",{children:R.jsx("span",{className:`badge ${he.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:he.event_type})}),R.jsx("td",{children:he.event_location_name}),R.jsx("td",{children:ne(he.date)}),R.jsxs("td",{children:[O(he.start_time)," - ",O(he.end_time)]}),R.jsx("td",{children:new Date<he.date.toDate()?R.jsx("span",{className:"badge bg-success",children:"Upcoming"}):R.jsx("span",{className:"badge bg-secondary",children:"Past"})}),R.jsx("td",{children:R.jsx("div",{className:"d-flex flex-wrap gap-1",children:he.folders&&he.folders.map((Se,Ne)=>R.jsx("span",{className:"badge bg-secondary",children:Se},Ne))})}),R.jsx("td",{className:"actions-cell",children:R.jsxs("div",{className:"d-flex",children:[R.jsx("button",{className:"btn btn-icon",onClick:Se=>{Se.stopPropagation(),re(he)},children:R.jsx(lS,{})}),R.jsx("button",{className:"btn btn-icon text-danger ms-3",onClick:Se=>{Se.stopPropagation(),handleDeleteEvent(he.id)},children:R.jsx(cS,{})})]})})]},he.id))})]})}),e&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"modal fade show",style:{display:"block"},children:R.jsx("div",{className:"modal-dialog modal-lg",children:R.jsxs("div",{className:"modal-content",children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h5",{className:"modal-title",children:x?"Edit Event":q?"Event Details":"Create New Event"}),R.jsx("button",{type:"button",className:"btn-close",onClick:X})]}),R.jsx("div",{className:"modal-body",children:q?R.jsxs("div",{className:"event-details",children:[R.jsxs("div",{className:"text-center mb-4 p-3 border rounded",children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[R.jsx("h6",{className:"text-muted mb-0",children:"Event QR Code"}),R.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{const he=v.find(Se=>Se.id===C);he&&re(he)},children:[R.jsx(lS,{className:"me-1"})," Edit Event"]})]}),R.jsxs("div",{className:"d-flex flex-column align-items-center mb-3",children:[R.jsx("div",{className:"qr-code mb-3",children:R.jsx(FM,{value:`https://chaaya.ai/event/${C}`,size:200,level:"H",includeMargin:!0,bgColor:getComputedStyle(document.documentElement).getPropertyValue("--bg-primary").trim(),fgColor:getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()})}),R.jsx("button",{className:"btn btn-outline-primary",onClick:Ue,children:"Download QR Code"})]}),R.jsxs("small",{className:"text-muted",children:["Scan to access event page: ",`https://chaaya.ai/event/${C}`]})]}),R.jsxs("div",{className:"row mb-4",children:[R.jsxs("div",{className:"col-md-6",children:[R.jsx("h6",{className:"text-muted",children:"Event Name"}),R.jsx("p",{className:"lead",children:d.event_name})]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("h6",{className:"text-muted",children:"Event Type"}),R.jsx("p",{children:R.jsx("span",{className:`badge ${d.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:d.event_type})})]})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("h6",{className:"text-muted",children:"Description"}),R.jsx("p",{children:d.event_description})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("h6",{className:"text-muted",children:"Location"}),R.jsx("p",{children:d.event_location_name}),R.jsx("div",{className:"mt-3",children:R.jsx(OF,{mapContainerStyle:wz,center:d.event_location,zoom:15,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0},children:R.jsx(bM,{position:d.event_location,title:d.event_location_name})})})]}),R.jsxs("div",{className:"row mb-4",children:[R.jsxs("div",{className:"col-md-4",children:[R.jsx("h6",{className:"text-muted",children:"Date"}),R.jsx("p",{children:d.date?new Date(d.date).toLocaleDateString():"N/A"})]}),R.jsxs("div",{className:"col-md-4",children:[R.jsx("h6",{className:"text-muted",children:"Time"}),R.jsxs("p",{children:[d.start_time?new Date(d.start_time).toLocaleTimeString():"N/A"," -",d.end_time?new Date(d.end_time).toLocaleTimeString():"N/A"]})]})]}),d.live_stream_enabled&&R.jsxs("div",{className:"mb-4",children:[R.jsx("h6",{className:"text-muted",children:"Live Stream URL"}),R.jsx("p",{children:R.jsx("a",{href:d.live_session_url,target:"_blank",rel:"noopener noreferrer",children:d.live_session_url})})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("h6",{className:"text-muted",children:"Additional Features"}),R.jsxs("div",{className:"mt-2",children:[d.live_stream_enabled&&R.jsx("span",{className:"badge bg-success me-2",children:"Live Stream Enabled"}),d.has_QR_code&&R.jsx("span",{className:"badge bg-info me-2",children:"QR Code Available"})]})]}),d.folders&&d.folders.length>0&&R.jsxs("div",{className:"mb-4",children:[R.jsx("h6",{className:"text-muted",children:"Folders"}),R.jsx("div",{className:"d-flex flex-wrap gap-2",children:d.folders.map((he,Se)=>R.jsx("div",{className:"badge bg-secondary",children:he},Se))})]})]}):R.jsxs("form",{onSubmit:U,children:[R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Event Name*"}),R.jsx("input",{type:"text",className:`form-control ${H.event_name?"is-invalid":""}`,name:"event_name",value:d.event_name,onChange:F,required:!0}),H.event_name&&R.jsx("div",{className:"invalid-feedback",children:H.event_name})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"event_description",className:"form-label",children:"Event Description"}),R.jsx("textarea",{id:"event_description",className:"form-control",name:"event_description",value:d.event_description||"",onChange:F,maxLength:100,rows:3,placeholder:"Enter event description (max 100 characters)"}),R.jsx("small",{className:"text-muted",children:`${((Pe=d.event_description)==null?void 0:Pe.length)||0}/100 characters`})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label d-block",children:"Event Type"}),R.jsxs("div",{className:"form-check form-switch",children:[R.jsx("input",{type:"checkbox",className:"form-check-input",name:"event_type",id:"event_type",checked:d.event_type==="smart",onChange:he=>f(Se=>({...Se,event_type:he.target.checked?"smart":"normal"}))}),R.jsxs("label",{className:"form-check-label",htmlFor:"event_type",children:["Smart Event ",d.event_type==="smart"?"(Enabled)":"(Disabled)"]}),R.jsx("small",{className:"form-text text-muted d-block",children:d.event_type==="smart"?"Smart event with advanced features":"Normal event with basic features"})]})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Location*"}),R.jsxs("div",{className:"input-group",children:[R.jsx("input",{ref:c,type:"text",className:`form-control ${H.event_location?"is-invalid":""}`,placeholder:"Search for a location",value:d.event_location_name,onChange:he=>{f(Se=>({...Se,event_location_name:he.target.value})),G(Se=>({...Se,event_location:null}))},required:!0}),R.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(he=>{const{latitude:Se,longitude:Ne}=he.coords;new window.google.maps.Geocoder().geocode({location:{lat:Se,lng:Ne}},(Fe,$e)=>{$e==="OK"&&Fe[0]&&f(tt=>({...tt,event_location_name:Fe[0].formatted_address,event_location:{lat:Se,lng:Ne}}))})})},children:R.jsx(RR,{})})]}),H.event_location&&R.jsx("div",{className:"invalid-feedback d-block",children:H.event_location})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Event Date*"}),R.jsx(m_,{selected:d.date,onChange:he=>{f(Se=>({...Se,date:he})),G(Se=>({...Se,date:null}))},dateFormat:"dd/MM/yyyy",className:`form-control ${H.date?"is-invalid":""}`,minDate:new Date,required:!0}),H.date&&R.jsx("div",{className:"invalid-feedback d-block",children:H.date})]}),R.jsxs("div",{className:"row mb-3",children:[R.jsxs("div",{className:"col",children:[R.jsx("label",{className:"form-label",children:"Start Time*"}),R.jsx(m_,{selected:d.start_time,onChange:he=>{f(Se=>({...Se,start_time:he})),G(Se=>({...Se,start_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${H.start_time?"is-invalid":""}`,required:!0}),H.start_time&&R.jsx("div",{className:"invalid-feedback d-block",children:H.start_time})]}),R.jsxs("div",{className:"col",children:[R.jsx("label",{className:"form-label",children:"End Time*"}),R.jsx(m_,{selected:d.end_time,onChange:he=>{f(Se=>({...Se,end_time:he})),G(Se=>({...Se,end_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${H.end_time?"is-invalid":""}`,required:!0}),H.end_time&&R.jsx("div",{className:"invalid-feedback d-block",children:H.end_time})]})]}),R.jsx("div",{className:"mb-3",children:R.jsxs("div",{className:"form-check form-switch",children:[R.jsx("input",{type:"checkbox",className:"form-check-input",name:"live_stream_enabled",checked:d.live_stream_enabled,onChange:F,id:"live_stream_enabled"}),R.jsx("label",{className:"form-check-label",htmlFor:"live_stream_enabled",children:"Enable Live Stream"})]})}),d.live_stream_enabled&&R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{className:"form-label",children:"Live Session URL"}),R.jsx("input",{type:"url",className:"form-control",name:"live_session_url",value:d.live_session_url,onChange:F,placeholder:"Enter live session URL"})]}),R.jsx("div",{className:"mb-3",children:R.jsxs("div",{className:"form-check form-switch",children:[R.jsx("input",{type:"checkbox",className:"form-check-input",name:"has_QR_code",checked:d.has_QR_code,onChange:F,id:"has_QR_code"}),R.jsx("label",{className:"form-check-label",htmlFor:"has_QR_code",children:"Generate QR Code"})]})}),R.jsxs("div",{className:"mb-3",children:[R.jsxs("label",{className:"form-label d-flex justify-content-between align-items-center",children:["Folders",R.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:ue,children:[R.jsx(uS,{})," Add Folder"]})]}),d.folders.map((he,Se)=>R.jsxs("div",{className:"input-group mb-2",children:[R.jsx("input",{type:"text",className:"form-control",value:he,onChange:Ne=>Z(Se,Ne.target.value),placeholder:"Enter folder name (alphanumeric)",pattern:"[a-zA-Z0-9]+"}),R.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>we(Se),children:R.jsx(cS,{})})]},Se)),d.folders.length>0&&R.jsx("small",{className:"text-muted",children:"Only alphanumeric characters are allowed (a-z, A-Z, 0-9)"})]}),R.jsxs("div",{className:"card mb-4",children:[R.jsx("div",{className:"card-header",children:R.jsx("h6",{className:"mb-0",children:"Media Kit"})}),R.jsx("div",{className:"card-body",children:R.jsxs("div",{className:"row g-3",children:[R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Cover Image"}),R.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.coverImage&&R.jsx("img",{src:d.coverImage,alt:"Cover",className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),R.jsxs("div",{className:"flex-grow-1",children:[R.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:he=>ie(he.target.files[0],"coverImage"),disabled:k.coverImage}),k.coverImage&&R.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Avatar"}),R.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.avatar&&R.jsx("img",{src:d.avatar,alt:"Avatar",className:"img-thumbnail rounded-circle",style:{width:"60px",height:"60px",objectFit:"cover"}}),R.jsxs("div",{className:"flex-grow-1",children:[R.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:he=>ie(he.target.files[0],"avatar"),disabled:k.avatar}),k.avatar&&R.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Logo"}),R.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.logo&&R.jsx("img",{src:d.logo,alt:"Logo",className:"img-thumbnail",style:{width:"60px",height:"60px",objectFit:"contain"}}),R.jsxs("div",{className:"flex-grow-1",children:[R.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:he=>ie(he.target.files[0],"logo"),disabled:k.logo}),k.logo&&R.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Intro Video"}),R.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.introVideo&&R.jsx("video",{src:d.introVideo,className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),R.jsxs("div",{className:"flex-grow-1",children:[R.jsx("input",{type:"file",className:"form-control",accept:"video/mp4,video/webm,video/ogg",onChange:he=>ie(he.target.files[0],"introVideo"),disabled:k.introVideo}),k.introVideo&&R.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]})]})})]}),R.jsxs("div",{className:"modal-footer",children:[R.jsx("button",{type:"button",className:"btn btn-secondary",onClick:X,children:"Close"}),R.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Object.values(k).some(he=>he),children:x?"Update Event":"Create Event"})]})]})})]})})}),R.jsx("div",{className:"modal-backdrop fade show"})]})]})}function Tz(){return R.jsxs("div",{className:"container-fluid",children:[R.jsx("h2",{className:"mb-4",children:"Analytics Overview"}),R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"col-md-6",children:R.jsxs("div",{className:"chart-container",children:[R.jsx("h4",{children:"Event Attendance"}),R.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})}),R.jsx("div",{className:"col-md-6",children:R.jsxs("div",{className:"chart-container",children:[R.jsx("h4",{children:"Revenue Analysis"}),R.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})})]})]})}function Sz(){const[r,e]=T.useState([]),[t,n]=T.useState(!0),i=zf();return T.useEffect(()=>{(async()=>{try{n(!0);const l=hd(Pl,"events"),c=Of(l,If("event_host","==",Qr.currentUser.uid)),f=(await Pf(c)).docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.folders&&p.folders.length>0);e(f)}catch(l){console.error("Error fetching events:",l)}finally{n(!1)}})()},[]),t?R.jsx("div",{className:"container-fluid",children:R.jsx("div",{className:"text-center py-5",children:R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):R.jsxs("div",{className:"container-fluid",children:[R.jsx("h2",{className:"mb-4",children:"Folders"}),r.length===0?R.jsx("div",{className:"alert alert-info",children:"No folders found. Create folders in your events to see them here."}):R.jsx("div",{className:"row",children:r.map(a=>R.jsx("div",{className:"col-12 mb-4",children:R.jsxs("div",{className:"card",children:[R.jsxs("div",{className:"card-header",children:[R.jsx("h5",{className:"mb-0",children:a.event_name}),R.jsx("small",{className:"text-muted",children:Nf(a.date.toDate(),"dd MMM yyyy")})]}),R.jsx("div",{className:"card-body",children:R.jsx("div",{className:"row g-4",children:a.folders.map((l,c)=>R.jsx("div",{className:"col-md-3 col-sm-6",children:R.jsxs("div",{className:"folder-card text-center",onClick:()=>i(`/folders/${a.id}/${encodeURIComponent(l)}`),children:[R.jsx(jV,{className:"folder-icon"}),R.jsxs("div",{className:"folder-name mt-2",children:[R.jsx("strong",{children:a.event_name})," / ",l]})]})},c))})})]})},a.id))})]})}function Cz(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function HM(r,e){return new Promise(function(t,n){let i;return Az(r).then(function(a){try{return i=a,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(l){return n(l)}},n)})}const Az=r=>new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let l=0;if(a.getUint16(l)!==65496)return t("not a valid JPEG");for(l+=2;;){const c=a.getUint16(l);if(c===65498)break;const d=a.getUint16(l+2);if(c===65505&&a.getUint32(l+4)===1165519206){const f=l+10;let p;switch(a.getUint16(f)){case 18761:p=!0;break;case 19789:p=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(f+2,p)!==42)return t("TIFF header contains invalid version");const g=a.getUint32(f+4,p),v=f+g+2+12*a.getUint16(f+g,p);for(let b=f+g+2;b<v;b+=12)if(a.getUint16(b,p)==274){if(a.getUint16(b+2,p)!==3)return t("Orientation data type is invalid");if(a.getUint32(b+4,p)!==1)return t("Orientation data count is invalid");a.setUint16(b+8,1,p);break}return e(i.slice(l,l+2+d))}l+=2+d}return e(new Blob)}),n.readAsArrayBuffer(r)});var Bg={},xz={get exports(){return Bg},set exports(r){Bg=r}};(function(r){var e,t,n={};xz.exports=n,n.parse=function(i,a){for(var l=n.bin.readUshort,c=n.bin.readUint,d=0,f={},p=new Uint8Array(i),g=p.length-4;c(p,g)!=101010256;)g--;d=g,d+=4;var v=l(p,d+=4);l(p,d+=2);var b=c(p,d+=2),E=c(p,d+=4);d+=4,d=E;for(var M=0;M<v;M++){c(p,d),d+=4,d+=4,d+=4,c(p,d+=4),b=c(p,d+=4);var x=c(p,d+=4),L=l(p,d+=4),$=l(p,d+2),Y=l(p,d+4);d+=6;var H=c(p,d+=8);d+=4,d+=L+$+Y,n._readLocal(p,H,f,b,x,a)}return f},n._readLocal=function(i,a,l,c,d,f){var p=n.bin.readUshort,g=n.bin.readUint;g(i,a),p(i,a+=4),p(i,a+=2);var v=p(i,a+=2);g(i,a+=2),g(i,a+=4),a+=4;var b=p(i,a+=8),E=p(i,a+=2);a+=2;var M=n.bin.readUTF8(i,a,b);if(a+=b,a+=E,f)l[M]={size:d,csize:c};else{var x=new Uint8Array(i.buffer,a);if(v==0)l[M]=new Uint8Array(x.buffer.slice(a,a+c));else{if(v!=8)throw"unknown compression method: "+v;var L=new Uint8Array(d);n.inflateRaw(x,L),l[M]=L}}},n.inflateRaw=function(i,a){return n.F.inflate(i,a)},n.inflate=function(i,a){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},n.deflate=function(i,a){a==null&&(a={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*i.length));c[l]=120,c[l+1]=156,l+=2,l=n.F.deflateRaw(i,c,l,a.level);var d=n.adler(i,0,i.length);return c[l+0]=d>>>24&255,c[l+1]=d>>>16&255,c[l+2]=d>>>8&255,c[l+3]=d>>>0&255,new Uint8Array(c.buffer,0,l+4)},n.deflateRaw=function(i,a){a==null&&(a={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),c=n.F.deflateRaw(i,l,c,a.level);return new Uint8Array(l.buffer,0,c)},n.encode=function(i,a){a==null&&(a=!1);var l=0,c=n.bin.writeUint,d=n.bin.writeUshort,f={};for(var p in i){var g=!n._noNeed(p)&&!a,v=i[p],b=n.crc.crc(v,0,v.length);f[p]={cpr:g,usize:v.length,crc:b,file:g?n.deflateRaw(v):v}}for(var p in f)l+=f[p].file.length+30+46+2*n.bin.sizeUTF8(p);l+=22;var E=new Uint8Array(l),M=0,x=[];for(var p in f){var L=f[p];x.push(M),M=n._writeHeader(E,M,p,L,0)}var $=0,Y=M;for(var p in f)L=f[p],x.push(M),M=n._writeHeader(E,M,p,L,1,x[$++]);var H=M-Y;return c(E,M,101010256),M+=4,d(E,M+=4,$),d(E,M+=2,$),c(E,M+=2,H),c(E,M+=4,Y),M+=4,M+=2,E.buffer},n._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},n._writeHeader=function(i,a,l,c,d,f){var p=n.bin.writeUint,g=n.bin.writeUshort,v=c.file;return p(i,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),g(i,a,20),g(i,a+=2,0),g(i,a+=2,c.cpr?8:0),p(i,a+=2,0),p(i,a+=4,c.crc),p(i,a+=4,v.length),p(i,a+=4,c.usize),g(i,a+=4,n.bin.sizeUTF8(l)),g(i,a+=2,0),a+=2,d==1&&(a+=2,a+=2,p(i,a+=6,f),a+=4),a+=n.bin.writeUTF8(i,a,l),d==0&&(i.set(v,a),a+=v.length),a},n.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var l=a,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;i[a]=l}return i}(),update:function(i,a,l,c){for(var d=0;d<c;d++)i=n.crc.table[255&(i^a[l+d])]^i>>>8;return i},crc:function(i,a,l){return 4294967295^n.crc.update(4294967295,i,a,l)}},n.adler=function(i,a,l){for(var c=1,d=0,f=a,p=a+l;f<p;){for(var g=Math.min(f+5552,p);f<g;)d+=c+=i[f++];c%=65521,d%=65521}return d<<16|c},n.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255,i[a+2]=l>>16&255,i[a+3]=l>>24&255},readASCII:function(i,a,l){for(var c="",d=0;d<l;d++)c+=String.fromCharCode(i[a+d]);return c},writeASCII:function(i,a,l){for(var c=0;c<l.length;c++)i[a+c]=l.charCodeAt(c)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,l){for(var c,d="",f=0;f<l;f++)d+="%"+n.bin.pad(i[a+f].toString(16));try{c=decodeURIComponent(d)}catch{return n.bin.readASCII(i,a,l)}return c},writeUTF8:function(i,a,l){for(var c=l.length,d=0,f=0;f<c;f++){var p=l.charCodeAt(f);if((4294967168&p)==0)i[a+d]=p,d++;else if((4294965248&p)==0)i[a+d]=192|p>>6,i[a+d+1]=128|p>>0&63,d+=2;else if((4294901760&p)==0)i[a+d]=224|p>>12,i[a+d+1]=128|p>>6&63,i[a+d+2]=128|p>>0&63,d+=3;else{if((4292870144&p)!=0)throw"e";i[a+d]=240|p>>18,i[a+d+1]=128|p>>12&63,i[a+d+2]=128|p>>6&63,i[a+d+3]=128|p>>0&63,d+=4}}return d},sizeUTF8:function(i){for(var a=i.length,l=0,c=0;c<a;c++){var d=i.charCodeAt(c);if((4294967168&d)==0)l++;else if((4294965248&d)==0)l+=2;else if((4294901760&d)==0)l+=3;else{if((4292870144&d)!=0)throw"e";l+=4}}return l}},n.F={},n.F.deflateRaw=function(i,a,l,c){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],f=n.F.U,p=n.F._goodIndex;n.F._hash;var g=n.F._putsE,v=0,b=l<<3,E=0,M=i.length;if(c==0){for(;v<M;)g(a,b,v+(N=Math.min(65535,M-v))==M?1:0),b=n.F._copyExact(i,v,N,a,b+8),v+=N;return b>>>3}var x=f.lits,L=f.strt,$=f.prev,Y=0,H=0,G=0,q=0,P=0,C=0;for(M>2&&(L[C=n.F._hash(i,0)]=0),v=0;v<M;v++){if(P=C,v+1<M-2){C=n.F._hash(i,v+1);var S=v+1&32767;$[S]=L[C],L[C]=S}if(E<=v){(Y>14e3||H>26697)&&M-v>100&&(E<v&&(x[Y]=v-E,Y+=2,E=v),b=n.F._writeBlock(v==M-1||E==M?1:0,x,Y,q,i,G,v-G,a,b),Y=H=q=0,G=v);var k=0;v<M-2&&(k=n.F._bestMatch(i,v,$,P,Math.min(d[2],M-v),d[3]));var N=k>>>16,F=65535&k;if(k!=0){F=65535&k;var j=p(N=k>>>16,f.of0);f.lhst[257+j]++;var X=p(F,f.df0);f.dhst[X]++,q+=f.exb[j]+f.dxb[X],x[Y]=N<<23|v-E,x[Y+1]=F<<16|j<<8|X,Y+=2,E=v+N}else f.lhst[i[v]]++;H++}}for(G==v&&i.length!=0||(E<v&&(x[Y]=v-E,Y+=2,E=v),b=n.F._writeBlock(1,x,Y,q,i,G,v-G,a,b),Y=0,H=0,Y=H=q=0,G=v);(7&b)!=0;)b++;return b>>>3},n.F._bestMatch=function(i,a,l,c,d,f){var p=32767&a,g=l[p],v=p-g+32768&32767;if(g==p||c!=n.F._hash(i,a-v))return 0;for(var b=0,E=0,M=Math.min(32767,a);v<=M&&--f!=0&&g!=p;){if(b==0||i[a+b]==i[a+b-v]){var x=n.F._howLong(i,a,v);if(x>b){if(E=v,(b=x)>=d)break;v+2<x&&(x=v+2);for(var L=0,$=0;$<x-2;$++){var Y=a-v+$+32768&32767,H=Y-l[Y]+32768&32767;H>L&&(L=H,g=Y)}}}v+=(p=g)-(g=l[p])+32768&32767}return b<<16|E},n.F._howLong=function(i,a,l){if(i[a]!=i[a-l]||i[a+1]!=i[a+1-l]||i[a+2]!=i[a+2-l])return 0;var c=a,d=Math.min(i.length,a+258);for(a+=3;a<d&&i[a]==i[a-l];)a++;return a-c},n.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,a,l,c,d,f,p,g,v){var b,E,M,x,L,$,Y,H,G,q=n.F.U,P=n.F._putsF,C=n.F._putsE;q.lhst[256]++,E=(b=n.F.getTrees())[0],M=b[1],x=b[2],L=b[3],$=b[4],Y=b[5],H=b[6],G=b[7];var S=32+((v+3&7)==0?0:8-(v+3&7))+(p<<3),k=c+n.F.contSize(q.fltree,q.lhst)+n.F.contSize(q.fdtree,q.dhst),N=c+n.F.contSize(q.ltree,q.lhst)+n.F.contSize(q.dtree,q.dhst);N+=14+3*Y+n.F.contSize(q.itree,q.ihst)+(2*q.ihst[16]+3*q.ihst[17]+7*q.ihst[18]);for(var F=0;F<286;F++)q.lhst[F]=0;for(F=0;F<30;F++)q.dhst[F]=0;for(F=0;F<19;F++)q.ihst[F]=0;var j=S<k&&S<N?0:k<N?1:2;if(P(g,v,i),P(g,v+1,j),v+=3,j==0){for(;(7&v)!=0;)v++;v=n.F._copyExact(d,f,p,g,v)}else{var X,J;if(j==1&&(X=q.fltree,J=q.fdtree),j==2){n.F.makeCodes(q.ltree,E),n.F.revCodes(q.ltree,E),n.F.makeCodes(q.dtree,M),n.F.revCodes(q.dtree,M),n.F.makeCodes(q.itree,x),n.F.revCodes(q.itree,x),X=q.ltree,J=q.dtree,C(g,v,L-257),C(g,v+=5,$-1),C(g,v+=5,Y-4),v+=4;for(var U=0;U<Y;U++)C(g,v+3*U,q.itree[1+(q.ordr[U]<<1)]);v+=3*Y,v=n.F._codeTiny(H,q.itree,g,v),v=n.F._codeTiny(G,q.itree,g,v)}for(var B=f,ee=0;ee<l;ee+=2){for(var ne=a[ee],O=ne>>>23,re=B+(8388607&ne);B<re;)v=n.F._writeLit(d[B++],X,g,v);if(O!=0){var oe=a[ee+1],se=oe>>16,ue=oe>>8&255,Z=255&oe;C(g,v=n.F._writeLit(257+ue,X,g,v),O-q.of0[ue]),v+=q.exb[ue],P(g,v=n.F._writeLit(Z,J,g,v),se-q.df0[Z]),v+=q.dxb[Z],B+=O}}v=n.F._writeLit(256,X,g,v)}return v},n.F._copyExact=function(i,a,l,c,d){var f=d>>>3;return c[f]=l,c[f+1]=l>>>8,c[f+2]=255-c[f],c[f+3]=255-c[f+1],f+=4,c.set(new Uint8Array(i.buffer,a,l),f),d+(l+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,a=n.F._hufTree(i.lhst,i.ltree,15),l=n.F._hufTree(i.dhst,i.dtree,15),c=[],d=n.F._lenCodes(i.ltree,c),f=[],p=n.F._lenCodes(i.dtree,f),g=0;g<c.length;g+=2)i.ihst[c[g]]++;for(g=0;g<f.length;g+=2)i.ihst[f[g]]++;for(var v=n.F._hufTree(i.ihst,i.itree,7),b=19;b>4&&i.itree[1+(i.ordr[b-1]<<1)]==0;)b--;return[a,l,v,d,p,b,c,f]},n.F.getSecond=function(i){for(var a=[],l=0;l<i.length;l+=2)a.push(i[l+1]);return a},n.F.nonZero=function(i){for(var a="",l=0;l<i.length;l+=2)i[l+1]!=0&&(a+=(l>>1)+",");return a},n.F.contSize=function(i,a){for(var l=0,c=0;c<a.length;c++)l+=a[c]*i[1+(c<<1)];return l},n.F._codeTiny=function(i,a,l,c){for(var d=0;d<i.length;d+=2){var f=i[d],p=i[d+1];c=n.F._writeLit(f,a,l,c);var g=f==16?2:f==17?3:7;f>15&&(n.F._putsE(l,c,p,g),c+=g)}return c},n.F._lenCodes=function(i,a){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var d=i[c+1],f=c+3<l?i[c+3]:-1,p=c+5<l?i[c+5]:-1,g=c==0?-1:i[c-1];if(d==0&&f==d&&p==d){for(var v=c+5;v+2<l&&i[v+2]==d;)v+=2;(b=Math.min(v+1-c>>>1,138))<11?a.push(17,b-3):a.push(18,b-11),c+=2*b-2}else if(d==g&&f==d&&p==d){for(v=c+5;v+2<l&&i[v+2]==d;)v+=2;var b=Math.min(v+1-c>>>1,6);a.push(16,b-3),c+=2*b-2}else a.push(d,0)}return l>>>1},n.F._hufTree=function(i,a,l){var c=[],d=i.length,f=a.length,p=0;for(p=0;p<f;p+=2)a[p]=0,a[p+1]=0;for(p=0;p<d;p++)i[p]!=0&&c.push({lit:p,f:i[p]});var g=c.length,v=c.slice(0);if(g==0)return 0;if(g==1){var b=c[0].lit;return v=b==0?1:0,a[1+(b<<1)]=1,a[1+(v<<1)]=1,1}c.sort(function(H,G){return H.f-G.f});var E=c[0],M=c[1],x=0,L=1,$=2;for(c[0]={lit:-1,f:E.f+M.f,l:E,r:M,d:0};L!=g-1;)E=x!=L&&($==g||c[x].f<c[$].f)?c[x++]:c[$++],M=x!=L&&($==g||c[x].f<c[$].f)?c[x++]:c[$++],c[L++]={lit:-1,f:E.f+M.f,l:E,r:M};var Y=n.F.setDepth(c[L-1],0);for(Y>l&&(n.F.restrictDepth(v,l,Y),Y=l),p=0;p<g;p++)a[1+(v[p].lit<<1)]=v[p].d;return Y},n.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(n.F.setDepth(i.l,a+1),n.F.setDepth(i.r,a+1))},n.F.restrictDepth=function(i,a,l){var c=0,d=1<<l-a,f=0;for(i.sort(function(g,v){return v.d==g.d?g.f-v.f:v.d-g.d}),c=0;c<i.length&&i[c].d>a;c++){var p=i[c].d;i[c].d=a,f+=d-(1<<l-p)}for(f>>>=l-a;f>0;)(p=i[c].d)<a?(i[c].d++,f-=1<<a-p-1):c++;for(;c>=0;c--)i[c].d==a&&f<0&&(i[c].d--,f++);f!=0&&console.log("debt left")},n.F._goodIndex=function(i,a){var l=0;return a[16|l]<=i&&(l|=16),a[8|l]<=i&&(l|=8),a[4|l]<=i&&(l|=4),a[2|l]<=i&&(l|=2),a[1|l]<=i&&(l|=1),l},n.F._writeLit=function(i,a,l,c){return n.F._putsF(l,c,a[i<<1]),c+a[1+(i<<1)]},n.F.inflate=function(i,a){var l=Uint8Array;if(i[0]==3&&i[1]==0)return a||new l(0);var c=n.F,d=c._bitsF,f=c._bitsE,p=c._decodeTiny,g=c.makeCodes,v=c.codes2map,b=c._get17,E=c.U,M=a==null;M&&(a=new l(i.length>>>2<<3));for(var x,L,$=0,Y=0,H=0,G=0,q=0,P=0,C=0,S=0,k=0;$==0;)if($=d(i,k,1),Y=d(i,k+1,2),k+=3,Y!=0){if(M&&(a=n.F._check(a,S+(1<<17))),Y==1&&(x=E.flmap,L=E.fdmap,P=511,C=31),Y==2){H=f(i,k,5)+257,G=f(i,k+5,5)+1,q=f(i,k+10,4)+4,k+=14;for(var N=0;N<38;N+=2)E.itree[N]=0,E.itree[N+1]=0;var F=1;for(N=0;N<q;N++){var j=f(i,k+3*N,3);E.itree[1+(E.ordr[N]<<1)]=j,j>F&&(F=j)}k+=3*q,g(E.itree,F),v(E.itree,F,E.imap),x=E.lmap,L=E.dmap,k=p(E.imap,(1<<F)-1,H+G,i,k,E.ttree);var X=c._copyOut(E.ttree,0,H,E.ltree);P=(1<<X)-1;var J=c._copyOut(E.ttree,H,G,E.dtree);C=(1<<J)-1,g(E.ltree,X),v(E.ltree,X,x),g(E.dtree,J),v(E.dtree,J,L)}for(;;){var U=x[b(i,k)&P];k+=15&U;var B=U>>>4;if(!(B>>>8))a[S++]=B;else{if(B==256)break;var ee=S+B-254;if(B>264){var ne=E.ldef[B-257];ee=S+(ne>>>3)+f(i,k,7&ne),k+=7&ne}var O=L[b(i,k)&C];k+=15&O;var re=O>>>4,oe=E.ddef[re],se=(oe>>>4)+d(i,k,15&oe);for(k+=15&oe,M&&(a=n.F._check(a,S+(1<<17)));S<ee;)a[S]=a[S++-se],a[S]=a[S++-se],a[S]=a[S++-se],a[S]=a[S++-se];S=ee}}}else{(7&k)!=0&&(k+=8-(7&k));var ue=4+(k>>>3),Z=i[ue-4]|i[ue-3]<<8;M&&(a=n.F._check(a,S+Z)),a.set(new l(i.buffer,i.byteOffset+ue,Z),S),k=ue+Z<<3,S+=Z}return a.length==S?a:a.slice(0,S)},n.F._check=function(i,a){var l=i.length;if(a<=l)return i;var c=new Uint8Array(Math.max(l<<1,a));return c.set(i,0),c},n.F._decodeTiny=function(i,a,l,c,d,f){for(var p=n.F._bitsE,g=n.F._get17,v=0;v<l;){var b=i[g(c,d)&a];d+=15&b;var E=b>>>4;if(E<=15)f[v]=E,v++;else{var M=0,x=0;E==16?(x=3+p(c,d,2),d+=2,M=f[v-1]):E==17?(x=3+p(c,d,3),d+=3):E==18&&(x=11+p(c,d,7),d+=7);for(var L=v+x;v<L;)f[v]=M,v++}}return d},n.F._copyOut=function(i,a,l,c){for(var d=0,f=0,p=c.length>>>1;f<l;){var g=i[f+a];c[f<<1]=0,c[1+(f<<1)]=g,g>d&&(d=g),f++}for(;f<p;)c[f<<1]=0,c[1+(f<<1)]=0,f++;return d},n.F.makeCodes=function(i,a){for(var l,c,d,f,p=n.F.U,g=i.length,v=p.bl_count,b=0;b<=a;b++)v[b]=0;for(b=1;b<g;b+=2)v[i[b]]++;var E=p.next_code;for(l=0,v[0]=0,c=1;c<=a;c++)l=l+v[c-1]<<1,E[c]=l;for(d=0;d<g;d+=2)(f=i[d+1])!=0&&(i[d]=E[f],E[f]++)},n.F.codes2map=function(i,a,l){for(var c=i.length,d=n.F.U.rev15,f=0;f<c;f+=2)if(i[f+1]!=0)for(var p=f>>1,g=i[f+1],v=p<<4|g,b=a-g,E=i[f]<<b,M=E+(1<<b);E!=M;)l[d[E]>>>15-a]=v,E++},n.F.revCodes=function(i,a){for(var l=n.F.U.rev15,c=15-a,d=0;d<i.length;d+=2){var f=i[d]<<a-i[d+1];i[d]=l[f]>>>c}},n.F._putsE=function(i,a,l){l<<=7&a;var c=a>>>3;i[c]|=l,i[c+1]|=l>>>8},n.F._putsF=function(i,a,l){l<<=7&a;var c=a>>>3;i[c]|=l,i[c+1]|=l>>>8,i[c+2]|=l>>>16},n.F._bitsE=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},n.F._bitsF=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},n.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},n.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},n.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,a=0;a<32768;a++){var l=a;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[a]=(l>>>16|l<<16)>>>17}function c(d,f,p){for(;f--!=0;)d.push(0,p)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];c(i.fltree,144,8),c(i.fltree,112,9),c(i.fltree,24,7),c(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),c(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),c(i.itree,19,0),c(i.ltree,286,0),c(i.dtree,30,0),c(i.ttree,320,0)}()})();var Dz=Cz({__proto__:null,default:Bg},[Bg]);const ea=function(){var r={nextZero(p,g){for(;p[g]!=0;)g++;return g},readUshort:(p,g)=>p[g]<<8|p[g+1],writeUshort(p,g,v){p[g]=v>>8&255,p[g+1]=255&v},readUint:(p,g)=>16777216*p[g]+(p[g+1]<<16|p[g+2]<<8|p[g+3]),writeUint(p,g,v){p[g]=v>>24&255,p[g+1]=v>>16&255,p[g+2]=v>>8&255,p[g+3]=255&v},readASCII(p,g,v){let b="";for(let E=0;E<v;E++)b+=String.fromCharCode(p[g+E]);return b},writeASCII(p,g,v){for(let b=0;b<v.length;b++)p[g+b]=v.charCodeAt(b)},readBytes(p,g,v){const b=[];for(let E=0;E<v;E++)b.push(p[g+E]);return b},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,g,v){let b,E="";for(let M=0;M<v;M++)E+=`%${r.pad(p[g+M].toString(16))}`;try{b=decodeURIComponent(E)}catch{return r.readASCII(p,g,v)}return b}};function e(p,g,v,b){const E=g*v,M=a(b),x=Math.ceil(g*M/8),L=new Uint8Array(4*E),$=new Uint32Array(L.buffer),{ctype:Y}=b,{depth:H}=b,G=r.readUshort;if(Y==6){const ne=E<<2;if(H==8)for(var q=0;q<ne;q+=4)L[q]=p[q],L[q+1]=p[q+1],L[q+2]=p[q+2],L[q+3]=p[q+3];if(H==16)for(q=0;q<ne;q++)L[q]=p[q<<1]}else if(Y==2){const ne=b.tabs.tRNS;if(ne==null){if(H==8)for(q=0;q<E;q++){var P=3*q;$[q]=255<<24|p[P+2]<<16|p[P+1]<<8|p[P]}if(H==16)for(q=0;q<E;q++)P=6*q,$[q]=255<<24|p[P+4]<<16|p[P+2]<<8|p[P]}else{var C=ne[0];const O=ne[1],re=ne[2];if(H==8)for(q=0;q<E;q++){var S=q<<2;P=3*q,$[q]=255<<24|p[P+2]<<16|p[P+1]<<8|p[P],p[P]==C&&p[P+1]==O&&p[P+2]==re&&(L[S+3]=0)}if(H==16)for(q=0;q<E;q++)S=q<<2,P=6*q,$[q]=255<<24|p[P+4]<<16|p[P+2]<<8|p[P],G(p,P)==C&&G(p,P+2)==O&&G(p,P+4)==re&&(L[S+3]=0)}}else if(Y==3){const ne=b.tabs.PLTE,O=b.tabs.tRNS,re=O?O.length:0;if(H==1)for(var k=0;k<v;k++){var N=k*x,F=k*g;for(q=0;q<g;q++){S=F+q<<2;var j=3*(X=p[N+(q>>3)]>>7-((7&q)<<0)&1);L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255}}if(H==2)for(k=0;k<v;k++)for(N=k*x,F=k*g,q=0;q<g;q++)S=F+q<<2,j=3*(X=p[N+(q>>2)]>>6-((3&q)<<1)&3),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255;if(H==4)for(k=0;k<v;k++)for(N=k*x,F=k*g,q=0;q<g;q++)S=F+q<<2,j=3*(X=p[N+(q>>1)]>>4-((1&q)<<2)&15),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255;if(H==8)for(q=0;q<E;q++){var X;S=q<<2,j=3*(X=p[q]),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255}}else if(Y==4){if(H==8)for(q=0;q<E;q++){S=q<<2;var J=p[U=q<<1];L[S]=J,L[S+1]=J,L[S+2]=J,L[S+3]=p[U+1]}if(H==16)for(q=0;q<E;q++){var U;S=q<<2,J=p[U=q<<2],L[S]=J,L[S+1]=J,L[S+2]=J,L[S+3]=p[U+2]}}else if(Y==0)for(C=b.tabs.tRNS?b.tabs.tRNS:-1,k=0;k<v;k++){const ne=k*x,O=k*g;if(H==1)for(var B=0;B<g;B++){var ee=(J=255*(p[ne+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;$[O+B]=ee<<24|J<<16|J<<8|J}else if(H==2)for(B=0;B<g;B++)ee=(J=85*(p[ne+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(H==4)for(B=0;B<g;B++)ee=(J=17*(p[ne+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(H==8)for(B=0;B<g;B++)ee=(J=p[ne+B])==C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(H==16)for(B=0;B<g;B++)J=p[ne+(B<<1)],ee=G(p,ne+(B<<1))==C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J}return L}function t(p,g,v,b){const E=a(p),M=Math.ceil(v*E/8),x=new Uint8Array((M+1+p.interlace)*b);return g=p.tabs.CgBI?i(g,x):n(g,x),p.interlace==0?g=l(g,p,0,v,b):p.interlace==1&&(g=function($,Y){const H=Y.width,G=Y.height,q=a(Y),P=q>>3,C=Math.ceil(H*q/8),S=new Uint8Array(G*C);let k=0;const N=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],X=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const B=j[J],ee=X[J];let ne=0,O=0,re=N[J];for(;re<G;)re+=B,O++;let oe=F[J];for(;oe<H;)oe+=ee,ne++;const se=Math.ceil(ne*q/8);l($,Y,k,ne,O);let ue=0,Z=N[J];for(;Z<G;){let we=F[J],Ue=k+ue*se<<3;for(;we<H;){var U;if(q==1&&(U=(U=$[Ue>>3])>>7-(7&Ue)&1,S[Z*C+(we>>3)]|=U<<7-((7&we)<<0)),q==2&&(U=(U=$[Ue>>3])>>6-(7&Ue)&3,S[Z*C+(we>>2)]|=U<<6-((3&we)<<1)),q==4&&(U=(U=$[Ue>>3])>>4-(7&Ue)&15,S[Z*C+(we>>1)]|=U<<4-((1&we)<<2)),q>=8){const ie=Z*C+we*P;for(let xe=0;xe<P;xe++)S[ie+xe]=$[(Ue>>3)+xe]}Ue+=q,we+=ee}ue++,Z+=B}ne*O!=0&&(k+=O*(1+se)),J+=1}return S}(g,p)),g}function n(p,g){return i(new Uint8Array(p.buffer,2,p.length-6),g)}var i=function(){const p={H:{}};return p.H.N=function(g,v){const b=Uint8Array;let E,M,x=0,L=0,$=0,Y=0,H=0,G=0,q=0,P=0,C=0;if(g[0]==3&&g[1]==0)return v||new b(0);const S=p.H,k=S.b,N=S.e,F=S.R,j=S.n,X=S.A,J=S.Z,U=S.m,B=v==null;for(B&&(v=new b(g.length>>>2<<5));x==0;)if(x=k(g,C,1),L=k(g,C+1,2),C+=3,L!=0){if(B&&(v=p.H.W(v,P+(1<<17))),L==1&&(E=U.J,M=U.h,G=511,q=31),L==2){$=N(g,C,5)+257,Y=N(g,C+5,5)+1,H=N(g,C+10,4)+4,C+=14;let ne=1;for(var ee=0;ee<38;ee+=2)U.Q[ee]=0,U.Q[ee+1]=0;for(ee=0;ee<H;ee++){const oe=N(g,C+3*ee,3);U.Q[1+(U.X[ee]<<1)]=oe,oe>ne&&(ne=oe)}C+=3*H,j(U.Q,ne),X(U.Q,ne,U.u),E=U.w,M=U.d,C=F(U.u,(1<<ne)-1,$+Y,g,C,U.v);const O=S.V(U.v,0,$,U.C);G=(1<<O)-1;const re=S.V(U.v,$,Y,U.D);q=(1<<re)-1,j(U.C,O),X(U.C,O,E),j(U.D,re),X(U.D,re,M)}for(;;){const ne=E[J(g,C)&G];C+=15&ne;const O=ne>>>4;if(!(O>>>8))v[P++]=O;else{if(O==256)break;{let re=P+O-254;if(O>264){const we=U.q[O-257];re=P+(we>>>3)+N(g,C,7&we),C+=7&we}const oe=M[J(g,C)&q];C+=15&oe;const se=oe>>>4,ue=U.c[se],Z=(ue>>>4)+k(g,C,15&ue);for(C+=15&ue;P<re;)v[P]=v[P++-Z],v[P]=v[P++-Z],v[P]=v[P++-Z],v[P]=v[P++-Z];P=re}}}}else{(7&C)!=0&&(C+=8-(7&C));const ne=4+(C>>>3),O=g[ne-4]|g[ne-3]<<8;B&&(v=p.H.W(v,P+O)),v.set(new b(g.buffer,g.byteOffset+ne,O),P),C=ne+O<<3,P+=O}return v.length==P?v:v.slice(0,P)},p.H.W=function(g,v){const b=g.length;if(v<=b)return g;const E=new Uint8Array(b<<1);return E.set(g,0),E},p.H.R=function(g,v,b,E,M,x){const L=p.H.e,$=p.H.Z;let Y=0;for(;Y<b;){const H=g[$(E,M)&v];M+=15&H;const G=H>>>4;if(G<=15)x[Y]=G,Y++;else{let q=0,P=0;G==16?(P=3+L(E,M,2),M+=2,q=x[Y-1]):G==17?(P=3+L(E,M,3),M+=3):G==18&&(P=11+L(E,M,7),M+=7);const C=Y+P;for(;Y<C;)x[Y]=q,Y++}}return M},p.H.V=function(g,v,b,E){let M=0,x=0;const L=E.length>>>1;for(;x<b;){const $=g[x+v];E[x<<1]=0,E[1+(x<<1)]=$,$>M&&(M=$),x++}for(;x<L;)E[x<<1]=0,E[1+(x<<1)]=0,x++;return M},p.H.n=function(g,v){const b=p.H.m,E=g.length;let M,x,L,$;const Y=b.j;for(var H=0;H<=v;H++)Y[H]=0;for(H=1;H<E;H+=2)Y[g[H]]++;const G=b.K;for(M=0,Y[0]=0,x=1;x<=v;x++)M=M+Y[x-1]<<1,G[x]=M;for(L=0;L<E;L+=2)$=g[L+1],$!=0&&(g[L]=G[$],G[$]++)},p.H.A=function(g,v,b){const E=g.length,M=p.H.m.r;for(let x=0;x<E;x+=2)if(g[x+1]!=0){const L=x>>1,$=g[x+1],Y=L<<4|$,H=v-$;let G=g[x]<<H;const q=G+(1<<H);for(;G!=q;)b[M[G]>>>15-v]=Y,G++}},p.H.l=function(g,v){const b=p.H.m.r,E=15-v;for(let M=0;M<g.length;M+=2){const x=g[M]<<v-g[M+1];g[M]=b[x]>>>E}},p.H.M=function(g,v,b){b<<=7&v;const E=v>>>3;g[E]|=b,g[E+1]|=b>>>8},p.H.I=function(g,v,b){b<<=7&v;const E=v>>>3;g[E]|=b,g[E+1]|=b>>>8,g[E+2]|=b>>>16},p.H.e=function(g,v,b){return(g[v>>>3]|g[1+(v>>>3)]<<8)>>>(7&v)&(1<<b)-1},p.H.b=function(g,v,b){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)&(1<<b)-1},p.H.Z=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)},p.H.i=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16|g[3+(v>>>3)]<<24)>>>(7&v)},p.H.m=function(){const g=Uint16Array,v=Uint32Array;return{K:new g(16),j:new g(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new g(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new g(512),_:[],h:new g(32),$:[],w:new g(32768),C:[],v:[],d:new g(32768),D:[],u:new g(512),Q:[],r:new g(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new g(65536),g:new g(32768)}}(),function(){const g=p.H.m;for(var v=0;v<32768;v++){let E=v;E=(2863311530&E)>>>1|(1431655765&E)<<1,E=(3435973836&E)>>>2|(858993459&E)<<2,E=(4042322160&E)>>>4|(252645135&E)<<4,E=(4278255360&E)>>>8|(16711935&E)<<8,g.r[v]=(E>>>16|E<<16)>>>17}function b(E,M,x){for(;M--!=0;)E.push(0,x)}for(v=0;v<32;v++)g.q[v]=g.S[v]<<3|g.T[v],g.c[v]=g.p[v]<<4|g.z[v];b(g._,144,8),b(g._,112,9),b(g._,24,7),b(g._,8,8),p.H.n(g._,9),p.H.A(g._,9,g.J),p.H.l(g._,9),b(g.$,32,5),p.H.n(g.$,5),p.H.A(g.$,5,g.h),p.H.l(g.$,5),b(g.Q,19,0),b(g.C,286,0),b(g.D,30,0),b(g.v,320,0)}(),p.H.N}();function a(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function l(p,g,v,b,E){let M=a(g);const x=Math.ceil(b*M/8);let L,$;M=Math.ceil(M/8);let Y=p[v],H=0;if(Y>1&&(p[v]=[0,0,1][Y-2]),Y==3)for(H=M;H<x;H++)p[H+1]=p[H+1]+(p[H+1-M]>>>1)&255;for(let G=0;G<E;G++)if(L=v+G*x,$=L+G+1,Y=p[$-1],H=0,Y==0)for(;H<x;H++)p[L+H]=p[$+H];else if(Y==1){for(;H<M;H++)p[L+H]=p[$+H];for(;H<x;H++)p[L+H]=p[$+H]+p[L+H-M]}else if(Y==2)for(;H<x;H++)p[L+H]=p[$+H]+p[L+H-x];else if(Y==3){for(;H<M;H++)p[L+H]=p[$+H]+(p[L+H-x]>>>1);for(;H<x;H++)p[L+H]=p[$+H]+(p[L+H-x]+p[L+H-M]>>>1)}else{for(;H<M;H++)p[L+H]=p[$+H]+c(0,p[L+H-x],0);for(;H<x;H++)p[L+H]=p[$+H]+c(p[L+H-M],p[L+H-x],p[L+H-M-x])}return p}function c(p,g,v){const b=p+g-v,E=b-p,M=b-g,x=b-v;return E*E<=M*M&&E*E<=x*x?p:M*M<=x*x?g:v}function d(p,g,v){v.width=r.readUint(p,g),g+=4,v.height=r.readUint(p,g),g+=4,v.depth=p[g],g++,v.ctype=p[g],g++,v.compress=p[g],g++,v.filter=p[g],g++,v.interlace=p[g],g++}function f(p,g,v,b,E,M,x,L,$){const Y=Math.min(g,E),H=Math.min(v,M);let G=0,q=0;for(let J=0;J<H;J++)for(let U=0;U<Y;U++)if(x>=0&&L>=0?(G=J*g+U<<2,q=(L+J)*E+x+U<<2):(G=(-L+J)*g-x+U<<2,q=J*E+U<<2),$==0)b[q]=p[G],b[q+1]=p[G+1],b[q+2]=p[G+2],b[q+3]=p[G+3];else if($==1){var P=p[G+3]*.00392156862745098,C=p[G]*P,S=p[G+1]*P,k=p[G+2]*P,N=b[q+3]*(1/255),F=b[q]*N,j=b[q+1]*N,X=b[q+2]*N;const B=1-P,ee=P+N*B,ne=ee==0?0:1/ee;b[q+3]=255*ee,b[q+0]=(C+F*B)*ne,b[q+1]=(S+j*B)*ne,b[q+2]=(k+X*B)*ne}else if($==2)P=p[G+3],C=p[G],S=p[G+1],k=p[G+2],N=b[q+3],F=b[q],j=b[q+1],X=b[q+2],P==N&&C==F&&S==j&&k==X?(b[q]=0,b[q+1]=0,b[q+2]=0,b[q+3]=0):(b[q]=C,b[q+1]=S,b[q+2]=k,b[q+3]=P);else if($==3){if(P=p[G+3],C=p[G],S=p[G+1],k=p[G+2],N=b[q+3],F=b[q],j=b[q+1],X=b[q+2],P==N&&C==F&&S==j&&k==X)continue;if(P<220&&N>20)return!1}return!0}return{decode:function(g){const v=new Uint8Array(g);let b=8;const E=r,M=E.readUshort,x=E.readUint,L={tabs:{},frames:[]},$=new Uint8Array(v.length);let Y,H=0,G=0;const q=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(v[P]!=q[P])throw"The input is not a PNG file!";for(;b<v.length;){const J=E.readUint(v,b);b+=4;const U=E.readASCII(v,b,4);if(b+=4,U=="IHDR")d(v,b,L);else if(U=="iCCP"){for(var C=b;v[C]!=0;)C++;E.readASCII(v,b,C-b),v[C+1];const B=v.slice(C+2,b+J);let ee=null;try{ee=n(B)}catch{ee=i(B)}L.tabs[U]=ee}else if(U=="CgBI")L.tabs[U]=v.slice(b,b+4);else if(U=="IDAT"){for(P=0;P<J;P++)$[H+P]=v[b+P];H+=J}else if(U=="acTL")L.tabs[U]={num_frames:x(v,b),num_plays:x(v,b+4)},Y=new Uint8Array(v.length);else if(U=="fcTL"){G!=0&&((X=L.frames[L.frames.length-1]).data=t(L,Y.slice(0,G),X.rect.width,X.rect.height),G=0);const B={x:x(v,b+12),y:x(v,b+16),width:x(v,b+4),height:x(v,b+8)};let ee=M(v,b+22);ee=M(v,b+20)/(ee==0?100:ee);const ne={rect:B,delay:Math.round(1e3*ee),dispose:v[b+24],blend:v[b+25]};L.frames.push(ne)}else if(U=="fdAT"){for(P=0;P<J-4;P++)Y[G+P]=v[b+P+4];G+=J-4}else if(U=="pHYs")L.tabs[U]=[E.readUint(v,b),E.readUint(v,b+4),v[b+8]];else if(U=="cHRM")for(L.tabs[U]=[],P=0;P<8;P++)L.tabs[U].push(E.readUint(v,b+4*P));else if(U=="tEXt"||U=="zTXt"){L.tabs[U]==null&&(L.tabs[U]={});var S=E.nextZero(v,b),k=E.readASCII(v,b,S-b),N=b+J-S-1;if(U=="tEXt")j=E.readASCII(v,S+1,N);else{var F=n(v.slice(S+2,S+2+N));j=E.readUTF8(F,0,F.length)}L.tabs[U][k]=j}else if(U=="iTXt"){L.tabs[U]==null&&(L.tabs[U]={}),S=0,C=b,S=E.nextZero(v,C),k=E.readASCII(v,C,S-C);const B=v[C=S+1];var j;v[C+1],C+=2,S=E.nextZero(v,C),E.readASCII(v,C,S-C),C=S+1,S=E.nextZero(v,C),E.readUTF8(v,C,S-C),N=J-((C=S+1)-b),B==0?j=E.readUTF8(v,C,N):(F=n(v.slice(C,C+N)),j=E.readUTF8(F,0,F.length)),L.tabs[U][k]=j}else if(U=="PLTE")L.tabs[U]=E.readBytes(v,b,J);else if(U=="hIST"){const B=L.tabs.PLTE.length/3;for(L.tabs[U]=[],P=0;P<B;P++)L.tabs[U].push(M(v,b+2*P))}else if(U=="tRNS")L.ctype==3?L.tabs[U]=E.readBytes(v,b,J):L.ctype==0?L.tabs[U]=M(v,b):L.ctype==2&&(L.tabs[U]=[M(v,b),M(v,b+2),M(v,b+4)]);else if(U=="gAMA")L.tabs[U]=E.readUint(v,b)/1e5;else if(U=="sRGB")L.tabs[U]=v[b];else if(U=="bKGD")L.ctype==0||L.ctype==4?L.tabs[U]=[M(v,b)]:L.ctype==2||L.ctype==6?L.tabs[U]=[M(v,b),M(v,b+2),M(v,b+4)]:L.ctype==3&&(L.tabs[U]=v[b]);else if(U=="IEND")break;b+=J,E.readUint(v,b),b+=4}var X;return G!=0&&((X=L.frames[L.frames.length-1]).data=t(L,Y.slice(0,G),X.rect.width,X.rect.height)),L.data=t(L,$,L.width,L.height),delete L.compress,delete L.interlace,delete L.filter,L},toRGBA8:function(g){const v=g.width,b=g.height;if(g.tabs.acTL==null)return[e(g.data,v,b,g).buffer];const E=[];g.frames[0].data==null&&(g.frames[0].data=g.data);const M=v*b*4,x=new Uint8Array(M),L=new Uint8Array(M),$=new Uint8Array(M);for(let H=0;H<g.frames.length;H++){const G=g.frames[H],q=G.rect.x,P=G.rect.y,C=G.rect.width,S=G.rect.height,k=e(G.data,C,S,g);if(H!=0)for(var Y=0;Y<M;Y++)$[Y]=x[Y];if(G.blend==0?f(k,C,S,x,v,b,q,P,0):G.blend==1&&f(k,C,S,x,v,b,q,P,1),E.push(x.buffer.slice(0)),G.dispose!=0){if(G.dispose==1)f(L,C,S,x,v,b,q,P,0);else if(G.dispose==2)for(Y=0;Y<M;Y++)x[Y]=$[Y]}}return E},_paeth:c,_copyTile:f,_bin:r}}();(function(){const{_copyTile:r}=ea,{_bin:e}=ea,t=ea._paeth;var n={table:function(){const C=new Uint32Array(256);for(let S=0;S<256;S++){let k=S;for(let N=0;N<8;N++)1&k?k=3988292384^k>>>1:k>>>=1;C[S]=k}return C}(),update(C,S,k,N){for(let F=0;F<N;F++)C=n.table[255&(C^S[k+F])]^C>>>8;return C},crc:(C,S,k)=>4294967295^n.update(4294967295,C,S,k)};function i(C,S,k,N){S[k]+=C[0]*N>>4,S[k+1]+=C[1]*N>>4,S[k+2]+=C[2]*N>>4,S[k+3]+=C[3]*N>>4}function a(C){return Math.max(0,Math.min(255,C))}function l(C,S){const k=C[0]-S[0],N=C[1]-S[1],F=C[2]-S[2],j=C[3]-S[3];return k*k+N*N+F*F+j*j}function c(C,S,k,N,F,j,X){X==null&&(X=1);const J=N.length,U=[];for(var B=0;B<J;B++){const Z=N[B];U.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(B=0;B<J;B++){let Z=4294967295;for(var ee=0,ne=0;ne<J;ne++){var O=l(U[B],U[ne]);ne!=B&&O<Z&&(Z=O,ee=ne)}}const re=new Uint32Array(F.buffer),oe=new Int16Array(S*k*4),se=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<se.length;B++)se[B]=255*((se[B]+.5)/16-.5);for(let Z=0;Z<k;Z++)for(let we=0;we<S;we++){var ue;B=4*(Z*S+we),X!=2?ue=[a(C[B]+oe[B]),a(C[B+1]+oe[B+1]),a(C[B+2]+oe[B+2]),a(C[B+3]+oe[B+3])]:(O=se[4*(3&Z)+(3&we)],ue=[a(C[B]+O),a(C[B+1]+O),a(C[B+2]+O),a(C[B+3]+O)]),ee=0;let Ue=16777215;for(ne=0;ne<J;ne++){const ke=l(ue,U[ne]);ke<Ue&&(Ue=ke,ee=ne)}const ie=U[ee],xe=[ue[0]-ie[0],ue[1]-ie[1],ue[2]-ie[2],ue[3]-ie[3]];X==1&&(we!=S-1&&i(xe,oe,B+4,7),Z!=k-1&&(we!=0&&i(xe,oe,B+4*S-4,3),i(xe,oe,B+4*S,5),we!=S-1&&i(xe,oe,B+4*S+4,1))),j[B>>2]=ee,re[B>>2]=N[ee]}}function d(C,S,k,N,F){F==null&&(F={});const{crc:j}=n,X=e.writeUint,J=e.writeUshort,U=e.writeASCII;let B=8;const ee=C.frames.length>1;let ne,O=!1,re=33+(ee?20:0);if(F.sRGB!=null&&(re+=13),F.pHYs!=null&&(re+=21),F.iCCP!=null&&(ne=pako.deflate(F.iCCP),re+=21+ne.length+4),C.ctype==3){for(var oe=C.plte.length,se=0;se<oe;se++)C.plte[se]>>>24!=255&&(O=!0);re+=8+3*oe+4+(O?8+1*oe+4:0)}for(var ue=0;ue<C.frames.length;ue++)ee&&(re+=38),re+=(ie=C.frames[ue]).cimg.length+12,ue!=0&&(re+=4);re+=12;const Z=new Uint8Array(re),we=[137,80,78,71,13,10,26,10];for(se=0;se<8;se++)Z[se]=we[se];if(X(Z,B,13),B+=4,U(Z,B,"IHDR"),B+=4,X(Z,B,S),B+=4,X(Z,B,k),B+=4,Z[B]=C.depth,B++,Z[B]=C.ctype,B++,Z[B]=0,B++,Z[B]=0,B++,Z[B]=0,B++,X(Z,B,j(Z,B-17,17)),B+=4,F.sRGB!=null&&(X(Z,B,1),B+=4,U(Z,B,"sRGB"),B+=4,Z[B]=F.sRGB,B++,X(Z,B,j(Z,B-5,5)),B+=4),F.iCCP!=null){const xe=13+ne.length;X(Z,B,xe),B+=4,U(Z,B,"iCCP"),B+=4,U(Z,B,"ICC profile"),B+=11,B+=2,Z.set(ne,B),B+=ne.length,X(Z,B,j(Z,B-(xe+4),xe+4)),B+=4}if(F.pHYs!=null&&(X(Z,B,9),B+=4,U(Z,B,"pHYs"),B+=4,X(Z,B,F.pHYs[0]),B+=4,X(Z,B,F.pHYs[1]),B+=4,Z[B]=F.pHYs[2],B++,X(Z,B,j(Z,B-13,13)),B+=4),ee&&(X(Z,B,8),B+=4,U(Z,B,"acTL"),B+=4,X(Z,B,C.frames.length),B+=4,X(Z,B,F.loop!=null?F.loop:0),B+=4,X(Z,B,j(Z,B-12,12)),B+=4),C.ctype==3){for(X(Z,B,3*(oe=C.plte.length)),B+=4,U(Z,B,"PLTE"),B+=4,se=0;se<oe;se++){const xe=3*se,ke=C.plte[se],Pe=255&ke,he=ke>>>8&255,Se=ke>>>16&255;Z[B+xe+0]=Pe,Z[B+xe+1]=he,Z[B+xe+2]=Se}if(B+=3*oe,X(Z,B,j(Z,B-3*oe-4,3*oe+4)),B+=4,O){for(X(Z,B,oe),B+=4,U(Z,B,"tRNS"),B+=4,se=0;se<oe;se++)Z[B+se]=C.plte[se]>>>24&255;B+=oe,X(Z,B,j(Z,B-oe-4,oe+4)),B+=4}}let Ue=0;for(ue=0;ue<C.frames.length;ue++){var ie=C.frames[ue];ee&&(X(Z,B,26),B+=4,U(Z,B,"fcTL"),B+=4,X(Z,B,Ue++),B+=4,X(Z,B,ie.rect.width),B+=4,X(Z,B,ie.rect.height),B+=4,X(Z,B,ie.rect.x),B+=4,X(Z,B,ie.rect.y),B+=4,J(Z,B,N[ue]),B+=2,J(Z,B,1e3),B+=2,Z[B]=ie.dispose,B++,Z[B]=ie.blend,B++,X(Z,B,j(Z,B-30,30)),B+=4);const xe=ie.cimg;X(Z,B,(oe=xe.length)+(ue==0?0:4)),B+=4;const ke=B;U(Z,B,ue==0?"IDAT":"fdAT"),B+=4,ue!=0&&(X(Z,B,Ue++),B+=4),Z.set(xe,B),B+=oe,X(Z,B,j(Z,ke,B-ke)),B+=4}return X(Z,B,0),B+=4,U(Z,B,"IEND"),B+=4,X(Z,B,j(Z,B-4,4)),B+=4,Z.buffer}function f(C,S,k){for(let N=0;N<C.frames.length;N++){const F=C.frames[N];F.rect.width;const j=F.rect.height,X=new Uint8Array(j*F.bpl+j);F.cimg=b(F.img,j,F.bpp,F.bpl,X,S,k)}}function p(C,S,k,N,F){const j=F[0],X=F[1],J=F[2],U=F[3],B=F[4],ee=F[5];let ne=6,O=8,re=255;for(var oe=0;oe<C.length;oe++){const Fe=new Uint8Array(C[oe]);for(var se=Fe.length,ue=0;ue<se;ue+=4)re&=Fe[ue+3]}const Z=re!=255,we=function($e,tt,Et,Ft,Qe,zt){const vt=[];for(var Tt=0;Tt<$e.length;Tt++){const yn=new Uint8Array($e[Tt]),Wn=new Uint32Array(yn.buffer);var on;let En=0,Nn=0,zn=tt,Sn=Et,hi=Ft?1:0;if(Tt!=0){const ei=zt||Ft||Tt==1||vt[Tt-2].dispose!=0?1:2;let Di=0,ti=1e9;for(let vr=0;vr<ei;vr++){var Dt=new Uint8Array($e[Tt-1-vr]);const jr=new Uint32Array($e[Tt-1-vr]);let Un=tt,sr=Et,Qn=-1,Sr=-1;for(let Cn=0;Cn<Et;Cn++)for(let Rn=0;Rn<tt;Rn++)Wn[wt=Cn*tt+Rn]!=jr[wt]&&(Rn<Un&&(Un=Rn),Rn>Qn&&(Qn=Rn),Cn<sr&&(sr=Cn),Cn>Sr&&(Sr=Cn));Qn==-1&&(Un=sr=Qn=Sr=0),Qe&&((1&Un)==1&&Un--,(1&sr)==1&&sr--);const ni=(Qn-Un+1)*(Sr-sr+1);ni<ti&&(ti=ni,Di=vr,En=Un,Nn=sr,zn=Qn-Un+1,Sn=Sr-sr+1)}Dt=new Uint8Array($e[Tt-1-Di]),Di==1&&(vt[Tt-1].dispose=2),on=new Uint8Array(zn*Sn*4),r(Dt,tt,Et,on,zn,Sn,-En,-Nn,0),hi=r(yn,tt,Et,on,zn,Sn,-En,-Nn,3)?1:0,hi==1?v(yn,tt,Et,on,{x:En,y:Nn,width:zn,height:Sn}):r(yn,tt,Et,on,zn,Sn,-En,-Nn,0)}else on=yn.slice(0);vt.push({rect:{x:En,y:Nn,width:zn,height:Sn},img:on,blend:hi,dispose:0})}if(Ft)for(Tt=0;Tt<vt.length;Tt++){if((It=vt[Tt]).blend==1)continue;const yn=It.rect,Wn=vt[Tt-1].rect,En=Math.min(yn.x,Wn.x),Nn=Math.min(yn.y,Wn.y),zn={x:En,y:Nn,width:Math.max(yn.x+yn.width,Wn.x+Wn.width)-En,height:Math.max(yn.y+yn.height,Wn.y+Wn.height)-Nn};vt[Tt-1].dispose=1,Tt-1!=0&&g($e,tt,Et,vt,Tt-1,zn,Qe),g($e,tt,Et,vt,Tt,zn,Qe)}let ct=0;if($e.length!=1)for(var wt=0;wt<vt.length;wt++){var It;ct+=(It=vt[wt]).rect.width*It.rect.height}return vt}(C,S,k,j,X,J),Ue={},ie=[],xe=[];if(N!=0){const Fe=[];for(ue=0;ue<we.length;ue++)Fe.push(we[ue].img.buffer);const $e=function(Qe){let zt=0;for(var vt=0;vt<Qe.length;vt++)zt+=Qe[vt].byteLength;const Tt=new Uint8Array(zt);let on=0;for(vt=0;vt<Qe.length;vt++){const Dt=new Uint8Array(Qe[vt]),ct=Dt.length;for(let wt=0;wt<ct;wt+=4){let It=Dt[wt],yn=Dt[wt+1],Wn=Dt[wt+2];const En=Dt[wt+3];En==0&&(It=yn=Wn=0),Tt[on+wt]=It,Tt[on+wt+1]=yn,Tt[on+wt+2]=Wn,Tt[on+wt+3]=En}on+=ct}return Tt.buffer}(Fe),tt=M($e,N);for(ue=0;ue<tt.plte.length;ue++)ie.push(tt.plte[ue].est.rgba);let Et=0;for(ue=0;ue<we.length;ue++){const Ft=(Pe=we[ue]).img.length;var ke=new Uint8Array(tt.inds.buffer,Et>>2,Ft>>2);xe.push(ke);const Qe=new Uint8Array(tt.abuf,Et,Ft);ee&&c(Pe.img,Pe.rect.width,Pe.rect.height,ie,Qe,ke),Pe.img.set(Qe),Et+=Ft}}else for(oe=0;oe<we.length;oe++){var Pe=we[oe];const Fe=new Uint32Array(Pe.img.buffer);var he=Pe.rect.width;for(se=Fe.length,ke=new Uint8Array(se),xe.push(ke),ue=0;ue<se;ue++){const $e=Fe[ue];if(ue!=0&&$e==Fe[ue-1])ke[ue]=ke[ue-1];else if(ue>he&&$e==Fe[ue-he])ke[ue]=ke[ue-he];else{let tt=Ue[$e];if(tt==null&&(Ue[$e]=tt=ie.length,ie.push($e),ie.length>=300))break;ke[ue]=tt}}}const Se=ie.length;for(Se<=256&&B==0&&(O=Se<=2?1:Se<=4?2:Se<=16?4:8,O=Math.max(O,U)),oe=0;oe<we.length;oe++){(Pe=we[oe]).rect.x,Pe.rect.y,he=Pe.rect.width;const Fe=Pe.rect.height;let $e=Pe.img;new Uint32Array($e.buffer);let tt=4*he,Et=4;if(Se<=256&&B==0){tt=Math.ceil(O*he/8);var Ne=new Uint8Array(tt*Fe);const Ft=xe[oe];for(let Qe=0;Qe<Fe;Qe++){ue=Qe*tt;const zt=Qe*he;if(O==8)for(var Le=0;Le<he;Le++)Ne[ue+Le]=Ft[zt+Le];else if(O==4)for(Le=0;Le<he;Le++)Ne[ue+(Le>>1)]|=Ft[zt+Le]<<4-4*(1&Le);else if(O==2)for(Le=0;Le<he;Le++)Ne[ue+(Le>>2)]|=Ft[zt+Le]<<6-2*(3&Le);else if(O==1)for(Le=0;Le<he;Le++)Ne[ue+(Le>>3)]|=Ft[zt+Le]<<7-1*(7&Le)}$e=Ne,ne=3,Et=1}else if(Z==0&&we.length==1){Ne=new Uint8Array(he*Fe*3);const Ft=he*Fe;for(ue=0;ue<Ft;ue++){const Qe=3*ue,zt=4*ue;Ne[Qe]=$e[zt],Ne[Qe+1]=$e[zt+1],Ne[Qe+2]=$e[zt+2]}$e=Ne,ne=2,Et=3,tt=3*he}Pe.img=$e,Pe.bpl=tt,Pe.bpp=Et}return{ctype:ne,depth:O,plte:ie,frames:we}}function g(C,S,k,N,F,j,X){const J=Uint8Array,U=Uint32Array,B=new J(C[F-1]),ee=new U(C[F-1]),ne=F+1<C.length?new J(C[F+1]):null,O=new J(C[F]),re=new U(O.buffer);let oe=S,se=k,ue=-1,Z=-1;for(let Ue=0;Ue<j.height;Ue++)for(let ie=0;ie<j.width;ie++){const xe=j.x+ie,ke=j.y+Ue,Pe=ke*S+xe,he=re[Pe];he==0||N[F-1].dispose==0&&ee[Pe]==he&&(ne==null||ne[4*Pe+3]!=0)||(xe<oe&&(oe=xe),xe>ue&&(ue=xe),ke<se&&(se=ke),ke>Z&&(Z=ke))}ue==-1&&(oe=se=ue=Z=0),X&&((1&oe)==1&&oe--,(1&se)==1&&se--),j={x:oe,y:se,width:ue-oe+1,height:Z-se+1};const we=N[F];we.rect=j,we.blend=1,we.img=new Uint8Array(j.width*j.height*4),N[F-1].dispose==0?(r(B,S,k,we.img,j.width,j.height,-j.x,-j.y,0),v(O,S,k,we.img,j)):r(O,S,k,we.img,j.width,j.height,-j.x,-j.y,0)}function v(C,S,k,N,F){r(C,S,k,N,F.width,F.height,-F.x,-F.y,2)}function b(C,S,k,N,F,j,X){const J=[];let U,B=[0,1,2,3,4];j!=-1?B=[j]:(S*N>5e5||k==1)&&(B=[0]),X&&(U={level:0});const ee=Dz;for(var ne=0;ne<B.length;ne++){for(let oe=0;oe<S;oe++)E(F,C,oe,N,k,B[ne]);J.push(ee.deflate(F,U))}let O,re=1e9;for(ne=0;ne<J.length;ne++)J[ne].length<re&&(O=ne,re=J[ne].length);return J[O]}function E(C,S,k,N,F,j){const X=k*N;let J=X+k;if(C[J]=j,J++,j==0)if(N<500)for(var U=0;U<N;U++)C[J+U]=S[X+U];else C.set(new Uint8Array(S.buffer,X,N),J);else if(j==1){for(U=0;U<F;U++)C[J+U]=S[X+U];for(U=F;U<N;U++)C[J+U]=S[X+U]-S[X+U-F]+256&255}else if(k==0){for(U=0;U<F;U++)C[J+U]=S[X+U];if(j==2)for(U=F;U<N;U++)C[J+U]=S[X+U];if(j==3)for(U=F;U<N;U++)C[J+U]=S[X+U]-(S[X+U-F]>>1)+256&255;if(j==4)for(U=F;U<N;U++)C[J+U]=S[X+U]-t(S[X+U-F],0,0)+256&255}else{if(j==2)for(U=0;U<N;U++)C[J+U]=S[X+U]+256-S[X+U-N]&255;if(j==3){for(U=0;U<F;U++)C[J+U]=S[X+U]+256-(S[X+U-N]>>1)&255;for(U=F;U<N;U++)C[J+U]=S[X+U]+256-(S[X+U-N]+S[X+U-F]>>1)&255}if(j==4){for(U=0;U<F;U++)C[J+U]=S[X+U]+256-t(0,S[X+U-N],0)&255;for(U=F;U<N;U++)C[J+U]=S[X+U]+256-t(S[X+U-F],S[X+U-N],S[X+U-F-N])&255}}}function M(C,S){const k=new Uint8Array(C),N=k.slice(0),F=new Uint32Array(N.buffer),j=x(N,S),X=j[0],J=j[1],U=k.length,B=new Uint8Array(U>>2);let ee;if(k.length<2e7)for(var ne=0;ne<U;ne+=4)ee=L(X,O=k[ne]*(1/255),re=k[ne+1]*(1/255),oe=k[ne+2]*(1/255),se=k[ne+3]*(1/255)),B[ne>>2]=ee.ind,F[ne>>2]=ee.est.rgba;else for(ne=0;ne<U;ne+=4){var O=k[ne]*.00392156862745098,re=k[ne+1]*(1/255),oe=k[ne+2]*(1/255),se=k[ne+3]*(1/255);for(ee=X;ee.left;)ee=$(ee.est,O,re,oe,se)<=0?ee.left:ee.right;B[ne>>2]=ee.ind,F[ne>>2]=ee.est.rgba}return{abuf:N.buffer,inds:B,plte:J}}function x(C,S,k){k==null&&(k=1e-4);const N=new Uint32Array(C.buffer),F={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=G(C,F.i0,F.i1),F.est=q(F.bst);const j=[F];for(;j.length<S;){let J=0,U=0;for(var X=0;X<j.length;X++)j[X].est.L>J&&(J=j[X].est.L,U=X);if(J<k)break;const B=j[U],ee=Y(C,N,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=ee||B.i1<=ee){B.est.L=0;continue}const ne={i0:B.i0,i1:ee,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=G(C,ne.i0,ne.i1),ne.est=q(ne.bst);const O={i0:ee,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:B.bst.N-ne.bst.N},X=0;X<16;X++)O.bst.R[X]=B.bst.R[X]-ne.bst.R[X];for(X=0;X<4;X++)O.bst.m[X]=B.bst.m[X]-ne.bst.m[X];O.est=q(O.bst),B.left=ne,B.right=O,j[U]=ne,j.push(O)}for(j.sort((J,U)=>U.bst.N-J.bst.N),X=0;X<j.length;X++)j[X].ind=X;return[F,j]}function L(C,S,k,N,F){if(C.left==null)return C.tdst=function(ne,O,re,oe,se){const ue=O-ne[0],Z=re-ne[1],we=oe-ne[2],Ue=se-ne[3];return ue*ue+Z*Z+we*we+Ue*Ue}(C.est.q,S,k,N,F),C;const j=$(C.est,S,k,N,F);let X=C.left,J=C.right;j>0&&(X=C.right,J=C.left);const U=L(X,S,k,N,F);if(U.tdst<=j*j)return U;const B=L(J,S,k,N,F);return B.tdst<U.tdst?B:U}function $(C,S,k,N,F){const{e:j}=C;return j[0]*S+j[1]*k+j[2]*N+j[3]*F-C.eMq}function Y(C,S,k,N,F,j){for(N-=4;k<N;){for(;H(C,k,F)<=j;)k+=4;for(;H(C,N,F)>j;)N-=4;if(k>=N)break;const X=S[k>>2];S[k>>2]=S[N>>2],S[N>>2]=X,k+=4,N-=4}for(;H(C,k,F)>j;)k-=4;return k+4}function H(C,S,k){return C[S]*k[0]+C[S+1]*k[1]+C[S+2]*k[2]+C[S+3]*k[3]}function G(C,S,k){const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],j=k-S>>2;for(let X=S;X<k;X+=4){const J=C[X]*.00392156862745098,U=C[X+1]*(1/255),B=C[X+2]*(1/255),ee=C[X+3]*(1/255);F[0]+=J,F[1]+=U,F[2]+=B,F[3]+=ee,N[0]+=J*J,N[1]+=J*U,N[2]+=J*B,N[3]+=J*ee,N[5]+=U*U,N[6]+=U*B,N[7]+=U*ee,N[10]+=B*B,N[11]+=B*ee,N[15]+=ee*ee}return N[4]=N[1],N[8]=N[2],N[9]=N[6],N[12]=N[3],N[13]=N[7],N[14]=N[11],{R:N,m:F,N:j}}function q(C){const{R:S}=C,{m:k}=C,{N}=C,F=k[0],j=k[1],X=k[2],J=k[3],U=N==0?0:1/N,B=[S[0]-F*F*U,S[1]-F*j*U,S[2]-F*X*U,S[3]-F*J*U,S[4]-j*F*U,S[5]-j*j*U,S[6]-j*X*U,S[7]-j*J*U,S[8]-X*F*U,S[9]-X*j*U,S[10]-X*X*U,S[11]-X*J*U,S[12]-J*F*U,S[13]-J*j*U,S[14]-J*X*U,S[15]-J*J*U],ee=B,ne=P;let O=[Math.random(),Math.random(),Math.random(),Math.random()],re=0,oe=0;if(N!=0)for(let ue=0;ue<16&&(O=ne.multVec(ee,O),oe=Math.sqrt(ne.dot(O,O)),O=ne.sml(1/oe,O),!(ue!=0&&Math.abs(oe-re)<1e-9));ue++)re=oe;const se=[F*U,j*U,X*U,J*U];return{Cov:B,q:se,e:O,L:re,eMq255:ne.dot(ne.sml(255,se),O),eMq:ne.dot(O,se),rgba:(Math.round(255*se[3])<<24|Math.round(255*se[2])<<16|Math.round(255*se[1])<<8|Math.round(255*se[0])<<0)>>>0}}var P={multVec:(C,S)=>[C[0]*S[0]+C[1]*S[1]+C[2]*S[2]+C[3]*S[3],C[4]*S[0]+C[5]*S[1]+C[6]*S[2]+C[7]*S[3],C[8]*S[0]+C[9]*S[1]+C[10]*S[2]+C[11]*S[3],C[12]*S[0]+C[13]*S[1]+C[14]*S[2]+C[15]*S[3]],dot:(C,S)=>C[0]*S[0]+C[1]*S[1]+C[2]*S[2]+C[3]*S[3],sml:(C,S)=>[C*S[0],C*S[1],C*S[2],C*S[3]]};ea.encode=function(S,k,N,F,j,X,J){F==null&&(F=0),J==null&&(J=!1);const U=p(S,k,N,F,[!1,!1,!1,0,J,!1]);return f(U,-1),d(U,k,N,j,X)},ea.encodeLL=function(S,k,N,F,j,X,J,U){const B={ctype:0+(F==1?0:2)+(j==0?0:4),depth:X,frames:[]},ee=(F+j)*X,ne=ee*k;for(let O=0;O<S.length;O++)B.frames.push({rect:{x:0,y:0,width:k,height:N},img:new Uint8Array(S[O]),blend:0,dispose:1,bpp:Math.ceil(ee/8),bpl:Math.ceil(ne/8)});return f(B,0,!0),d(B,k,N,J,U)},ea.encode.compress=p,ea.encode.dither=c,ea.quantize=M,ea.quantize.getKDtree=x,ea.quantize.getNearest=L})();const qM={toArrayBuffer(r,e){const t=r.width,n=r.height,i=t<<2,a=r.getContext("2d").getImageData(0,0,t,n),l=new Uint32Array(a.data.buffer),c=(32*t+31)/32<<2,d=c*n,f=122+d,p=new ArrayBuffer(f),g=new DataView(p),v=1<<20;let b,E,M,x,L=v,$=0,Y=0,H=0;function G(C){g.setUint16(Y,C,!0),Y+=2}function q(C){g.setUint32(Y,C,!0),Y+=4}function P(C){Y+=C}G(19778),q(f),P(4),q(122),q(108),q(t),q(-n>>>0),G(1),G(32),q(3),q(d),q(2835),q(2835),P(8),q(16711680),q(65280),q(255),q(4278190080),q(1466527264),function C(){for(;$<n&&L>0;){for(x=122+$*c,b=0;b<i;)L--,E=l[H++],M=E>>>24,g.setUint32(x+b,E<<8|M),b+=4;$++}H<l.length?(L=v,setTimeout(C,qM._dly)):e(p)}()},toBlob(r,e){this.toArrayBuffer(r,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Yi={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Rz={[Yi.CHROME]:16384,[Yi.FIREFOX]:11180,[Yi.DESKTOP_SAFARI]:16384,[Yi.IE]:8192,[Yi.IOS]:4096,[Yi.ETC]:8192};const Bb=typeof window<"u",YM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Fg=Bb&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Mz=(Bb||YM)&&(Fg&&Fg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),$M=(Bb||YM)&&(Fg&&Fg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Fb(r,e,t=Date.now()){return new Promise(n=>{const i=r.split(","),a=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let c=l.length;const d=new Uint8Array(c);for(;c--;)d[c]=l.charCodeAt(c);const f=new Blob([d],{type:a});f.name=e,f.lastModified=t,n(f)})}function GM(r){return new Promise((e,t)=>{const n=new $M;n.onload=()=>e(n.result),n.onerror=i=>t(i),n.readAsDataURL(r)})}function WM(r){return new Promise((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>t(i),n.src=r})}function Uu(){if(Uu.cachedResult!==void 0)return Uu.cachedResult;let r=Yi.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?r=Yi.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?r=Yi.IOS:/Safari/i.test(e)?r=Yi.DESKTOP_SAFARI:/Firefox/i.test(e)?r=Yi.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(r=Yi.IE),Uu.cachedResult=r,Uu.cachedResult}function QM(r,e){const t=Uu(),n=Rz[t];let i=r,a=e,l=i*a;const c=i>a?a/i:i/a;for(;l>n*n;){const d=(n+i)/2,f=(n+a)/2;d<f?(a=f,i=f*c):(a=d*c,i=d),l=i*a}return{width:i,height:a}}function Av(r,e){let t,n;try{if(t=new OffscreenCanvas(r,e),n=t.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),n=t.getContext("2d")}return t.width=r,t.height=e,[t,n]}function KM(r,e){const{width:t,height:n}=QM(r.width,r.height),[i,a]=Av(t,n);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(r,0,0,i.width,i.height),i}function $m(){return $m.cachedResult!==void 0||($m.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),$m.cachedResult}function zg(r,e={}){return new Promise(function(t,n){let i,a;var l=function(){try{return a=KM(i,e.fileType||r.type),t([i,a])}catch(d){return n(d)}},c=function(d){try{var f=function(p){try{throw p}catch(g){return n(g)}};try{let p;return GM(r).then(function(g){try{return p=g,WM(p).then(function(v){try{return i=v,function(){try{return l()}catch(b){return n(b)}}()}catch(b){return f(b)}},f)}catch(v){return f(v)}},f)}catch(p){f(p)}}catch(p){return n(p)}};try{if($m()||[Yi.DESKTOP_SAFARI,Yi.MOBILE_SAFARI].includes(Uu()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(d){try{return i=d,l()}catch{return c()}},c)}catch{c()}})}function Hg(r,e,t,n,i=1){return new Promise(function(a,l){let c;if(e==="image/png"){let g,v,b;return g=r.getContext("2d"),{data:v}=g.getImageData(0,0,r.width,r.height),b=ea.encode([v.buffer],r.width,r.height,4096*i),c=new Blob([b],{type:e}),c.name=t,c.lastModified=n,d.call(this)}{let g=function(){return d.call(this)};var f=g;if(e==="image/bmp")return new Promise(v=>qM.toBlob(r,v)).then((function(v){try{return c=v,c.name=t,c.lastModified=n,g.call(this)}catch(b){return l(b)}}).bind(this),l);{let v=function(){return g.call(this)};var p=v;if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:e,quality:i}).then((function(b){try{return c=b,c.name=t,c.lastModified=n,v.call(this)}catch(E){return l(E)}}).bind(this),l);{let b;return b=r.toDataURL(e,i),Fb(b,t,n).then((function(E){try{return c=E,v.call(this)}catch(M){return l(M)}}).bind(this),l)}}}function d(){return a(c)}})}function xa(r){r.width=0,r.height=0}function ad(){return new Promise(function(r,e){let t,n,i,a;return ad.cachedResult!==void 0?r(ad.cachedResult):Fb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return t=l,zg(t).then(function(c){try{return n=c[1],Hg(n,t.type,t.name,t.lastModified).then(function(d){try{return i=d,xa(n),zg(i).then(function(f){try{return a=f[0],ad.cachedResult=a.width===1&&a.height===2,r(ad.cachedResult)}catch(p){return e(p)}},e)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)})}function XM(r){return new Promise((e,t)=>{const n=new $M;n.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const l=a.byteLength;let c=2;for(;c<l;){if(a.getUint16(c+2,!1)<=8)return e(-1);const d=a.getUint16(c,!1);if(c+=2,d==65505){if(a.getUint32(c+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(c+=6,!1)==18761;c+=a.getUint32(c+4,f);const p=a.getUint16(c,f);c+=2;for(let g=0;g<p;g++)if(a.getUint16(c+12*g,f)==274)return e(a.getUint16(c+12*g+8,f))}else{if((65280&d)!=65280)break;c+=a.getUint16(c,!1)}}return e(-1)},n.onerror=i=>t(i),n.readAsArrayBuffer(r)})}function ZM(r,e){const{width:t}=r,{height:n}=r,{maxWidthOrHeight:i}=e;let a,l=r;return isFinite(i)&&(t>i||n>i)&&([l,a]=Av(t,n),t>n?(l.width=i,l.height=n/t*i):(l.width=t/n*i,l.height=i),a.drawImage(r,0,0,l.width,l.height),xa(r)),l}function JM(r,e){const{width:t}=r,{height:n}=r,[i,a]=Av(t,n);switch(e>4&&e<9?(i.width=n,i.height=t):(i.width=t,i.height=n),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,n);break;case 4:a.transform(1,0,0,-1,0,n);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,n,0);break;case 7:a.transform(0,-1,-1,0,n,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(r,0,0,t,n),xa(r),i}function dA(r,e,t=0){return new Promise(function(n,i){let a,l,c,d,f,p,g,v,b,E,M,x,L,$,Y,H,G,q,P,C;function S(N=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=N,e.onProgress(Math.min(a,100))}function k(N){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(N,a),100),e.onProgress(a)}return a=t,l=e.maxIteration||10,c=1024*e.maxSizeMB*1024,S(),zg(r,e).then((function(N){try{return[,d]=N,S(),f=ZM(d,e),S(),new Promise(function(F,j){var X;if(!(X=e.exifOrientation))return XM(r).then((function(U){try{return X=U,J.call(this)}catch(B){return j(B)}}).bind(this),j);function J(){return F(X)}return J.call(this)}).then((function(F){try{return p=F,S(),ad().then((function(j){try{return g=j?f:JM(f,p),S(),v=e.initialQuality||1,b=e.fileType||r.type,Hg(g,b,r.name,r.lastModified,v).then((function(X){try{{let ee=function(){if(l--&&(Y>c||Y>L)){let O,re;return O=C?.95*P.width:P.width,re=C?.95*P.height:P.height,[G,q]=Av(O,re),q.drawImage(P,0,0,O,re),v*=b==="image/png"?.85:.95,Hg(G,b,r.name,r.lastModified,v).then(function(oe){try{return H=oe,xa(P),P=G,Y=H.size,k(Math.min(99,Math.floor(($-Y)/($-c)*100))),ee}catch(se){return i(se)}},i)}return[1]},ne=function(){return xa(P),xa(G),xa(f),xa(g),xa(d),k(100),n(H)};var U=ee,B=ne;if(E=X,S(),M=E.size>c,x=E.size>r.size,!M&&!x)return k(100),n(E);var J;return L=r.size,$=E.size,Y=$,P=g,C=!e.alwaysKeepResolution&&M,(J=(function(O){for(;O;){if(O.then)return void O.then(J,i);try{if(O.pop){if(O.length)return O.pop()?ne.call(this):O;O=ee}else O=O.call(this)}catch(re){return i(re)}}}).bind(this))(ee)}}catch(ee){return i(ee)}}).bind(this),i)}catch(X){return i(X)}}).bind(this),i)}catch(j){return i(j)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)})}const kz=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let E_;function Lz(r,e){return new Promise((t,n)=>{E_||(E_=function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))}(kz));const i=new Worker(E_);i.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return n(new Error(l.data.error)),void i.terminate();t(l.data.file),i.terminate()}else e.onProgress(l.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:r,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function li(r,e){return new Promise(function(t,n){let i,a,l,c,d,f;if(i={...e},l=0,{onProgress:c}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=b=>{l=b,typeof c=="function"&&c(l)},!(r instanceof Blob||r instanceof Mz))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return n(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||f)return dA(r,i).then((function(b){try{return a=b,v.call(this)}catch(E){return n(E)}}).bind(this),n);var p=(function(){try{return v.call(this)}catch(b){return n(b)}}).bind(this),g=function(b){try{return dA(r,i).then(function(E){try{return a=E,p()}catch(M){return n(M)}},n)}catch(E){return n(E)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Lz(r,i).then(function(b){try{return a=b,p()}catch{return g()}},g)}catch{g()}function v(){try{a.name=r.name,a.lastModified=r.lastModified}catch{}try{i.preserveExif&&r.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===r.type)&&(a=HM(r,a))}catch{}return t(a)}})}li.getDataUrlFromFile=GM,li.getFilefromDataUrl=Fb,li.loadImage=WM,li.drawImageInCanvas=KM,li.drawFileInCanvas=zg,li.canvasToFile=Hg,li.getExifOrientation=XM,li.handleMaxWidthOrHeight=ZM,li.followExifOrientation=JM,li.cleanupCanvasMemory=xa,li.isAutoOrientationInBrowser=ad,li.approximateBelowMaximumCanvasSizeOfBrowser=QM,li.copyExifWithoutOrientation=HM,li.getBrowserName=Uu,li.version="2.0.2";function Oz(){const{eventId:r,folderName:e}=Zk(),[t,n]=T.useState(null),[i,a]=T.useState(!0),[l,c]=T.useState(!1),[d,f]=T.useState([]),[p,g]=T.useState([]),[v,b]=T.useState(null),[E,M]=T.useState(!1),[x,L]=T.useState(1),[$,Y]=T.useState({}),[H,G]=T.useState(!1),[q,P]=T.useState([]),[C,S]=T.useState(!1),[k,N]=T.useState(!0),[F,j]=T.useState({}),X={maxSizeMB:.1,maxWidthOrHeight:400,useWebWorker:!0};T.useEffect(()=>{(async()=>{try{a(!0);const xe=await ej(nb(Pl,"events",r));xe.exists()&&n({id:xe.id,...xe.data()})}catch(xe){console.error("Error fetching event:",xe)}finally{a(!1)}})()},[r]),T.useEffect(()=>{t&&(async()=>{if(!(!t||!t.event_host)){N(!0);try{const xe=`users/${t.event_host}/event_folders/${t.event_name}/${e}`,ke=Cl(Al,`${xe}/photos`),Pe=Cl(Al,`${xe}/videos`),he=Cl(Al,`${xe}/thumbnails`),[Se,Ne,Le]=await Promise.all([a_(ke).catch(()=>({items:[]})),a_(Pe).catch(()=>({items:[]})),a_(he).catch(()=>({items:[]}))]),Fe={};for(const Qe of Le.items){const zt=await hf(Qe);Fe[Qe.name]=zt}const $e=async(Qe,zt)=>{try{const vt=await hf(Qe);return{name:Qe.name,url:vt,type:zt,path:Qe.fullPath,thumbnailUrl:zt==="photos"?Fe[Qe.name]||vt:null,uploadedAt:parseInt(Qe.name.split("_")[0])}}catch(vt){return console.error(`Error fetching file details for ${Qe.name}:`,vt),null}},tt=await Promise.all(Se.items.map(Qe=>$e(Qe,"photos"))),Et=await Promise.all(Ne.items.map(Qe=>$e(Qe,"videos"))),Ft=[...tt,...Et].filter(Qe=>Qe!==null).sort((Qe,zt)=>zt.uploadedAt-Qe.uploadedAt);g(Ft)}catch(xe){console.error("Error fetching existing files:",xe)}finally{N(!1)}}})()},[t,e]);const J=()=>{c(!0)},U=()=>{c(!1)},B=async ie=>{if(!ie.type.startsWith("image/"))return null;try{const xe=await li(ie,X);return new File([xe],ie.name,{type:xe.type})}catch(xe){return console.error("Error creating thumbnail:",xe),null}},ee=async(ie,xe)=>{if(!ie||ie.length===0){console.log("No files selected");return}if(console.log(`Starting upload of ${ie.length} ${xe}`),!t||!t.event_host){console.error("Event or event host not found");return}G(!0);const ke=[];try{const Pe=`users/${t.event_host}/event_folders/${t.event_name}/${e}`;console.log("Upload path:",Pe);for(const he of ie){const Se=Date.now(),Ne=`${Se}_${he.name}`,Le=`${Pe}/${xe}/${Ne}`;j(Fe=>({...Fe,[Ne]:0}));try{const Fe=Cl(Al,Le),$e=bV(Fe,he);$e.on("state_changed",tt=>{const Et=tt.bytesTransferred/tt.totalBytes*100;j(Ft=>({...Ft,[Ne]:Et}))},tt=>{console.error(`Error uploading ${Ne}:`,tt)},async()=>{const tt=await hf($e.snapshot.ref);let Et=null;if(xe==="photos"){const Qe=await B(he);if(Qe){const zt=`${Pe}/thumbnails/${Ne}`,vt=Cl(Al,zt);await TR(vt,Qe),Et=await hf(vt)}}const Ft={name:Ne,url:tt,type:xe,path:Le,thumbnailUrl:Et||tt,uploadedAt:Se};ke.push(Ft),g(Qe=>[...Qe,Ft]),j(Qe=>{const zt={...Qe};return delete zt[Ne],zt})})}catch(Fe){console.error(`Error uploading ${Ne}:`,Fe),console.error("Error details:",Fe.message)}}}catch(Pe){console.error("Upload error:",Pe),console.error("Error details:",Pe.message)}finally{G(!1)}},ne=ie=>{b(ie),M(!0),L(1)},O=()=>{const ie=p.findIndex(xe=>xe.url===v.url);ie>0&&(b(p[ie-1]),L(1))},re=()=>{const ie=p.findIndex(xe=>xe.url===v.url);ie<p.length-1&&(b(p[ie+1]),L(1))},oe=()=>{L(ie=>Math.min(ie+.5,3))},se=()=>{L(ie=>Math.max(ie-.5,.5))},ue=(ie,xe)=>{P(ke=>xe?[...ke,ie.path]:ke.filter(Pe=>Pe!==ie.path))},Z=()=>{q.length===p.length?P([]):P(p.map(ie=>ie.path))},we=async()=>{if(q.length&&window.confirm(`Are you sure you want to delete ${q.length} files?`))try{for(const ie of q){const xe=p.find(Pe=>Pe.path===ie);if(!xe)continue;const ke=Cl(Al,xe.path);if(await sS(ke),xe.type==="photos"&&xe.thumbnailUrl){const Pe=xe.path.replace(`/${xe.type}/`,"/thumbnails/"),he=Cl(Al,Pe);await sS(he).catch(Se=>console.log("No thumbnail found:",Se))}}g(ie=>ie.filter(xe=>!q.includes(xe.path))),P([])}catch(ie){console.error("Error deleting files:",ie),alert("Failed to delete some files. Please try again.")}},Ue=()=>R.jsx("div",{className:"row g-4",children:p.map((ie,xe)=>R.jsx("div",{className:"col-md-3 col-sm-6",children:R.jsxs("div",{className:"media-card",onClick:()=>!C&&ie.type==="photos"&&ne(ie),style:{cursor:C?"default":ie.type==="photos"?"pointer":"default"},children:[R.jsx("div",{className:"media-thumbnail",children:ie.type==="photos"?R.jsx("img",{src:ie.thumbnailUrl||ie.url,alt:ie.name,loading:"lazy",onError:ke=>{console.log("Thumbnail load error, falling back to original:",ie.name),ke.target.src=ie.url}}):R.jsx("div",{className:"video-thumbnail",children:R.jsx(dS,{className:"display-4"})})}),R.jsx("div",{className:"media-info",children:R.jsxs("div",{className:"d-flex flex-column",children:[R.jsx("small",{className:"text-muted text-truncate mb-2",children:ie.name.split("_").slice(1).join("_")}),C?R.jsxs("div",{className:"form-check",children:[R.jsx("input",{type:"checkbox",className:"form-check-input",checked:q.includes(ie.path),onChange:ke=>ue(ie,ke.target.checked),onClick:ke=>ke.stopPropagation()}),R.jsx("label",{className:"form-check-label",children:"Select"})]}):R.jsx("div",{children:ie.type==="videos"&&R.jsx("a",{href:ie.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-primary",onClick:ke=>ke.stopPropagation(),children:"Play Video"})})]})})]})},`uploaded-${xe}`))});return i?R.jsx("div",{className:"container-fluid",children:R.jsx("div",{className:"text-center py-5",children:R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):t?R.jsxs("div",{className:"container-fluid",children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[R.jsxs("div",{className:"d-flex align-items-center",children:[R.jsx(DR,{className:"me-2",style:{fontSize:"2rem",color:"var(--primary)"}}),R.jsxs("h2",{className:"mb-0",children:[t.event_name," / ",e]})]}),R.jsxs("div",{className:"d-flex gap-2",children:[p.length>0&&R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"btn btn-outline-primary d-flex align-items-center",onClick:()=>S(!C),children:C?"Cancel":"Select Files"}),C&&R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"btn btn-outline-secondary d-flex align-items-center",onClick:Z,children:q.length===p.length?"Deselect All":"Select All"}),R.jsxs("button",{className:"btn btn-danger d-flex align-items-center",onClick:we,disabled:q.length===0,children:["Delete Selected (",q.length,")"]})]})]}),R.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:J,children:[R.jsx(YV,{className:"me-2"}),"Upload Media"]})]})]}),R.jsx("div",{className:"card",children:R.jsx("div",{className:"card-body",children:k?R.jsxs("div",{className:"text-center py-5",children:[R.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading media..."})}),R.jsx("p",{className:"text-muted mb-0",children:"Loading media files..."})]}):p.length===0?R.jsx("div",{className:"text-center py-5",children:R.jsx("p",{className:"empty-state-message mb-0",children:'No media files uploaded yet. Click "Upload Media" to add files.'})}):Ue()})}),R.jsx("div",{className:`modal fade ${l?"show":""}`,style:{display:l?"block":"none"},tabIndex:"-1","aria-labelledby":"uploadModalLabel","aria-hidden":!l,children:R.jsx("div",{className:"modal-dialog modal-dialog-centered",children:R.jsxs("div",{className:"modal-content",children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h5",{className:"modal-title",id:"uploadModalLabel",children:"Upload Media"}),R.jsx("button",{type:"button",className:"btn-close",onClick:U})]}),R.jsxs("div",{className:"modal-body",children:[R.jsxs("div",{className:"row g-4",children:[R.jsx("div",{className:"col-6",children:R.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("photoInput").click(),children:[R.jsx(HV,{className:"display-4 mb-2"}),R.jsx("h5",{children:"Upload Photos"}),R.jsx("p",{className:"text-muted small mb-0",children:"JPG, PNG, GIF"}),R.jsx("input",{type:"file",id:"photoInput",accept:"image/*",multiple:!0,className:"d-none",onChange:ie=>ee(ie.target.files,"photos")})]})}),R.jsx("div",{className:"col-6",children:R.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("videoInput").click(),children:[R.jsx(dS,{className:"display-4 mb-2"}),R.jsx("h5",{children:"Upload Videos"}),R.jsx("p",{className:"text-muted small mb-0",children:"MP4, MOV, AVI"}),R.jsx("input",{type:"file",id:"videoInput",accept:"video/*",multiple:!0,className:"d-none",onChange:ie=>ee(ie.target.files,"videos")})]})})]}),Object.entries(F).map(([ie,xe])=>R.jsxs("div",{className:"mt-3",children:[R.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[R.jsx("small",{children:ie}),R.jsxs("small",{children:[Math.round(xe),"%"]})]}),R.jsx("div",{className:"progress",children:R.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${xe}%`},"aria-valuenow":xe,"aria-valuemin":"0","aria-valuemax":"100"})})]},ie))]})]})})}),E&&v&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:R.jsx("div",{className:"modal-dialog modal-xl modal-dialog-centered",children:R.jsxs("div",{className:"modal-content image-viewer-modal",children:[R.jsxs("div",{className:"modal-header border-0",children:[R.jsx("h5",{className:"modal-title",children:v.name}),R.jsx("button",{type:"button",className:"btn-close",onClick:()=>{M(!1),b(null),L(1)}})]}),R.jsxs("div",{className:"modal-body text-center position-relative p-0",children:[R.jsx("div",{className:"image-container",children:R.jsx("img",{src:v.url,alt:v.name,style:{transform:`scale(${x})`,transition:"transform 0.3s ease"}})}),R.jsxs("div",{className:"viewer-controls",children:[R.jsx("button",{className:"btn btn-light me-2",onClick:se,disabled:x<=.5,children:R.jsx(QV,{})}),R.jsx("button",{className:"btn btn-light",onClick:oe,disabled:x>=3,children:R.jsx(WV,{})})]}),p.findIndex(ie=>ie.url===v.url)>0&&R.jsx("button",{className:"btn btn-light navigation-button left",onClick:O,children:R.jsx(NV,{})}),p.findIndex(ie=>ie.url===v.url)<p.length-1&&R.jsx("button",{className:"btn btn-light navigation-button right",onClick:re,children:R.jsx(UV,{})})]})]})})}),R.jsx("div",{className:"modal-backdrop fade show"})]})]}):R.jsx("div",{className:"container-fluid",children:R.jsx("div",{className:"alert alert-danger",children:"Event not found"})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Iz(r,e,t,n){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(n.next(p))}catch(g){l(g)}}function d(p){try{f(n.throw(p))}catch(g){l(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((n=n.apply(r,[])).next())})}function Pz(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var od=function(){return od=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},od.apply(this,arguments)},e2=function(r){return{loading:r==null,value:r}},Nz=function(){return function(r,e){switch(e.type){case"error":return od(od({},r),{error:e.error,loading:!1,value:void 0});case"reset":return e2(e.defaultValue);case"value":return od(od({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},Uz=function(r){var e=r?r():void 0,t=T.useReducer(Nz(),e2(e)),n=t[0],i=t[1],a=T.useCallback(function(){var d=r?r():void 0;i({type:"reset",defaultValue:d})},[r]),l=T.useCallback(function(d){i({type:"error",error:d})},[]),c=T.useCallback(function(d){i({type:"value",value:d})},[]);return T.useMemo(function(){return{error:n.error,loading:n.loading,reset:a,setError:l,setValue:c,value:n.value}},[n.error,n.loading,a,l,c,n.value])},jz=function(r,e){var t=Uz(function(){return r.currentUser}),n=t.error,i=t.loading,a=t.setError,l=t.setValue,c=t.value;return T.useEffect(function(){var d=hx(r,function(f){return Iz(void 0,void 0,void 0,function(){var p;return Pz(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return g.sent(),[3,4];case 3:return p=g.sent(),a(p),[3,4];case 4:return l(f),[2]}})})},a);return function(){d()}},[r]),[c,i,n]};const Vz=()=>{const[r,e]=T.useState([]),[t,n]=T.useState(!0),[i]=jz(Qr);return T.useEffect(()=>{(async()=>{if(i)try{const l=hd(Pl,"events"),c=Of(l,If("event_host","==",i.uid)),f=(await Pf(c)).docs.map(g=>({id:g.id,...g.data(),attendees:[]})),p=await Promise.all(f.map(async g=>{const v=hd(Pl,"eventsregistry"),b=Of(v,If("eventId","==",g.id)),M=(await Pf(b)).docs.map(x=>({...x.data(),registrationDate:x.data().timestamp}));return{...g,attendees:M}}));console.log("Events with attendees:",p),e(p)}catch(l){console.error("Error fetching events and attendees:",l)}finally{n(!1)}})()},[i]),t?R.jsx("div",{className:"d-flex justify-content-center align-items-center h-100",children:R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):r.length===0?R.jsxs("div",{className:"text-center mt-5",children:[R.jsx("h3",{children:"No events found"}),R.jsx("p",{children:"Create an event to see attendee information"})]}):R.jsxs("div",{className:"container py-4",children:[R.jsx("h2",{className:"mb-4",children:"Events & Attendees"}),R.jsx("div",{className:"row g-4",children:r.map(a=>{var l;return R.jsx("div",{className:"col-12",children:R.jsx("div",{className:"card event-card",children:R.jsxs("div",{className:"card-body",children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[R.jsx("h5",{className:"card-title mb-0",children:a.event_name}),R.jsxs("span",{className:"badge bg-primary",children:[((l=a.attendees)==null?void 0:l.length)||0," Attendees"]})]}),R.jsxs("div",{className:"card-text mb-3",children:[R.jsxs("div",{className:"d-flex align-items-center mb-2",children:[R.jsx(xR,{className:"me-2"}),R.jsx("span",{children:new Date(a.date.toDate()).toLocaleDateString()})]}),R.jsxs("div",{className:"d-flex align-items-center",children:[R.jsx(RR,{className:"me-2"}),R.jsx("span",{children:a.event_location_name})]})]}),a.attendees&&a.attendees.length>0?R.jsx("div",{className:"table-responsive mt-3",children:R.jsxs("table",{className:"table",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Selfie"}),R.jsx("th",{children:"Name"}),R.jsx("th",{children:"Phone"}),R.jsx("th",{children:"Registration Date"}),R.jsx("th",{children:"Status"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:a.attendees.map((c,d)=>R.jsxs("tr",{children:[R.jsx("td",{children:R.jsx("img",{src:c.selfieUrl,alt:`${c.name}'s selfie`,className:"attendee-selfie rounded",style:{width:"50px",height:"50px",objectFit:"cover",cursor:"pointer"},onClick:()=>window.open(c.selfieUrl,"_blank")})}),R.jsx("td",{children:c.name}),R.jsx("td",{children:R.jsxs("div",{className:"d-flex align-items-center",children:[R.jsx(zV,{className:"me-2"}),c.phone]})}),R.jsx("td",{children:new Date(c.timestamp).toLocaleString()}),R.jsx("td",{children:R.jsx("span",{className:`badge ${c.verified?"bg-success":"bg-warning"}`,children:c.verified?"Verified":"Pending"})}),R.jsx("td",{children:R.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{console.log("Running AI share for:",c)},children:"Run AI Share"})})]},d))})]})}):R.jsx("div",{className:"text-center py-3",children:R.jsx("p",{className:"text-muted mb-0",children:"No attendees registered yet"})})]})})},a.id)})})]})};function Bz(){return R.jsx(AV,{children:R.jsx(QL,{children:R.jsx(bz,{children:R.jsx(UL,{children:R.jsxs(pL,{children:[R.jsx(Ta,{path:"/login",element:R.jsx(e6,{})}),R.jsxs(Ta,{path:"/",element:R.jsx(xV,{children:R.jsx(JV,{})}),children:[R.jsx(Ta,{index:!0,element:R.jsx(t6,{})}),R.jsx(Ta,{path:"events",element:R.jsx(Ez,{})}),R.jsx(Ta,{path:"analytics",element:R.jsx(Tz,{})}),R.jsx(Ta,{path:"attendees",element:R.jsx(Vz,{})}),R.jsx(Ta,{path:"folders",element:R.jsx(Sz,{})}),R.jsx(Ta,{path:"folders/:eventId/:folderName",element:R.jsx(Oz,{})})]}),R.jsx(Ta,{path:"*",element:R.jsx(TA,{to:"/",replace:!0})})]})})})})})}var Gm={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Fz=Gm.exports,hA;function zz(){return hA||(hA=1,function(r,e){(function(t,n){r.exports=n()})(Fz,function(){const t=new Map,n={set(z,_,D){t.has(z)||t.set(z,new Map);const Q=t.get(z);Q.has(_)||Q.size===0?Q.set(_,D):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Q.keys())[0]}.`)},get:(z,_)=>t.has(z)&&t.get(z).get(_)||null,remove(z,_){if(!t.has(z))return;const D=t.get(z);D.delete(_),D.size===0&&t.delete(z)}},i="transitionend",a=z=>(z&&window.CSS&&window.CSS.escape&&(z=z.replace(/#([^\s"#']+)/g,(_,D)=>`#${CSS.escape(D)}`)),z),l=z=>{z.dispatchEvent(new Event(i))},c=z=>!(!z||typeof z!="object")&&(z.jquery!==void 0&&(z=z[0]),z.nodeType!==void 0),d=z=>c(z)?z.jquery?z[0]:z:typeof z=="string"&&z.length>0?document.querySelector(a(z)):null,f=z=>{if(!c(z)||z.getClientRects().length===0)return!1;const _=getComputedStyle(z).getPropertyValue("visibility")==="visible",D=z.closest("details:not([open])");if(!D)return _;if(D!==z){const Q=z.closest("summary");if(Q&&Q.parentNode!==D||Q===null)return!1}return _},p=z=>!z||z.nodeType!==Node.ELEMENT_NODE||!!z.classList.contains("disabled")||(z.disabled!==void 0?z.disabled:z.hasAttribute("disabled")&&z.getAttribute("disabled")!=="false"),g=z=>{if(!document.documentElement.attachShadow)return null;if(typeof z.getRootNode=="function"){const _=z.getRootNode();return _ instanceof ShadowRoot?_:null}return z instanceof ShadowRoot?z:z.parentNode?g(z.parentNode):null},v=()=>{},b=z=>{z.offsetHeight},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],x=()=>document.documentElement.dir==="rtl",L=z=>{var _;_=()=>{const D=E();if(D){const Q=z.NAME,le=D.fn[Q];D.fn[Q]=z.jQueryInterface,D.fn[Q].Constructor=z,D.fn[Q].noConflict=()=>(D.fn[Q]=le,z.jQueryInterface)}},document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const D of M)D()}),M.push(_)):_()},$=(z,_=[],D=z)=>typeof z=="function"?z(..._):D,Y=(z,_,D=!0)=>{if(!D)return void $(z);const Q=(be=>{if(!be)return 0;let{transitionDuration:Ae,transitionDelay:Ie}=window.getComputedStyle(be);const ze=Number.parseFloat(Ae),Ve=Number.parseFloat(Ie);return ze||Ve?(Ae=Ae.split(",")[0],Ie=Ie.split(",")[0],1e3*(Number.parseFloat(Ae)+Number.parseFloat(Ie))):0})(_)+5;let le=!1;const ce=({target:be})=>{be===_&&(le=!0,_.removeEventListener(i,ce),$(z))};_.addEventListener(i,ce),setTimeout(()=>{le||l(_)},Q)},H=(z,_,D,Q)=>{const le=z.length;let ce=z.indexOf(_);return ce===-1?!D&&Q?z[le-1]:z[0]:(ce+=D?1:-1,Q&&(ce=(ce+le)%le),z[Math.max(0,Math.min(ce,le-1))])},G=/[^.]*(?=\..*)\.|.*/,q=/\..*/,P=/::\d+$/,C={};let S=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(z,_){return _&&`${_}::${S++}`||z.uidEvent||S++}function j(z){const _=F(z);return z.uidEvent=_,C[_]=C[_]||{},C[_]}function X(z,_,D=null){return Object.values(z).find(Q=>Q.callable===_&&Q.delegationSelector===D)}function J(z,_,D){const Q=typeof _=="string",le=Q?D:_||D;let ce=ne(z);return N.has(ce)||(ce=z),[Q,le,ce]}function U(z,_,D,Q,le){if(typeof _!="string"||!z)return;let[ce,be,Ae]=J(_,D,Q);_ in k&&(be=(et=>function(nt){if(!nt.relatedTarget||nt.relatedTarget!==nt.delegateTarget&&!nt.delegateTarget.contains(nt.relatedTarget))return et.call(this,nt)})(be));const Ie=j(z),ze=Ie[Ae]||(Ie[Ae]={}),Ve=X(ze,be,ce?D:null);if(Ve)return void(Ve.oneOff=Ve.oneOff&&le);const je=F(be,_.replace(G,"")),dt=ce?function(Xe,et,nt){return function ot(en){const tn=Xe.querySelectorAll(et);for(let{target:ft}=en;ft&&ft!==this;ft=ft.parentNode)for(const qt of tn)if(qt===ft)return re(en,{delegateTarget:ft}),ot.oneOff&&O.off(Xe,en.type,et,nt),nt.apply(ft,[en])}}(z,D,be):function(Xe,et){return function nt(ot){return re(ot,{delegateTarget:Xe}),nt.oneOff&&O.off(Xe,ot.type,et),et.apply(Xe,[ot])}}(z,be);dt.delegationSelector=ce?D:null,dt.callable=be,dt.oneOff=le,dt.uidEvent=je,ze[je]=dt,z.addEventListener(Ae,dt,ce)}function B(z,_,D,Q,le){const ce=X(_[D],Q,le);ce&&(z.removeEventListener(D,ce,!!le),delete _[D][ce.uidEvent])}function ee(z,_,D,Q){const le=_[D]||{};for(const[ce,be]of Object.entries(le))ce.includes(Q)&&B(z,_,D,be.callable,be.delegationSelector)}function ne(z){return z=z.replace(q,""),k[z]||z}const O={on(z,_,D,Q){U(z,_,D,Q,!1)},one(z,_,D,Q){U(z,_,D,Q,!0)},off(z,_,D,Q){if(typeof _!="string"||!z)return;const[le,ce,be]=J(_,D,Q),Ae=be!==_,Ie=j(z),ze=Ie[be]||{},Ve=_.startsWith(".");if(ce===void 0){if(Ve)for(const je of Object.keys(Ie))ee(z,Ie,je,_.slice(1));for(const[je,dt]of Object.entries(ze)){const Xe=je.replace(P,"");Ae&&!_.includes(Xe)||B(z,Ie,be,dt.callable,dt.delegationSelector)}}else{if(!Object.keys(ze).length)return;B(z,Ie,be,ce,le?D:null)}},trigger(z,_,D){if(typeof _!="string"||!z)return null;const Q=E();let le=null,ce=!0,be=!0,Ae=!1;_!==ne(_)&&Q&&(le=Q.Event(_,D),Q(z).trigger(le),ce=!le.isPropagationStopped(),be=!le.isImmediatePropagationStopped(),Ae=le.isDefaultPrevented());const Ie=re(new Event(_,{bubbles:ce,cancelable:!0}),D);return Ae&&Ie.preventDefault(),be&&z.dispatchEvent(Ie),Ie.defaultPrevented&&le&&le.preventDefault(),Ie}};function re(z,_={}){for(const[D,Q]of Object.entries(_))try{z[D]=Q}catch{Object.defineProperty(z,D,{configurable:!0,get:()=>Q})}return z}function oe(z){if(z==="true")return!0;if(z==="false")return!1;if(z===Number(z).toString())return Number(z);if(z===""||z==="null")return null;if(typeof z!="string")return z;try{return JSON.parse(decodeURIComponent(z))}catch{return z}}function se(z){return z.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const ue={setDataAttribute(z,_,D){z.setAttribute(`data-bs-${se(_)}`,D)},removeDataAttribute(z,_){z.removeAttribute(`data-bs-${se(_)}`)},getDataAttributes(z){if(!z)return{};const _={},D=Object.keys(z.dataset).filter(Q=>Q.startsWith("bs")&&!Q.startsWith("bsConfig"));for(const Q of D){let le=Q.replace(/^bs/,"");le=le.charAt(0).toLowerCase()+le.slice(1,le.length),_[le]=oe(z.dataset[Q])}return _},getDataAttribute:(z,_)=>oe(z.getAttribute(`data-bs-${se(_)}`))};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,D){const Q=c(D)?ue.getDataAttribute(D,"config"):{};return{...this.constructor.Default,...typeof Q=="object"?Q:{},...c(D)?ue.getDataAttributes(D):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,D=this.constructor.DefaultType){for(const[le,ce]of Object.entries(D)){const be=_[le],Ae=c(be)?"element":(Q=be)==null?`${Q}`:Object.prototype.toString.call(Q).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ce).test(Ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${le}" provided type "${Ae}" but expected type "${ce}".`)}var Q}}class we extends Z{constructor(_,D){super(),(_=d(_))&&(this._element=_,this._config=this._getConfig(D),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,D,Q=!0){Y(_,D,Q)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return n.get(d(_),this.DATA_KEY)}static getOrCreateInstance(_,D={}){return this.getInstance(_)||new this(_,typeof D=="object"?D:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const Ue=z=>{let _=z.getAttribute("data-bs-target");if(!_||_==="#"){let D=z.getAttribute("href");if(!D||!D.includes("#")&&!D.startsWith("."))return null;D.includes("#")&&!D.startsWith("#")&&(D=`#${D.split("#")[1]}`),_=D&&D!=="#"?D.trim():null}return _?_.split(",").map(D=>a(D)).join(","):null},ie={find:(z,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,z)),findOne:(z,_=document.documentElement)=>Element.prototype.querySelector.call(_,z),children:(z,_)=>[].concat(...z.children).filter(D=>D.matches(_)),parents(z,_){const D=[];let Q=z.parentNode.closest(_);for(;Q;)D.push(Q),Q=Q.parentNode.closest(_);return D},prev(z,_){let D=z.previousElementSibling;for(;D;){if(D.matches(_))return[D];D=D.previousElementSibling}return[]},next(z,_){let D=z.nextElementSibling;for(;D;){if(D.matches(_))return[D];D=D.nextElementSibling}return[]},focusableChildren(z){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(D=>`${D}:not([tabindex^="-"])`).join(",");return this.find(_,z).filter(D=>!p(D)&&f(D))},getSelectorFromElement(z){const _=Ue(z);return _&&ie.findOne(_)?_:null},getElementFromSelector(z){const _=Ue(z);return _?ie.findOne(_):null},getMultipleElementsFromSelector(z){const _=Ue(z);return _?ie.find(_):[]}},xe=(z,_="hide")=>{const D=`click.dismiss${z.EVENT_KEY}`,Q=z.NAME;O.on(document,D,`[data-bs-dismiss="${Q}"]`,function(le){if(["A","AREA"].includes(this.tagName)&&le.preventDefault(),p(this))return;const ce=ie.getElementFromSelector(this)||this.closest(`.${Q}`);z.getOrCreateInstance(ce)[_]()})},ke=".bs.alert",Pe=`close${ke}`,he=`closed${ke}`;class Se extends we{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Pe).defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),O.trigger(this._element,he),this.dispose()}static jQueryInterface(_){return this.each(function(){const D=Se.getOrCreateInstance(this);if(typeof _=="string"){if(D[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);D[_](this)}})}}xe(Se,"close"),L(Se);const Ne='[data-bs-toggle="button"]';class Le extends we{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const D=Le.getOrCreateInstance(this);_==="toggle"&&D[_]()})}}O.on(document,"click.bs.button.data-api",Ne,z=>{z.preventDefault();const _=z.target.closest(Ne);Le.getOrCreateInstance(_).toggle()}),L(Le);const Fe=".bs.swipe",$e=`touchstart${Fe}`,tt=`touchmove${Fe}`,Et=`touchend${Fe}`,Ft=`pointerdown${Fe}`,Qe=`pointerup${Fe}`,zt={endCallback:null,leftCallback:null,rightCallback:null},vt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Tt extends Z{constructor(_,D){super(),this._element=_,_&&Tt.isSupported()&&(this._config=this._getConfig(D),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return zt}static get DefaultType(){return vt}static get NAME(){return"swipe"}dispose(){O.off(this._element,Fe)}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const D=_/this._deltaX;this._deltaX=0,D&&$(D>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Ft,_=>this._start(_)),O.on(this._element,Qe,_=>this._end(_)),this._element.classList.add("pointer-event")):(O.on(this._element,$e,_=>this._start(_)),O.on(this._element,tt,_=>this._move(_)),O.on(this._element,Et,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const on=".bs.carousel",Dt=".data-api",ct="next",wt="prev",It="left",yn="right",Wn=`slide${on}`,En=`slid${on}`,Nn=`keydown${on}`,zn=`mouseenter${on}`,Sn=`mouseleave${on}`,hi=`dragstart${on}`,ei=`load${on}${Dt}`,Di=`click${on}${Dt}`,ti="carousel",vr="active",jr=".active",Un=".carousel-item",sr=jr+Un,Qn={ArrowLeft:yn,ArrowRight:It},Sr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ni={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cn extends we{constructor(_,D){super(_,D),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ti&&this.cycle()}static get Default(){return Sr}static get DefaultType(){return ni}static get NAME(){return"carousel"}next(){this._slide(ct)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(wt)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,En,()=>this.cycle()):this.cycle())}to(_){const D=this._getItems();if(_>D.length-1||_<0)return;if(this._isSliding)return void O.one(this._element,En,()=>this.to(_));const Q=this._getItemIndex(this._getActive());if(Q===_)return;const le=_>Q?ct:wt;this._slide(le,D[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&O.on(this._element,Nn,_=>this._keydown(_)),this._config.pause==="hover"&&(O.on(this._element,zn,()=>this.pause()),O.on(this._element,Sn,()=>this._maybeEnableCycle())),this._config.touch&&Tt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const D of ie.find(".carousel-item img",this._element))O.on(D,hi,Q=>Q.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(It)),rightCallback:()=>this._slide(this._directionToOrder(yn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Tt(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const D=Qn[_.key];D&&(_.preventDefault(),this._slide(this._directionToOrder(D)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const D=ie.findOne(jr,this._indicatorsElement);D.classList.remove(vr),D.removeAttribute("aria-current");const Q=ie.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);Q&&(Q.classList.add(vr),Q.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const D=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=D||this._config.defaultInterval}_slide(_,D=null){if(this._isSliding)return;const Q=this._getActive(),le=_===ct,ce=D||H(this._getItems(),Q,le,this._config.wrap);if(ce===Q)return;const be=this._getItemIndex(ce),Ae=je=>O.trigger(this._element,je,{relatedTarget:ce,direction:this._orderToDirection(_),from:this._getItemIndex(Q),to:be});if(Ae(Wn).defaultPrevented||!Q||!ce)return;const Ie=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(be),this._activeElement=ce;const ze=le?"carousel-item-start":"carousel-item-end",Ve=le?"carousel-item-next":"carousel-item-prev";ce.classList.add(Ve),b(ce),Q.classList.add(ze),ce.classList.add(ze),this._queueCallback(()=>{ce.classList.remove(ze,Ve),ce.classList.add(vr),Q.classList.remove(vr,Ve,ze),this._isSliding=!1,Ae(En)},Q,this._isAnimated()),Ie&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ie.findOne(sr,this._element)}_getItems(){return ie.find(Un,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return x()?_===It?wt:ct:_===It?ct:wt}_orderToDirection(_){return x()?_===wt?It:yn:_===wt?yn:It}static jQueryInterface(_){return this.each(function(){const D=Cn.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(D[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);D[_]()}}else D.to(_)})}}O.on(document,Di,"[data-bs-slide], [data-bs-slide-to]",function(z){const _=ie.getElementFromSelector(this);if(!_||!_.classList.contains(ti))return;z.preventDefault();const D=Cn.getOrCreateInstance(_),Q=this.getAttribute("data-bs-slide-to");return Q?(D.to(Q),void D._maybeEnableCycle()):ue.getDataAttribute(this,"slide")==="next"?(D.next(),void D._maybeEnableCycle()):(D.prev(),void D._maybeEnableCycle())}),O.on(window,ei,()=>{const z=ie.find('[data-bs-ride="carousel"]');for(const _ of z)Cn.getOrCreateInstance(_)}),L(Cn);const Rn=".bs.collapse",Vo=`show${Rn}`,Jt=`shown${Rn}`,Ge=`hide${Rn}`,Kn=`hidden${Rn}`,Ri=`click${Rn}.data-api`,qa="show",la="collapse",Wi="collapsing",sc=`:scope .${la} .${la}`,Ps='[data-bs-toggle="collapse"]',ua={parent:null,toggle:!0},Ns={parent:"(null|element)",toggle:"boolean"};class Vr extends we{constructor(_,D){super(_,D),this._isTransitioning=!1,this._triggerArray=[];const Q=ie.find(Ps);for(const le of Q){const ce=ie.getSelectorFromElement(le),be=ie.find(ce).filter(Ae=>Ae===this._element);ce!==null&&be.length&&this._triggerArray.push(le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ua}static get DefaultType(){return Ns}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(le=>le!==this._element).map(le=>Vr.getOrCreateInstance(le,{toggle:!1}))),_.length&&_[0]._isTransitioning||O.trigger(this._element,Vo).defaultPrevented)return;for(const le of _)le.hide();const D=this._getDimension();this._element.classList.remove(la),this._element.classList.add(Wi),this._element.style[D]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Q=`scroll${D[0].toUpperCase()+D.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wi),this._element.classList.add(la,qa),this._element.style[D]="",O.trigger(this._element,Jt)},this._element,!0),this._element.style[D]=`${this._element[Q]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Ge).defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,b(this._element),this._element.classList.add(Wi),this._element.classList.remove(la,qa);for(const D of this._triggerArray){const Q=ie.getElementFromSelector(D);Q&&!this._isShown(Q)&&this._addAriaAndCollapsedClass([D],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wi),this._element.classList.add(la),O.trigger(this._element,Kn)},this._element,!0)}_isShown(_=this._element){return _.classList.contains(qa)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=d(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Ps);for(const D of _){const Q=ie.getElementFromSelector(D);Q&&this._addAriaAndCollapsedClass([D],this._isShown(Q))}}_getFirstLevelChildren(_){const D=ie.find(sc,this._config.parent);return ie.find(_,this._config.parent).filter(Q=>!D.includes(Q))}_addAriaAndCollapsedClass(_,D){if(_.length)for(const Q of _)Q.classList.toggle("collapsed",!D),Q.setAttribute("aria-expanded",D)}static jQueryInterface(_){const D={};return typeof _=="string"&&/show|hide/.test(_)&&(D.toggle=!1),this.each(function(){const Q=Vr.getOrCreateInstance(this,D);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_]()}})}}O.on(document,Ri,Ps,function(z){(z.target.tagName==="A"||z.delegateTarget&&z.delegateTarget.tagName==="A")&&z.preventDefault();for(const _ of ie.getMultipleElementsFromSelector(this))Vr.getOrCreateInstance(_,{toggle:!1}).toggle()}),L(Vr);var An="top",dn="bottom",Vt="right",ar="left",Us="auto",Cr=[An,dn,Vt,ar],Br="start",js="end",su="clippingParents",Vs="viewport",Bs="popper",Fs="reference",Mi=Cr.reduce(function(z,_){return z.concat([_+"-"+Br,_+"-"+js])},[]),or=[].concat(Cr,[Us]).reduce(function(z,_){return z.concat([_,_+"-"+Br,_+"-"+js])},[]),ca="beforeRead",au="read",cs="afterRead",Ya="beforeMain",$a="main",Bo="afterMain",Ga="beforeWrite",Ar="write",Fo="afterWrite",ac=[ca,au,cs,Ya,$a,Bo,Ga,Ar,Fo];function Fr(z){return z?(z.nodeName||"").toLowerCase():null}function yr(z){if(z==null)return window;if(z.toString()!=="[object Window]"){var _=z.ownerDocument;return _&&_.defaultView||window}return z}function fi(z){return z instanceof yr(z).Element||z instanceof Element}function ri(z){return z instanceof yr(z).HTMLElement||z instanceof HTMLElement}function jn(z){return typeof ShadowRoot<"u"&&(z instanceof yr(z).ShadowRoot||z instanceof ShadowRoot)}const zr={name:"applyStyles",enabled:!0,phase:"write",fn:function(z){var _=z.state;Object.keys(_.elements).forEach(function(D){var Q=_.styles[D]||{},le=_.attributes[D]||{},ce=_.elements[D];ri(ce)&&Fr(ce)&&(Object.assign(ce.style,Q),Object.keys(le).forEach(function(be){var Ae=le[be];Ae===!1?ce.removeAttribute(be):ce.setAttribute(be,Ae===!0?"":Ae)}))})},effect:function(z){var _=z.state,D={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,D.popper),_.styles=D,_.elements.arrow&&Object.assign(_.elements.arrow.style,D.arrow),function(){Object.keys(_.elements).forEach(function(Q){var le=_.elements[Q],ce=_.attributes[Q]||{},be=Object.keys(_.styles.hasOwnProperty(Q)?_.styles[Q]:D[Q]).reduce(function(Ae,Ie){return Ae[Ie]="",Ae},{});ri(le)&&Fr(le)&&(Object.assign(le.style,be),Object.keys(ce).forEach(function(Ae){le.removeAttribute(Ae)}))})}},requires:["computeStyles"]};function xr(z){return z.split("-")[0]}var ii=Math.max,ki=Math.min,Bt=Math.round;function zs(){var z=navigator.userAgentData;return z!=null&&z.brands&&Array.isArray(z.brands)?z.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function pi(){return!/^((?!chrome|android).)*safari/i.test(zs())}function Li(z,_,D){_===void 0&&(_=!1),D===void 0&&(D=!1);var Q=z.getBoundingClientRect(),le=1,ce=1;_&&ri(z)&&(le=z.offsetWidth>0&&Bt(Q.width)/z.offsetWidth||1,ce=z.offsetHeight>0&&Bt(Q.height)/z.offsetHeight||1);var be=(fi(z)?yr(z):window).visualViewport,Ae=!pi()&&D,Ie=(Q.left+(Ae&&be?be.offsetLeft:0))/le,ze=(Q.top+(Ae&&be?be.offsetTop:0))/ce,Ve=Q.width/le,je=Q.height/ce;return{width:Ve,height:je,top:ze,right:Ie+Ve,bottom:ze+je,left:Ie,x:Ie,y:ze}}function zo(z){var _=Li(z),D=z.offsetWidth,Q=z.offsetHeight;return Math.abs(_.width-D)<=1&&(D=_.width),Math.abs(_.height-Q)<=1&&(Q=_.height),{x:z.offsetLeft,y:z.offsetTop,width:D,height:Q}}function Ho(z,_){var D=_.getRootNode&&_.getRootNode();if(z.contains(_))return!0;if(D&&jn(D)){var Q=_;do{if(Q&&z.isSameNode(Q))return!0;Q=Q.parentNode||Q.host}while(Q)}return!1}function mi(z){return yr(z).getComputedStyle(z)}function qd(z){return["table","td","th"].indexOf(Fr(z))>=0}function ds(z){return((fi(z)?z.ownerDocument:z.document)||window.document).documentElement}function Hs(z){return Fr(z)==="html"?z:z.assignedSlot||z.parentNode||(jn(z)?z.host:null)||ds(z)}function hs(z){return ri(z)&&mi(z).position!=="fixed"?z.offsetParent:null}function Dr(z){for(var _=yr(z),D=hs(z);D&&qd(D)&&mi(D).position==="static";)D=hs(D);return D&&(Fr(D)==="html"||Fr(D)==="body"&&mi(D).position==="static")?_:D||function(Q){var le=/firefox/i.test(zs());if(/Trident/i.test(zs())&&ri(Q)&&mi(Q).position==="fixed")return null;var ce=Hs(Q);for(jn(ce)&&(ce=ce.host);ri(ce)&&["html","body"].indexOf(Fr(ce))<0;){var be=mi(ce);if(be.transform!=="none"||be.perspective!=="none"||be.contain==="paint"||["transform","perspective"].indexOf(be.willChange)!==-1||le&&be.willChange==="filter"||le&&be.filter&&be.filter!=="none")return ce;ce=ce.parentNode}return null}(z)||_}function Qi(z){return["top","bottom"].indexOf(z)>=0?"x":"y"}function gi(z,_,D){return ii(z,ki(_,D))}function qo(z){return Object.assign({},{top:0,right:0,bottom:0,left:0},z)}function Ki(z,_){return _.reduce(function(D,Q){return D[Q]=z,D},{})}const ou={name:"arrow",enabled:!0,phase:"main",fn:function(z){var _,D=z.state,Q=z.name,le=z.options,ce=D.elements.arrow,be=D.modifiersData.popperOffsets,Ae=xr(D.placement),Ie=Qi(Ae),ze=[ar,Vt].indexOf(Ae)>=0?"height":"width";if(ce&&be){var Ve=function(sn,Qt){return qo(typeof(sn=typeof sn=="function"?sn(Object.assign({},Qt.rects,{placement:Qt.placement})):sn)!="number"?sn:Ki(sn,Cr))}(le.padding,D),je=zo(ce),dt=Ie==="y"?An:ar,Xe=Ie==="y"?dn:Vt,et=D.rects.reference[ze]+D.rects.reference[Ie]-be[Ie]-D.rects.popper[ze],nt=be[Ie]-D.rects.reference[Ie],ot=Dr(ce),en=ot?Ie==="y"?ot.clientHeight||0:ot.clientWidth||0:0,tn=et/2-nt/2,ft=Ve[dt],qt=en-je[ze]-Ve[Xe],gt=en/2-je[ze]/2+tn,yt=gi(ft,gt,qt),Yt=Ie;D.modifiersData[Q]=((_={})[Yt]=yt,_.centerOffset=yt-gt,_)}},effect:function(z){var _=z.state,D=z.options.element,Q=D===void 0?"[data-popper-arrow]":D;Q!=null&&(typeof Q!="string"||(Q=_.elements.popper.querySelector(Q)))&&Ho(_.elements.popper,Q)&&(_.elements.arrow=Q)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Oi(z){return z.split("-")[1]}var Xi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vi(z){var _,D=z.popper,Q=z.popperRect,le=z.placement,ce=z.variation,be=z.offsets,Ae=z.position,Ie=z.gpuAcceleration,ze=z.adaptive,Ve=z.roundOffsets,je=z.isFixed,dt=be.x,Xe=dt===void 0?0:dt,et=be.y,nt=et===void 0?0:et,ot=typeof Ve=="function"?Ve({x:Xe,y:nt}):{x:Xe,y:nt};Xe=ot.x,nt=ot.y;var en=be.hasOwnProperty("x"),tn=be.hasOwnProperty("y"),ft=ar,qt=An,gt=window;if(ze){var yt=Dr(D),Yt="clientHeight",sn="clientWidth";yt===yr(D)&&mi(yt=ds(D)).position!=="static"&&Ae==="absolute"&&(Yt="scrollHeight",sn="scrollWidth"),(le===An||(le===ar||le===Vt)&&ce===js)&&(qt=dn,nt-=(je&&yt===gt&&gt.visualViewport?gt.visualViewport.height:yt[Yt])-Q.height,nt*=Ie?1:-1),le!==ar&&(le!==An&&le!==dn||ce!==js)||(ft=Vt,Xe-=(je&&yt===gt&&gt.visualViewport?gt.visualViewport.width:yt[sn])-Q.width,Xe*=Ie?1:-1)}var Qt,kn=Object.assign({position:Ae},ze&&Xi),Jn=Ve===!0?function(rt,pt){var Kt=rt.x,Yr=rt.y,hn=pt.devicePixelRatio||1;return{x:Bt(Kt*hn)/hn||0,y:Bt(Yr*hn)/hn||0}}({x:Xe,y:nt},yr(D)):{x:Xe,y:nt};return Xe=Jn.x,nt=Jn.y,Ie?Object.assign({},kn,((Qt={})[qt]=tn?"0":"",Qt[ft]=en?"0":"",Qt.transform=(gt.devicePixelRatio||1)<=1?"translate("+Xe+"px, "+nt+"px)":"translate3d("+Xe+"px, "+nt+"px, 0)",Qt)):Object.assign({},kn,((_={})[qt]=tn?nt+"px":"",_[ft]=en?Xe+"px":"",_.transform="",_))}const qs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(z){var _=z.state,D=z.options,Q=D.gpuAcceleration,le=Q===void 0||Q,ce=D.adaptive,be=ce===void 0||ce,Ae=D.roundOffsets,Ie=Ae===void 0||Ae,ze={placement:xr(_.placement),variation:Oi(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:le,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,vi(Object.assign({},ze,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:be,roundOffsets:Ie})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,vi(Object.assign({},ze,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ie})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var yi={passive:!0};const fs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(z){var _=z.state,D=z.instance,Q=z.options,le=Q.scroll,ce=le===void 0||le,be=Q.resize,Ae=be===void 0||be,Ie=yr(_.elements.popper),ze=[].concat(_.scrollParents.reference,_.scrollParents.popper);return ce&&ze.forEach(function(Ve){Ve.addEventListener("scroll",D.update,yi)}),Ae&&Ie.addEventListener("resize",D.update,yi),function(){ce&&ze.forEach(function(Ve){Ve.removeEventListener("scroll",D.update,yi)}),Ae&&Ie.removeEventListener("resize",D.update,yi)}},data:{}};var Ys={left:"right",right:"left",bottom:"top",top:"bottom"};function da(z){return z.replace(/left|right|bottom|top/g,function(_){return Ys[_]})}var ps={start:"end",end:"start"};function Zi(z){return z.replace(/start|end/g,function(_){return ps[_]})}function Wa(z){var _=yr(z);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function Xn(z){return Li(ds(z)).left+Wa(z).scrollLeft}function Ht(z){var _=mi(z),D=_.overflow,Q=_.overflowX,le=_.overflowY;return/auto|scroll|overlay|hidden/.test(D+le+Q)}function Qa(z){return["html","body","#document"].indexOf(Fr(z))>=0?z.ownerDocument.body:ri(z)&&Ht(z)?z:Qa(Hs(z))}function Ji(z,_){var D;_===void 0&&(_=[]);var Q=Qa(z),le=Q===((D=z.ownerDocument)==null?void 0:D.body),ce=yr(Q),be=le?[ce].concat(ce.visualViewport||[],Ht(Q)?Q:[]):Q,Ae=_.concat(be);return le?Ae:Ae.concat(Ji(Hs(be)))}function Yo(z){return Object.assign({},z,{left:z.x,top:z.y,right:z.x+z.width,bottom:z.y+z.height})}function Ka(z,_,D){return _===Vs?Yo(function(Q,le){var ce=yr(Q),be=ds(Q),Ae=ce.visualViewport,Ie=be.clientWidth,ze=be.clientHeight,Ve=0,je=0;if(Ae){Ie=Ae.width,ze=Ae.height;var dt=pi();(dt||!dt&&le==="fixed")&&(Ve=Ae.offsetLeft,je=Ae.offsetTop)}return{width:Ie,height:ze,x:Ve+Xn(Q),y:je}}(z,D)):fi(_)?function(Q,le){var ce=Li(Q,!1,le==="fixed");return ce.top=ce.top+Q.clientTop,ce.left=ce.left+Q.clientLeft,ce.bottom=ce.top+Q.clientHeight,ce.right=ce.left+Q.clientWidth,ce.width=Q.clientWidth,ce.height=Q.clientHeight,ce.x=ce.left,ce.y=ce.top,ce}(_,D):Yo(function(Q){var le,ce=ds(Q),be=Wa(Q),Ae=(le=Q.ownerDocument)==null?void 0:le.body,Ie=ii(ce.scrollWidth,ce.clientWidth,Ae?Ae.scrollWidth:0,Ae?Ae.clientWidth:0),ze=ii(ce.scrollHeight,ce.clientHeight,Ae?Ae.scrollHeight:0,Ae?Ae.clientHeight:0),Ve=-be.scrollLeft+Xn(Q),je=-be.scrollTop;return mi(Ae||ce).direction==="rtl"&&(Ve+=ii(ce.clientWidth,Ae?Ae.clientWidth:0)-Ie),{width:Ie,height:ze,x:Ve,y:je}}(ds(z)))}function Xa(z){var _,D=z.reference,Q=z.element,le=z.placement,ce=le?xr(le):null,be=le?Oi(le):null,Ae=D.x+D.width/2-Q.width/2,Ie=D.y+D.height/2-Q.height/2;switch(ce){case An:_={x:Ae,y:D.y-Q.height};break;case dn:_={x:Ae,y:D.y+D.height};break;case Vt:_={x:D.x+D.width,y:Ie};break;case ar:_={x:D.x-Q.width,y:Ie};break;default:_={x:D.x,y:D.y}}var ze=ce?Qi(ce):null;if(ze!=null){var Ve=ze==="y"?"height":"width";switch(be){case Br:_[ze]=_[ze]-(D[Ve]/2-Q[Ve]/2);break;case js:_[ze]=_[ze]+(D[Ve]/2-Q[Ve]/2)}}return _}function Hr(z,_){_===void 0&&(_={});var D=_,Q=D.placement,le=Q===void 0?z.placement:Q,ce=D.strategy,be=ce===void 0?z.strategy:ce,Ae=D.boundary,Ie=Ae===void 0?su:Ae,ze=D.rootBoundary,Ve=ze===void 0?Vs:ze,je=D.elementContext,dt=je===void 0?Bs:je,Xe=D.altBoundary,et=Xe!==void 0&&Xe,nt=D.padding,ot=nt===void 0?0:nt,en=qo(typeof ot!="number"?ot:Ki(ot,Cr)),tn=dt===Bs?Fs:Bs,ft=z.rects.popper,qt=z.elements[et?tn:dt],gt=function(pt,Kt,Yr,hn){var kr=Kt==="clippingParents"?function(fn){var Rt=Ji(Hs(fn)),si=["absolute","fixed"].indexOf(mi(fn).position)>=0&&ri(fn)?Dr(fn):fn;return fi(si)?Rt.filter(function(Ss){return fi(Ss)&&Ho(Ss,si)&&Fr(Ss)!=="body"}):[]}(pt):[].concat(Kt),Ei=[].concat(kr,[Yr]),Ts=Ei[0],Ln=Ei.reduce(function(fn,Rt){var si=Ka(pt,Rt,hn);return fn.top=ii(si.top,fn.top),fn.right=ki(si.right,fn.right),fn.bottom=ki(si.bottom,fn.bottom),fn.left=ii(si.left,fn.left),fn},Ka(pt,Ts,hn));return Ln.width=Ln.right-Ln.left,Ln.height=Ln.bottom-Ln.top,Ln.x=Ln.left,Ln.y=Ln.top,Ln}(fi(qt)?qt:qt.contextElement||ds(z.elements.popper),Ie,Ve,be),yt=Li(z.elements.reference),Yt=Xa({reference:yt,element:ft,placement:le}),sn=Yo(Object.assign({},ft,Yt)),Qt=dt===Bs?sn:yt,kn={top:gt.top-Qt.top+en.top,bottom:Qt.bottom-gt.bottom+en.bottom,left:gt.left-Qt.left+en.left,right:Qt.right-gt.right+en.right},Jn=z.modifiersData.offset;if(dt===Bs&&Jn){var rt=Jn[le];Object.keys(kn).forEach(function(pt){var Kt=[Vt,dn].indexOf(pt)>=0?1:-1,Yr=[An,dn].indexOf(pt)>=0?"y":"x";kn[pt]+=rt[Yr]*Kt})}return kn}function Za(z,_){_===void 0&&(_={});var D=_,Q=D.placement,le=D.boundary,ce=D.rootBoundary,be=D.padding,Ae=D.flipVariations,Ie=D.allowedAutoPlacements,ze=Ie===void 0?or:Ie,Ve=Oi(Q),je=Ve?Ae?Mi:Mi.filter(function(et){return Oi(et)===Ve}):Cr,dt=je.filter(function(et){return ze.indexOf(et)>=0});dt.length===0&&(dt=je);var Xe=dt.reduce(function(et,nt){return et[nt]=Hr(z,{placement:nt,boundary:le,rootBoundary:ce,padding:be})[xr(nt)],et},{});return Object.keys(Xe).sort(function(et,nt){return Xe[et]-Xe[nt]})}const _i={name:"flip",enabled:!0,phase:"main",fn:function(z){var _=z.state,D=z.options,Q=z.name;if(!_.modifiersData[Q]._skip){for(var le=D.mainAxis,ce=le===void 0||le,be=D.altAxis,Ae=be===void 0||be,Ie=D.fallbackPlacements,ze=D.padding,Ve=D.boundary,je=D.rootBoundary,dt=D.altBoundary,Xe=D.flipVariations,et=Xe===void 0||Xe,nt=D.allowedAutoPlacements,ot=_.options.placement,en=xr(ot),tn=Ie||(en!==ot&&et?function(fn){if(xr(fn)===Us)return[];var Rt=da(fn);return[Zi(fn),Rt,Zi(Rt)]}(ot):[da(ot)]),ft=[ot].concat(tn).reduce(function(fn,Rt){return fn.concat(xr(Rt)===Us?Za(_,{placement:Rt,boundary:Ve,rootBoundary:je,padding:ze,flipVariations:et,allowedAutoPlacements:nt}):Rt)},[]),qt=_.rects.reference,gt=_.rects.popper,yt=new Map,Yt=!0,sn=ft[0],Qt=0;Qt<ft.length;Qt++){var kn=ft[Qt],Jn=xr(kn),rt=Oi(kn)===Br,pt=[An,dn].indexOf(Jn)>=0,Kt=pt?"width":"height",Yr=Hr(_,{placement:kn,boundary:Ve,rootBoundary:je,altBoundary:dt,padding:ze}),hn=pt?rt?Vt:ar:rt?dn:An;qt[Kt]>gt[Kt]&&(hn=da(hn));var kr=da(hn),Ei=[];if(ce&&Ei.push(Yr[Jn]<=0),Ae&&Ei.push(Yr[hn]<=0,Yr[kr]<=0),Ei.every(function(fn){return fn})){sn=kn,Yt=!1;break}yt.set(kn,Ei)}if(Yt)for(var Ts=function(fn){var Rt=ft.find(function(si){var Ss=yt.get(si);if(Ss)return Ss.slice(0,fn).every(function(Su){return Su})});if(Rt)return sn=Rt,"break"},Ln=et?3:1;Ln>0&&Ts(Ln)!=="break";Ln--);_.placement!==sn&&(_.modifiersData[Q]._skip=!0,_.placement=sn,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function lu(z,_,D){return D===void 0&&(D={x:0,y:0}),{top:z.top-_.height-D.y,right:z.right-_.width+D.x,bottom:z.bottom-_.height+D.y,left:z.left-_.width-D.x}}function oc(z){return[An,Vt,dn,ar].some(function(_){return z[_]>=0})}const ha={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(z){var _=z.state,D=z.name,Q=_.rects.reference,le=_.rects.popper,ce=_.modifiersData.preventOverflow,be=Hr(_,{elementContext:"reference"}),Ae=Hr(_,{altBoundary:!0}),Ie=lu(be,Q),ze=lu(Ae,le,ce),Ve=oc(Ie),je=oc(ze);_.modifiersData[D]={referenceClippingOffsets:Ie,popperEscapeOffsets:ze,isReferenceHidden:Ve,hasPopperEscaped:je},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":Ve,"data-popper-escaped":je})}},Ja={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(z){var _=z.state,D=z.options,Q=z.name,le=D.offset,ce=le===void 0?[0,0]:le,be=or.reduce(function(Ve,je){return Ve[je]=function(dt,Xe,et){var nt=xr(dt),ot=[ar,An].indexOf(nt)>=0?-1:1,en=typeof et=="function"?et(Object.assign({},Xe,{placement:dt})):et,tn=en[0],ft=en[1];return tn=tn||0,ft=(ft||0)*ot,[ar,Vt].indexOf(nt)>=0?{x:ft,y:tn}:{x:tn,y:ft}}(je,_.rects,ce),Ve},{}),Ae=be[_.placement],Ie=Ae.x,ze=Ae.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=Ie,_.modifiersData.popperOffsets.y+=ze),_.modifiersData[Q]=be}},eo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(z){var _=z.state,D=z.name;_.modifiersData[D]=Xa({reference:_.rects.reference,element:_.rects.popper,placement:_.placement})},data:{}},to={name:"preventOverflow",enabled:!0,phase:"main",fn:function(z){var _=z.state,D=z.options,Q=z.name,le=D.mainAxis,ce=le===void 0||le,be=D.altAxis,Ae=be!==void 0&&be,Ie=D.boundary,ze=D.rootBoundary,Ve=D.altBoundary,je=D.padding,dt=D.tether,Xe=dt===void 0||dt,et=D.tetherOffset,nt=et===void 0?0:et,ot=Hr(_,{boundary:Ie,rootBoundary:ze,padding:je,altBoundary:Ve}),en=xr(_.placement),tn=Oi(_.placement),ft=!tn,qt=Qi(en),gt=qt==="x"?"y":"x",yt=_.modifiersData.popperOffsets,Yt=_.rects.reference,sn=_.rects.popper,Qt=typeof nt=="function"?nt(Object.assign({},_.rects,{placement:_.placement})):nt,kn=typeof Qt=="number"?{mainAxis:Qt,altAxis:Qt}:Object.assign({mainAxis:0,altAxis:0},Qt),Jn=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,rt={x:0,y:0};if(yt){if(ce){var pt,Kt=qt==="y"?An:ar,Yr=qt==="y"?dn:Vt,hn=qt==="y"?"height":"width",kr=yt[qt],Ei=kr+ot[Kt],Ts=kr-ot[Yr],Ln=Xe?-sn[hn]/2:0,fn=tn===Br?Yt[hn]:sn[hn],Rt=tn===Br?-sn[hn]:-Yt[hn],si=_.elements.arrow,Ss=Xe&&si?zo(si):{width:0,height:0},Su=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ph=Su[Kt],Cp=Su[Yr],sl=gi(0,Yt[hn],Ss[hn]),mh=ft?Yt[hn]/2-Ln-sl-ph-kn.mainAxis:fn-sl-ph-kn.mainAxis,gh=ft?-Yt[hn]/2+Ln+sl+Cp+kn.mainAxis:Rt+sl+Cp+kn.mainAxis,Lr=_.elements.arrow&&Dr(_.elements.arrow),er=Lr?qt==="y"?Lr.clientTop||0:Lr.clientLeft||0:0,Rc=(pt=Jn==null?void 0:Jn[qt])!=null?pt:0,Cu=kr+gh-Rc,Au=gi(Xe?ki(Ei,kr+mh-Rc-er):Ei,kr,Xe?ii(Ts,Cu):Ts);yt[qt]=Au,rt[qt]=Au-kr}if(Ae){var Mc,Ks=qt==="x"?An:ar,kc=qt==="x"?dn:Vt,Xs=yt[gt],al=gt==="y"?"height":"width",vh=Xs+ot[Ks],yh=Xs-ot[kc],Lc=[An,ar].indexOf(en)!==-1,_h=(Mc=Jn==null?void 0:Jn[gt])!=null?Mc:0,bh=Lc?vh:Xs-Yt[al]-sn[al]-_h+kn.altAxis,wh=Lc?Xs+Yt[al]+sn[al]-_h-kn.altAxis:yh,Oc=Xe&&Lc?function(Ap,kv,Ic){var Eh=gi(Ap,kv,Ic);return Eh>Ic?Ic:Eh}(bh,Xs,wh):gi(Xe?bh:vh,Xs,Xe?wh:yh);yt[gt]=Oc,rt[gt]=Oc-Xs}_.modifiersData[Q]=rt}},requiresIfExists:["offset"]};function lc(z,_,D){D===void 0&&(D=!1);var Q,le,ce=ri(_),be=ri(_)&&function(je){var dt=je.getBoundingClientRect(),Xe=Bt(dt.width)/je.offsetWidth||1,et=Bt(dt.height)/je.offsetHeight||1;return Xe!==1||et!==1}(_),Ae=ds(_),Ie=Li(z,be,D),ze={scrollLeft:0,scrollTop:0},Ve={x:0,y:0};return(ce||!ce&&!D)&&((Fr(_)!=="body"||Ht(Ae))&&(ze=(Q=_)!==yr(Q)&&ri(Q)?{scrollLeft:(le=Q).scrollLeft,scrollTop:le.scrollTop}:Wa(Q)),ri(_)?((Ve=Li(_,!0)).x+=_.clientLeft,Ve.y+=_.clientTop):Ae&&(Ve.x=Xn(Ae))),{x:Ie.left+ze.scrollLeft-Ve.x,y:Ie.top+ze.scrollTop-Ve.y,width:Ie.width,height:Ie.height}}function $o(z){var _=new Map,D=new Set,Q=[];function le(ce){D.add(ce.name),[].concat(ce.requires||[],ce.requiresIfExists||[]).forEach(function(be){if(!D.has(be)){var Ae=_.get(be);Ae&&le(Ae)}}),Q.push(ce)}return z.forEach(function(ce){_.set(ce.name,ce)}),z.forEach(function(ce){D.has(ce.name)||le(ce)}),Q}var uc={placement:"bottom",modifiers:[],strategy:"absolute"};function Go(){for(var z=arguments.length,_=new Array(z),D=0;D<z;D++)_[D]=arguments[D];return!_.some(function(Q){return!(Q&&typeof Q.getBoundingClientRect=="function")})}function ms(z){z===void 0&&(z={});var _=z,D=_.defaultModifiers,Q=D===void 0?[]:D,le=_.defaultOptions,ce=le===void 0?uc:le;return function(be,Ae,Ie){Ie===void 0&&(Ie=ce);var ze,Ve,je={placement:"bottom",orderedModifiers:[],options:Object.assign({},uc,ce),modifiersData:{},elements:{reference:be,popper:Ae},attributes:{},styles:{}},dt=[],Xe=!1,et={state:je,setOptions:function(ot){var en=typeof ot=="function"?ot(je.options):ot;nt(),je.options=Object.assign({},ce,je.options,en),je.scrollParents={reference:fi(be)?Ji(be):be.contextElement?Ji(be.contextElement):[],popper:Ji(Ae)};var tn,ft,qt=function(gt){var yt=$o(gt);return ac.reduce(function(Yt,sn){return Yt.concat(yt.filter(function(Qt){return Qt.phase===sn}))},[])}((tn=[].concat(Q,je.options.modifiers),ft=tn.reduce(function(gt,yt){var Yt=gt[yt.name];return gt[yt.name]=Yt?Object.assign({},Yt,yt,{options:Object.assign({},Yt.options,yt.options),data:Object.assign({},Yt.data,yt.data)}):yt,gt},{}),Object.keys(ft).map(function(gt){return ft[gt]})));return je.orderedModifiers=qt.filter(function(gt){return gt.enabled}),je.orderedModifiers.forEach(function(gt){var yt=gt.name,Yt=gt.options,sn=Yt===void 0?{}:Yt,Qt=gt.effect;if(typeof Qt=="function"){var kn=Qt({state:je,name:yt,instance:et,options:sn});dt.push(kn||function(){})}}),et.update()},forceUpdate:function(){if(!Xe){var ot=je.elements,en=ot.reference,tn=ot.popper;if(Go(en,tn)){je.rects={reference:lc(en,Dr(tn),je.options.strategy==="fixed"),popper:zo(tn)},je.reset=!1,je.placement=je.options.placement,je.orderedModifiers.forEach(function(Qt){return je.modifiersData[Qt.name]=Object.assign({},Qt.data)});for(var ft=0;ft<je.orderedModifiers.length;ft++)if(je.reset!==!0){var qt=je.orderedModifiers[ft],gt=qt.fn,yt=qt.options,Yt=yt===void 0?{}:yt,sn=qt.name;typeof gt=="function"&&(je=gt({state:je,options:Yt,name:sn,instance:et})||je)}else je.reset=!1,ft=-1}}},update:(ze=function(){return new Promise(function(ot){et.forceUpdate(),ot(je)})},function(){return Ve||(Ve=new Promise(function(ot){Promise.resolve().then(function(){Ve=void 0,ot(ze())})})),Ve}),destroy:function(){nt(),Xe=!0}};if(!Go(be,Ae))return et;function nt(){dt.forEach(function(ot){return ot()}),dt=[]}return et.setOptions(Ie).then(function(ot){!Xe&&Ie.onFirstUpdate&&Ie.onFirstUpdate(ot)}),et}}var cc=ms(),dc=ms({defaultModifiers:[fs,eo,qs,zr]}),no=ms({defaultModifiers:[fs,eo,qs,zr,Ja,_i,to,ou,ha]});const fa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Bo,afterRead:cs,afterWrite:Fo,applyStyles:zr,arrow:ou,auto:Us,basePlacements:Cr,beforeMain:Ya,beforeRead:ca,beforeWrite:Ga,bottom:dn,clippingParents:su,computeStyles:qs,createPopper:no,createPopperBase:cc,createPopperLite:dc,detectOverflow:Hr,end:js,eventListeners:fs,flip:_i,hide:ha,left:ar,main:$a,modifierPhases:ac,offset:Ja,placements:or,popper:Bs,popperGenerator:ms,popperOffsets:eo,preventOverflow:to,read:au,reference:Fs,right:Vt,start:Br,top:An,variationPlacements:Mi,viewport:Vs,write:Ar},Symbol.toStringTag,{value:"Module"})),uu="dropdown",Ii=".bs.dropdown",Wo=".data-api",cu="ArrowUp",gs="ArrowDown",hc=`hide${Ii}`,fc=`hidden${Ii}`,pc=`show${Ii}`,mc=`shown${Ii}`,ro=`click${Ii}${Wo}`,Rr=`keydown${Ii}${Wo}`,gc=`keyup${Ii}${Wo}`,$s="show",Mr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${Mr}.${$s}`,A=".dropdown-menu",I=x()?"top-end":"top-start",K=x()?"top-start":"top-end",fe=x()?"bottom-end":"bottom-start",_e=x()?"bottom-start":"bottom-end",Oe=x()?"left-start":"right-start",Pt=x()?"right-start":"left-start",lr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Nt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ln extends we{constructor(_,D){super(_,D),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,A)[0]||ie.prev(this._element,A)[0]||ie.findOne(A,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lr}static get DefaultType(){return Nt}static get NAME(){return uu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!O.trigger(this._element,pc,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const D of[].concat(...document.body.children))O.on(D,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($s),this._element.classList.add($s),O.trigger(this._element,mc,_)}}hide(){if(p(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!O.trigger(this._element,hc,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))O.off(D,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove($s),this._element.classList.remove($s),this._element.setAttribute("aria-expanded","false"),ue.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,fc,_)}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!c(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${uu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(fa===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:c(this._config.reference)?_=d(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const D=this._getPopperConfig();this._popper=no(_,this._menu,D)}_isShown(){return this._menu.classList.contains($s)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return Oe;if(_.classList.contains("dropstart"))return Pt;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const D=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?D?K:I:D?_e:fe}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(D=>Number.parseInt(D,10)):typeof _=="function"?D=>_(D,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ue.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...$(this._config.popperConfig,[_])}}_selectMenuItem({key:_,target:D}){const Q=ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(le=>f(le));Q.length&&H(Q,D,_===gs,!Q.includes(D)).focus()}static jQueryInterface(_){return this.each(function(){const D=ln.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0)throw new TypeError(`No method named "${_}"`);D[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const D=ie.find(m);for(const Q of D){const le=ln.getInstance(Q);if(!le||le._config.autoClose===!1)continue;const ce=_.composedPath(),be=ce.includes(le._menu);if(ce.includes(le._element)||le._config.autoClose==="inside"&&!be||le._config.autoClose==="outside"&&be||le._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const Ae={relatedTarget:le._element};_.type==="click"&&(Ae.clickEvent=_),le._completeHide(Ae)}}static dataApiKeydownHandler(_){const D=/input|textarea/i.test(_.target.tagName),Q=_.key==="Escape",le=[cu,gs].includes(_.key);if(!le&&!Q||D&&!Q)return;_.preventDefault();const ce=this.matches(Mr)?this:ie.prev(this,Mr)[0]||ie.next(this,Mr)[0]||ie.findOne(Mr,_.delegateTarget.parentNode),be=ln.getOrCreateInstance(ce);if(le)return _.stopPropagation(),be.show(),void be._selectMenuItem(_);be._isShown()&&(_.stopPropagation(),be.hide(),ce.focus())}}O.on(document,Rr,Mr,ln.dataApiKeydownHandler),O.on(document,Rr,A,ln.dataApiKeydownHandler),O.on(document,ro,ln.clearMenus),O.on(document,gc,ln.clearMenus),O.on(document,ro,Mr,function(z){z.preventDefault(),ln.getOrCreateInstance(this).toggle()}),L(ln);const Zn="backdrop",vs="show",fr=`mousedown.bs.${Zn}`,ys={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},du={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hu extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return ys}static get DefaultType(){return du}static get NAME(){return Zn}show(_){if(!this._config.isVisible)return void $(_);this._append();const D=this._getElement();this._config.isAnimated&&b(D),D.classList.add(vs),this._emulateAnimation(()=>{$(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(vs),this._emulateAnimation(()=>{this.dispose(),$(_)})):$(_)}dispose(){this._isAppended&&(O.off(this._element,fr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=d(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),O.on(_,fr,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){Y(_,this._getElement(),this._config.isAnimated)}}const fu=".bs.focustrap",sp=`focusin${fu}`,Yd=`keydown.tab${fu}`,vc="backward",ap={autofocus:!0,trapElement:null},op={autofocus:"boolean",trapElement:"element"};class $d extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ap}static get DefaultType(){return op}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,fu),O.on(document,sp,_=>this._handleFocusin(_)),O.on(document,Yd,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,fu))}_handleFocusin(_){const{trapElement:D}=this._config;if(_.target===document||_.target===D||D.contains(_.target))return;const Q=ie.focusableChildren(D);Q.length===0?D.focus():this._lastTabNavDirection===vc?Q[Q.length-1].focus():Q[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?vc:"forward")}}const lp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",up=".sticky-top",yc="padding-right",cp="margin-right";class Gd{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yc,D=>D+_),this._setElementAttributes(lp,yc,D=>D+_),this._setElementAttributes(up,cp,D=>D-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yc),this._resetElementAttributes(lp,yc),this._resetElementAttributes(up,cp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,D,Q){const le=this.getWidth();this._applyManipulationCallback(_,ce=>{if(ce!==this._element&&window.innerWidth>ce.clientWidth+le)return;this._saveInitialAttribute(ce,D);const be=window.getComputedStyle(ce).getPropertyValue(D);ce.style.setProperty(D,`${Q(Number.parseFloat(be))}px`)})}_saveInitialAttribute(_,D){const Q=_.style.getPropertyValue(D);Q&&ue.setDataAttribute(_,D,Q)}_resetElementAttributes(_,D){this._applyManipulationCallback(_,Q=>{const le=ue.getDataAttribute(Q,D);le!==null?(ue.removeDataAttribute(Q,D),Q.style.setProperty(D,le)):Q.style.removeProperty(D)})}_applyManipulationCallback(_,D){if(c(_))D(_);else for(const Q of ie.find(_,this._element))D(Q)}}const xn=".bs.modal",pu=`hide${xn}`,dp=`hidePrevented${xn}`,Wd=`hidden${xn}`,Qd=`show${xn}`,hp=`shown${xn}`,Kd=`resize${xn}`,xv=`click.dismiss${xn}`,Qo=`mousedown.dismiss${xn}`,Xd=`keydown.dismiss${xn}`,mu=`click${xn}.data-api`,_c="modal-open",Zd="show",Gs="modal-static",Ko={backdrop:!0,focus:!0,keyboard:!0},Jd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class pa extends we{constructor(_,D){super(_,D),this._dialog=ie.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Gd,this._addEventListeners()}static get Default(){return Ko}static get DefaultType(){return Jd}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||O.trigger(this._element,Qd,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_c),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,pu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Zd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,xn),O.off(this._dialog,xn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $d({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const D=ie.findOne(".modal-body",this._dialog);D&&(D.scrollTop=0),b(this._element),this._element.classList.add(Zd),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,hp,{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,Xd,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,Kd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,Qo,_=>{O.one(this._element,xv,D=>{this._element===_.target&&this._element===D.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_c),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Wd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,dp).defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,D=this._element.style.overflowY;D==="hidden"||this._element.classList.contains(Gs)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(Gs),this._queueCallback(()=>{this._element.classList.remove(Gs),this._queueCallback(()=>{this._element.style.overflowY=D},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,D=this._scrollBar.getWidth(),Q=D>0;if(Q&&!_){const le=x()?"paddingLeft":"paddingRight";this._element.style[le]=`${D}px`}if(!Q&&_){const le=x()?"paddingRight":"paddingLeft";this._element.style[le]=`${D}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,D){return this.each(function(){const Q=pa.getOrCreateInstance(this,_);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_](D)}})}}O.on(document,mu,'[data-bs-toggle="modal"]',function(z){const _=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&z.preventDefault(),O.one(_,Qd,Q=>{Q.defaultPrevented||O.one(_,Wd,()=>{f(this)&&this.focus()})});const D=ie.findOne(".modal.show");D&&pa.getInstance(D).hide(),pa.getOrCreateInstance(_).toggle(this)}),xe(pa),L(pa);const qr=".bs.offcanvas",eh=".data-api",fp=`load${qr}${eh}`,th="show",pp="showing",mp="hiding",gp=".offcanvas.show",vp=`show${qr}`,yp=`shown${qr}`,nh=`hide${qr}`,Pi=`hidePrevented${qr}`,rh=`hidden${qr}`,Ni=`resize${qr}`,Ui=`click${qr}${eh}`,Xo=`keydown.dismiss${qr}`,ih={backdrop:!0,keyboard:!0,scroll:!1},bc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ji extends we{constructor(_,D){super(_,D),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ih}static get DefaultType(){return bc}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||O.trigger(this._element,vp,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Gd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pp),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(th),this._element.classList.remove(pp),O.trigger(this._element,yp,{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,nh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(mp),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(th,mp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Gd().reset(),O.trigger(this._element,rh)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new hu({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,Pi)}:null})}_initializeFocusTrap(){return new $d({trapElement:this._element})}_addEventListeners(){O.on(this._element,Xo,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,Pi))})}static jQueryInterface(_){return this.each(function(){const D=ji.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);D[_](this)}})}}O.on(document,Ui,'[data-bs-toggle="offcanvas"]',function(z){const _=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&z.preventDefault(),p(this))return;O.one(_,rh,()=>{f(this)&&this.focus()});const D=ie.findOne(gp);D&&D!==_&&ji.getInstance(D).hide(),ji.getOrCreateInstance(_).toggle(this)}),O.on(window,fp,()=>{for(const z of ie.find(gp))ji.getOrCreateInstance(z).show()}),O.on(window,Ni,()=>{for(const z of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(z).position!=="fixed"&&ji.getOrCreateInstance(z).hide()}),xe(ji),L(ji);const wc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Zo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_p=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ec=(z,_)=>{const D=z.nodeName.toLowerCase();return _.includes(D)?!Zo.has(D)||!!_p.test(z.nodeValue):_.filter(Q=>Q instanceof RegExp).some(Q=>Q.test(D))},Jo={allowList:wc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bi={entry:"(string|element|function|null)",selector:"(string|element)"};class sh extends Z{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return Jo}static get DefaultType(){return Dv}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[le,ce]of Object.entries(this._config.content))this._setContent(_,ce,le);const D=_.children[0],Q=this._resolvePossibleFunction(this._config.extraClass);return Q&&D.classList.add(...Q.split(" ")),D}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[D,Q]of Object.entries(_))super._typeCheckConfig({selector:D,entry:Q},bi)}_setContent(_,D,Q){const le=ie.findOne(Q,_);le&&((D=this._resolvePossibleFunction(D))?c(D)?this._putElementInTemplate(d(D),le):this._config.html?le.innerHTML=this._maybeSanitize(D):le.textContent=D:le.remove())}_maybeSanitize(_){return this._config.sanitize?function(D,Q,le){if(!D.length)return D;if(le&&typeof le=="function")return le(D);const ce=new window.DOMParser().parseFromString(D,"text/html"),be=[].concat(...ce.body.querySelectorAll("*"));for(const Ae of be){const Ie=Ae.nodeName.toLowerCase();if(!Object.keys(Q).includes(Ie)){Ae.remove();continue}const ze=[].concat(...Ae.attributes),Ve=[].concat(Q["*"]||[],Q[Ie]||[]);for(const je of ze)Ec(je,Ve)||Ae.removeAttribute(je.nodeName)}return ce.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return $(_,[this])}_putElementInTemplate(_,D){if(this._config.html)return D.innerHTML="",void D.append(_);D.textContent=_.textContent}}const Ws=new Set(["sanitize","allowList","sanitizeFn"]),Tc="fade",io="show",ma=".modal",Sc="hide.bs.modal",so="hover",ga="focus",el={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},Cc={allowList:wc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ac={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pr extends we{constructor(_,D){if(fa===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,D),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Cc}static get DefaultType(){return Ac}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(ma),Sc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=O.trigger(this._element,this.constructor.eventName("show")),D=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!D)return;this._disposePopper();const Q=this._getTipElement();this._element.setAttribute("aria-describedby",Q.getAttribute("id"));const{container:le}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(le.append(Q),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Q),Q.classList.add(io),"ontouchstart"in document.documentElement)for(const ce of[].concat(...document.body.children))O.on(ce,"mouseover",v);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(io),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))O.off(_,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[ga]=!1,this._activeTrigger[so]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const D=this._getTemplateFactory(_).toHtml();if(!D)return null;D.classList.remove(Tc,io),D.classList.add(`bs-${this.constructor.NAME}-auto`);const Q=(le=>{do le+=Math.floor(1e6*Math.random());while(document.getElementById(le));return le})(this.constructor.NAME).toString();return D.setAttribute("id",Q),this._isAnimated()&&D.classList.add(Tc),D}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new sh({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tc)}_isShown(){return this.tip&&this.tip.classList.contains(io)}_createPopper(_){const D=$(this._config.placement,[this,_,this._element]),Q=el[D.toUpperCase()];return no(this._element,_,this._getPopperConfig(Q))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(D=>Number.parseInt(D,10)):typeof _=="function"?D=>_(D,this._element):_}_resolvePossibleFunction(_){return $(_,[this._element])}_getPopperConfig(_){const D={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Q=>{this._getTipElement().setAttribute("data-popper-placement",Q.state.placement)}}]};return{...D,...$(this._config.popperConfig,[D])}}_setListeners(){const _=this._config.trigger.split(" ");for(const D of _)if(D==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,Q=>{this._initializeOnDelegatedTarget(Q).toggle()});else if(D!=="manual"){const Q=D===so?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),le=D===so?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,Q,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusin"?ga:so]=!0,be._enter()}),O.on(this._element,le,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusout"?ga:so]=be._element.contains(ce.relatedTarget),be._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(ma),Sc,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,D){clearTimeout(this._timeout),this._timeout=setTimeout(_,D)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const D=ue.getDataAttributes(this._element);for(const Q of Object.keys(D))Ws.has(Q)&&delete D[Q];return _={...D,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:d(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[D,Q]of Object.entries(this._config))this.constructor.Default[D]!==Q&&(_[D]=Q);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const D=pr.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0)throw new TypeError(`No method named "${_}"`);D[_]()}})}}L(pr);const Vi={...pr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ao={...pr.DefaultType,content:"(null|string|element|function)"};class Bi extends pr{static get Default(){return Vi}static get DefaultType(){return ao}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const D=Bi.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0)throw new TypeError(`No method named "${_}"`);D[_]()}})}}L(Bi);const es=".bs.scrollspy",oo=`activate${es}`,ah=`click${es}`,oh=`load${es}.data-api`,va="active",_r="[href]",Mn=".nav-link",Wt=`${Mn}, .nav-item > ${Mn}, .list-group-item`,lo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},_s={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class uo extends we{constructor(_,D){super(_,D),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return lo}static get DefaultType(){return _s}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=d(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(D=>Number.parseFloat(D))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,ah),O.on(this._config.target,ah,_r,_=>{const D=this._observableSections.get(_.target.hash);if(D){_.preventDefault();const Q=this._rootElement||window,le=D.offsetTop-this._element.offsetTop;if(Q.scrollTo)return void Q.scrollTo({top:le,behavior:"smooth"});Q.scrollTop=le}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(D=>this._observerCallback(D),_)}_observerCallback(_){const D=be=>this._targetLinks.get(`#${be.target.id}`),Q=be=>{this._previousScrollData.visibleEntryTop=be.target.offsetTop,this._process(D(be))},le=(this._rootElement||document.documentElement).scrollTop,ce=le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=le;for(const be of _){if(!be.isIntersecting){this._activeTarget=null,this._clearActiveClass(D(be));continue}const Ae=be.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ce&&Ae){if(Q(be),!le)return}else ce||Ae||Q(be)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=ie.find(_r,this._config.target);for(const D of _){if(!D.hash||p(D))continue;const Q=ie.findOne(decodeURI(D.hash),this._element);f(Q)&&(this._targetLinks.set(decodeURI(D.hash),D),this._observableSections.set(D.hash,Q))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(va),this._activateParents(_),O.trigger(this._element,oo,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))ie.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(va);else for(const D of ie.parents(_,".nav, .list-group"))for(const Q of ie.prev(D,Wt))Q.classList.add(va)}_clearActiveClass(_){_.classList.remove(va);const D=ie.find(`${_r}.${va}`,_);for(const Q of D)Q.classList.remove(va)}static jQueryInterface(_){return this.each(function(){const D=uo.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);D[_]()}})}}O.on(window,oh,()=>{for(const z of ie.find('[data-bs-spy="scroll"]'))uo.getOrCreateInstance(z)}),L(uo);const wi=".bs.tab",bp=`hide${wi}`,wp=`hidden${wi}`,gu=`show${wi}`,vu=`shown${wi}`,Ep=`click${wi}`,yu=`keydown${wi}`,lh=`load${wi}`,co="ArrowLeft",bs="ArrowRight",ya="ArrowUp",ws="ArrowDown",_u="Home",xc="End",ts="active",bu="fade",Qs="show",br=".dropdown-toggle",tl=`:not(${br})`,uh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ch=`.nav-link${tl}, .list-group-item${tl}, [role="tab"]${tl}, ${uh}`,Rv=`.${ts}[data-bs-toggle="tab"], .${ts}[data-bs-toggle="pill"], .${ts}[data-bs-toggle="list"]`;class ho extends we{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,yu,D=>this._keydown(D)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const D=this._getActiveElem(),Q=D?O.trigger(D,bp,{relatedTarget:_}):null;O.trigger(_,gu,{relatedTarget:D}).defaultPrevented||Q&&Q.defaultPrevented||(this._deactivate(D,_),this._activate(_,D))}_activate(_,D){_&&(_.classList.add(ts),this._activate(ie.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),O.trigger(_,vu,{relatedTarget:D})):_.classList.add(Qs)},_,_.classList.contains(bu)))}_deactivate(_,D){_&&(_.classList.remove(ts),_.blur(),this._deactivate(ie.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),O.trigger(_,wp,{relatedTarget:D})):_.classList.remove(Qs)},_,_.classList.contains(bu)))}_keydown(_){if(![co,bs,ya,ws,_u,xc].includes(_.key))return;_.stopPropagation(),_.preventDefault();const D=this._getChildren().filter(le=>!p(le));let Q;if([_u,xc].includes(_.key))Q=D[_.key===_u?0:D.length-1];else{const le=[bs,ws].includes(_.key);Q=H(D,_.target,le,!0)}Q&&(Q.focus({preventScroll:!0}),ho.getOrCreateInstance(Q).show())}_getChildren(){return ie.find(ch,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,D){this._setAttributeIfNotExists(_,"role","tablist");for(const Q of D)this._setInitialAttributesOnChild(Q)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const D=this._elemIsActive(_),Q=this._getOuterElement(_);_.setAttribute("aria-selected",D),Q!==_&&this._setAttributeIfNotExists(Q,"role","presentation"),D||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const D=ie.getElementFromSelector(_);D&&(this._setAttributeIfNotExists(D,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(D,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,D){const Q=this._getOuterElement(_);if(!Q.classList.contains("dropdown"))return;const le=(ce,be)=>{const Ae=ie.findOne(ce,Q);Ae&&Ae.classList.toggle(be,D)};le(br,ts),le(".dropdown-menu",Qs),Q.setAttribute("aria-expanded",D)}_setAttributeIfNotExists(_,D,Q){_.hasAttribute(D)||_.setAttribute(D,Q)}_elemIsActive(_){return _.classList.contains(ts)}_getInnerElement(_){return _.matches(ch)?_:ie.findOne(ch,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const D=ho.getOrCreateInstance(this);if(typeof _=="string"){if(D[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);D[_]()}})}}O.on(document,Ep,uh,function(z){["A","AREA"].includes(this.tagName)&&z.preventDefault(),p(this)||ho.getOrCreateInstance(this).show()}),O.on(window,lh,()=>{for(const z of ie.find(Rv))ho.getOrCreateInstance(z)}),L(ho);const _n=".bs.toast",dh=`mouseover${_n}`,wu=`mouseout${_n}`,Eu=`focusin${_n}`,hh=`focusout${_n}`,nl=`hide${_n}`,rl=`hidden${_n}`,Mv=`show${_n}`,Tp=`shown${_n}`,Sp="hide",Tu="show",Es="showing",fh={animation:"boolean",autohide:"boolean",delay:"number"},Dc={animation:!0,autohide:!0,delay:5e3};class il extends we{constructor(_,D){super(_,D),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Dc}static get DefaultType(){return fh}static get NAME(){return"toast"}show(){O.trigger(this._element,Mv).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Sp),b(this._element),this._element.classList.add(Tu,Es),this._queueCallback(()=>{this._element.classList.remove(Es),O.trigger(this._element,Tp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,nl).defaultPrevented||(this._element.classList.add(Es),this._queueCallback(()=>{this._element.classList.add(Sp),this._element.classList.remove(Es,Tu),O.trigger(this._element,rl)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tu),super.dispose()}isShown(){return this._element.classList.contains(Tu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,D){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=D;break;case"focusin":case"focusout":this._hasKeyboardInteraction=D}if(D)return void this._clearTimeout();const Q=_.relatedTarget;this._element===Q||this._element.contains(Q)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,dh,_=>this._onInteraction(_,!0)),O.on(this._element,wu,_=>this._onInteraction(_,!1)),O.on(this._element,Eu,_=>this._onInteraction(_,!0)),O.on(this._element,hh,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const D=il.getOrCreateInstance(this,_);if(typeof _=="string"){if(D[_]===void 0)throw new TypeError(`No method named "${_}"`);D[_](this)}})}}return xe(il),L(il),{Alert:Se,Button:Le,Carousel:Cn,Collapse:Vr,Dropdown:ln,Modal:pa,Offcanvas:ji,Popover:Bi,ScrollSpy:uo,Tab:ho,Toast:il,Tooltip:pr}})}(Gm)),Gm.exports}zz();bk.createRoot(document.getElementById("root")).render(R.jsx(ve.StrictMode,{children:R.jsx(Bz,{})}));
