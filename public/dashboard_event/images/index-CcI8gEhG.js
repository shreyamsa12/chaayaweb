var Ak=Object.defineProperty;var Dk=(r,e,t)=>e in r?Ak(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ye=(r,e,t)=>Dk(r,typeof e!="symbol"?e+"":e,t);function Rk(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function D0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zy={exports:{}},tf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function Mk(){if(C1)return tf;C1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:a}}return tf.Fragment=e,tf.jsx=t,tf.jsxs=t,tf}var x1;function kk(){return x1||(x1=1,Zy.exports=Mk()),Zy.exports}var S=kk(),Jy={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function Ik(){if(A1)return At;A1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function D(L,re,ae){this.props=L,this.context=re,this.refs=R,this.updater=ae||b}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=D.prototype;function Y(L,re,ae){this.props=L,this.context=re,this.refs=R,this.updater=ae||b}var $=Y.prototype=new k;$.constructor=Y,E($,D.prototype),$.isPureReactComponent=!0;var z=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function N(L,re,ae,ie,oe,Z){return ae=Z.ref,{$$typeof:r,type:L,key:re,ref:ae!==void 0?ae:null,props:Z}}function x(L,re){return N(L.type,re,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function I(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return re[ae]})}var j=/\/+/g;function B(L,re){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):re.toString(36)}function U(){}function X(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(U,U):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,re,ae,ie,oe){var Z=typeof L;(Z==="undefined"||Z==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(Z){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case r:case e:we=!0;break;case p:return we=L._init,J(we(L._payload),re,ae,ie,oe)}}if(we)return oe=oe(L),we=ie===""?"."+B(L,0):ie,z(oe)?(ae="",we!=null&&(ae=we.replace(j,"$&/")+"/"),J(oe,re,ae,"",function(Fe){return Fe})):oe!=null&&(C(oe)&&(oe=x(oe,ae+(oe.key==null||L&&L.key===oe.key?"":(""+oe.key).replace(j,"$&/")+"/")+we)),re.push(oe)),1;we=0;var je=ie===""?".":ie+":";if(z(L))for(var me=0;me<L.length;me++)ie=L[me],Z=je+B(ie,me),we+=J(ie,re,ae,Z,oe);else if(me=v(L),typeof me=="function")for(L=me.call(L),me=0;!(ie=L.next()).done;)ie=ie.value,Z=je+B(ie,me++),we+=J(ie,re,ae,Z,oe);else if(Z==="object"){if(typeof L.then=="function")return J(X(L),re,ae,ie,oe);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function P(L,re,ae){if(L==null)return L;var ie=[],oe=0;return J(L,ie,"","",function(Z){return re.call(ae,Z,oe++)}),ie}function F(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var ee=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ne(){}return At.Children={map:P,forEach:function(L,re,ae){P(L,function(){re.apply(this,arguments)},ae)},count:function(L){var re=0;return P(L,function(){re++}),re},toArray:function(L){return P(L,function(re){return re})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},At.Component=D,At.Fragment=t,At.Profiler=i,At.PureComponent=Y,At.StrictMode=n,At.Suspense=d,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,At.__COMPILER_RUNTIME={__proto__:null,c:function(L){return G.H.useMemoCache(L)}},At.cache=function(L){return function(){return L.apply(null,arguments)}},At.cloneElement=function(L,re,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ie=E({},L.props),oe=L.key,Z=void 0;if(re!=null)for(we in re.ref!==void 0&&(Z=void 0),re.key!==void 0&&(oe=""+re.key),re)!H.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ie[we]=re[we]);var we=arguments.length-2;if(we===1)ie.children=ae;else if(1<we){for(var je=Array(we),me=0;me<we;me++)je[me]=arguments[me+2];ie.children=je}return N(L.type,oe,void 0,void 0,Z,ie)},At.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},At.createElement=function(L,re,ae){var ie,oe={},Z=null;if(re!=null)for(ie in re.key!==void 0&&(Z=""+re.key),re)H.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(oe[ie]=re[ie]);var we=arguments.length-2;if(we===1)oe.children=ae;else if(1<we){for(var je=Array(we),me=0;me<we;me++)je[me]=arguments[me+2];oe.children=je}if(L&&L.defaultProps)for(ie in we=L.defaultProps,we)oe[ie]===void 0&&(oe[ie]=we[ie]);return N(L,Z,void 0,void 0,null,oe)},At.createRef=function(){return{current:null}},At.forwardRef=function(L){return{$$typeof:u,render:L}},At.isValidElement=C,At.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:F}},At.memo=function(L,re){return{$$typeof:f,type:L,compare:re===void 0?null:re}},At.startTransition=function(L){var re=G.T,ae={};G.T=ae;try{var ie=L(),oe=G.S;oe!==null&&oe(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ne,ee)}catch(Z){ee(Z)}finally{G.T=re}},At.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},At.use=function(L){return G.H.use(L)},At.useActionState=function(L,re,ae){return G.H.useActionState(L,re,ae)},At.useCallback=function(L,re){return G.H.useCallback(L,re)},At.useContext=function(L){return G.H.useContext(L)},At.useDebugValue=function(){},At.useDeferredValue=function(L,re){return G.H.useDeferredValue(L,re)},At.useEffect=function(L,re,ae){var ie=G.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(L,re)},At.useId=function(){return G.H.useId()},At.useImperativeHandle=function(L,re,ae){return G.H.useImperativeHandle(L,re,ae)},At.useInsertionEffect=function(L,re){return G.H.useInsertionEffect(L,re)},At.useLayoutEffect=function(L,re){return G.H.useLayoutEffect(L,re)},At.useMemo=function(L,re){return G.H.useMemo(L,re)},At.useOptimistic=function(L,re){return G.H.useOptimistic(L,re)},At.useReducer=function(L,re,ae){return G.H.useReducer(L,re,ae)},At.useRef=function(L){return G.H.useRef(L)},At.useState=function(L){return G.H.useState(L)},At.useSyncExternalStore=function(L,re,ae){return G.H.useSyncExternalStore(L,re,ae)},At.useTransition=function(){return G.H.useTransition()},At.version="19.1.0",At}var D1;function R0(){return D1||(D1=1,Jy.exports=Ik()),Jy.exports}var T=R0();const ve=D0(T),Lk=Rk({__proto__:null,default:ve},[T]);var e_={exports:{}},nf={},t_={exports:{}},n_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function Ok(){return R1||(R1=1,function(r){function e(P,F){var ee=P.length;P.push(F);e:for(;0<ee;){var ne=ee-1>>>1,L=P[ne];if(0<i(L,F))P[ne]=F,P[ee]=L,ee=ne;else break e}}function t(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var F=P[0],ee=P.pop();if(ee!==F){P[0]=ee;e:for(var ne=0,L=P.length,re=L>>>1;ne<re;){var ae=2*(ne+1)-1,ie=P[ae],oe=ae+1,Z=P[oe];if(0>i(ie,ee))oe<L&&0>i(Z,ie)?(P[ne]=Z,P[oe]=ee,ne=oe):(P[ne]=ie,P[ae]=ee,ne=ae);else if(oe<L&&0>i(Z,ee))P[ne]=Z,P[oe]=ee,ne=oe;else break e}}return F}function i(P,F){var ee=P.sortIndex-F.sortIndex;return ee!==0?ee:P.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,b=!1,E=!1,R=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function z(P){for(var F=t(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=P)n(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=t(f)}}function G(P){if(R=!1,z(P),!E)if(t(d)!==null)E=!0,H||(H=!0,B());else{var F=t(f);F!==null&&J(G,F.startTime-P)}}var H=!1,N=-1,x=5,C=-1;function I(){return D?!0:!(r.unstable_now()-C<x)}function j(){if(D=!1,H){var P=r.unstable_now();C=P;var F=!0;try{e:{E=!1,R&&(R=!1,Y(N),N=-1),b=!0;var ee=v;try{t:{for(z(P),g=t(d);g!==null&&!(g.expirationTime>P&&I());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,v=g.priorityLevel;var L=ne(g.expirationTime<=P);if(P=r.unstable_now(),typeof L=="function"){g.callback=L,z(P),F=!0;break t}g===t(d)&&n(d),z(P)}else n(d);g=t(d)}if(g!==null)F=!0;else{var re=t(f);re!==null&&J(G,re.startTime-P),F=!1}}break e}finally{g=null,v=ee,b=!1}F=void 0}}finally{F?B():H=!1}}}var B;if(typeof $=="function")B=function(){$(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=j,B=function(){X.postMessage(null)}}else B=function(){k(j,0)};function J(P,F){N=k(function(){P(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(P){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var ee=v;v=F;try{return P()}finally{v=ee}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ee=v;v=P;try{return F()}finally{v=ee}},r.unstable_scheduleCallback=function(P,F,ee){var ne=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ee+L,P={id:p++,callback:F,priorityLevel:P,startTime:ee,expirationTime:L,sortIndex:-1},ee>ne?(P.sortIndex=ee,e(f,P),t(d)===null&&P===t(f)&&(R?(Y(N),N=-1):R=!0,J(G,ee-ne))):(P.sortIndex=L,e(d,P),E||b||(E=!0,H||(H=!0,B()))),P},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(P){var F=v;return function(){var ee=v;v=F;try{return P.apply(this,arguments)}finally{v=ee}}}}(n_)),n_}var M1;function Nk(){return M1||(M1=1,t_.exports=Ok()),t_.exports}var r_={exports:{}},vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function Pk(){if(k1)return vi;k1=1;var r=R0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},vi.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},vi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},vi.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},vi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},vi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},vi.requestFormReset=function(d){n.d.r(d)},vi.unstable_batchedUpdates=function(d,f){return d(f)},vi.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},vi.useFormStatus=function(){return l.H.useHostTransitionStatus()},vi.version="19.1.0",vi}var I1;function Nx(){if(I1)return r_.exports;I1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),r_.exports=Pk(),r_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function jk(){if(L1)return nf;L1=1;var r=Nk(),e=R0(),t=Nx();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(n(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,h=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return u(y),s;if(w===h)return u(y),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=y,h=w;else{for(var V=!1,W=y.child;W;){if(W===c){V=!0,c=y,h=w;break}if(W===h){V=!0,h=y,c=w;break}W=W.sibling}if(!V){for(W=w.child;W;){if(W===c){V=!0,c=w,h=y;break}if(W===h){V=!0,h=w,c=y;break}W=W.sibling}if(!V)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case $:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return o=s.displayName||null,o!==null?o:X(s.type)||"Memo";case x:o=s._payload,s=s._init;try{return X(s(o))}catch{}}return null}var J=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],L=-1;function re(s){return{current:s}}function ae(s){0>L||(s.current=ne[L],ne[L]=null,L--)}function ie(s,o){L++,ne[L]=s.current,s.current=o}var oe=re(null),Z=re(null),we=re(null),je=re(null);function me(s,o){switch(ie(we,o),ie(Z,s),ie(oe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?JE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=JE(o),s=e1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(oe),ie(oe,s)}function Fe(){ae(oe),ae(Z),ae(we)}function Ie(s){s.memoizedState!==null&&ie(je,s);var o=oe.current,c=e1(o,s.type);o!==c&&(ie(Z,s),ie(oe,c))}function He(s){Z.current===s&&(ae(oe),ae(Z)),je.current===s&&(ae(je),Kh._currentValue=ee)}var de=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,ke=r.unstable_shouldYield,Ze=r.unstable_requestPaint,Qe=r.unstable_now,lt=r.unstable_getCurrentPriorityLevel,Kt=r.unstable_ImmediatePriority,vn=r.unstable_UserBlockingPriority,Pt=r.unstable_NormalPriority,Gn=r.unstable_LowPriority,zt=r.unstable_IdlePriority,xt=r.log,ln=r.unstable_setDisableYieldValue,Rt=null,pt=null;function Tt(s){if(typeof xt=="function"&&ln(s),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Rt,s)}catch{}}var kt=Math.clz32?Math.clz32:En,yn=Math.log,Wn=Math.LN2;function En(s){return s>>>=0,s===0?32:31-(yn(s)/Wn|0)|0}var Un=256,zn=4194304;function kn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xr(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var y=0,w=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var W=h&134217727;return W!==0?(h=W&~w,h!==0?y=kn(h):(V&=W,V!==0?y=kn(V):c||(c=W&~s,c!==0&&(y=kn(c))))):(W=h&~w,W!==0?y=kn(W):V!==0?y=kn(V):c||(c=h&~s,c!==0&&(y=kn(c)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:y}function Or(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function fi(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(){var s=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),s}function hr(){var s=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),s}function br(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ae(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pe(s,o,c,h,y,w){var V=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var W=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(c=V&~c;0<c;){var Te=31-kt(c),Re=1<<Te;W[Te]=0,te[Te]=-1;var ge=pe[Te];if(ge!==null)for(pe[Te]=null,Te=0;Te<ge.length;Te++){var ye=ge[Te];ye!==null&&(ye.lane&=-536870913)}c&=~Re}h!==0&&Ke(s,h,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(V&~o))}function Ke(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-kt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function St(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-kt(c),y=1<<h;y&o|s[h]&o&&(s[h]|=o),c&=~y}}function Gt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function gt(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:_1(s.type))}function tt(s,o){var c=F.p;try{return F.p=s,o()}finally{F.p=c}}var We=Math.random().toString(36).slice(2),Le="__reactFiber$"+We,It="__reactProps$"+We,pn="__reactContainer$"+We,wr="__reactEvents$"+We,Pr="__reactListeners$"+We,cn="__reactHandles$"+We,xr="__reactResources$"+We,Qn="__reactMarker$"+We;function jr(s){delete s[Le],delete s[It],delete s[wr],delete s[Pr],delete s[cn]}function rs(s){var o=s[Le];if(o)return o;for(var c=s.parentNode;c;){if(o=c[pn]||c[Le]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=i1(s);s!==null;){if(c=s[Le])return c;s=i1(s)}return o}s=c,c=s.parentNode}return null}function Ar(s){if(s=s[Le]||s[pn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Pn(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Tn(s){var o=s[xr];return o||(o=s[xr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Wt(s){s[Qn]=!0}var fr=new Set,Qs={};function Ur(s,o){Zr(s,o),Zr(s+"Capture",o)}function Zr(s,o){for(Qs[s]=o,s=0;s<o.length;s++)fr.add(o[s])}var Ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},Xs={};function Zs(s){return de.call(Xs,s)?!0:de.call(hc,s)?!1:Ks.test(s)?Xs[s]=!0:(hc[s]=!0,!1)}function Js(s,o,c){if(Zs(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Vi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function pr(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}var Ta,fc;function bs(s){if(Ta===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Ta=o&&o[1]||"",fc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+s+fc}var to=!1;function no(s,o){if(!s||to)return"";to=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var ge=ye}Reflect.construct(s,[],Re)}else{try{Re.call()}catch(ye){ge=ye}s.call(Re.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(Re=s())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),V=w[0],W=w[1];if(V&&W){var te=V.split(`
`),pe=W.split(`
`);for(y=h=0;h<te.length&&!te[h].includes("DetermineComponentFrameRoot");)h++;for(;y<pe.length&&!pe[y].includes("DetermineComponentFrameRoot");)y++;if(h===te.length||y===pe.length)for(h=te.length-1,y=pe.length-1;1<=h&&0<=y&&te[h]!==pe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(te[h]!==pe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||te[h]!==pe[y]){var Te=`
`+te[h].replace(" at new "," at ");return s.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",s.displayName)),Te}while(1<=h&&0<=y);break}}}finally{to=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?bs(c):""}function Xo(s){switch(s.tag){case 26:case 27:case 5:return bs(s.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return no(s.type,!1);case 11:return no(s.type.render,!1);case 1:return no(s.type,!0);case 31:return bs("Activity");default:return""}}function ro(s){try{var o="";do o+=Xo(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Vr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pu(s){var o=Zo(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(V){h=""+V,w.call(this,V)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(V){h=""+V},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Jr(s){s._valueTracker||(s._valueTracker=pu(s))}function Dr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Zo(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Ti(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pi=/[\n"\\]/g;function Kn(s){return s.replace(pi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ei(s,o,c,h,y,w,V,W){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),o!=null?V==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Vr(o)):s.value!==""+Vr(o)&&(s.value=""+Vr(o)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),o!=null?mi(s,V,Vr(o)):c!=null?mi(s,V,Vr(c)):h!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.name=""+Vr(W):s.removeAttribute("name")}function Fr(s,o,c,h,y,w,V,W){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+Vr(c):"",o=o!=null?""+Vr(o):c,W||o===s.value||(s.value=o),s.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=W?s.checked:!!h,s.defaultChecked=!!h,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function mi(s,o,c){o==="number"&&Ti(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Fi(s,o,c,h){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Vr(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Qt(s,o,c){if(o!=null&&(o=""+Vr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Vr(c):""}function ea(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Vr(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Si(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||Bi.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function el(s,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Jo(s,y,h)}else for(var w in o)o.hasOwnProperty(w)&&Jo(s,w,o[w])}function Ci(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(s){return ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Es=null;function Br(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,xi=null;function tl(s){var o=Ar(s);if(o&&(s=o.stateNode)){var c=s[It]||null;e:switch(s=o.stateNode,o.type){case"input":if(ei(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Kn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var y=h[It]||null;if(!y)throw Error(n(90));ei(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&Dr(h)}break e;case"textarea":Qt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Fi(s,!!c.multiple,o,!1)}}}var ss=!1;function pc(s,o,c){if(ss)return s(o,c);ss=!0;try{var h=s(o);return h}finally{if(ss=!1,(is!==null||xi!==null)&&(Qp(),is&&(o=is,s=xi,xi=is=null,tl(o),s)))for(o=0;o<s.length;o++)tl(s[o])}}function zi(s,o){var c=s.stateNode;if(c===null)return null;var h=c[It]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(as)try{var na={};Object.defineProperty(na,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Ai=!1}var Di=null,Ts=null,ra=null;function Sa(){if(ra)return ra;var s,o=Ts,c=o.length,h,y="value"in Di?Di.value:Di.textContent,w=y.length;for(s=0;s<c&&o[s]===y[s];s++);var V=c-s;for(h=1;h<=V&&o[c-h]===y[w-h];h++);return ra=y.slice(s,1<h?1-h:void 0)}function Ss(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function io(){return!1}function ir(s){function o(c,h,y,w,V){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(c=s[W],this[W]=c?c(w):w[W]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:io,this.isPropagationStopped=io,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=ir(Xt),ls=p({},Xt,{view:0,detail:0}),nl=ir(ls),ao,oo,ti,lo=p({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ti&&(ti&&s.type==="mousemove"?(ao=s.screenX-ti.screenX,oo=s.screenY-ti.screenY):oo=ao=0,ti=s),ao)},movementY:function(s){return"movementY"in s?s.movementY:oo}}),Ri=ir(lo),mc=p({},lo,{dataTransfer:0}),mu=ir(mc),Ca=p({},ls,{relatedTarget:0}),co=ir(Ca),uo=p({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=ir(uo),gu=p({},Xt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rl=ir(gu),vu=p({},Xt,{data:0}),il=ir(vu),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_u[s])?!!o[s]:!1}function xa(){return fo}var gc=p({},ls,{key:function(s){if(s.key){var o=Cs[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ss(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(s){return s.type==="keypress"?Ss(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ss(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hi=ir(gc),sl=p({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=ir(sl),xs=p({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),bu=ir(xs),wu=p({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=ir(wu),Tu=p({},lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),po=ir(Tu),zr=p({},Xt,{newState:0,oldState:0}),Su=ir(zr),ia=[9,13,27,32],Hr=as&&"CompositionEvent"in window,m=null;as&&"documentMode"in document&&(m=document.documentMode);var A=as&&"TextEvent"in window&&!m,O=as&&(!Hr||m&&8<m&&11>=m),K=" ",he=!1;function _e(s,o){switch(s){case"keyup":return ia.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ht=!1;function mr(s,o){switch(s){case"compositionend":return Oe(o);case"keypress":return o.which!==32?null:(he=!0,K);case"textInput":return s=o.data,s===K&&he?null:s;default:return null}}function qt(s,o){if(Ht)return s==="compositionend"||!Hr&&_e(s,o)?(s=Sa(),ra=Ts=Di=null,Ht=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return O&&o.locale!=="ko"?null:o.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!_n[s.type]:o==="textarea"}function As(s,o,c,h){is?xi?xi.push(h):xi=[h]:is=h,o=tm(o,"onChange"),0<o.length&&(c=new so("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Er=null,Ds=null;function yc(s){WE(s,0)}function _c(s){var o=Pn(s);if(Dr(o))return s}function bc(s,o){if(s==="change")return o}var dp=!1;if(as){var Jd;if(as){var Cu="oninput"in document;if(!Cu){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),Cu=typeof hp.oninput=="function"}Jd=Cu}else Jd=!1;dp=Jd&&(!document.documentMode||9<document.documentMode)}function fp(){Er&&(Er.detachEvent("onpropertychange",eh),Ds=Er=null)}function eh(s){if(s.propertyName==="value"&&_c(Ds)){var o=[];As(o,Ds,s,Br(s)),pc(yc,o)}}function pp(s,o,c){s==="focusin"?(fp(),Er=o,Ds=c,Er.attachEvent("onpropertychange",eh)):s==="focusout"&&fp()}function mp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _c(Ds)}function xu(s,o){if(s==="click")return _c(o)}function gp(s,o){if(s==="input"||s==="change")return _c(o)}function th(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Vn=typeof Object.is=="function"?Object.is:th;function wc(s,o){if(Vn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!de.call(o,y)||!Vn(s[y],o[y]))return!1}return!0}function vp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nh(s,o){var c=vp(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vp(c)}}function rh(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?rh(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function yp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ti(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ti(s.document)}return o}function ih(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Bv=as&&"documentMode"in document&&11>=document.documentMode,al=null,sh=null,Ec=null,Au=!1;function ah(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Au||al==null||al!==Ti(h)||(h=al,"selectionStart"in h&&ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ec&&wc(Ec,h)||(Ec=h,h=tm(sh,"onSelect"),0<h.length&&(o=new so("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=al)))}function sa(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ol={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},oh={},Aa={};as&&(Aa=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function ni(s){if(oh[s])return oh[s];if(!ol[s])return s;var o=ol[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Aa)return oh[s]=o[c];return s}var lh=ni("animationend"),_p=ni("animationiteration"),ch=ni("animationstart"),bp=ni("transitionrun"),wp=ni("transitionstart"),Ep=ni("transitioncancel"),Tp=ni("transitionend"),Sp=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function qi(s,o){Sp.set(s,o),Ur(o,[s])}var dh=new WeakMap;function $i(s,o){if(typeof s=="object"&&s!==null){var c=dh.get(s);return c!==void 0?c:(o={value:s,source:o,stack:ro(o)},dh.set(s,o),o)}return{value:s,source:o,stack:ro(o)}}var Yi=[],ll=0,hh=0;function Du(){for(var s=ll,o=hh=ll=0;o<s;){var c=Yi[o];Yi[o++]=null;var h=Yi[o];Yi[o++]=null;var y=Yi[o];Yi[o++]=null;var w=Yi[o];if(Yi[o++]=null,h!==null&&y!==null){var V=h.pending;V===null?y.next=y:(y.next=V.next,V.next=y),h.pending=y}w!==0&&Cp(c,y,w)}}function Gi(s,o,c,h){Yi[ll++]=s,Yi[ll++]=o,Yi[ll++]=c,Yi[ll++]=h,hh|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Ru(s,o,c,h){return Gi(s,o,c,h),Mu(s)}function cl(s,o){return Gi(s,null,null,o),Mu(s)}function Cp(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var y=!1,w=s.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&o!==null&&(y=31-kt(c),s=w.hiddenUpdates,h=s[y],h===null?s[y]=[o]:h.push(o),o.lane=c|536870912),w):null}function Mu(s){if(50<zh)throw zh=0,Ey=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ul={};function zv(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(s,o,c,h){return new zv(s,o,c,h)}function fh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function aa(s,o){var c=s.alternate;return c===null?(c=Mi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function ku(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function mo(s,o,c,h,y,w){var V=0;if(h=s,typeof s=="function")fh(s)&&(V=1);else if(typeof s=="string")V=pk(s,c,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Mi(31,c,o,y),s.elementType=C,s.lanes=w,s;case E:return Da(c.children,y,w,o);case R:V=8,y|=24;break;case D:return s=Mi(12,c,o,y|2),s.elementType=D,s.lanes=w,s;case G:return s=Mi(13,c,o,y),s.elementType=G,s.lanes=w,s;case H:return s=Mi(19,c,o,y),s.elementType=H,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case $:V=10;break e;case Y:V=9;break e;case z:V=11;break e;case N:V=14;break e;case x:V=16,h=null;break e}V=29,c=Error(n(130,s===null?"null":typeof s,"")),h=null}return o=Mi(V,c,o,y),o.elementType=s,o.type=h,o.lanes=w,o}function Da(s,o,c,h){return s=Mi(7,s,h,o),s.lanes=c,s}function Iu(s,o,c){return s=Mi(6,s,null,o),s.lanes=c,s}function go(s,o,c){return o=Mi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ra=[],dl=0,Lu=null,Ou=0,Tr=[],Wi=0,vo=null,Qi=1,cs="";function yo(s,o){Ra[dl++]=Ou,Ra[dl++]=Lu,Lu=s,Ou=o}function ph(s,o,c){Tr[Wi++]=Qi,Tr[Wi++]=cs,Tr[Wi++]=vo,vo=s;var h=Qi;s=cs;var y=32-kt(h)-1;h&=~(1<<y),c+=1;var w=32-kt(o)+y;if(30<w){var V=y-y%5;w=(h&(1<<V)-1).toString(32),h>>=V,y-=V,Qi=1<<32-kt(o)+y|c<<y|h,cs=w+s}else Qi=1<<w|c<<y|h,cs=s}function mh(s){s.return!==null&&(yo(s,1),ph(s,1,0))}function Ma(s){for(;s===Lu;)Lu=Ra[--dl],Ra[dl]=null,Ou=Ra[--dl],Ra[dl]=null;for(;s===vo;)vo=Tr[--Wi],Tr[Wi]=null,cs=Tr[--Wi],Tr[Wi]=null,Qi=Tr[--Wi],Tr[Wi]=null}var Rr=null,Hn=null,nn=!1,_o=null,Rs=!1,bo=Error(n(519));function ki(s){var o=Error(n(418,""));throw Cc($i(o,s)),bo}function xp(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[Le]=s,o[It]=h,c){case"dialog":Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":case"embed":Vt("load",o);break;case"video":case"audio":for(c=0;c<qh.length;c++)Vt(qh[c],o);break;case"source":Vt("error",o);break;case"img":case"image":case"link":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"input":Vt("invalid",o),Fr(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Jr(o);break;case"select":Vt("invalid",o);break;case"textarea":Vt("invalid",o),ea(o,h.value,h.defaultValue,h.children),Jr(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||ZE(o.textContent,c)?(h.popover!=null&&(Vt("beforetoggle",o),Vt("toggle",o)),h.onScroll!=null&&Vt("scroll",o),h.onScrollEnd!=null&&Vt("scrollend",o),h.onClick!=null&&(o.onclick=nm),o=!0):o=!1,o||ki(s)}function Ap(s){for(Rr=s.return;Rr;)switch(Rr.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:Rr=Rr.return}}function Tc(s){if(s!==Rr)return!1;if(!nn)return Ap(s),nn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Uy(s.type,s.memoizedProps)),c=!c),c&&Hn&&ki(s),Ap(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Hn=da(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Hn=null}}else o===27?(o=Hn,Dl(s.type)?(s=zy,zy=null,Hn=s):Hn=o):Hn=Rr?da(s.stateNode.nextSibling):null;return!0}function Sc(){Hn=Rr=null,nn=!1}function Dp(){var s=_o;return s!==null&&(Xi===null?Xi=s:Xi.push.apply(Xi,s),_o=null),s}function Cc(s){_o===null?_o=[s]:_o.push(s)}var gh=re(null),wo=null,Ms=null;function ka(s,o,c){ie(gh,o._currentValue),o._currentValue=c}function ks(s){s._currentValue=gh.current,ae(gh)}function xc(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function Nu(s,o,c,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var V=y.child;w=w.firstContext;e:for(;w!==null;){var W=w;w=y;for(var te=0;te<o.length;te++)if(W.context===o[te]){w.lanes|=c,W=w.alternate,W!==null&&(W.lanes|=c),xc(w.return,c,s),h||(V=null);break e}w=W.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(n(341));V.lanes|=c,w=V.alternate,w!==null&&(w.lanes|=c),xc(V,c,s),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===s){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function us(s,o,c,h){s=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var W=y.type;Vn(y.pendingProps.value,V.value)||(s!==null?s.push(W):s=[W])}}else if(y===je.current){if(V=y.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Kh):s=[Kh])}y=y.return}s!==null&&Nu(o,s,c,h),o.flags|=262144}function Ac(s){for(s=s.firstContext;s!==null;){if(!Vn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function oa(s){wo=s,Ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Mr(s){return vh(wo,s)}function hl(s,o){return wo===null&&oa(s),vh(s,o)}function vh(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ms===null){if(s===null)throw Error(n(308));Ms=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ms=Ms.next=o;return c}var yh=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},Hv=r.unstable_scheduleCallback,Eo=r.unstable_NormalPriority,In={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new yh,data:new Map,refCount:0}}function Dc(s){s.refCount--,s.refCount===0&&Hv(Eo,function(){s.controller.abort()})}var Rc=null,bh=0,fl=0,pl=null;function qv(s,o){if(Rc===null){var c=Rc=[];bh=0,fl=Ry(),pl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return bh++,o.then(Rp,Rp),o}function Rp(){if(--bh===0&&Rc!==null){pl!==null&&(pl.status="fulfilled");var s=Rc;Rc=null,fl=0,pl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Mp(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var Mc=P.S;P.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&qv(s,o),Mc!==null&&Mc(s,o)};var Is=re(null);function wh(){var s=Is.current;return s!==null?s:Fn.pooledCache}function Pu(s,o){o===null?ie(Is,Is.current):ie(Is,o.pool)}function ml(){var s=wh();return s===null?null:{parent:In._currentValue,pool:s}}var q=Error(n(460)),_=Error(n(474)),M=Error(n(542)),Q={then:function(){}};function le(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ce(){}function be(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(ce,ce),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$e(s),s;default:if(typeof o.status=="string")o.then(ce,ce);else{if(s=Fn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$e(s),s}throw De=o,q}}var De=null;function Ne(){if(De===null)throw Error(n(459));var s=De;return De=null,s}function $e(s){if(s===q||s===M)throw Error(n(483))}var Be=!1;function Ue(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function et(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function it(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(xn&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Mu(s),Cp(s,null,c),o}return Gi(s,h,o,c),Mu(s)}function st(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,St(s,c)}}function dt(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?y=w=V:w=w.next=V,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var un=!1;function dn(){if(un){var s=pl;if(s!==null)throw s}}function _t(s,o,c,h){un=!1;var y=s.updateQueue;Be=!1;var w=y.firstBaseUpdate,V=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var te=W,pe=te.next;te.next=null,V===null?w=pe:V.next=pe,V=te;var Te=s.alternate;Te!==null&&(Te=Te.updateQueue,W=Te.lastBaseUpdate,W!==V&&(W===null?Te.firstBaseUpdate=pe:W.next=pe,Te.lastBaseUpdate=te))}if(w!==null){var Re=y.baseState;V=0,Te=pe=te=null,W=w;do{var ge=W.lane&-536870913,ye=ge!==W.lane;if(ye?(en&ge)===ge:(h&ge)===ge){ge!==0&&ge===fl&&(un=!0),Te!==null&&(Te=Te.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var ht=s,ot=W;ge=o;var On=c;switch(ot.tag){case 1:if(ht=ot.payload,typeof ht=="function"){Re=ht.call(On,Re,ge);break e}Re=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ot.payload,ge=typeof ht=="function"?ht.call(On,Re,ge):ht,ge==null)break e;Re=p({},Re,ge);break e;case 2:Be=!0}}ge=W.callback,ge!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Te===null?(pe=Te=ye,te=Re):Te=Te.next=ye,V|=ge;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;ye=W,W=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Te===null&&(te=Re),y.baseState=te,y.firstBaseUpdate=pe,y.lastBaseUpdate=Te,w===null&&(y.shared.lanes=0),Sl|=V,s.lanes=V,s.memoizedState=Re}}function Zt(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Et(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Zt(c[s],o)}var Ct=re(null),Jt=re(0);function mn(s,o){s=Do,ie(Jt,s),ie(Ct,o),Do=s|o.baseLanes}function rn(){ie(Jt,Do),ie(Ct,Ct.current)}function qn(){Do=Jt.current,ae(Ct),ae(Jt)}var ar=0,at=null,bt=null,sn=null,ri=!1,Sn=!1,qr=!1,Ii=0,Ls=0,$n=null,Cn=0;function jt(){throw Error(n(321))}function gi(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Vn(s[c],o[c]))return!1;return!0}function Os(s,o,c,h,y,w){return ar=w,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,P.H=s===null||s.memoizedState===null?Iw:Lw,qr=!1,w=c(h,y),qr=!1,Sn&&(w=Eh(o,c,h,y)),kc(s),w}function kc(s){P.H=Pp;var o=bt!==null&&bt.next!==null;if(ar=0,sn=bt=at=null,ri=!1,Ls=0,$n=null,o)throw Error(n(300));s===null||Yr||(s=s.dependencies,s!==null&&Ac(s)&&(Yr=!0))}function Eh(s,o,c,h){at=s;var y=0;do{if(Sn&&($n=null),Ls=0,Sn=!1,25<=y)throw Error(n(301));if(y+=1,sn=bt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}P.H=CM,w=o(c,h)}while(Sn);return w}function kp(){var s=P.H,o=s.useState()[0];return o=typeof o.then=="function"?Ic(o):o,s=s.useState()[0],(bt!==null?bt.memoizedState:null)!==s&&(at.flags|=1024),o}function gl(){var s=Ii!==0;return Ii=0,s}function Th(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Sh(s){if(ri){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ri=!1}ar=0,sn=bt=at=null,Sn=!1,Ls=Ii=0,$n=null}function $r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?at.memoizedState=sn=s:sn=sn.next=s,sn}function or(){if(bt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=sn===null?at.memoizedState:sn.next;if(o!==null)sn=o,bt=s;else{if(s===null)throw at.alternate===null?Error(n(467)):Error(n(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},sn===null?at.memoizedState=sn=s:sn=sn.next=s}return sn}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(s){var o=Ls;return Ls+=1,$n===null&&($n=[]),s=be($n,s,o),o=at,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,P.H=o===null||o.memoizedState===null?Iw:Lw),s}function Lc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ic(s);if(s.$$typeof===$)return Mr(s)}throw Error(n(438,String(s)))}function Uu(s){var o=null,c=at.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=at.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=ju(),at.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=I;return o.index++,c}function la(s,o){return typeof o=="function"?o(s):o}function Vu(s){var o=or();return ca(o,bt,s)}function ca(s,o,c){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var y=s.baseQueue,w=h.pending;if(w!==null){if(y!==null){var V=y.next;y.next=w.next,w.next=V}o.baseQueue=y=w,h.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{o=y.next;var W=V=null,te=null,pe=o,Te=!1;do{var Re=pe.lane&-536870913;if(Re!==pe.lane?(en&Re)===Re:(ar&Re)===Re){var ge=pe.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Re===fl&&(Te=!0);else if((ar&ge)===ge){pe=pe.next,ge===fl&&(Te=!0);continue}else Re={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(W=te=Re,V=w):te=te.next=Re,at.lanes|=ge,Sl|=ge;Re=pe.action,qr&&c(w,Re),w=pe.hasEagerState?pe.eagerState:c(w,Re)}else ge={lane:Re,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(W=te=ge,V=w):te=te.next=ge,at.lanes|=Re,Sl|=Re;pe=pe.next}while(pe!==null&&pe!==o);if(te===null?V=w:te.next=W,!Vn(w,s.memoizedState)&&(Yr=!0,Te&&(c=pl,c!==null)))throw c;s.memoizedState=w,s.baseState=V,s.baseQueue=te,h.lastRenderedState=w}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function vl(s){var o=or(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var V=y=y.next;do w=s(w,V.action),V=V.next;while(V!==y);Vn(w,o.memoizedState)||(Yr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function Ch(s,o,c){var h=at,y=or(),w=nn;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=o();var V=!Vn((bt||y).memoizedState,c);V&&(y.memoizedState=c,Yr=!0),y=y.queue;var W=Ah.bind(null,h,y,s);if(kh(2048,8,W,[s]),y.getSnapshot!==o||V||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,Hu(9,Lp(),Fu.bind(null,h,y,c,o),null),Fn===null)throw Error(n(349));w||(ar&124)!==0||xh(h,o,c)}return c}function xh(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=at.updateQueue,o===null?(o=ju(),at.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Fu(s,o,c,h){o.value=c,o.getSnapshot=h,Dh(o)&&Rh(s)}function Ah(s,o,c){return c(function(){Dh(o)&&Rh(s)})}function Dh(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Vn(s,c)}catch{return!0}}function Rh(s){var o=cl(s,2);o!==null&&ms(o,s,2)}function Bu(s){var o=$r();if(typeof s=="function"){var c=s;if(s=c(),qr){Tt(!0);try{c()}finally{Tt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:s},o}function Ip(s,o,c,h){return s.baseState=c,ca(s,bt,typeof h=="function"?h:la)}function $v(s,o,c,h,y){if(Np(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};P.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,zu(o,w)):(w.next=c.next,o.pending=c.next=w)}}function zu(s,o){var c=o.action,h=o.payload,y=s.state;if(o.isTransition){var w=P.T,V={};P.T=V;try{var W=c(y,h),te=P.S;te!==null&&te(V,W),Mh(s,o,W)}catch(pe){Yv(s,o,pe)}finally{P.T=w}}else try{w=c(y,h),Mh(s,o,w)}catch(pe){Yv(s,o,pe)}}function Mh(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ow(s,o,h)},function(h){return Yv(s,o,h)}):ow(s,o,c)}function ow(s,o,c){o.status="fulfilled",o.value=c,lw(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,zu(s,c)))}function Yv(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,lw(o),o=o.next;while(o!==h)}s.action=null}function lw(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function cw(s,o){return o}function uw(s,o){if(nn){var c=Fn.formState;if(c!==null){e:{var h=at;if(nn){if(Hn){t:{for(var y=Hn,w=Rs;y.nodeType!==8;){if(!w){y=null;break t}if(y=da(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Hn=da(y.nextSibling),h=y.data==="F!";break e}}ki(h)}h=!1}h&&(o=c[0])}}return c=$r(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cw,lastRenderedState:o},c.queue=h,c=Rw.bind(null,at,h),h.dispatch=c,h=Bu(!1),w=Xv.bind(null,at,!1,h.queue),h=$r(),y={state:o,dispatch:null,action:s,pending:null},h.queue=y,c=$v.bind(null,at,y,w,c),y.dispatch=c,h.memoizedState=s,[o,c,!1]}function dw(s){var o=or();return hw(o,bt,s)}function hw(s,o,c){if(o=ca(s,o,cw)[0],s=Vu(la)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Ic(o)}catch(V){throw V===q?M:V}else h=o;o=or();var y=o.queue,w=y.dispatch;return c!==o.memoizedState&&(at.flags|=2048,Hu(9,Lp(),wM.bind(null,y,c),null)),[h,w,s]}function wM(s,o){s.action=o}function fw(s){var o=or(),c=bt;if(c!==null)return hw(o,c,s);or(),o=o.memoizedState,c=or();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function Hu(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=at.updateQueue,o===null&&(o=ju(),at.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function Lp(){return{destroy:void 0,resource:void 0}}function pw(){return or().memoizedState}function Op(s,o,c,h){var y=$r();h=h===void 0?null:h,at.flags|=s,y.memoizedState=Hu(1|o,Lp(),c,h)}function kh(s,o,c,h){var y=or();h=h===void 0?null:h;var w=y.memoizedState.inst;bt!==null&&h!==null&&gi(h,bt.memoizedState.deps)?y.memoizedState=Hu(o,w,c,h):(at.flags|=s,y.memoizedState=Hu(1|o,w,c,h))}function mw(s,o){Op(8390656,8,s,o)}function gw(s,o){kh(2048,8,s,o)}function vw(s,o){return kh(4,2,s,o)}function yw(s,o){return kh(4,4,s,o)}function _w(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function bw(s,o,c){c=c!=null?c.concat([s]):null,kh(4,4,_w.bind(null,o,s),c)}function Gv(){}function ww(s,o){var c=or();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&gi(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function Ew(s,o){var c=or();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&gi(o,h[1]))return h[0];if(h=s(),qr){Tt(!0);try{s()}finally{Tt(!1)}}return c.memoizedState=[h,o],h}function Wv(s,o,c){return c===void 0||(ar&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=CE(),at.lanes|=s,Sl|=s,c)}function Tw(s,o,c,h){return Vn(c,o)?c:Ct.current!==null?(s=Wv(s,c,h),Vn(s,o)||(Yr=!0),s):(ar&42)===0?(Yr=!0,s.memoizedState=c):(s=CE(),at.lanes|=s,Sl|=s,o)}function Sw(s,o,c,h,y){var w=F.p;F.p=w!==0&&8>w?w:8;var V=P.T,W={};P.T=W,Xv(s,!1,o,c);try{var te=y(),pe=P.S;if(pe!==null&&pe(W,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Te=Mp(te,h);Ih(s,o,Te,ps(s))}else Ih(s,o,h,ps(s))}catch(Re){Ih(s,o,{then:function(){},status:"rejected",reason:Re},ps())}finally{F.p=w,P.T=V}}function EM(){}function Qv(s,o,c,h){if(s.tag!==5)throw Error(n(476));var y=Cw(s).queue;Sw(s,y,o,ee,c===null?EM:function(){return xw(s),c(h)})}function Cw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function xw(s){var o=Cw(s).next.queue;Ih(s,o,{},ps())}function Kv(){return Mr(Kh)}function Aw(){return or().memoizedState}function Dw(){return or().memoizedState}function TM(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ps();s=et(c);var h=it(o,s,c);h!==null&&(ms(h,o,c),st(h,o,c)),o={cache:_h()},s.payload=o;return}o=o.return}}function SM(s,o,c){var h=ps();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Np(s)?Mw(o,c):(c=Ru(s,o,c,h),c!==null&&(ms(c,s,h),kw(c,o,h)))}function Rw(s,o,c){var h=ps();Ih(s,o,c,h)}function Ih(s,o,c,h){var y={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Np(s))Mw(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var V=o.lastRenderedState,W=w(V,c);if(y.hasEagerState=!0,y.eagerState=W,Vn(W,V))return Gi(s,o,y,0),Fn===null&&Du(),!1}catch{}finally{}if(c=Ru(s,o,y,h),c!==null)return ms(c,s,h),kw(c,o,h),!0}return!1}function Xv(s,o,c,h){if(h={lane:2,revertLane:Ry(),action:h,hasEagerState:!1,eagerState:null,next:null},Np(s)){if(o)throw Error(n(479))}else o=Ru(s,c,h,2),o!==null&&ms(o,s,2)}function Np(s){var o=s.alternate;return s===at||o!==null&&o===at}function Mw(s,o){Sn=ri=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function kw(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,St(s,c)}}var Pp={readContext:Mr,use:Lc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Iw={readContext:Mr,use:Lc,useCallback:function(s,o){return $r().memoizedState=[s,o===void 0?null:o],s},useContext:Mr,useEffect:mw,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Op(4194308,4,_w.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Op(4194308,4,s,o)},useInsertionEffect:function(s,o){Op(4,2,s,o)},useMemo:function(s,o){var c=$r();o=o===void 0?null:o;var h=s();if(qr){Tt(!0);try{s()}finally{Tt(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=$r();if(c!==void 0){var y=c(o);if(qr){Tt(!0);try{c(o)}finally{Tt(!1)}}}else y=o;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=SM.bind(null,at,s),[h.memoizedState,s]},useRef:function(s){var o=$r();return s={current:s},o.memoizedState=s},useState:function(s){s=Bu(s);var o=s.queue,c=Rw.bind(null,at,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Gv,useDeferredValue:function(s,o){var c=$r();return Wv(c,s,o)},useTransition:function(){var s=Bu(!1);return s=Sw.bind(null,at,s.queue,!0,!1),$r().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=at,y=$r();if(nn){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Fn===null)throw Error(n(349));(en&124)!==0||xh(h,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,mw(Ah.bind(null,h,w,s),[s]),h.flags|=2048,Hu(9,Lp(),Fu.bind(null,h,w,c,o),null),c},useId:function(){var s=$r(),o=Fn.identifierPrefix;if(nn){var c=cs,h=Qi;c=(h&~(1<<32-kt(h)-1)).toString(32)+c,o=""+o+"R"+c,c=Ii++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=Cn++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Kv,useFormState:uw,useActionState:uw,useOptimistic:function(s){var o=$r();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Xv.bind(null,at,!0,c),c.dispatch=o,[s,o]},useMemoCache:Uu,useCacheRefresh:function(){return $r().memoizedState=TM.bind(null,at)}},Lw={readContext:Mr,use:Lc,useCallback:ww,useContext:Mr,useEffect:gw,useImperativeHandle:bw,useInsertionEffect:vw,useLayoutEffect:yw,useMemo:Ew,useReducer:Vu,useRef:pw,useState:function(){return Vu(la)},useDebugValue:Gv,useDeferredValue:function(s,o){var c=or();return Tw(c,bt.memoizedState,s,o)},useTransition:function(){var s=Vu(la)[0],o=or().memoizedState;return[typeof s=="boolean"?s:Ic(s),o]},useSyncExternalStore:Ch,useId:Aw,useHostTransitionStatus:Kv,useFormState:dw,useActionState:dw,useOptimistic:function(s,o){var c=or();return Ip(c,bt,s,o)},useMemoCache:Uu,useCacheRefresh:Dw},CM={readContext:Mr,use:Lc,useCallback:ww,useContext:Mr,useEffect:gw,useImperativeHandle:bw,useInsertionEffect:vw,useLayoutEffect:yw,useMemo:Ew,useReducer:vl,useRef:pw,useState:function(){return vl(la)},useDebugValue:Gv,useDeferredValue:function(s,o){var c=or();return bt===null?Wv(c,s,o):Tw(c,bt.memoizedState,s,o)},useTransition:function(){var s=vl(la)[0],o=or().memoizedState;return[typeof s=="boolean"?s:Ic(s),o]},useSyncExternalStore:Ch,useId:Aw,useHostTransitionStatus:Kv,useFormState:fw,useActionState:fw,useOptimistic:function(s,o){var c=or();return bt!==null?Ip(c,bt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:Dw},qu=null,Lh=0;function jp(s){var o=Lh;return Lh+=1,qu===null&&(qu=[]),be(qu,s,o)}function Oh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Up(s,o){throw o.$$typeof===g?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Ow(s){var o=s._init;return o(s._payload)}function Nw(s){function o(ue,se){if(s){var fe=ue.deletions;fe===null?(ue.deletions=[se],ue.flags|=16):fe.push(se)}}function c(ue,se){if(!s)return null;for(;se!==null;)o(ue,se),se=se.sibling;return null}function h(ue){for(var se=new Map;ue!==null;)ue.key!==null?se.set(ue.key,ue):se.set(ue.index,ue),ue=ue.sibling;return se}function y(ue,se){return ue=aa(ue,se),ue.index=0,ue.sibling=null,ue}function w(ue,se,fe){return ue.index=fe,s?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<se?(ue.flags|=67108866,se):fe):(ue.flags|=67108866,se)):(ue.flags|=1048576,se)}function V(ue){return s&&ue.alternate===null&&(ue.flags|=67108866),ue}function W(ue,se,fe,xe){return se===null||se.tag!==6?(se=Iu(fe,ue.mode,xe),se.return=ue,se):(se=y(se,fe),se.return=ue,se)}function te(ue,se,fe,xe){var Xe=fe.type;return Xe===E?Te(ue,se,fe.props.children,xe,fe.key):se!==null&&(se.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===x&&Ow(Xe)===se.type)?(se=y(se,fe.props),Oh(se,fe),se.return=ue,se):(se=mo(fe.type,fe.key,fe.props,null,ue.mode,xe),Oh(se,fe),se.return=ue,se)}function pe(ue,se,fe,xe){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=go(fe,ue.mode,xe),se.return=ue,se):(se=y(se,fe.children||[]),se.return=ue,se)}function Te(ue,se,fe,xe,Xe){return se===null||se.tag!==7?(se=Da(fe,ue.mode,xe,Xe),se.return=ue,se):(se=y(se,fe),se.return=ue,se)}function Re(ue,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Iu(""+se,ue.mode,fe),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return fe=mo(se.type,se.key,se.props,null,ue.mode,fe),Oh(fe,se),fe.return=ue,fe;case b:return se=go(se,ue.mode,fe),se.return=ue,se;case x:var xe=se._init;return se=xe(se._payload),Re(ue,se,fe)}if(J(se)||B(se))return se=Da(se,ue.mode,fe,null),se.return=ue,se;if(typeof se.then=="function")return Re(ue,jp(se),fe);if(se.$$typeof===$)return Re(ue,hl(ue,se),fe);Up(ue,se)}return null}function ge(ue,se,fe,xe){var Xe=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:W(ue,se,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return fe.key===Xe?te(ue,se,fe,xe):null;case b:return fe.key===Xe?pe(ue,se,fe,xe):null;case x:return Xe=fe._init,fe=Xe(fe._payload),ge(ue,se,fe,xe)}if(J(fe)||B(fe))return Xe!==null?null:Te(ue,se,fe,xe,null);if(typeof fe.then=="function")return ge(ue,se,jp(fe),xe);if(fe.$$typeof===$)return ge(ue,se,hl(ue,fe),xe);Up(ue,fe)}return null}function ye(ue,se,fe,xe,Xe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ue=ue.get(fe)||null,W(se,ue,""+xe,Xe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case v:return ue=ue.get(xe.key===null?fe:xe.key)||null,te(se,ue,xe,Xe);case b:return ue=ue.get(xe.key===null?fe:xe.key)||null,pe(se,ue,xe,Xe);case x:var Lt=xe._init;return xe=Lt(xe._payload),ye(ue,se,fe,xe,Xe)}if(J(xe)||B(xe))return ue=ue.get(fe)||null,Te(se,ue,xe,Xe,null);if(typeof xe.then=="function")return ye(ue,se,fe,jp(xe),Xe);if(xe.$$typeof===$)return ye(ue,se,fe,hl(se,xe),Xe);Up(se,xe)}return null}function ht(ue,se,fe,xe){for(var Xe=null,Lt=null,nt=se,ct=se=0,Wr=null;nt!==null&&ct<fe.length;ct++){nt.index>ct?(Wr=nt,nt=null):Wr=nt.sibling;var hn=ge(ue,nt,fe[ct],xe);if(hn===null){nt===null&&(nt=Wr);break}s&&nt&&hn.alternate===null&&o(ue,nt),se=w(hn,se,ct),Lt===null?Xe=hn:Lt.sibling=hn,Lt=hn,nt=Wr}if(ct===fe.length)return c(ue,nt),nn&&yo(ue,ct),Xe;if(nt===null){for(;ct<fe.length;ct++)nt=Re(ue,fe[ct],xe),nt!==null&&(se=w(nt,se,ct),Lt===null?Xe=nt:Lt.sibling=nt,Lt=nt);return nn&&yo(ue,ct),Xe}for(nt=h(nt);ct<fe.length;ct++)Wr=ye(nt,ue,ct,fe[ct],xe),Wr!==null&&(s&&Wr.alternate!==null&&nt.delete(Wr.key===null?ct:Wr.key),se=w(Wr,se,ct),Lt===null?Xe=Wr:Lt.sibling=Wr,Lt=Wr);return s&&nt.forEach(function(Ll){return o(ue,Ll)}),nn&&yo(ue,ct),Xe}function ot(ue,se,fe,xe){if(fe==null)throw Error(n(151));for(var Xe=null,Lt=null,nt=se,ct=se=0,Wr=null,hn=fe.next();nt!==null&&!hn.done;ct++,hn=fe.next()){nt.index>ct?(Wr=nt,nt=null):Wr=nt.sibling;var Ll=ge(ue,nt,hn.value,xe);if(Ll===null){nt===null&&(nt=Wr);break}s&&nt&&Ll.alternate===null&&o(ue,nt),se=w(Ll,se,ct),Lt===null?Xe=Ll:Lt.sibling=Ll,Lt=Ll,nt=Wr}if(hn.done)return c(ue,nt),nn&&yo(ue,ct),Xe;if(nt===null){for(;!hn.done;ct++,hn=fe.next())hn=Re(ue,hn.value,xe),hn!==null&&(se=w(hn,se,ct),Lt===null?Xe=hn:Lt.sibling=hn,Lt=hn);return nn&&yo(ue,ct),Xe}for(nt=h(nt);!hn.done;ct++,hn=fe.next())hn=ye(nt,ue,ct,hn.value,xe),hn!==null&&(s&&hn.alternate!==null&&nt.delete(hn.key===null?ct:hn.key),se=w(hn,se,ct),Lt===null?Xe=hn:Lt.sibling=hn,Lt=hn);return s&&nt.forEach(function(xk){return o(ue,xk)}),nn&&yo(ue,ct),Xe}function On(ue,se,fe,xe){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:e:{for(var Xe=fe.key;se!==null;){if(se.key===Xe){if(Xe=fe.type,Xe===E){if(se.tag===7){c(ue,se.sibling),xe=y(se,fe.props.children),xe.return=ue,ue=xe;break e}}else if(se.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===x&&Ow(Xe)===se.type){c(ue,se.sibling),xe=y(se,fe.props),Oh(xe,fe),xe.return=ue,ue=xe;break e}c(ue,se);break}else o(ue,se);se=se.sibling}fe.type===E?(xe=Da(fe.props.children,ue.mode,xe,fe.key),xe.return=ue,ue=xe):(xe=mo(fe.type,fe.key,fe.props,null,ue.mode,xe),Oh(xe,fe),xe.return=ue,ue=xe)}return V(ue);case b:e:{for(Xe=fe.key;se!==null;){if(se.key===Xe)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){c(ue,se.sibling),xe=y(se,fe.children||[]),xe.return=ue,ue=xe;break e}else{c(ue,se);break}else o(ue,se);se=se.sibling}xe=go(fe,ue.mode,xe),xe.return=ue,ue=xe}return V(ue);case x:return Xe=fe._init,fe=Xe(fe._payload),On(ue,se,fe,xe)}if(J(fe))return ht(ue,se,fe,xe);if(B(fe)){if(Xe=B(fe),typeof Xe!="function")throw Error(n(150));return fe=Xe.call(fe),ot(ue,se,fe,xe)}if(typeof fe.then=="function")return On(ue,se,jp(fe),xe);if(fe.$$typeof===$)return On(ue,se,hl(ue,fe),xe);Up(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(c(ue,se.sibling),xe=y(se,fe),xe.return=ue,ue=xe):(c(ue,se),xe=Iu(fe,ue.mode,xe),xe.return=ue,ue=xe),V(ue)):c(ue,se)}return function(ue,se,fe,xe){try{Lh=0;var Xe=On(ue,se,fe,xe);return qu=null,Xe}catch(nt){if(nt===q||nt===M)throw nt;var Lt=Mi(29,nt,null,ue.mode);return Lt.lanes=xe,Lt.return=ue,Lt}finally{}}}var $u=Nw(!0),Pw=Nw(!1),Ns=re(null),Ia=null;function yl(s){var o=s.alternate;ie(kr,kr.current&1),ie(Ns,s),Ia===null&&(o===null||Ct.current!==null||o.memoizedState!==null)&&(Ia=s)}function jw(s){if(s.tag===22){if(ie(kr,kr.current),ie(Ns,s),Ia===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Ia=s)}}else _l()}function _l(){ie(kr,kr.current),ie(Ns,Ns.current)}function To(s){ae(Ns),Ia===s&&(Ia=null),ae(kr)}var kr=re(0);function Vp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||By(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Zv(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Jv={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=ps(),y=et(h);y.payload=o,c!=null&&(y.callback=c),o=it(s,y,h),o!==null&&(ms(o,s,h),st(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=ps(),y=et(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=it(s,y,h),o!==null&&(ms(o,s,h),st(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ps(),h=et(c);h.tag=2,o!=null&&(h.callback=o),o=it(s,h,c),o!==null&&(ms(o,s,c),st(o,s,c))}};function Uw(s,o,c,h,y,w,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,V):o.prototype&&o.prototype.isPureReactComponent?!wc(c,h)||!wc(y,w):!0}function Vw(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Jv.enqueueReplaceState(o,o.state,null)}function Oc(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}var Fp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Fw(s){Fp(s)}function Bw(s){console.error(s)}function zw(s){Fp(s)}function Bp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Hw(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ey(s,o,c){return c=et(c),c.tag=3,c.payload={element:null},c.callback=function(){Bp(s,o)},c}function qw(s){return s=et(s),s.tag=3,s}function $w(s,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;s.payload=function(){return y(w)},s.callback=function(){Hw(o,c,h)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){Hw(o,c,h),typeof y!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})})}function xM(s,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&us(o,c,y,!0),c=Ns.current,c!==null){switch(c.tag){case 13:return Ia===null?Sy():c.alternate===null&&lr===0&&(lr=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Q?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),xy(s,h,y)),!1;case 22:return c.flags|=65536,h===Q?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),xy(s,h,y)),!1}throw Error(n(435,c.tag))}return xy(s,h,y),Sy(),!1}if(nn)return o=Ns.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==bo&&(s=Error(n(422),{cause:h}),Cc($i(s,c)))):(h!==bo&&(o=Error(n(423),{cause:h}),Cc($i(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=$i(h,c),y=ey(s.stateNode,h,y),dt(s,y),lr!==4&&(lr=2)),!1;var w=Error(n(520),{cause:h});if(w=$i(w,c),Bh===null?Bh=[w]:Bh.push(w),lr!==4&&(lr=2),o===null)return!0;h=$i(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=ey(c.stateNode,h,s),dt(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cl===null||!Cl.has(w))))return c.flags|=65536,y&=-y,c.lanes|=y,y=qw(y),$w(y,s,c,h),dt(c,y),!1}c=c.return}while(c!==null);return!1}var Yw=Error(n(461)),Yr=!1;function ii(s,o,c,h){o.child=s===null?Pw(o,null,c,h):$u(o,s.child,c,h)}function Gw(s,o,c,h,y){c=c.render;var w=o.ref;if("ref"in h){var V={};for(var W in h)W!=="ref"&&(V[W]=h[W])}else V=h;return oa(o),h=Os(s,o,c,V,w,y),W=gl(),s!==null&&!Yr?(Th(s,o,y),So(s,o,y)):(nn&&W&&mh(o),o.flags|=1,ii(s,o,h,y),o.child)}function Ww(s,o,c,h,y){if(s===null){var w=c.type;return typeof w=="function"&&!fh(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,Qw(s,o,w,h,y)):(s=mo(c.type,null,h,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!ly(s,y)){var V=w.memoizedProps;if(c=c.compare,c=c!==null?c:wc,c(V,h)&&s.ref===o.ref)return So(s,o,y)}return o.flags|=1,s=aa(w,h),s.ref=o.ref,s.return=o,o.child=s}function Qw(s,o,c,h,y){if(s!==null){var w=s.memoizedProps;if(wc(w,h)&&s.ref===o.ref)if(Yr=!1,o.pendingProps=h=w,ly(s,y))(s.flags&131072)!==0&&(Yr=!0);else return o.lanes=s.lanes,So(s,o,y)}return ty(s,o,c,h,y)}function Kw(s,o,c){var h=o.pendingProps,y=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=w!==null?w.baseLanes|c:c,s!==null){for(y=o.child=s.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~h}else o.childLanes=0,o.child=null;return Xw(s,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pu(o,w!==null?w.cachePool:null),w!==null?mn(o,w):rn(),jw(o);else return o.lanes=o.childLanes=536870912,Xw(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(Pu(o,w.cachePool),mn(o,w),_l(),o.memoizedState=null):(s!==null&&Pu(o,null),rn(),_l());return ii(s,o,y,c),o.child}function Xw(s,o,c,h){var y=wh();return y=y===null?null:{parent:In._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},s!==null&&Pu(o,null),rn(),jw(o),s!==null&&us(s,o,h,!0),null}function zp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function ty(s,o,c,h,y){return oa(o),c=Os(s,o,c,h,void 0,y),h=gl(),s!==null&&!Yr?(Th(s,o,y),So(s,o,y)):(nn&&h&&mh(o),o.flags|=1,ii(s,o,c,y),o.child)}function Zw(s,o,c,h,y,w){return oa(o),o.updateQueue=null,c=Eh(o,h,c,y),kc(s),h=gl(),s!==null&&!Yr?(Th(s,o,w),So(s,o,w)):(nn&&h&&mh(o),o.flags|=1,ii(s,o,c,w),o.child)}function Jw(s,o,c,h,y){if(oa(o),o.stateNode===null){var w=ul,V=c.contextType;typeof V=="object"&&V!==null&&(w=Mr(V)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Jv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Ue(o),V=c.contextType,w.context=typeof V=="object"&&V!==null?Mr(V):ul,w.state=o.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(Zv(o,c,V,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&Jv.enqueueReplaceState(w,w.state,null),_t(o,h,w,y),dn(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){w=o.stateNode;var W=o.memoizedProps,te=Oc(c,W);w.props=te;var pe=w.context,Te=c.contextType;V=ul,typeof Te=="object"&&Te!==null&&(V=Mr(Te));var Re=c.getDerivedStateFromProps;Te=typeof Re=="function"||typeof w.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,Te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(W||pe!==V)&&Vw(o,w,h,V),Be=!1;var ge=o.memoizedState;w.state=ge,_t(o,h,w,y),dn(),pe=o.memoizedState,W||ge!==pe||Be?(typeof Re=="function"&&(Zv(o,c,Re,h),pe=o.memoizedState),(te=Be||Uw(o,c,te,h,ge,pe,V))?(Te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=pe),w.props=h,w.state=pe,w.context=V,h=te):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,vt(s,o),V=o.memoizedProps,Te=Oc(c,V),w.props=Te,Re=o.pendingProps,ge=w.context,pe=c.contextType,te=ul,typeof pe=="object"&&pe!==null&&(te=Mr(pe)),W=c.getDerivedStateFromProps,(pe=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==Re||ge!==te)&&Vw(o,w,h,te),Be=!1,ge=o.memoizedState,w.state=ge,_t(o,h,w,y),dn();var ye=o.memoizedState;V!==Re||ge!==ye||Be||s!==null&&s.dependencies!==null&&Ac(s.dependencies)?(typeof W=="function"&&(Zv(o,c,W,h),ye=o.memoizedState),(Te=Be||Uw(o,c,Te,h,ge,ye,te)||s!==null&&s.dependencies!==null&&Ac(s.dependencies))?(pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ye,te),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ye,te)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),w.props=h,w.state=ye,w.context=te,h=Te):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),h=!1)}return w=h,zp(s,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&h?(o.child=$u(o,s.child,null,y),o.child=$u(o,null,c,y)):ii(s,o,c,y),o.memoizedState=w.state,s=o.child):s=So(s,o,y),s}function eE(s,o,c,h){return Sc(),o.flags|=256,ii(s,o,c,h),o.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ry(s){return{baseLanes:s,cachePool:ml()}}function iy(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Ps),s}function tE(s,o,c){var h=o.pendingProps,y=!1,w=(o.flags&128)!==0,V;if((V=w)||(V=s!==null&&s.memoizedState===null?!1:(kr.current&2)!==0),V&&(y=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,s===null){if(nn){if(y?yl(o):_l(),nn){var W=Hn,te;if(te=W){e:{for(te=W,W=Rs;te.nodeType!==8;){if(!W){W=null;break e}if(te=da(te.nextSibling),te===null){W=null;break e}}W=te}W!==null?(o.memoizedState={dehydrated:W,treeContext:vo!==null?{id:Qi,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},te=Mi(18,null,null,0),te.stateNode=W,te.return=o,o.child=te,Rr=o,Hn=null,te=!0):te=!1}te||ki(o)}if(W=o.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return By(W)?o.lanes=32:o.lanes=536870912,null;To(o)}return W=h.children,h=h.fallback,y?(_l(),y=o.mode,W=Hp({mode:"hidden",children:W},y),h=Da(h,y,c,null),W.return=o,h.return=o,W.sibling=h,o.child=W,y=o.child,y.memoizedState=ry(c),y.childLanes=iy(s,V,c),o.memoizedState=ny,h):(yl(o),sy(o,W))}if(te=s.memoizedState,te!==null&&(W=te.dehydrated,W!==null)){if(w)o.flags&256?(yl(o),o.flags&=-257,o=ay(s,o,c)):o.memoizedState!==null?(_l(),o.child=s.child,o.flags|=128,o=null):(_l(),y=h.fallback,W=o.mode,h=Hp({mode:"visible",children:h.children},W),y=Da(y,W,c,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,$u(o,s.child,null,c),h=o.child,h.memoizedState=ry(c),h.childLanes=iy(s,V,c),o.memoizedState=ny,o=y);else if(yl(o),By(W)){if(V=W.nextSibling&&W.nextSibling.dataset,V)var pe=V.dgst;V=pe,h=Error(n(419)),h.stack="",h.digest=V,Cc({value:h,source:null,stack:null}),o=ay(s,o,c)}else if(Yr||us(s,o,c,!1),V=(c&s.childLanes)!==0,Yr||V){if(V=Fn,V!==null&&(h=c&-c,h=(h&42)!==0?1:Gt(h),h=(h&(V.suspendedLanes|c))!==0?0:h,h!==0&&h!==te.retryLane))throw te.retryLane=h,cl(s,h),ms(V,s,h),Yw;W.data==="$?"||Sy(),o=ay(s,o,c)}else W.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=te.treeContext,Hn=da(W.nextSibling),Rr=o,nn=!0,_o=null,Rs=!1,s!==null&&(Tr[Wi++]=Qi,Tr[Wi++]=cs,Tr[Wi++]=vo,Qi=s.id,cs=s.overflow,vo=o),o=sy(o,h.children),o.flags|=4096);return o}return y?(_l(),y=h.fallback,W=o.mode,te=s.child,pe=te.sibling,h=aa(te,{mode:"hidden",children:h.children}),h.subtreeFlags=te.subtreeFlags&65011712,pe!==null?y=aa(pe,y):(y=Da(y,W,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,W=s.child.memoizedState,W===null?W=ry(c):(te=W.cachePool,te!==null?(pe=In._currentValue,te=te.parent!==pe?{parent:pe,pool:pe}:te):te=ml(),W={baseLanes:W.baseLanes|c,cachePool:te}),y.memoizedState=W,y.childLanes=iy(s,V,c),o.memoizedState=ny,h):(yl(o),c=s.child,s=c.sibling,c=aa(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(V=o.deletions,V===null?(o.deletions=[s],o.flags|=16):V.push(s)),o.child=c,o.memoizedState=null,c)}function sy(s,o){return o=Hp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Hp(s,o){return s=Mi(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ay(s,o,c){return $u(o,s.child,null,c),s=sy(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function nE(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),xc(s.return,o,c)}function oy(s,o,c,h,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=y)}function rE(s,o,c){var h=o.pendingProps,y=h.revealOrder,w=h.tail;if(ii(s,o,h.children,c),h=kr.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nE(s,c,o);else if(s.tag===19)nE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ie(kr,h),y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&Vp(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),oy(o,!1,y,c,w);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Vp(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}oy(o,!0,c,null,w);break;case"together":oy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function So(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Sl|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(us(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=aa(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=aa(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function ly(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Ac(s)))}function AM(s,o,c){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),ka(o,In,s.memoizedState.cache),Sc();break;case 27:case 5:Ie(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:ka(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(yl(o),o.flags|=128,null):(c&o.child.childLanes)!==0?tE(s,o,c):(yl(o),s=So(s,o,c),s!==null?s.sibling:null);yl(o);break;case 19:var y=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(us(s,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return rE(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(kr,kr.current),h)break;return null;case 22:case 23:return o.lanes=0,Kw(s,o,c);case 24:ka(o,In,s.memoizedState.cache)}return So(s,o,c)}function iE(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Yr=!0;else{if(!ly(s,c)&&(o.flags&128)===0)return Yr=!1,AM(s,o,c);Yr=(s.flags&131072)!==0}else Yr=!1,nn&&(o.flags&1048576)!==0&&ph(o,Ou,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")fh(h)?(s=Oc(h,s),o.tag=1,o=Jw(null,o,h,s,c)):(o.tag=0,o=ty(null,o,h,s,c));else{if(h!=null){if(y=h.$$typeof,y===z){o.tag=11,o=Gw(null,o,h,s,c);break e}else if(y===N){o.tag=14,o=Ww(null,o,h,s,c);break e}}throw o=X(h)||h,Error(n(306,o,""))}}return o;case 0:return ty(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=Oc(h,o.pendingProps),Jw(s,o,h,y,c);case 3:e:{if(me(o,o.stateNode.containerInfo),s===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;y=w.element,vt(s,o),_t(o,h,null,c);var V=o.memoizedState;if(h=V.cache,ka(o,In,h),h!==w.cache&&Nu(o,[In],c,!0),dn(),h=V.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=eE(s,o,h,c);break e}else if(h!==y){y=$i(Error(n(424)),o),Cc(y),o=eE(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Hn=da(s.firstChild),Rr=o,nn=!0,_o=null,Rs=!0,c=Pw(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Sc(),h===y){o=So(s,o,c);break e}ii(s,o,h,c)}o=o.child}return o;case 26:return zp(s,o),s===null?(c=l1(o.type,null,o.pendingProps,null))?o.memoizedState=c:nn||(c=o.type,s=o.pendingProps,h=rm(we.current).createElement(c),h[Le]=o,h[It]=s,ai(h,c,s),Wt(h),o.stateNode=h):o.memoizedState=l1(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ie(o),s===null&&nn&&(h=o.stateNode=s1(o.type,o.pendingProps,we.current),Rr=o,Rs=!0,y=Hn,Dl(o.type)?(zy=y,Hn=da(h.firstChild)):Hn=y),ii(s,o,o.pendingProps.children,c),zp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&nn&&((y=h=Hn)&&(h=tk(h,o.type,o.pendingProps,Rs),h!==null?(o.stateNode=h,Rr=o,Hn=da(h.firstChild),Rs=!1,y=!0):y=!1),y||ki(o)),Ie(o),y=o.type,w=o.pendingProps,V=s!==null?s.memoizedProps:null,h=w.children,Uy(y,w)?h=null:V!==null&&Uy(y,V)&&(o.flags|=32),o.memoizedState!==null&&(y=Os(s,o,kp,null,null,c),Kh._currentValue=y),zp(s,o),ii(s,o,h,c),o.child;case 6:return s===null&&nn&&((s=c=Hn)&&(c=nk(c,o.pendingProps,Rs),c!==null?(o.stateNode=c,Rr=o,Hn=null,s=!0):s=!1),s||ki(o)),null;case 13:return tE(s,o,c);case 4:return me(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=$u(o,null,h,c):ii(s,o,h,c),o.child;case 11:return Gw(s,o,o.type,o.pendingProps,c);case 7:return ii(s,o,o.pendingProps,c),o.child;case 8:return ii(s,o,o.pendingProps.children,c),o.child;case 12:return ii(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,ka(o,o.type,h.value),ii(s,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,oa(o),y=Mr(y),h=h(y),o.flags|=1,ii(s,o,h,c),o.child;case 14:return Ww(s,o,o.type,o.pendingProps,c);case 15:return Qw(s,o,o.type,o.pendingProps,c);case 19:return rE(s,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},s===null?(c=Hp(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=aa(s.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return Kw(s,o,c);case 24:return oa(o),h=Mr(In),s===null?(y=wh(),y===null&&(y=Fn,w=_h(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=c),y=w),o.memoizedState={parent:h,cache:y},Ue(o),ka(o,In,y)):((s.lanes&c)!==0&&(vt(s,o),_t(o,null,null,c),dn()),y=s.memoizedState,w=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ka(o,In,h)):(h=w.cache,ka(o,In,h),h!==y.cache&&Nu(o,[In],c,!0))),ii(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Co(s){s.flags|=4}function sE(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!f1(o)){if(o=Ns.current,o!==null&&((en&4194048)===en?Ia!==null:(en&62914560)!==en&&(en&536870912)===0||o!==Ia))throw De=Q,_;s.flags|=8192}}function qp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?hr():536870912,s.lanes|=o,Qu|=o)}function Nh(s,o){if(!nn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function er(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function DM(s,o,c){var h=o.pendingProps;switch(Ma(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(o),null;case 1:return er(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ks(In),Fe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Tc(o)?Co(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dp())),er(o),null;case 26:return c=o.memoizedState,s===null?(Co(o),c!==null?(er(o),sE(o,c)):(er(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Co(o),er(o),sE(o,c)):(er(o),o.flags&=-16777217):(s.memoizedProps!==h&&Co(o),er(o),o.flags&=-16777217),null;case 27:He(o),c=we.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Co(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return er(o),null}s=oe.current,Tc(o)?xp(o):(s=s1(y,h,c),o.stateNode=s,Co(o))}return er(o),null;case 5:if(He(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Co(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return er(o),null}if(s=oe.current,Tc(o))xp(o);else{switch(y=rm(we.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?y.createElement(c,{is:h.is}):y.createElement(c)}}s[Le]=o,s[It]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(ai(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Co(o)}}return er(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Co(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(s=we.current,Tc(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,y=Rr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[Le]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||ZE(s.nodeValue,c)),s||ki(o)}else s=rm(s).createTextNode(h),s[Le]=o,o.stateNode=s}return er(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Tc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Le]=o}else Sc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;er(o),y=!1}else y=Dp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(To(o),o):(To(o),null)}if(To(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),qp(o,o.updateQueue),er(o),null;case 4:return Fe(),s===null&&Ly(o.stateNode.containerInfo),er(o),null;case 10:return ks(o.type),er(o),null;case 19:if(ae(kr),y=o.memoizedState,y===null)return er(o),null;if(h=(o.flags&128)!==0,w=y.rendering,w===null)if(h)Nh(y,!1);else{if(lr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=Vp(s),w!==null){for(o.flags|=128,Nh(y,!1),s=w.updateQueue,o.updateQueue=s,qp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)ku(c,s),c=c.sibling;return ie(kr,kr.current&1|2),o.child}s=s.sibling}y.tail!==null&&Qe()>Gp&&(o.flags|=128,h=!0,Nh(y,!1),o.lanes=4194304)}else{if(!h)if(s=Vp(w),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,qp(o,s),Nh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!nn)return er(o),null}else 2*Qe()-y.renderingStartTime>Gp&&c!==536870912&&(o.flags|=128,h=!0,Nh(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(s=y.last,s!==null?s.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Qe(),o.sibling=null,s=kr.current,ie(kr,h?s&1|2:s&1),o):(er(o),null);case 22:case 23:return To(o),qn(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(er(o),o.subtreeFlags&6&&(o.flags|=8192)):er(o),c=o.updateQueue,c!==null&&qp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&ae(Is),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ks(In),er(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function RM(s,o){switch(Ma(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ks(In),Fe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 13:if(To(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Sc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(kr),null;case 4:return Fe(),null;case 10:return ks(o.type),null;case 22:case 23:return To(o),qn(),s!==null&&ae(Is),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ks(In),null;case 25:return null;default:return null}}function aE(s,o){switch(Ma(o),o.tag){case 3:ks(In),Fe();break;case 26:case 27:case 5:He(o);break;case 4:Fe();break;case 13:To(o);break;case 19:ae(kr);break;case 10:ks(o.type);break;case 22:case 23:To(o),qn(),s!==null&&ae(Is);break;case 24:ks(In)}}function Ph(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&s)===s){h=void 0;var w=c.create,V=c.inst;h=w(),V.destroy=h}c=c.next}while(c!==y)}}catch(W){jn(o,o.return,W)}}function bl(s,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&s)===s){var V=h.inst,W=V.destroy;if(W!==void 0){V.destroy=void 0,y=o;var te=c,pe=W;try{pe()}catch(Te){jn(y,te,Te)}}}h=h.next}while(h!==w)}}catch(Te){jn(o,o.return,Te)}}function oE(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Et(o,c)}catch(h){jn(s,s.return,h)}}}function lE(s,o,c){c.props=Oc(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){jn(s,o,h)}}function jh(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(y){jn(s,o,y)}}function La(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){jn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){jn(s,o,y)}else c.current=null}function cE(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){jn(s,s.return,y)}}function cy(s,o,c){try{var h=s.stateNode;KM(h,s.type,c,o),h[It]=o}catch(y){jn(s,s.return,y)}}function uE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Dl(s.type)||s.tag===4}function uy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Dl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dy(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=nm));else if(h!==4&&(h===27&&Dl(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(dy(s,o,c),s=s.sibling;s!==null;)dy(s,o,c),s=s.sibling}function $p(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&Dl(s.type)&&(c=s.stateNode),s=s.child,s!==null))for($p(s,o,c),s=s.sibling;s!==null;)$p(s,o,c),s=s.sibling}function dE(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ai(o,h,c),o[Le]=s,o[It]=c}catch(w){jn(s,s.return,w)}}var xo=!1,gr=!1,hy=!1,hE=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function MM(s,o){if(s=s.containerInfo,Py=cm,s=yp(s),ih(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var V=0,W=-1,te=-1,pe=0,Te=0,Re=s,ge=null;t:for(;;){for(var ye;Re!==c||y!==0&&Re.nodeType!==3||(W=V+y),Re!==w||h!==0&&Re.nodeType!==3||(te=V+h),Re.nodeType===3&&(V+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)ge=Re,Re=ye;for(;;){if(Re===s)break t;if(ge===c&&++pe===y&&(W=V),ge===w&&++Te===h&&(te=V),(ye=Re.nextSibling)!==null)break;Re=ge,ge=Re.parentNode}Re=ye}c=W===-1||te===-1?null:{start:W,end:te}}else c=null}c=c||{start:0,end:0}}else c=null;for(jy={focusedElem:s,selectionRange:c},cm=!1,Gr=o;Gr!==null;)if(o=Gr,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Gr=s;else for(;Gr!==null;){switch(o=Gr,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,y=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var ht=Oc(c.type,y,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(ht,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(ot){jn(c,c.return,ot)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Fy(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Gr=s;break}Gr=o.return}}function fE(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:wl(s,c),h&4&&Ph(5,c);break;case 1:if(wl(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(V){jn(c,c.return,V)}else{var y=Oc(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(V){jn(c,c.return,V)}}h&64&&oE(c),h&512&&jh(c,c.return);break;case 3:if(wl(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Et(s,o)}catch(V){jn(c,c.return,V)}}break;case 27:o===null&&h&4&&dE(c);case 26:case 5:wl(s,c),o===null&&h&4&&cE(c),h&512&&jh(c,c.return);break;case 12:wl(s,c);break;case 13:wl(s,c),h&4&&gE(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=VM.bind(null,c),rk(s,c))));break;case 22:if(h=c.memoizedState!==null||xo,!h){o=o!==null&&o.memoizedState!==null||gr,y=xo;var w=gr;xo=h,(gr=o)&&!w?El(s,c,(c.subtreeFlags&8772)!==0):wl(s,c),xo=y,gr=w}break;case 30:break;default:wl(s,c)}}function pE(s){var o=s.alternate;o!==null&&(s.alternate=null,pE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&jr(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Xn=null,Ki=!1;function Ao(s,o,c){for(c=c.child;c!==null;)mE(s,o,c),c=c.sibling}function mE(s,o,c){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Rt,c)}catch{}switch(c.tag){case 26:gr||La(c,o),Ao(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:gr||La(c,o);var h=Xn,y=Ki;Dl(c.type)&&(Xn=c.stateNode,Ki=!1),Ao(s,o,c),Yh(c.stateNode),Xn=h,Ki=y;break;case 5:gr||La(c,o);case 6:if(h=Xn,y=Ki,Xn=null,Ao(s,o,c),Xn=h,Ki=y,Xn!==null)if(Ki)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(c.stateNode)}catch(w){jn(c,o,w)}else try{Xn.removeChild(c.stateNode)}catch(w){jn(c,o,w)}break;case 18:Xn!==null&&(Ki?(s=Xn,r1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ef(s)):r1(Xn,c.stateNode));break;case 4:h=Xn,y=Ki,Xn=c.stateNode.containerInfo,Ki=!0,Ao(s,o,c),Xn=h,Ki=y;break;case 0:case 11:case 14:case 15:gr||bl(2,c,o),gr||bl(4,c,o),Ao(s,o,c);break;case 1:gr||(La(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&lE(c,o,h)),Ao(s,o,c);break;case 21:Ao(s,o,c);break;case 22:gr=(h=gr)||c.memoizedState!==null,Ao(s,o,c),gr=h;break;default:Ao(s,o,c)}}function gE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ef(s)}catch(c){jn(o,o.return,c)}}function kM(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new hE),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new hE),o;default:throw Error(n(435,s.tag))}}function fy(s,o){var c=kM(s);o.forEach(function(h){var y=FM.bind(null,s,h);c.has(h)||(c.add(h),h.then(y,y))})}function ds(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],w=s,V=o,W=V;e:for(;W!==null;){switch(W.tag){case 27:if(Dl(W.type)){Xn=W.stateNode,Ki=!1;break e}break;case 5:Xn=W.stateNode,Ki=!1;break e;case 3:case 4:Xn=W.stateNode.containerInfo,Ki=!0;break e}W=W.return}if(Xn===null)throw Error(n(160));mE(w,V,y),Xn=null,Ki=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)vE(o,s),o=o.sibling}var ua=null;function vE(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ds(o,s),hs(s),h&4&&(bl(3,s,s.return),Ph(3,s),bl(5,s,s.return));break;case 1:ds(o,s),hs(s),h&512&&(gr||c===null||La(c,c.return)),h&64&&xo&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=ua;if(ds(o,s),hs(s),h&512&&(gr||c===null||La(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Qn]||w[Le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),ai(w,h,c),w[Le]=s,Wt(w),h=w;break e;case"link":var V=d1("link","href",y).get(h+(c.href||""));if(V){for(var W=0;W<V.length;W++)if(w=V[W],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(W,1);break t}}w=y.createElement(h),ai(w,h,c),y.head.appendChild(w);break;case"meta":if(V=d1("meta","content",y).get(h+(c.content||""))){for(W=0;W<V.length;W++)if(w=V[W],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(W,1);break t}}w=y.createElement(h),ai(w,h,c),y.head.appendChild(w);break;default:throw Error(n(468,h))}w[Le]=s,Wt(w),h=w}s.stateNode=h}else h1(y,s.type,s.stateNode);else s.stateNode=u1(y,h,s.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?h1(y,s.type,s.stateNode):u1(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&cy(s,s.memoizedProps,c.memoizedProps)}break;case 27:ds(o,s),hs(s),h&512&&(gr||c===null||La(c,c.return)),c!==null&&h&4&&cy(s,s.memoizedProps,c.memoizedProps);break;case 5:if(ds(o,s),hs(s),h&512&&(gr||c===null||La(c,c.return)),s.flags&32){y=s.stateNode;try{Si(y,"")}catch(ye){jn(s,s.return,ye)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,cy(s,y,c!==null?c.memoizedProps:y)),h&1024&&(hy=!0);break;case 6:if(ds(o,s),hs(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(ye){jn(s,s.return,ye)}}break;case 3:if(am=null,y=ua,ua=im(o.containerInfo),ds(o,s),ua=y,hs(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ef(o.containerInfo)}catch(ye){jn(s,s.return,ye)}hy&&(hy=!1,yE(s));break;case 4:h=ua,ua=im(s.stateNode.containerInfo),ds(o,s),hs(s),ua=h;break;case 12:ds(o,s),hs(s);break;case 13:ds(o,s),hs(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_y=Qe()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,fy(s,h)));break;case 22:y=s.memoizedState!==null;var te=c!==null&&c.memoizedState!==null,pe=xo,Te=gr;if(xo=pe||y,gr=Te||te,ds(o,s),gr=Te,xo=pe,hs(s),h&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||te||xo||gr||Nc(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){te=c=o;try{if(w=te.stateNode,y)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{W=te.stateNode;var Re=te.memoizedProps.style,ge=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;W.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ye){jn(te,te.return,ye)}}}else if(o.tag===6){if(c===null){te=o;try{te.stateNode.nodeValue=y?"":te.memoizedProps}catch(ye){jn(te,te.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,fy(s,c))));break;case 19:ds(o,s),hs(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,fy(s,h)));break;case 30:break;case 21:break;default:ds(o,s),hs(s)}}function hs(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(uE(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,w=uy(s);$p(s,w,y);break;case 5:var V=c.stateNode;c.flags&32&&(Si(V,""),c.flags&=-33);var W=uy(s);$p(s,W,V);break;case 3:case 4:var te=c.stateNode.containerInfo,pe=uy(s);dy(s,pe,te);break;default:throw Error(n(161))}}catch(Te){jn(s,s.return,Te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function yE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;yE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function wl(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fE(s,o.alternate,o),o=o.sibling}function Nc(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:bl(4,o,o.return),Nc(o);break;case 1:La(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&lE(o,o.return,c),Nc(o);break;case 27:Yh(o.stateNode);case 26:case 5:La(o,o.return),Nc(o);break;case 22:o.memoizedState===null&&Nc(o);break;case 30:Nc(o);break;default:Nc(o)}s=s.sibling}}function El(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=s,w=o,V=w.flags;switch(w.tag){case 0:case 11:case 15:El(y,w,c),Ph(4,w);break;case 1:if(El(y,w,c),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(pe){jn(h,h.return,pe)}if(h=w,y=h.updateQueue,y!==null){var W=h.stateNode;try{var te=y.shared.hiddenCallbacks;if(te!==null)for(y.shared.hiddenCallbacks=null,y=0;y<te.length;y++)Zt(te[y],W)}catch(pe){jn(h,h.return,pe)}}c&&V&64&&oE(w),jh(w,w.return);break;case 27:dE(w);case 26:case 5:El(y,w,c),c&&h===null&&V&4&&cE(w),jh(w,w.return);break;case 12:El(y,w,c);break;case 13:El(y,w,c),c&&V&4&&gE(y,w);break;case 22:w.memoizedState===null&&El(y,w,c),jh(w,w.return);break;case 30:break;default:El(y,w,c)}o=o.sibling}}function py(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Dc(c))}function my(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Dc(s))}function Oa(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_E(s,o,c,h),o=o.sibling}function _E(s,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Oa(s,o,c,h),y&2048&&Ph(9,o);break;case 1:Oa(s,o,c,h);break;case 3:Oa(s,o,c,h),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Dc(s)));break;case 12:if(y&2048){Oa(s,o,c,h),s=o.stateNode;try{var w=o.memoizedProps,V=w.id,W=w.onPostCommit;typeof W=="function"&&W(V,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){jn(o,o.return,te)}}else Oa(s,o,c,h);break;case 13:Oa(s,o,c,h);break;case 23:break;case 22:w=o.stateNode,V=o.alternate,o.memoizedState!==null?w._visibility&2?Oa(s,o,c,h):Uh(s,o):w._visibility&2?Oa(s,o,c,h):(w._visibility|=2,Yu(s,o,c,h,(o.subtreeFlags&10256)!==0)),y&2048&&py(V,o);break;case 24:Oa(s,o,c,h),y&2048&&my(o.alternate,o);break;default:Oa(s,o,c,h)}}function Yu(s,o,c,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,V=o,W=c,te=h,pe=V.flags;switch(V.tag){case 0:case 11:case 15:Yu(w,V,W,te,y),Ph(8,V);break;case 23:break;case 22:var Te=V.stateNode;V.memoizedState!==null?Te._visibility&2?Yu(w,V,W,te,y):Uh(w,V):(Te._visibility|=2,Yu(w,V,W,te,y)),y&&pe&2048&&py(V.alternate,V);break;case 24:Yu(w,V,W,te,y),y&&pe&2048&&my(V.alternate,V);break;default:Yu(w,V,W,te,y)}o=o.sibling}}function Uh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,y=h.flags;switch(h.tag){case 22:Uh(c,h),y&2048&&py(h.alternate,h);break;case 24:Uh(c,h),y&2048&&my(h.alternate,h);break;default:Uh(c,h)}o=o.sibling}}var Vh=8192;function Gu(s){if(s.subtreeFlags&Vh)for(s=s.child;s!==null;)bE(s),s=s.sibling}function bE(s){switch(s.tag){case 26:Gu(s),s.flags&Vh&&s.memoizedState!==null&&gk(ua,s.memoizedState,s.memoizedProps);break;case 5:Gu(s);break;case 3:case 4:var o=ua;ua=im(s.stateNode.containerInfo),Gu(s),ua=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Vh,Vh=16777216,Gu(s),Vh=o):Gu(s));break;default:Gu(s)}}function wE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Fh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Gr=h,TE(h,s)}wE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(s),s=s.sibling}function EE(s){switch(s.tag){case 0:case 11:case 15:Fh(s),s.flags&2048&&bl(9,s,s.return);break;case 3:Fh(s);break;case 12:Fh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Yp(s)):Fh(s);break;default:Fh(s)}}function Yp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Gr=h,TE(h,s)}wE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:bl(8,o,o.return),Yp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Yp(o));break;default:Yp(o)}s=s.sibling}}function TE(s,o){for(;Gr!==null;){var c=Gr;switch(c.tag){case 0:case 11:case 15:bl(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Gr=h;else e:for(c=s;Gr!==null;){h=Gr;var y=h.sibling,w=h.return;if(pE(h),h===c){Gr=null;break e}if(y!==null){y.return=w,Gr=y;break e}Gr=w}}}var IM={getCacheForType:function(s){var o=Mr(In),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},LM=typeof WeakMap=="function"?WeakMap:Map,xn=0,Fn=null,Ut=null,en=0,An=0,fs=null,Tl=!1,Wu=!1,gy=!1,Do=0,lr=0,Sl=0,Pc=0,vy=0,Ps=0,Qu=0,Bh=null,Xi=null,yy=!1,_y=0,Gp=1/0,Wp=null,Cl=null,si=0,xl=null,Ku=null,Xu=0,by=0,wy=null,SE=null,zh=0,Ey=null;function ps(){if((xn&2)!==0&&en!==0)return en&-en;if(P.T!==null){var s=fl;return s!==0?s:Ry()}return gt()}function CE(){Ps===0&&(Ps=(en&536870912)===0||nn?Nr():536870912);var s=Ns.current;return s!==null&&(s.flags|=32),Ps}function ms(s,o,c){(s===Fn&&(An===2||An===9)||s.cancelPendingCommit!==null)&&(Zu(s,0),Al(s,en,Ps,!1)),Ae(s,c),((xn&2)===0||s!==Fn)&&(s===Fn&&((xn&2)===0&&(Pc|=c),lr===4&&Al(s,en,Ps,!1)),Na(s))}function xE(s,o,c){if((xn&6)!==0)throw Error(n(327));var h=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Or(s,o),y=h?PM(s,o):Cy(s,o,!0),w=h;do{if(y===0){Wu&&!h&&Al(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!OM(c)){y=Cy(s,o,!1),w=!1;continue}if(y===2){if(w=o,s.errorRecoveryDisabledLanes&w)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;e:{var W=s;y=Bh;var te=W.current.memoizedState.isDehydrated;if(te&&(Zu(W,V).flags|=256),V=Cy(W,V,!1),V!==2){if(gy&&!te){W.errorRecoveryDisabledLanes|=w,Pc|=w,y=4;break e}w=Xi,Xi=y,w!==null&&(Xi===null?Xi=w:Xi.push.apply(Xi,w))}y=V}if(w=!1,y!==2)continue}}if(y===1){Zu(s,0),Al(s,o,0,!0);break}e:{switch(h=s,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Al(h,o,Ps,!Tl);break e;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=_y+300-Qe(),10<y)){if(Al(h,o,Ps,!Tl),Xr(h,0,!0)!==0)break e;h.timeoutHandle=t1(AE.bind(null,h,c,Xi,Wp,yy,o,Ps,Pc,Qu,Tl,w,2,-0,0),y);break e}AE(h,c,Xi,Wp,yy,o,Ps,Pc,Qu,Tl,w,0,-0,0)}}break}while(!0);Na(s)}function AE(s,o,c,h,y,w,V,W,te,pe,Te,Re,ge,ye){if(s.timeoutHandle=-1,Re=o.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(Qh={stylesheets:null,count:0,unsuspend:mk},bE(o),Re=vk(),Re!==null)){s.cancelPendingCommit=Re(OE.bind(null,s,o,w,c,h,y,V,W,te,Te,1,ge,ye)),Al(s,w,V,!pe);return}OE(s,o,w,c,h,y,V,W,te)}function OM(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],w=y.getSnapshot;y=y.value;try{if(!Vn(w(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Al(s,o,c,h){o&=~vy,o&=~Pc,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var y=o;0<y;){var w=31-kt(y),V=1<<w;h[w]=-1,y&=~V}c!==0&&Ke(s,c,o)}function Qp(){return(xn&6)===0?(Hh(0),!1):!0}function Ty(){if(Ut!==null){if(An===0)var s=Ut.return;else s=Ut,Ms=wo=null,Sh(s),qu=null,Lh=0,s=Ut;for(;s!==null;)aE(s.alternate,s),s=s.return;Ut=null}}function Zu(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,ZM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Ty(),Fn=s,Ut=c=aa(s.current,null),en=o,An=0,fs=null,Tl=!1,Wu=Or(s,o),gy=!1,Qu=Ps=vy=Pc=Sl=lr=0,Xi=Bh=null,yy=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var y=31-kt(h),w=1<<y;o|=s[y],h&=~w}return Do=o,Du(),c}function DE(s,o){at=null,P.H=Pp,o===q||o===M?(o=Ne(),An=3):o===_?(o=Ne(),An=4):An=o===Yw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fs=o,Ut===null&&(lr=1,Bp(s,$i(o,s.current)))}function RE(){var s=P.H;return P.H=Pp,s===null?Pp:s}function ME(){var s=P.A;return P.A=IM,s}function Sy(){lr=4,Tl||(en&4194048)!==en&&Ns.current!==null||(Wu=!0),(Sl&134217727)===0&&(Pc&134217727)===0||Fn===null||Al(Fn,en,Ps,!1)}function Cy(s,o,c){var h=xn;xn|=2;var y=RE(),w=ME();(Fn!==s||en!==o)&&(Wp=null,Zu(s,o)),o=!1;var V=lr;e:do try{if(An!==0&&Ut!==null){var W=Ut,te=fs;switch(An){case 8:Ty(),V=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(o=!0);var pe=An;if(An=0,fs=null,Ju(s,W,te,pe),c&&Wu){V=0;break e}break;default:pe=An,An=0,fs=null,Ju(s,W,te,pe)}}NM(),V=lr;break}catch(Te){DE(s,Te)}while(!0);return o&&s.shellSuspendCounter++,Ms=wo=null,xn=h,P.H=y,P.A=w,Ut===null&&(Fn=null,en=0,Du()),V}function NM(){for(;Ut!==null;)kE(Ut)}function PM(s,o){var c=xn;xn|=2;var h=RE(),y=ME();Fn!==s||en!==o?(Wp=null,Gp=Qe()+500,Zu(s,o)):Wu=Or(s,o);e:do try{if(An!==0&&Ut!==null){o=Ut;var w=fs;t:switch(An){case 1:An=0,fs=null,Ju(s,o,w,1);break;case 2:case 9:if(le(w)){An=0,fs=null,IE(o);break}o=function(){An!==2&&An!==9||Fn!==s||(An=7),Na(s)},w.then(o,o);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:le(w)?(An=0,fs=null,IE(o)):(An=0,fs=null,Ju(s,o,w,7));break;case 5:var V=null;switch(Ut.tag){case 26:V=Ut.memoizedState;case 5:case 27:var W=Ut;if(!V||f1(V)){An=0,fs=null;var te=W.sibling;if(te!==null)Ut=te;else{var pe=W.return;pe!==null?(Ut=pe,Kp(pe)):Ut=null}break t}}An=0,fs=null,Ju(s,o,w,5);break;case 6:An=0,fs=null,Ju(s,o,w,6);break;case 8:Ty(),lr=6;break e;default:throw Error(n(462))}}jM();break}catch(Te){DE(s,Te)}while(!0);return Ms=wo=null,P.H=h,P.A=y,xn=c,Ut!==null?0:(Fn=null,en=0,Du(),lr)}function jM(){for(;Ut!==null&&!ke();)kE(Ut)}function kE(s){var o=iE(s.alternate,s,Do);s.memoizedProps=s.pendingProps,o===null?Kp(s):Ut=o}function IE(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=Zw(c,o,o.pendingProps,o.type,void 0,en);break;case 11:o=Zw(c,o,o.pendingProps,o.type.render,o.ref,en);break;case 5:Sh(o);default:aE(c,o),o=Ut=ku(o,Do),o=iE(c,o,Do)}s.memoizedProps=s.pendingProps,o===null?Kp(s):Ut=o}function Ju(s,o,c,h){Ms=wo=null,Sh(o),qu=null,Lh=0;var y=o.return;try{if(xM(s,y,o,c,en)){lr=1,Bp(s,$i(c,s.current)),Ut=null;return}}catch(w){if(y!==null)throw Ut=y,w;lr=1,Bp(s,$i(c,s.current)),Ut=null;return}o.flags&32768?(nn||h===1?s=!0:Wu||(en&536870912)!==0?s=!1:(Tl=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ns.current,h!==null&&h.tag===13&&(h.flags|=16384))),LE(o,s)):Kp(o)}function Kp(s){var o=s;do{if((o.flags&32768)!==0){LE(o,Tl);return}s=o.return;var c=DM(o.alternate,o,Do);if(c!==null){Ut=c;return}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=s}while(o!==null);lr===0&&(lr=5)}function LE(s,o){do{var c=RM(s.alternate,s);if(c!==null){c.flags&=32767,Ut=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ut=s;return}Ut=s=c}while(s!==null);lr=6,Ut=null}function OE(s,o,c,h,y,w,V,W,te){s.cancelPendingCommit=null;do Xp();while(si!==0);if((xn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=hh,Pe(s,c,w,V,W,te),s===Fn&&(Ut=Fn=null,en=0),Ku=o,xl=s,Xu=c,by=w,wy=y,SE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BM(Pt,function(){return VE(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=P.T,P.T=null,y=F.p,F.p=2,V=xn,xn|=4;try{MM(s,o,c)}finally{xn=V,F.p=y,P.T=h}}si=1,NE(),PE(),jE()}}function NE(){if(si===1){si=0;var s=xl,o=Ku,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=P.T,P.T=null;var h=F.p;F.p=2;var y=xn;xn|=4;try{vE(o,s);var w=jy,V=yp(s.containerInfo),W=w.focusedElem,te=w.selectionRange;if(V!==W&&W&&W.ownerDocument&&rh(W.ownerDocument.documentElement,W)){if(te!==null&&ih(W)){var pe=te.start,Te=te.end;if(Te===void 0&&(Te=pe),"selectionStart"in W)W.selectionStart=pe,W.selectionEnd=Math.min(Te,W.value.length);else{var Re=W.ownerDocument||document,ge=Re&&Re.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),ht=W.textContent.length,ot=Math.min(te.start,ht),On=te.end===void 0?ot:Math.min(te.end,ht);!ye.extend&&ot>On&&(V=On,On=ot,ot=V);var ue=nh(W,ot),se=nh(W,On);if(ue&&se&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==se.node||ye.focusOffset!==se.offset)){var fe=Re.createRange();fe.setStart(ue.node,ue.offset),ye.removeAllRanges(),ot>On?(ye.addRange(fe),ye.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),ye.addRange(fe))}}}}for(Re=[],ye=W;ye=ye.parentNode;)ye.nodeType===1&&Re.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Re.length;W++){var xe=Re[W];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}cm=!!Py,jy=Py=null}finally{xn=y,F.p=h,P.T=c}}s.current=o,si=2}}function PE(){if(si===2){si=0;var s=xl,o=Ku,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=P.T,P.T=null;var h=F.p;F.p=2;var y=xn;xn|=4;try{fE(s,o.alternate,o)}finally{xn=y,F.p=h,P.T=c}}si=3}}function jE(){if(si===4||si===3){si=0,Ze();var s=xl,o=Ku,c=Xu,h=SE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?si=5:(si=0,Ku=xl=null,UE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Cl=null),mt(c),o=o.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Rt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=P.T,y=F.p,F.p=2,P.T=null;try{for(var w=s.onRecoverableError,V=0;V<h.length;V++){var W=h[V];w(W.value,{componentStack:W.stack})}}finally{P.T=o,F.p=y}}(Xu&3)!==0&&Xp(),Na(s),y=s.pendingLanes,(c&4194090)!==0&&(y&42)!==0?s===Ey?zh++:(zh=0,Ey=s):zh=0,Hh(0)}}function UE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Dc(o)))}function Xp(s){return NE(),PE(),jE(),VE()}function VE(){if(si!==5)return!1;var s=xl,o=by;by=0;var c=mt(Xu),h=P.T,y=F.p;try{F.p=32>c?32:c,P.T=null,c=wy,wy=null;var w=xl,V=Xu;if(si=0,Ku=xl=null,Xu=0,(xn&6)!==0)throw Error(n(331));var W=xn;if(xn|=4,EE(w.current),_E(w,w.current,V,c),xn=W,Hh(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Rt,w)}catch{}return!0}finally{F.p=y,P.T=h,UE(s,o)}}function FE(s,o,c){o=$i(c,o),o=ey(s.stateNode,o,2),s=it(s,o,2),s!==null&&(Ae(s,2),Na(s))}function jn(s,o,c){if(s.tag===3)FE(s,s,c);else for(;o!==null;){if(o.tag===3){FE(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cl===null||!Cl.has(h))){s=$i(c,s),c=qw(2),h=it(o,c,2),h!==null&&($w(c,h,o,s),Ae(h,2),Na(h));break}}o=o.return}}function xy(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new LM;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(gy=!0,y.add(c),s=UM.bind(null,s,o,c),o.then(s,s))}function UM(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Fn===s&&(en&c)===c&&(lr===4||lr===3&&(en&62914560)===en&&300>Qe()-_y?(xn&2)===0&&Zu(s,0):vy|=c,Qu===en&&(Qu=0)),Na(s)}function BE(s,o){o===0&&(o=hr()),s=cl(s,o),s!==null&&(Ae(s,o),Na(s))}function VM(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),BE(s,c)}function FM(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),BE(s,c)}function BM(s,o){return Ce(s,o)}var Zp=null,ed=null,Ay=!1,Jp=!1,Dy=!1,jc=0;function Na(s){s!==ed&&s.next===null&&(ed===null?Zp=ed=s:ed=ed.next=s),Jp=!0,Ay||(Ay=!0,HM())}function Hh(s,o){if(!Dy&&Jp){Dy=!0;do for(var c=!1,h=Zp;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var V=h.suspendedLanes,W=h.pingedLanes;w=(1<<31-kt(42|s)+1)-1,w&=y&~(V&~W),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,$E(h,w))}else w=en,w=Xr(h,h===Fn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Or(h,w)||(c=!0,$E(h,w));h=h.next}while(c);Dy=!1}}function zM(){zE()}function zE(){Jp=Ay=!1;var s=0;jc!==0&&(XM()&&(s=jc),jc=0);for(var o=Qe(),c=null,h=Zp;h!==null;){var y=h.next,w=HE(h,o);w===0?(h.next=null,c===null?Zp=y:c.next=y,y===null&&(ed=c)):(c=h,(s!==0||(w&3)!==0)&&(Jp=!0)),h=y}Hh(s)}function HE(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var V=31-kt(w),W=1<<V,te=y[V];te===-1?((W&c)===0||(W&h)!==0)&&(y[V]=fi(W,o)):te<=o&&(s.expiredLanes|=W),w&=~W}if(o=Fn,c=en,c=Xr(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(An===2||An===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&qe(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Or(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&qe(h),mt(c)){case 2:case 8:c=vn;break;case 32:c=Pt;break;case 268435456:c=zt;break;default:c=Pt}return h=qE.bind(null,s),c=Ce(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&qe(h),s.callbackPriority=2,s.callbackNode=null,2}function qE(s,o){if(si!==0&&si!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Xp()&&s.callbackNode!==c)return null;var h=en;return h=Xr(s,s===Fn?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(xE(s,h,o),HE(s,Qe()),s.callbackNode!=null&&s.callbackNode===c?qE.bind(null,s):null)}function $E(s,o){if(Xp())return null;xE(s,o,!0)}function HM(){JM(function(){(xn&6)!==0?Ce(Kt,zM):zE()})}function Ry(){return jc===0&&(jc=Nr()),jc}function YE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ta(""+s)}function GE(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function qM(s,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var w=YE((y[It]||null).action),V=h.submitter;V&&(o=(o=V[It]||null)?YE(o.formAction):V.getAttribute("formAction"),o!==null&&(w=o,V=null));var W=new so("action","action",null,h,y);s.push({event:W,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(jc!==0){var te=V?GE(y,V):new FormData(y);Qv(c,{pending:!0,data:te,method:y.method,action:w},null,te)}}else typeof w=="function"&&(W.preventDefault(),te=V?GE(y,V):new FormData(y),Qv(c,{pending:!0,data:te,method:y.method,action:w},w,te))},currentTarget:y}]})}}for(var My=0;My<uh.length;My++){var ky=uh[My],$M=ky.toLowerCase(),YM=ky[0].toUpperCase()+ky.slice(1);qi($M,"on"+YM)}qi(lh,"onAnimationEnd"),qi(_p,"onAnimationIteration"),qi(ch,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(bp,"onTransitionRun"),qi(wp,"onTransitionStart"),qi(Ep,"onTransitionCancel"),qi(Tp,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qh));function WE(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],y=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var V=h.length-1;0<=V;V--){var W=h[V],te=W.instance,pe=W.currentTarget;if(W=W.listener,te!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=pe;try{w(y)}catch(Te){Fp(Te)}y.currentTarget=null,w=te}else for(V=0;V<h.length;V++){if(W=h[V],te=W.instance,pe=W.currentTarget,W=W.listener,te!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=pe;try{w(y)}catch(Te){Fp(Te)}y.currentTarget=null,w=te}}}}function Vt(s,o){var c=o[wr];c===void 0&&(c=o[wr]=new Set);var h=s+"__bubble";c.has(h)||(QE(o,s,2,!1),c.add(h))}function Iy(s,o,c){var h=0;o&&(h|=4),QE(c,s,h,o)}var em="_reactListening"+Math.random().toString(36).slice(2);function Ly(s){if(!s[em]){s[em]=!0,fr.forEach(function(c){c!=="selectionchange"&&(GM.has(c)||Iy(c,!1,s),Iy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[em]||(o[em]=!0,Iy("selectionchange",!1,o))}}function QE(s,o,c,h){switch(_1(o)){case 2:var y=bk;break;case 8:y=wk;break;default:y=Gy}c=y.bind(null,o,c,s),y=void 0,!Ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function Oy(s,o,c,h,y){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var V=h.tag;if(V===3||V===4){var W=h.stateNode.containerInfo;if(W===y)break;if(V===4)for(V=h.return;V!==null;){var te=V.tag;if((te===3||te===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;W!==null;){if(V=rs(W),V===null)return;if(te=V.tag,te===5||te===6||te===26||te===27){h=w=V;continue e}W=W.parentNode}}h=h.return}pc(function(){var pe=w,Te=Br(c),Re=[];e:{var ge=Sp.get(s);if(ge!==void 0){var ye=so,ht=s;switch(s){case"keypress":if(Ss(c)===0)break e;case"keydown":case"keyup":ye=Hi;break;case"focusin":ht="focus",ye=co;break;case"focusout":ht="blur",ye=co;break;case"beforeblur":case"afterblur":ye=co;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=bu;break;case lh:case _p:case ch:ye=ho;break;case Tp:ye=Eu;break;case"scroll":case"scrollend":ye=nl;break;case"wheel":ye=po;break;case"copy":case"cut":case"paste":ye=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=vc;break;case"toggle":case"beforetoggle":ye=Su}var ot=(o&4)!==0,On=!ot&&(s==="scroll"||s==="scrollend"),ue=ot?ge!==null?ge+"Capture":null:ge;ot=[];for(var se=pe,fe;se!==null;){var xe=se;if(fe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||fe===null||ue===null||(xe=zi(se,ue),xe!=null&&ot.push($h(se,xe,fe))),On)break;se=se.return}0<ot.length&&(ge=new ye(ge,ht,null,c,Te),Re.push({event:ge,listeners:ot}))}}if((o&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ge&&c!==Es&&(ht=c.relatedTarget||c.fromElement)&&(rs(ht)||ht[pn]))break e;if((ye||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(ht=c.relatedTarget||c.toElement,ye=pe,ht=ht?rs(ht):null,ht!==null&&(On=a(ht),ot=ht.tag,ht!==On||ot!==5&&ot!==27&&ot!==6)&&(ht=null)):(ye=null,ht=pe),ye!==ht)){if(ot=Ri,xe="onMouseLeave",ue="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(ot=vc,xe="onPointerLeave",ue="onPointerEnter",se="pointer"),On=ye==null?ge:Pn(ye),fe=ht==null?ge:Pn(ht),ge=new ot(xe,se+"leave",ye,c,Te),ge.target=On,ge.relatedTarget=fe,xe=null,rs(Te)===pe&&(ot=new ot(ue,se+"enter",ht,c,Te),ot.target=fe,ot.relatedTarget=On,xe=ot),On=xe,ye&&ht)t:{for(ot=ye,ue=ht,se=0,fe=ot;fe;fe=td(fe))se++;for(fe=0,xe=ue;xe;xe=td(xe))fe++;for(;0<se-fe;)ot=td(ot),se--;for(;0<fe-se;)ue=td(ue),fe--;for(;se--;){if(ot===ue||ue!==null&&ot===ue.alternate)break t;ot=td(ot),ue=td(ue)}ot=null}else ot=null;ye!==null&&KE(Re,ge,ye,ot,!1),ht!==null&&On!==null&&KE(Re,On,ht,ot,!0)}}e:{if(ge=pe?Pn(pe):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var Xe=bc;else if(sr(ge))if(dp)Xe=gp;else{Xe=mp;var Lt=pp}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&Ci(pe.elementType)&&(Xe=bc):Xe=xu;if(Xe&&(Xe=Xe(s,pe))){As(Re,Xe,c,Te);break e}Lt&&Lt(s,ge,pe),s==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&mi(ge,"number",ge.value)}switch(Lt=pe?Pn(pe):window,s){case"focusin":(sr(Lt)||Lt.contentEditable==="true")&&(al=Lt,sh=pe,Ec=null);break;case"focusout":Ec=sh=al=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,ah(Re,c,Te);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":ah(Re,c,Te)}var nt;if(Hr)e:{switch(s){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Ht?_e(s,c)&&(ct="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ct="onCompositionStart");ct&&(O&&c.locale!=="ko"&&(Ht||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ht&&(nt=Sa()):(Di=Te,Ts="value"in Di?Di.value:Di.textContent,Ht=!0)),Lt=tm(pe,ct),0<Lt.length&&(ct=new il(ct,s,null,c,Te),Re.push({event:ct,listeners:Lt}),nt?ct.data=nt:(nt=Oe(c),nt!==null&&(ct.data=nt)))),(nt=A?mr(s,c):qt(s,c))&&(ct=tm(pe,"onBeforeInput"),0<ct.length&&(Lt=new il("onBeforeInput","beforeinput",null,c,Te),Re.push({event:Lt,listeners:ct}),Lt.data=nt)),qM(Re,s,pe,c,Te)}WE(Re,o)})}function $h(s,o,c){return{instance:s,listener:o,currentTarget:c}}function tm(s,o){for(var c=o+"Capture",h=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=zi(s,c),y!=null&&h.unshift($h(s,y,w)),y=zi(s,o),y!=null&&h.push($h(s,y,w))),s.tag===3)return h;s=s.return}return[]}function td(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function KE(s,o,c,h,y){for(var w=o._reactName,V=[];c!==null&&c!==h;){var W=c,te=W.alternate,pe=W.stateNode;if(W=W.tag,te!==null&&te===h)break;W!==5&&W!==26&&W!==27||pe===null||(te=pe,y?(pe=zi(c,w),pe!=null&&V.unshift($h(c,pe,te))):y||(pe=zi(c,w),pe!=null&&V.push($h(c,pe,te)))),c=c.return}V.length!==0&&s.push({event:o,listeners:V})}var WM=/\r\n?/g,QM=/\u0000|\uFFFD/g;function XE(s){return(typeof s=="string"?s:""+s).replace(WM,`
`).replace(QM,"")}function ZE(s,o){return o=XE(o),XE(s)===o}function nm(){}function Ln(s,o,c,h,y,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Si(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Si(s,""+h);break;case"className":Vi(s,"class",h);break;case"tabIndex":Vi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(s,c,h);break;case"style":el(s,h,w);break;case"data":if(o!=="object"){Vi(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=ta(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Ln(s,o,"name",y.name,y,null),Ln(s,o,"formEncType",y.formEncType,y,null),Ln(s,o,"formMethod",y.formMethod,y,null),Ln(s,o,"formTarget",y.formTarget,y,null)):(Ln(s,o,"encType",y.encType,y,null),Ln(s,o,"method",y.method,y,null),Ln(s,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=ta(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=nm);break;case"onScroll":h!=null&&Vt("scroll",s);break;case"onScrollEnd":h!=null&&Vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=ta(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Vt("beforetoggle",s),Vt("toggle",s),Js(s,"popover",h);break;case"xlinkActuate":pr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Js(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Zd.get(c)||c,Js(s,c,h))}}function Ny(s,o,c,h,y,w){switch(c){case"style":el(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Si(s,h):(typeof h=="number"||typeof h=="bigint")&&Si(s,""+h);break;case"onScroll":h!=null&&Vt("scroll",s);break;case"onScrollEnd":h!=null&&Vt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=nm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),w=s[It]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,y);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Js(s,c,h)}}}function ai(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",s),Vt("load",s);var h=!1,y=!1,w;for(w in c)if(c.hasOwnProperty(w)){var V=c[w];if(V!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ln(s,o,w,V,c,null)}}y&&Ln(s,o,"srcSet",c.srcSet,c,null),h&&Ln(s,o,"src",c.src,c,null);return;case"input":Vt("invalid",s);var W=w=V=y=null,te=null,pe=null;for(h in c)if(c.hasOwnProperty(h)){var Te=c[h];if(Te!=null)switch(h){case"name":y=Te;break;case"type":V=Te;break;case"checked":te=Te;break;case"defaultChecked":pe=Te;break;case"value":w=Te;break;case"defaultValue":W=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,o));break;default:Ln(s,o,h,Te,c,null)}}Fr(s,w,W,te,pe,V,y,!1),Jr(s);return;case"select":Vt("invalid",s),h=V=w=null;for(y in c)if(c.hasOwnProperty(y)&&(W=c[y],W!=null))switch(y){case"value":w=W;break;case"defaultValue":V=W;break;case"multiple":h=W;default:Ln(s,o,y,W,c,null)}o=w,c=V,s.multiple=!!h,o!=null?Fi(s,!!h,o,!1):c!=null&&Fi(s,!!h,c,!0);return;case"textarea":Vt("invalid",s),w=y=h=null;for(V in c)if(c.hasOwnProperty(V)&&(W=c[V],W!=null))switch(V){case"value":h=W;break;case"defaultValue":y=W;break;case"children":w=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:Ln(s,o,V,W,c,null)}ea(s,h,y,w),Jr(s);return;case"option":for(te in c)if(c.hasOwnProperty(te)&&(h=c[te],h!=null))switch(te){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ln(s,o,te,h,c,null)}return;case"dialog":Vt("beforetoggle",s),Vt("toggle",s),Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":Vt("load",s);break;case"video":case"audio":for(h=0;h<qh.length;h++)Vt(qh[h],s);break;case"image":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"embed":case"source":case"link":Vt("error",s),Vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in c)if(c.hasOwnProperty(pe)&&(h=c[pe],h!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ln(s,o,pe,h,c,null)}return;default:if(Ci(o)){for(Te in c)c.hasOwnProperty(Te)&&(h=c[Te],h!==void 0&&Ny(s,o,Te,h,c,void 0));return}}for(W in c)c.hasOwnProperty(W)&&(h=c[W],h!=null&&Ln(s,o,W,h,c,null))}function KM(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,V=null,W=null,te=null,pe=null,Te=null;for(ye in c){var Re=c[ye];if(c.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=Re;default:h.hasOwnProperty(ye)||Ln(s,o,ye,null,h,Re)}}for(var ge in h){var ye=h[ge];if(Re=c[ge],h.hasOwnProperty(ge)&&(ye!=null||Re!=null))switch(ge){case"type":w=ye;break;case"name":y=ye;break;case"checked":pe=ye;break;case"defaultChecked":Te=ye;break;case"value":V=ye;break;case"defaultValue":W=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==Re&&Ln(s,o,ge,ye,h,Re)}}ei(s,V,W,te,pe,Te,w,y);return;case"select":ye=V=W=ge=null;for(w in c)if(te=c[w],c.hasOwnProperty(w)&&te!=null)switch(w){case"value":break;case"multiple":ye=te;default:h.hasOwnProperty(w)||Ln(s,o,w,null,h,te)}for(y in h)if(w=h[y],te=c[y],h.hasOwnProperty(y)&&(w!=null||te!=null))switch(y){case"value":ge=w;break;case"defaultValue":W=w;break;case"multiple":V=w;default:w!==te&&Ln(s,o,y,w,h,te)}o=W,c=V,h=ye,ge!=null?Fi(s,!!c,ge,!1):!!h!=!!c&&(o!=null?Fi(s,!!c,o,!0):Fi(s,!!c,c?[]:"",!1));return;case"textarea":ye=ge=null;for(W in c)if(y=c[W],c.hasOwnProperty(W)&&y!=null&&!h.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Ln(s,o,W,null,h,y)}for(V in h)if(y=h[V],w=c[V],h.hasOwnProperty(V)&&(y!=null||w!=null))switch(V){case"value":ge=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&Ln(s,o,V,y,h,w)}Qt(s,ge,ye);return;case"option":for(var ht in c)if(ge=c[ht],c.hasOwnProperty(ht)&&ge!=null&&!h.hasOwnProperty(ht))switch(ht){case"selected":s.selected=!1;break;default:Ln(s,o,ht,null,h,ge)}for(te in h)if(ge=h[te],ye=c[te],h.hasOwnProperty(te)&&ge!==ye&&(ge!=null||ye!=null))switch(te){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Ln(s,o,te,ge,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in c)ge=c[ot],c.hasOwnProperty(ot)&&ge!=null&&!h.hasOwnProperty(ot)&&Ln(s,o,ot,null,h,ge);for(pe in h)if(ge=h[pe],ye=c[pe],h.hasOwnProperty(pe)&&ge!==ye&&(ge!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:Ln(s,o,pe,ge,h,ye)}return;default:if(Ci(o)){for(var On in c)ge=c[On],c.hasOwnProperty(On)&&ge!==void 0&&!h.hasOwnProperty(On)&&Ny(s,o,On,void 0,h,ge);for(Te in h)ge=h[Te],ye=c[Te],!h.hasOwnProperty(Te)||ge===ye||ge===void 0&&ye===void 0||Ny(s,o,Te,ge,h,ye);return}}for(var ue in c)ge=c[ue],c.hasOwnProperty(ue)&&ge!=null&&!h.hasOwnProperty(ue)&&Ln(s,o,ue,null,h,ge);for(Re in h)ge=h[Re],ye=c[Re],!h.hasOwnProperty(Re)||ge===ye||ge==null&&ye==null||Ln(s,o,Re,ge,h,ye)}var Py=null,jy=null;function rm(s){return s.nodeType===9?s:s.ownerDocument}function JE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Uy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vy=null;function XM(){var s=window.event;return s&&s.type==="popstate"?s===Vy?!1:(Vy=s,!0):(Vy=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,ZM=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,JM=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(s){return n1.resolve(null).then(s).catch(ek)}:t1;function ek(s){setTimeout(function(){throw s})}function Dl(s){return s==="head"}function r1(s,o){var c=o,h=0,y=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<h&&8>h){c=h;var V=s.ownerDocument;if(c&1&&Yh(V.documentElement),c&2&&Yh(V.body),c&4)for(c=V.head,Yh(c),V=c.firstChild;V;){var W=V.nextSibling,te=V.nodeName;V[Qn]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&V.rel.toLowerCase()==="stylesheet"||c.removeChild(V),V=W}}if(y===0){s.removeChild(w),ef(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:h=c.charCodeAt(0)-48;else h=0;c=w}while(c);ef(o)}function Fy(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Fy(c),jr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function tk(s,o,c,h){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Qn])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=da(s.nextSibling),s===null)break}return null}function nk(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=da(s.nextSibling),s===null))return null;return s}function By(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function rk(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function da(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var zy=null;function i1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function s1(s,o,c){switch(o=rm(c),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Yh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);jr(s)}var js=new Map,a1=new Set;function im(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ro=F.d;F.d={f:ik,r:sk,D:ak,C:ok,L:lk,m:ck,X:dk,S:uk,M:hk};function ik(){var s=Ro.f(),o=Qp();return s||o}function sk(s){var o=Ar(s);o!==null&&o.tag===5&&o.type==="form"?xw(o):Ro.r(s)}var nd=typeof document>"u"?null:document;function o1(s,o,c){var h=nd;if(h&&typeof o=="string"&&o){var y=Kn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),a1.has(y)||(a1.add(y),s={rel:s,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),ai(o,"link",s),Wt(o),h.head.appendChild(o)))}}function ak(s){Ro.D(s),o1("dns-prefetch",s,null)}function ok(s,o){Ro.C(s,o),o1("preconnect",s,o)}function lk(s,o,c){Ro.L(s,o,c);var h=nd;if(h&&s&&o){var y='link[rel="preload"][as="'+Kn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Kn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Kn(c.imageSizes)+'"]')):y+='[href="'+Kn(s)+'"]';var w=y;switch(o){case"style":w=rd(s);break;case"script":w=id(s)}js.has(w)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),js.set(w,s),h.querySelector(y)!==null||o==="style"&&h.querySelector(Gh(w))||o==="script"&&h.querySelector(Wh(w))||(o=h.createElement("link"),ai(o,"link",s),Wt(o),h.head.appendChild(o)))}}function ck(s,o){Ro.m(s,o);var c=nd;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Kn(h)+'"][href="'+Kn(s)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=id(s)}if(!js.has(w)&&(s=p({rel:"modulepreload",href:s},o),js.set(w,s),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wh(w)))return}h=c.createElement("link"),ai(h,"link",s),Wt(h),c.head.appendChild(h)}}}function uk(s,o,c){Ro.S(s,o,c);var h=nd;if(h&&s){var y=Tn(h).hoistableStyles,w=rd(s);o=o||"default";var V=y.get(w);if(!V){var W={loading:0,preload:null};if(V=h.querySelector(Gh(w)))W.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=js.get(w))&&Hy(s,c);var te=V=h.createElement("link");Wt(te),ai(te,"link",s),te._p=new Promise(function(pe,Te){te.onload=pe,te.onerror=Te}),te.addEventListener("load",function(){W.loading|=1}),te.addEventListener("error",function(){W.loading|=2}),W.loading|=4,sm(V,o,h)}V={type:"stylesheet",instance:V,count:1,state:W},y.set(w,V)}}}function dk(s,o){Ro.X(s,o);var c=nd;if(c&&s){var h=Tn(c).hoistableScripts,y=id(s),w=h.get(y);w||(w=c.querySelector(Wh(y)),w||(s=p({src:s,async:!0},o),(o=js.get(y))&&qy(s,o),w=c.createElement("script"),Wt(w),ai(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function hk(s,o){Ro.M(s,o);var c=nd;if(c&&s){var h=Tn(c).hoistableScripts,y=id(s),w=h.get(y);w||(w=c.querySelector(Wh(y)),w||(s=p({src:s,async:!0,type:"module"},o),(o=js.get(y))&&qy(s,o),w=c.createElement("script"),Wt(w),ai(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function l1(s,o,c,h){var y=(y=we.current)?im(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=rd(c.href),c=Tn(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=rd(c.href);var w=Tn(y).hoistableStyles,V=w.get(s);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,V),(w=y.querySelector(Gh(s)))&&!w._p&&(V.instance=w,V.state.loading=5),js.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},js.set(s,c),w||fk(y,s,c,V.state))),o&&h===null)throw Error(n(528,""));return V}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=id(c),c=Tn(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function rd(s){return'href="'+Kn(s)+'"'}function Gh(s){return'link[rel="stylesheet"]['+s+"]"}function c1(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function fk(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),ai(o,"link",c),Wt(o),s.head.appendChild(o))}function id(s){return'[src="'+Kn(s)+'"]'}function Wh(s){return"script[async]"+s}function u1(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Kn(c.href)+'"]');if(h)return o.instance=h,Wt(h),h;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Wt(h),ai(h,"style",y),sm(h,c.precedence,s),o.instance=h;case"stylesheet":y=rd(c.href);var w=s.querySelector(Gh(y));if(w)return o.state.loading|=4,o.instance=w,Wt(w),w;h=c1(c),(y=js.get(y))&&Hy(h,y),w=(s.ownerDocument||s).createElement("link"),Wt(w);var V=w;return V._p=new Promise(function(W,te){V.onload=W,V.onerror=te}),ai(w,"link",h),o.state.loading|=4,sm(w,c.precedence,s),o.instance=w;case"script":return w=id(c.src),(y=s.querySelector(Wh(w)))?(o.instance=y,Wt(y),y):(h=c,(y=js.get(w))&&(h=p({},c),qy(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),Wt(y),ai(y,"link",h),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,sm(h,c.precedence,s));return o.instance}function sm(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,V=0;V<h.length;V++){var W=h[V];if(W.dataset.precedence===o)w=W;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Hy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function qy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var am=null;function d1(s,o,c){if(am===null){var h=new Map,y=am=new Map;y.set(c,h)}else y=am,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var w=c[y];if(!(w[Qn]||w[Le]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(o)||"";V=s+V;var W=h.get(V);W?W.push(w):h.set(V,[w])}}return h}function h1(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function pk(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function f1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qh=null;function mk(){}function gk(s,o,c){if(Qh===null)throw Error(n(475));var h=Qh;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=rd(c.href),w=s.querySelector(Gh(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=om.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=w,Wt(w);return}w=s.ownerDocument||s,c=c1(c),(y=js.get(y))&&Hy(c,y),w=w.createElement("link"),Wt(w);var V=w;V._p=new Promise(function(W,te){V.onload=W,V.onerror=te}),ai(w,"link",c),o.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=om.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function vk(){if(Qh===null)throw Error(n(475));var s=Qh;return s.stylesheets&&s.count===0&&$y(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&$y(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function om(){if(this.count--,this.count===0){if(this.stylesheets)$y(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lm=null;function $y(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lm=new Map,o.forEach(yk,s),lm=null,om.call(s))}function yk(s,o){if(!(o.state.loading&4)){var c=lm.get(s);if(c)var h=c.get(null);else{c=new Map,lm.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var V=y[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),h=V)}h&&c.set(null,h)}y=o.instance,V=y.getAttribute("data-precedence"),w=c.get(V)||h,w===h&&c.set(null,y),c.set(V,y),this.count++,h=om.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Kh={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function _k(s,o,c,h,y,w,V,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function p1(s,o,c,h,y,w,V,W,te,pe,Te,Re){return s=new _k(s,o,c,V,W,te,pe,Re),o=1,w===!0&&(o|=24),w=Mi(3,null,null,o),s.current=w,w.stateNode=s,o=_h(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},Ue(w),s}function m1(s){return s?(s=ul,s):ul}function g1(s,o,c,h,y,w){y=m1(y),h.context===null?h.context=y:h.pendingContext=y,h=et(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=it(s,h,o),c!==null&&(ms(c,s,o),st(c,s,o))}function v1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Yy(s,o){v1(s,o),(s=s.alternate)&&v1(s,o)}function y1(s){if(s.tag===13){var o=cl(s,67108864);o!==null&&ms(o,s,67108864),Yy(s,67108864)}}var cm=!0;function bk(s,o,c,h){var y=P.T;P.T=null;var w=F.p;try{F.p=2,Gy(s,o,c,h)}finally{F.p=w,P.T=y}}function wk(s,o,c,h){var y=P.T;P.T=null;var w=F.p;try{F.p=8,Gy(s,o,c,h)}finally{F.p=w,P.T=y}}function Gy(s,o,c,h){if(cm){var y=Wy(h);if(y===null)Oy(s,o,h,um,c),b1(s,h);else if(Tk(y,s,o,c,h))h.stopPropagation();else if(b1(s,h),o&4&&-1<Ek.indexOf(s)){for(;y!==null;){var w=Ar(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=kn(w.pendingLanes);if(V!==0){var W=w;for(W.pendingLanes|=2,W.entangledLanes|=2;V;){var te=1<<31-kt(V);W.entanglements[1]|=te,V&=~te}Na(w),(xn&6)===0&&(Gp=Qe()+500,Hh(0))}}break;case 13:W=cl(w,2),W!==null&&ms(W,w,2),Qp(),Yy(w,2)}if(w=Wy(h),w===null&&Oy(s,o,h,um,c),w===y)break;y=w}y!==null&&h.stopPropagation()}else Oy(s,o,h,null,c)}}function Wy(s){return s=Br(s),Qy(s)}var um=null;function Qy(s){if(um=null,s=rs(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return um=s,null}function _1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Kt:return 2;case vn:return 8;case Pt:case Gn:return 32;case zt:return 268435456;default:return 32}default:return 32}}var Ky=!1,Rl=null,Ml=null,kl=null,Xh=new Map,Zh=new Map,Il=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b1(s,o){switch(s){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Xh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(o.pointerId)}}function Jh(s,o,c,h,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Ar(o),o!==null&&y1(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function Tk(s,o,c,h,y){switch(o){case"focusin":return Rl=Jh(Rl,s,o,c,h,y),!0;case"dragenter":return Ml=Jh(Ml,s,o,c,h,y),!0;case"mouseover":return kl=Jh(kl,s,o,c,h,y),!0;case"pointerover":var w=y.pointerId;return Xh.set(w,Jh(Xh.get(w)||null,s,o,c,h,y)),!0;case"gotpointercapture":return w=y.pointerId,Zh.set(w,Jh(Zh.get(w)||null,s,o,c,h,y)),!0}return!1}function w1(s){var o=rs(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,tt(s.priority,function(){if(c.tag===13){var h=ps();h=Gt(h);var y=cl(c,h);y!==null&&ms(y,c,h),Yy(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Wy(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Es=h,c.target.dispatchEvent(h),Es=null}else return o=Ar(c),o!==null&&y1(o),s.blockedOn=c,!1;o.shift()}return!0}function E1(s,o,c){dm(s)&&c.delete(o)}function Sk(){Ky=!1,Rl!==null&&dm(Rl)&&(Rl=null),Ml!==null&&dm(Ml)&&(Ml=null),kl!==null&&dm(kl)&&(kl=null),Xh.forEach(E1),Zh.forEach(E1)}function hm(s,o){s.blockedOn===o&&(s.blockedOn=null,Ky||(Ky=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sk)))}var fm=null;function T1(s){fm!==s&&(fm=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fm===s&&(fm=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],y=s[o+2];if(typeof h!="function"){if(Qy(h||c)===null)continue;break}var w=Ar(c);w!==null&&(s.splice(o,3),o-=3,Qv(w,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function ef(s){function o(te){return hm(te,s)}Rl!==null&&hm(Rl,s),Ml!==null&&hm(Ml,s),kl!==null&&hm(kl,s),Xh.forEach(o),Zh.forEach(o);for(var c=0;c<Il.length;c++){var h=Il[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Il.length&&(c=Il[0],c.blockedOn===null);)w1(c),c.blockedOn===null&&Il.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],w=c[h+1],V=y[It]||null;if(typeof w=="function")V||T1(c);else if(V){var W=null;if(w&&w.hasAttribute("formAction")){if(y=w,V=w[It]||null)W=V.formAction;else if(Qy(y)!==null)continue}else W=V.action;typeof W=="function"?c[h+1]=W:(c.splice(h,3),h-=3),T1(c)}}}function Xy(s){this._internalRoot=s}pm.prototype.render=Xy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=ps();g1(c,h,s,o,null,null)},pm.prototype.unmount=Xy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;g1(s.current,2,null,s,null,null),Qp(),o[pn]=null}};function pm(s){this._internalRoot=s}pm.prototype.unstable_scheduleHydration=function(s){if(s){var o=gt();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Il.length&&o!==0&&o<Il[c].priority;c++);Il.splice(c,0,s),c===0&&w1(s)}};var S1=e.version;if(S1!=="19.1.0")throw Error(n(527,S1,"19.1.0"));F.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Ck={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{Rt=mm.inject(Ck),pt=mm}catch{}}return nf.createRoot=function(s,o){if(!i(s))throw Error(n(299));var c=!1,h="",y=Fw,w=Bw,V=zw,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks)),o=p1(s,1,!1,null,null,c,h,y,w,V,W,null),s[pn]=o.current,Ly(s),new Xy(o)},nf.hydrateRoot=function(s,o,c){if(!i(s))throw Error(n(299));var h=!1,y="",w=Fw,V=Bw,W=zw,te=null,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(W=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(te=c.unstable_transitionCallbacks),c.formState!==void 0&&(pe=c.formState)),o=p1(s,1,!0,o,c??null,h,y,w,V,W,te,pe),o.context=m1(null),c=o.current,h=ps(),h=Gt(h),y=et(h),y.callback=null,it(c,y,h),c=h,o.current.lanes=c,Ae(o,c),Na(o),s[pn]=o.current,Ly(s),new pm(o)},nf.version="19.1.0",nf}var O1;function Uk(){if(O1)return e_.exports;O1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),e_.exports=jk(),e_.exports}var Vk=Uk();const Fk=D0(Vk);var rf={},N1;function Bk(){if(N1)return rf;N1=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.parse=l,rf.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const E=new a,R=v.length;if(R<2)return E;const D=(b==null?void 0:b.decode)||p;let k=0;do{const Y=v.indexOf("=",k);if(Y===-1)break;const $=v.indexOf(";",k),z=$===-1?R:$;if(Y>z){k=v.lastIndexOf(";",Y-1)+1;continue}const G=u(v,k,Y),H=d(v,Y,G),N=v.slice(G,H);if(E[N]===void 0){let x=u(v,Y+1,z),C=d(v,z,x);const I=D(v.slice(x,C));E[N]=I}k=z+1}while(k<R);return E}function u(v,b,E){do{const R=v.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<E);return E}function d(v,b,E){for(;b>E;){const R=v.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return E}function f(v,b,E){const R=(E==null?void 0:E.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const D=R(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let k=v+"="+D;if(!E)return k;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);k+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);k+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);k+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);k+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(k+="; HttpOnly"),E.secure&&(k+="; Secure"),E.partitioned&&(k+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return k}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return rf}Bk();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P1="popstate";function zk(r={}){function e(n,i){let{pathname:a,search:l,hash:u}=n.location;return U_("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Rf(i)}return qk(e,t,null,r)}function Jn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function va(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hk(){return Math.random().toString(36).substring(2,10)}function j1(r,e){return{usr:r.state,key:r.key,idx:e}}function U_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Fd(e):e,state:t,key:e&&e.key||n||Hk()}}function Rf({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Fd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function qk(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let D=p(),k=D==null?null:D-f;f=D,d&&d({action:u,location:R.location,delta:k})}function v(D,k){u="PUSH";let Y=U_(R.location,D,k);f=p()+1;let $=j1(Y,f),z=R.createHref(Y);try{l.pushState($,"",z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(z)}a&&d&&d({action:u,location:R.location,delta:1})}function b(D,k){u="REPLACE";let Y=U_(R.location,D,k);f=p();let $=j1(Y,f),z=R.createHref(Y);l.replaceState($,"",z),a&&d&&d({action:u,location:R.location,delta:0})}function E(D){let k=i.location.origin!=="null"?i.location.origin:i.location.href,Y=typeof D=="string"?D:Rf(D);return Y=Y.replace(/ $/,"%20"),Jn(k,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,k)}let R={get action(){return u},get location(){return r(i,l)},listen(D){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(P1,g),d=D,()=>{i.removeEventListener(P1,g),d=null}},createHref(D){return e(i,D)},createURL:E,encodeLocation(D){let k=E(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:b,go(D){return l.go(D)}};return R}function Px(r,e,t="/"){return $k(r,e,t,!1)}function $k(r,e,t,n){let i=typeof e=="string"?Fd(e):e,a=Bo(i.pathname||"/",t);if(a==null)return null;let l=jx(r);Yk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=rI(a);u=tI(l[d],f,n)}return u}function jx(r,e=[],t=[],n=""){let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Jn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Oo([n,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),jx(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Jk(f,a.index),routesMeta:p})};return r.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let d of Ux(a.path))i(a,l,d)}),e}function Ux(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Ux(n.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function Yk(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Gk=/^:[\w-]+$/,Wk=3,Qk=2,Kk=1,Xk=10,Zk=-2,U1=r=>r==="*";function Jk(r,e){let t=r.split("/"),n=t.length;return t.some(U1)&&(n+=Zk),e&&(n+=Qk),t.filter(i=>!U1(i)).reduce((i,a)=>i+(Gk.test(a)?Wk:a===""?Kk:Xk),n)}function eI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function tI(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=ng({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=ng({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Oo([a,g.pathname]),pathnameBase:oI(Oo([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Oo([a,g.pathnameBase]))}return l}function ng(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=nI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let E=u[v]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=u[v];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function nI(r,e=!1,t=!0){va(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function iI(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Fd(r):r;return{pathname:t?t.startsWith("/")?t:sI(t,e):e,search:lI(n),hash:cI(i)}}function sI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i_(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function M0(r){let e=aI(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function k0(r,e,t,n=!1){let i;typeof r=="string"?i=Fd(r):(i={...r},Jn(!i.pathname||!i.pathname.includes("?"),i_("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),i_("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),i_("#","search","hash",i)));let a=r===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?e[g]:"/"}let d=iI(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Oo=r=>r.join("/").replace(/\/\/+/g,"/"),oI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Vx=["POST","PUT","PATCH","DELETE"];new Set(Vx);var dI=["GET",...Vx];new Set(dI);var Bd=T.createContext(null);Bd.displayName="DataRouter";var Jg=T.createContext(null);Jg.displayName="DataRouterState";var Fx=T.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var hI=T.createContext(new Map);hI.displayName="Fetchers";var fI=T.createContext(null);fI.displayName="Await";var Ea=T.createContext(null);Ea.displayName="Navigation";var Yf=T.createContext(null);Yf.displayName="Location";var Ws=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ws.displayName="Route";var I0=T.createContext(null);I0.displayName="RouteError";function pI(r,{relative:e}={}){Jn(zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(Ea),{hash:i,pathname:a,search:l}=Wf(r,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Oo([t,a])),n.createHref({pathname:u,search:l,hash:i})}function zd(){return T.useContext(Yf)!=null}function Wo(){return Jn(zd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Yf).location}var Bx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zx(r){T.useContext(Ea).static||T.useLayoutEffect(r)}function Gf(){let{isDataRoute:r}=T.useContext(Ws);return r?MI():mI()}function mI(){Jn(zd(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Bd),{basename:e,navigator:t}=T.useContext(Ea),{matches:n}=T.useContext(Ws),{pathname:i}=Wo(),a=JSON.stringify(M0(n)),l=T.useRef(!1);return zx(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(va(l.current,Bx),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=k0(d,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Oo([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,r])}var gI=T.createContext(null);function vI(r){let e=T.useContext(Ws).outlet;return e&&T.createElement(gI.Provider,{value:r},e)}function yI(){let{matches:r}=T.useContext(Ws),e=r[r.length-1];return e?e.params:{}}function Wf(r,{relative:e}={}){let{matches:t}=T.useContext(Ws),{pathname:n}=Wo(),i=JSON.stringify(M0(t));return T.useMemo(()=>k0(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function _I(r,e){return Hx(r,e)}function Hx(r,e,t,n){var Y;Jn(zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=T.useContext(Ea),{matches:l}=T.useContext(Ws),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let $=g&&g.path||"";qx(f,!g||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let v=Wo(),b;if(e){let $=typeof e=="string"?Fd(e):e;Jn(p==="/"||((Y=$.pathname)==null?void 0:Y.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${$.pathname}" was given in the \`location\` prop.`),b=$}else b=v;let E=b.pathname||"/",R=E;if(p!=="/"){let $=p.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice($.length).join("/")}let D=!a&&t&&t.matches&&t.matches.length>0?t.matches:Px(r,{pathname:R});va(g||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),va(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=SI(D&&D.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Oo([p,i.encodeLocation?i.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Oo([p,i.encodeLocation?i.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,n);return e&&k?T.createElement(Yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function bI(){let r=RI(),e=uI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var wI=T.createElement(bI,null),EI=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?T.createElement(Ws.Provider,{value:this.props.routeContext},T.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TI({routeContext:r,match:e,children:t}){let n=T.useContext(Bd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ws.Provider,{value:r},t)}function SI(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Jn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,v=!1,b=null,E=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||wI,l&&(u<0&&p===0?(qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):u===p&&(v=!0,E=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,p+1)),D=()=>{let k;return g?k=b:v?k=E:f.route.Component?k=T.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,T.createElement(TI,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(EI,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:D(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):D()},null)}function L0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(r){let e=T.useContext(Bd);return Jn(e,L0(r)),e}function xI(r){let e=T.useContext(Jg);return Jn(e,L0(r)),e}function AI(r){let e=T.useContext(Ws);return Jn(e,L0(r)),e}function O0(r){let e=AI(r),t=e.matches[e.matches.length-1];return Jn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function DI(){return O0("useRouteId")}function RI(){var n;let r=T.useContext(I0),e=xI("useRouteError"),t=O0("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function MI(){let{router:r}=CI("useNavigate"),e=O0("useNavigate"),t=T.useRef(!1);return zx(()=>{t.current=!0}),T.useCallback(async(i,a={})=>{va(t.current,Bx),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var V1={};function qx(r,e,t){!e&&!V1[r]&&(V1[r]=!0,va(!1,t))}T.memo(kI);function kI({routes:r,future:e,state:t}){return Hx(r,void 0,t,e)}function $x({to:r,replace:e,state:t,relative:n}){Jn(zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ea);va(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Ws),{pathname:l}=Wo(),u=Gf(),d=k0(r,M0(a),l,n==="path"),f=JSON.stringify(d);return T.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:n})},[u,f,n,e,t]),null}function II(r){return vI(r.context)}function Pa(r){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){Jn(!zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Fd(t));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=t,b=T.useMemo(()=>{let E=Bo(d,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:g,key:v},navigationType:n}},[l,d,f,p,g,v,n]);return va(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(Ea.Provider,{value:u},T.createElement(Yf.Provider,{children:e,value:b}))}function OI({children:r,location:e}){return _I(V_(r),e)}function V_(r,e=[]){let t=[];return T.Children.forEach(r,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){t.push.apply(t,V_(n.props.children,a));return}Jn(n.type===Pa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=V_(n.props.children,a)),t.push(l)}),t}var Nm="get",Pm="application/x-www-form-urlencoded";function ev(r){return r!=null&&typeof r.tagName=="string"}function NI(r){return ev(r)&&r.tagName.toLowerCase()==="button"}function PI(r){return ev(r)&&r.tagName.toLowerCase()==="form"}function jI(r){return ev(r)&&r.tagName.toLowerCase()==="input"}function UI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function VI(r,e){return r.button===0&&(!e||e==="_self")&&!UI(r)}var gm=null;function FI(){if(gm===null)try{new FormData(document.createElement("form"),0),gm=!1}catch{gm=!0}return gm}var BI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s_(r){return r!=null&&!BI.has(r)?(va(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pm}"`),null):r}function zI(r,e){let t,n,i,a,l;if(PI(r)){let u=r.getAttribute("action");n=u?Bo(u,e):null,t=r.getAttribute("method")||Nm,i=s_(r.getAttribute("enctype"))||Pm,a=new FormData(r)}else if(NI(r)||jI(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||u.getAttribute("action");if(n=d?Bo(d,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||Nm,i=s_(r.getAttribute("formenctype"))||s_(u.getAttribute("enctype"))||Pm,a=new FormData(u,r),!FI()){let{name:f,type:p,value:g}=r;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(ev(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nm,n=null,i=Pm,l=r}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:l}}function N0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function HI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $I(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await HI(a,t);return l.links?l.links():[]}return[]}));return QI(n.flat(1).filter(qI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function F1(r,e,t,n,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{var g;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YI(r,e,{includeHydrateFallback:t}={}){return GI(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function GI(r){return[...new Set(r)]}function WI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function QI(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(WI(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function KI(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Bo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Yx(){let r=T.useContext(Bd);return N0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XI(){let r=T.useContext(Jg);return N0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var P0=T.createContext(void 0);P0.displayName="FrameworkContext";function Gx(){let r=T.useContext(P0);return N0(r,"You must render this element inside a <HydratedRouter> element"),r}function ZI(r,e){let t=T.useContext(P0),[n,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=T.useRef(null);T.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let R=k=>{k.forEach(Y=>{l(Y.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[r]),T.useEffect(()=>{if(n){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[n]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return t?r!=="intent"?[a,v,{}]:[a,v,{onFocus:sf(u,b),onBlur:sf(d,E),onMouseEnter:sf(f,b),onMouseLeave:sf(p,E),onTouchStart:sf(g,b)}]:[!1,v,{}]}function sf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function JI({page:r,...e}){let{router:t}=Yx(),n=T.useMemo(()=>Px(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?T.createElement(tL,{page:r,matches:n,...e}):null}function eL(r){let{manifest:e,routeModules:t}=Gx(),[n,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return $I(r,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[r,e,t]),n}function tL({page:r,matches:e,...t}){let n=Wo(),{manifest:i,routeModules:a}=Gx(),{basename:l}=Yx(),{loaderData:u,matches:d}=XI(),f=T.useMemo(()=>F1(r,e,d,i,n,"data"),[r,e,d,i,n]),p=T.useMemo(()=>F1(r,e,d,i,n,"assets"),[r,e,d,i,n]),g=T.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,R=!1;if(e.forEach(k=>{var $;let Y=i.routes[k.route.id];!Y||!Y.hasLoader||(!f.some(z=>z.route.id===k.route.id)&&k.route.id in u&&(($=a[k.route.id])!=null&&$.shouldRevalidate)||Y.hasClientLoader?R=!0:E.add(k.route.id))}),E.size===0)return[];let D=KI(r,l);return R&&E.size>0&&D.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[D.pathname+D.search]},[l,u,n,i,f,e,r,a]),v=T.useMemo(()=>YI(p,i),[p,i]),b=eL(p);return T.createElement(T.Fragment,null,g.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:R})=>T.createElement("link",{key:E,...R})))}function nL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wx&&(window.__reactRouterVersion="7.4.1")}catch{}function rL({basename:r,children:e,window:t}){let n=T.useRef();n.current==null&&(n.current=zk({window:t,v5Compat:!0}));let i=n.current,[a,l]=T.useState({action:i.action,location:i.location}),u=T.useCallback(d=>{T.startTransition(()=>l(d))},[l]);return T.useLayoutEffect(()=>i.listen(u),[i,u]),T.createElement(LI,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var Qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},b){let{basename:E}=T.useContext(Ea),R=typeof f=="string"&&Qx.test(f),D,k=!1;if(typeof f=="string"&&R&&(D=f,Wx))try{let C=new URL(window.location.href),I=f.startsWith("//")?new URL(C.protocol+f):new URL(f),j=Bo(I.pathname,E);I.origin===C.origin&&j!=null?f=j+I.search+I.hash:k=!0}catch{va(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=pI(f,{relative:i}),[$,z,G]=ZI(n,v),H=oL(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function N(C){e&&e(C),C.defaultPrevented||H(C)}let x=T.createElement("a",{...v,...G,href:D||Y,onClick:k||a?e:N,ref:nL(b,z),target:d,"data-discover":!R&&t==="render"?"true":void 0});return $&&!R?T.createElement(T.Fragment,null,x,T.createElement(JI,{page:Y})):x});jl.displayName="Link";var iL=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},p){let g=Wf(l,{relative:f.relative}),v=Wo(),b=T.useContext(Jg),{navigator:E,basename:R}=T.useContext(Ea),D=b!=null&&hL(g)&&u===!0,k=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,Y=v.pathname,$=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&R&&($=Bo($,R)||$);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let G=Y===k||!i&&Y.startsWith(k)&&Y.charAt(z)==="/",H=$!=null&&($===k||!i&&$.startsWith(k)&&$.charAt(k.length)==="/"),N={isActive:G,isPending:H,isTransitioning:D},x=G?e:void 0,C;typeof n=="function"?C=n(N):C=[n,G?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(N):a;return T.createElement(jl,{...f,"aria-current":x,className:C,ref:p,style:I,to:l,viewTransition:u},typeof d=="function"?d(N):d)});iL.displayName="NavLink";var sL=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:l=Nm,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},b)=>{let E=uL(),R=dL(u,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&Qx.test(u),Y=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let z=$.nativeEvent.submitter,G=(z==null?void 0:z.getAttribute("formmethod"))||l;E(z||$.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return T.createElement("form",{ref:b,method:D,action:R,onSubmit:n?d:Y,...v,"data-discover":!k&&r==="render"?"true":void 0})});sL.displayName="Form";function aL(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kx(r){let e=T.useContext(Bd);return Jn(e,aL(r)),e}function oL(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Gf(),d=Wo(),f=Wf(r,{relative:a});return T.useCallback(p=>{if(VI(p,e)){p.preventDefault();let g=t!==void 0?t:Rf(d)===Rf(f);u(r,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,t,n,e,r,i,a,l])}var lL=0,cL=()=>`__${String(++lL)}__`;function uL(){let{router:r}=Kx("useSubmit"),{basename:e}=T.useContext(Ea),t=DI();return T.useCallback(async(n,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=zI(n,e);if(i.navigate===!1){let p=i.fetcherKey||cL();await r.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function dL(r,{relative:e}={}){let{basename:t}=T.useContext(Ea),n=T.useContext(Ws);Jn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Wf(r||".",{relative:e})},l=Wo();if(r==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Oo([t,a.pathname])),Rf(a)}function hL(r,e={}){let t=T.useContext(Fx);Jn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Kx("useViewTransitionState"),i=Wf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Bo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Bo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ng(i.pathname,l)!=null||ng(i.pathname,a)!=null}new TextEncoder;var oc=Nx();const fL=D0(oc),Xx=T.createContext();function pL(){return T.useContext(Xx)}function mL({children:r}){const[e,t]=T.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const n=()=>{t(!e)};return S.jsx(Xx.Provider,{value:{darkMode:e,toggleTheme:n},children:r})}const gL=()=>{};var B1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vL=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],l=r[t++],u=r[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],l=i+1<r.length,u=l?r[i+1]:0,d=i+2<r.length,f=d?r[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;d||(b=64,l||(v=64)),n.push(t[p],t[g],t[v],t[b])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const f=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new yL;const v=a<<2|u>>4;if(n.push(v),f!==64){const b=u<<4&240|f>>2;if(n.push(b),g!==64){const E=f<<6&192|g;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _L=function(r){const e=Zx(r);return Jx.encodeByteArray(e,!0)},rg=function(r){return _L(r).replace(/\./g,"")},eA=function(r){try{return Jx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=()=>bL().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof B1>"u")return;const r=B1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eA(r[1]);return e&&JSON.parse(e)},tv=()=>{try{return gL()||wL()||EL()||TL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tA=r=>{var e,t;return(t=(e=tv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},j0=r=>{const e=tA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},nA=()=>{var r;return(r=tv())===null||r===void 0?void 0:r.config},rA=r=>{var e;return(e=tv())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rg(JSON.stringify(t)),rg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function xL(){var r;const e=(r=tv())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DL(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ML(){const r=Ei();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IL(){try{return typeof indexedDB=="object"}catch{return!1}}function LL(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="FirebaseError";class Ja extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=OL,Object.setPrototypeOf(this,Ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?NL(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ja(i,u,n)}}function NL(r,e){return r.replace(PL,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const PL=/\{\$([^}]+)}/g;function jL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xc(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],l=e[i];if(z1(a)&&z1(l)){if(!Xc(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function z1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mf(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gf(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function UL(r,e){const t=new VL(r,e);return t.subscribe.bind(t)}class VL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");FL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=a_),i.error===void 0&&(i.error=a_),i.complete===void 0&&(i.complete=a_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FL(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function a_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(r){return r&&r._delegate?r._delegate:r}class zo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new SL;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HL(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zL(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zL(r){return r===Vc?void 0:r}function HL(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const $L={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},YL=$t.INFO,GL={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},WL=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=GL[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=YL,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const QL=(r,e)=>e.some(t=>r instanceof t);let H1,q1;function KL(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XL(){return q1||(q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,F_=new WeakMap,aA=new WeakMap,o_=new WeakMap,V0=new WeakMap;function ZL(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t($l(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&sA.set(t,r)}).catch(()=>{}),V0.set(e,r),e}function JL(r){if(F_.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});F_.set(r,e)}let B_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return F_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $l(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eO(r){B_=r(B_)}function tO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(l_(this),e,...t);return aA.set(n,e.sort?e.sort():[e]),$l(n)}:XL().includes(r)?function(...e){return r.apply(l_(this),e),$l(sA.get(this))}:function(...e){return $l(r.apply(l_(this),e))}}function nO(r){return typeof r=="function"?tO(r):(r instanceof IDBTransaction&&JL(r),QL(r,KL())?new Proxy(r,B_):r)}function $l(r){if(r instanceof IDBRequest)return ZL(r);if(o_.has(r))return o_.get(r);const e=nO(r);return e!==r&&(o_.set(r,e),V0.set(e,r)),e}const l_=r=>V0.get(r);function rO(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(r,e),u=$l(l);return n&&l.addEventListener("upgradeneeded",d=>{n($l(l.result),d.oldVersion,d.newVersion,$l(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],c_=new Map;function $1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(c_.get(e))return c_.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=sO.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||iO.includes(t)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return c_.set(e,a),a}eO(r=>({...r,get:(e,t,n)=>$1(e,t)||r.get(e,t,n),has:(e,t)=>!!$1(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oO(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function oO(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z_="@firebase/app",Y1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new U0("@firebase/app"),lO="@firebase/app-compat",cO="@firebase/analytics-compat",uO="@firebase/analytics",dO="@firebase/app-check-compat",hO="@firebase/app-check",fO="@firebase/auth",pO="@firebase/auth-compat",mO="@firebase/database",gO="@firebase/data-connect",vO="@firebase/database-compat",yO="@firebase/functions",_O="@firebase/functions-compat",bO="@firebase/installations",wO="@firebase/installations-compat",EO="@firebase/messaging",TO="@firebase/messaging-compat",SO="@firebase/performance",CO="@firebase/performance-compat",xO="@firebase/remote-config",AO="@firebase/remote-config-compat",DO="@firebase/storage",RO="@firebase/storage-compat",MO="@firebase/firestore",kO="@firebase/vertexai",IO="@firebase/firestore-compat",LO="firebase",OO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",NO={[z_]:"fire-core",[lO]:"fire-core-compat",[uO]:"fire-analytics",[cO]:"fire-analytics-compat",[hO]:"fire-app-check",[dO]:"fire-app-check-compat",[fO]:"fire-auth",[pO]:"fire-auth-compat",[mO]:"fire-rtdb",[gO]:"fire-data-connect",[vO]:"fire-rtdb-compat",[yO]:"fire-fn",[_O]:"fire-fn-compat",[bO]:"fire-iid",[wO]:"fire-iid-compat",[EO]:"fire-fcm",[TO]:"fire-fcm-compat",[SO]:"fire-perf",[CO]:"fire-perf-compat",[xO]:"fire-rc",[AO]:"fire-rc-compat",[DO]:"fire-gcs",[RO]:"fire-gcs-compat",[MO]:"fire-fst",[IO]:"fire-fst-compat",[kO]:"fire-vertex","fire-js":"fire-js",[LO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new Map,PO=new Map,q_=new Map;function G1(r,e){try{r.container.addComponent(e)}catch(t){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Zl(r){const e=r.name;if(q_.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;q_.set(e,r);for(const t of ig.values())G1(t,r);for(const t of PO.values())G1(t,r);return!0}function Xf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function vs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yl=new Qf("app","Firebase",jO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=OO;function oA(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Yl.create("bad-app-name",{appName:String(i)});if(t||(t=nA()),!t)throw Yl.create("no-options");const a=ig.get(i);if(a){if(Xc(t,a.options)&&Xc(n,a.config))return a;throw Yl.create("duplicate-app",{appName:i})}const l=new qL(i);for(const d of q_.values())l.addComponent(d);const u=new UO(t,n,l);return ig.set(i,u),u}function nv(r=H_){const e=ig.get(r);if(!e&&r===H_&&nA())return oA();if(!e)throw Yl.create("no-app",{appName:r});return e}function $s(r,e,t){var n;let i=(n=NO[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ho.warn(u.join(" "));return}Zl(new zo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="firebase-heartbeat-database",FO=1,Mf="firebase-heartbeat-store";let u_=null;function lA(){return u_||(u_=rO(VO,FO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mf)}catch(t){console.warn(t)}}}}).catch(r=>{throw Yl.create("idb-open",{originalErrorMessage:r.message})})),u_}async function BO(r){try{const t=(await lA()).transaction(Mf),n=await t.objectStore(Mf).get(cA(r));return await t.done,n}catch(e){if(e instanceof Ja)Ho.warn(e.message);else{const t=Yl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ho.warn(t.message)}}}async function W1(r,e){try{const n=(await lA()).transaction(Mf,"readwrite");await n.objectStore(Mf).put(e,cA(r)),await n.done}catch(t){if(t instanceof Ja)Ho.warn(t.message);else{const n=Yl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ho.warn(n.message)}}}function cA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1024,HO=30;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YO(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>HO){const l=GO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ho.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q1(),{heartbeatsToSend:n,unsentEntries:i}=$O(this._heartbeatsCache.heartbeats),a=rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ho.warn(t),""}}}function Q1(){return new Date().toISOString().substring(0,10)}function $O(r,e=zO){const t=[];let n=r.slice();for(const i of r){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),K1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),K1(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class YO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IL()?LL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function K1(r){return rg(JSON.stringify({version:2,heartbeats:r})).length}function GO(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(r){Zl(new zo("platform-logger",e=>new aO(e),"PRIVATE")),Zl(new zo("heartbeat",e=>new qO(e),"PRIVATE")),$s(z_,Y1,r),$s(z_,Y1,"esm2017"),$s("fire-js","")}WO("");var QO="firebase",KO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(QO,KO,"app");function F0(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XO=uA,dA=new Qf("auth","Firebase",uA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new U0("@firebase/auth");function ZO(r,...e){sg.logLevel<=$t.WARN&&sg.warn(`Auth (${au}): ${r}`,...e)}function jm(r,...e){sg.logLevel<=$t.ERROR&&sg.error(`Auth (${au}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(r,...e){throw B0(r,...e)}function $a(r,...e){return B0(r,...e)}function hA(r,e,t){const n=Object.assign(Object.assign({},XO()),{[e]:t});return new Qf("auth","Firebase",n).create(e,{appName:r.name})}function Gl(r){return hA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B0(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return dA.create(r,...e)}function ut(r,e,...t){if(!r)throw B0(e,...t)}function Io(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jm(e),new Error(e)}function qo(r,e){r||Io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JO(){return X1()==="http:"||X1()==="https:"}function X1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||DL()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.shortDelay=e,this.longDelay=t,qo(t>e,"Short delay should be less than long delay!"),this.isMobile=CL()||RL()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e){qo(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iN=new Zf(3e4,6e4);function ou(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function lc(r,e,t,n,i={}){return pA(r,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const u=Kf(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const f=Object.assign({method:e,headers:d},a);return AL()||(f.referrerPolicy="no-referrer"),fA.fetch()(await mA(r,r.config.apiHost,t,u),f)})}async function pA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},nN),e);try{const i=new aN(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vm(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vm(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw vm(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw vm(r,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hA(r,p,f);ya(r,p)}}catch(i){if(i instanceof Ja)throw i;ya(r,"network-request-failed",{message:String(i)})}}async function rv(r,e,t,n,i={}){const a=await lc(r,e,t,n,i);return"mfaPendingCredential"in a&&ya(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function mA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,l=a.config.emulator?z0(r.config,i):`${r.config.apiScheme}://${i}`;return rN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function sN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n($a(this.auth,"network-request-failed")),iN.get())})}}function vm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=$a(r,e,n);return i.customData._tokenResponse=t,i}function Z1(r){return r!==void 0&&r.enterprise!==void 0}class oN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lN(r,e){return lc(r,"GET","/v2/recaptchaConfig",ou(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r,e){return lc(r,"POST","/v1/accounts:delete",e)}async function ag(r,e){return lc(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uN(r,e=!1){const t=Nn(r),n=await t.getIdToken(e),i=H0(n);ut(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Tf(d_(i.auth_time)),issuedAtTime:Tf(d_(i.iat)),expirationTime:Tf(d_(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function d_(r){return Number(r)*1e3}function H0(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eA(t);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J1(r){const e=H0(r);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ja&&dN(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function dN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(r){var e;const t=r.auth,n=await r.getIdToken(),i=await kf(r,ag(t,{idToken:n}));ut(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gA(a.providerUserInfo):[],u=pN(r.providerData,l),d=r.isAnonymous,f=!(r.email&&a.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Y_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,g)}async function fN(r){const e=Nn(r);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pN(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function gA(r){return r.map(e=>{var{providerId:t}=e,n=F0(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,e){const t=await pA(r,{},async()=>{const n=Kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,l=await mA(r,i,"/v1/token",`key=${a}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",fA.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gN(r,e){return lc(r,"POST","/v2/accounts:revokeToken",ou(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ut(e.length!==0,"internal-error");const t=J1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await mN(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,l=new gd;return n&&(ut(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(ut(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ut(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return Io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r,e){ut(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ma{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=F0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Y_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await kf(this,this.stsTokenManager.getToken(this.auth,e));return ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uN(this,e)}reload(){return fN(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await og(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(Gl(this.auth));const e=await this.getIdToken();return await kf(this,cN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,l,u,d,f,p;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(f=t.createdAt)!==null&&f!==void 0?f:void 0,Y=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:z,isAnonymous:G,providerData:H,stsTokenManager:N}=t;ut($&&N,e,"internal-error");const x=gd.fromJSON(this.name,N);ut(typeof $=="string",e,"internal-error"),Ol(g,e.name),Ol(v,e.name),ut(typeof z=="boolean",e,"internal-error"),ut(typeof G=="boolean",e,"internal-error"),Ol(b,e.name),Ol(E,e.name),Ol(R,e.name),Ol(D,e.name),Ol(k,e.name),Ol(Y,e.name);const C=new ma({uid:$,auth:e,email:v,emailVerified:z,displayName:g,isAnonymous:G,photoURL:E,phoneNumber:b,tenantId:R,stsTokenManager:x,createdAt:k,lastLoginAt:Y});return H&&Array.isArray(H)&&(C.providerData=H.map(I=>Object.assign({},I))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,n=!1){const i=new gd;i.updateFromServerResponse(t);const a=new ma({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await og(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];ut(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?gA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new gd;u.updateFromIdToken(n);const d=new ma({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Y_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;function Lo(r){qo(r instanceof Function,"Expected a class definition");let e=eT.get(r);return e?(qo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,eT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vA.type="NONE";const tT=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,e,t){return`firebase:${r}:${e}:${t}`}class vd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Um(this.userKey,i.apiKey,a),this.fullPersistenceKey=Um("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ag(this.auth,{idToken:e}).catch(()=>{});return t?ma._fromGetAccountInfoResponse(this.auth,t,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new vd(Lo(tT),e,n);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Lo(tT);const l=Um(n,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const v=await ag(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ma._fromGetAccountInfoResponse(e,v,p)}else g=ma._fromJSON(e,p);f!==a&&(u=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new vd(a,e,n):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new vd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(SA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(EA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function yA(r=Ei()){return/firefox\//i.test(r)}function _A(r=Ei()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(r=Ei()){return/crios\//i.test(r)}function wA(r=Ei()){return/iemobile/i.test(r)}function EA(r=Ei()){return/android/i.test(r)}function TA(r=Ei()){return/blackberry/i.test(r)}function SA(r=Ei()){return/webos/i.test(r)}function q0(r=Ei()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vN(r=Ei()){var e;return q0(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yN(){return ML()&&document.documentMode===10}function CA(r=Ei()){return q0(r)||EA(r)||SA(r)||TA(r)||/windows phone/i.test(r)||wA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e=[]){let t;switch(r){case"Browser":t=nT(Ei());break;case"Worker":t=`${nT(Ei())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,e={}){return lc(r,"GET","/v2/passwordPolicy",ou(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=6;class EN{constructor(e){var t,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:wN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new _N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lo(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await vd.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ag(this,{idToken:e}),n=await ma._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(Gl(this));const t=e?Nn(e):null;return t&&ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(Gl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(Gl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bN(this),t=new EN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await gN(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lo(e)||this._popupRedirectResolver;ut(t,this,"argument-error"),this.redirectPersistenceManager=await vd.create(this,[Lo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hd(r){return Nn(r)}class rT{constructor(e){this.auth=e,this.observer=null,this.addObserver=UL(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SN(r){iv=r}function AA(r){return iv.loadJS(r)}function CN(){return iv.recaptchaEnterpriseScript}function xN(){return iv.gapiScript}function AN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new RN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MN="recaptcha-enterprise",DA="NO_RECAPTCHA";class kN{constructor(e){this.type=MN,this.auth=Hd(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{lN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new oN(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;Z1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(DA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(u=>{if(!t&&Z1(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CN();d.length!==0&&(d+=u),AA(d).then(()=>{i(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function iT(r,e,t,n=!1,i=!1){const a=new kN(r);let l;if(i)l=DA;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function sT(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iT(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await iT(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(r,e){const t=Xf(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Xc(a,e??{}))return i;ya(i,"already-initialized")}return t.initialize({options:e})}function LN(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Lo);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ON(r,e,t){const n=Hd(r);ut(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=RA(e),{host:l,port:u}=NN(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ut(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ut(Xc(f,n.config.emulator)&&Xc(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,PN()}function RA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function NN(r){const e=RA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:aT(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:aT(l)}}}function aT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,t){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}async function jN(r,e){return lc(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e){return rv(r,"POST","/v1/accounts:signInWithPassword",ou(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(r,e){return rv(r,"POST","/v1/accounts:signInWithEmailLink",ou(r,e))}async function FN(r,e){return rv(r,"POST","/v1/accounts:signInWithEmailLink",ou(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends $0{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new If(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new If(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sT(e,t,"signInWithPassword",UN);case"emailLink":return VN(e,{email:this._email,oobCode:this._password});default:ya(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sT(e,n,"signUpPassword",jN);case"emailLink":return FN(e,{idToken:t,email:this._email,oobCode:this._password});default:ya(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(r,e){return rv(r,"POST","/v1/accounts:signInWithIdp",ou(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="http://localhost";class Zc extends $0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ya("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=F0(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Zc(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return yd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yd(e,t)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HN(r){const e=mf(gf(r)).link,t=e?mf(gf(e)).deep_link_id:null,n=mf(gf(r)).deep_link_id;return(n?mf(gf(n)).link:null)||n||t||e||r}class Y0{constructor(e){var t,n,i,a,l,u;const d=mf(gf(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=zN((i=d.mode)!==null&&i!==void 0?i:null);ut(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=HN(e);try{return new Y0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.providerId=qd.PROVIDER_ID}static credential(e,t){return If._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Y0.parseLink(t);return ut(n,"argument-error"),If._fromEmailAndCode(e,n.code,n.tenantId)}}qd.PROVIDER_ID="password";qd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends MA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Jf{constructor(){super("facebook.com")}static credential(e){return Zc._fromParams({providerId:Vl.PROVIDER_ID,signInMethod:Vl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vl.credentialFromTaggedObject(e)}static credentialFromError(e){return Vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vl.credential(e.oauthAccessToken)}catch{return null}}}Vl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zc._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fl.credentialFromTaggedObject(e)}static credentialFromError(e){return Fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Fl.credential(t,n)}catch{return null}}}Fl.GOOGLE_SIGN_IN_METHOD="google.com";Fl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Jf{constructor(){super("github.com")}static credential(e){return Zc._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bl.credential(e.oauthAccessToken)}catch{return null}}}Bl.GITHUB_SIGN_IN_METHOD="github.com";Bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Jf{constructor(){super("twitter.com")}static credential(e,t){return Zc._fromParams({providerId:zl.PROVIDER_ID,signInMethod:zl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zl.credentialFromTaggedObject(e)}static credentialFromError(e){return zl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return zl.credential(t,n)}catch{return null}}}zl.TWITTER_SIGN_IN_METHOD="twitter.com";zl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await ma._fromIdTokenResponse(e,n,i),l=oT(n);return new Sd({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=oT(n);return new Sd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function oT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends Ja{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,lg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new lg(e,t,n,i)}}function kA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(r,a,e,n):a})}async function qN(r,e,t=!1){const n=await kf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Sd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(r,e,t=!1){const{auth:n}=r;if(vs(n.app))return Promise.reject(Gl(n));const i="reauthenticate";try{const a=await kf(r,kA(n,i,e,r),t);ut(a.idToken,n,"internal-error");const l=H0(a.idToken);ut(l,n,"internal-error");const{sub:u}=l;return ut(r.uid===u,n,"user-mismatch"),Sd._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ya(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(r,e,t=!1){if(vs(r.app))return Promise.reject(Gl(r));const n="signIn",i=await kA(r,n,e),a=await Sd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function YN(r,e){return IA(Hd(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(r){const e=Hd(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function WN(r,e,t){return vs(r.app)?Promise.reject(Gl(r)):YN(Nn(r),qd.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&GN(r),n})}function QN(r,e,t,n){return Nn(r).onIdTokenChanged(e,t,n)}function KN(r,e,t){return Nn(r).beforeAuthStateChanged(e,t)}function LA(r,e,t,n){return Nn(r).onAuthStateChanged(e,t,n)}function XN(r){return Nn(r).signOut()}const cg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1e3,JN=10;class NA extends OA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);yN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JN):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NA.type="LOCAL";const eP=NA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends OA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PA.type="SESSION";const jA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new sv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,a)),d=await tP(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=G0("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return window}function rP(r){Ya().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof Ya().WorkerGlobalScope<"u"&&typeof Ya().importScripts=="function"}async function iP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aP(){return UA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebaseLocalStorageDb",oP=1,ug="firebaseLocalStorage",FA="fbase_key";class ep{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function av(r,e){return r.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function lP(){const r=indexedDB.deleteDatabase(VA);return new ep(r).toPromise()}function G_(){const r=indexedDB.open(VA,oP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ug,{keyPath:FA})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ug)?e(n):(n.close(),await lP(),e(await G_()))})})}async function lT(r,e,t){const n=av(r,!0).put({[FA]:e,value:t});return new ep(n).toPromise()}async function cP(r,e){const t=av(r,!1).get(e),n=await new ep(t).toPromise();return n===void 0?null:n.value}function cT(r,e){const t=av(r,!0).delete(e);return new ep(t).toPromise()}const uP=800,dP=3;class BA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>dP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(aP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G_();return await lT(e,cg,"1"),await cT(e,cg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>cP(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=av(i,!1).getAll();return new ep(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BA.type="LOCAL";const hP=BA;new Zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(r,e){return e?Lo(e):(ut(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends $0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pP(r){return IA(r.auth,new W0(r),r.bypassAuthState)}function mP(r){const{auth:e,user:t}=r;return ut(t,e,"internal-error"),$N(t,new W0(r),r.bypassAuthState)}async function gP(r){const{auth:e,user:t}=r;return ut(t,e,"internal-error"),qN(t,new W0(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:ya(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Zf(2e3,1e4);class hd extends zA{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,hd.currentPopupAction&&hd.currentPopupAction.cancel(),hd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ut(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=G0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vP.get())};e()}}hd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="pendingRedirect",Vm=new Map;class _P extends zA{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const n=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(r,e){const t=TP(e),n=EP(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function wP(r,e){Vm.set(r._key(),e)}function EP(r){return Lo(r._redirectPersistence)}function TP(r){return Um(yP,r.config.apiKey,r.name)}async function SP(r,e,t=!1){if(vs(r.app))return Promise.reject(Gl(r));const n=Hd(r),i=fP(n,e),l=await new _P(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=10*60*1e3;class xP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!HA(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError($a(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CP&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}function uT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function HA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(r,e={}){return lc(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function kP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DP(r);for(const t of e)try{if(IP(t))return}catch{}ya(r,"unauthorized-domain")}function IP(r){const e=$_(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!MP.test(t))return!1;if(RP.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Zf(3e4,6e4);function dT(){const r=Ya().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function OP(r){return new Promise((e,t)=>{var n,i,a;function l(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),t($a(r,"network-request-failed"))},timeout:LP.get()})}if(!((i=(n=Ya().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ya().gapi)===null||a===void 0)&&a.load)l();else{const u=AN("iframefcb");return Ya()[u]=()=>{gapi.load?l():t($a(r,"network-request-failed"))},AA(`${xN()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function NP(r){return Fm=Fm||OP(r),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Zf(5e3,15e3),jP="__/auth/iframe",UP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(r){const e=r.config;ut(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?z0(e,UP):`https://${r.config.authDomain}/${jP}`,n={apiKey:e.apiKey,appName:r.name,v:au},i=FP.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Kf(n).slice(1)}`}async function zP(r){const e=await NP(r),t=Ya().gapi;return ut(t,r,"internal-error"),e.open({where:document.body,url:BP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=$a(r,"network-request-failed"),u=Ya().setTimeout(()=>{a(l)},PP.get());function d(){Ya().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,$P=600,YP="_blank",GP="http://localhost";class hT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WP(r,e,t,n=qP,i=$P){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},HP),{width:n.toString(),height:i.toString(),top:a,left:l}),f=Ei().toLowerCase();t&&(u=bA(f)?YP:t),yA(f)&&(e=e||GP,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(vN(f)&&u!=="_self")return QP(e||"",u),new hT(null);const g=window.open(e||"",u,p);ut(g,r,"popup-blocked");try{g.focus()}catch{}return new hT(g)}function QP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="__/auth/handler",XP="emulator/auth/handler",ZP=encodeURIComponent("fac");async function fT(r,e,t,n,i,a){ut(r.config.authDomain,r,"auth-domain-config-required"),ut(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:au,eventId:i};if(e instanceof MA){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",jL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Jf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await r._getAppCheckToken(),f=d?`#${ZP}=${encodeURIComponent(d)}`:"";return`${JP(r)}?${Kf(u).slice(1)}${f}`}function JP({config:r}){return r.emulator?z0(r,XP):`https://${r.authDomain}/${KP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="webStorageSupport";class e4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=SP,this._overrideRedirectResult=wP}async _openPopup(e,t,n,i){var a;qo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await fT(e,t,n,$_(),i);return WP(e,l,G0())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await fT(e,t,n,$_(),i);return rP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(qo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await zP(e),n=new xP(e);return t.register("authEvent",i=>(ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(h_,{type:h_},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[h_];l!==void 0&&t(!!l),ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CA()||_A()||q0()}}const t4=e4;var pT="@firebase/auth",mT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i4(r){Zl(new zo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;ut(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(r)},f=new TN(n,i,a,d);return LN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Zl(new zo("auth-internal",e=>{const t=Hd(e.getProvider("auth").getImmediate());return(n=>new n4(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(pT,mT,r4(r)),$s(pT,mT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=5*60,a4=rA("authIdTokenMaxAge")||s4;let gT=null;const o4=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>a4)return;const i=t==null?void 0:t.token;gT!==i&&(gT=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l4(r=nv()){const e=Xf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=IN(r,{popupRedirectResolver:t4,persistence:[hP,eP,jA]}),n=rA("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=o4(a.toString());KN(t,l,()=>l(t.currentUser)),QN(t,u=>l(u))}}const i=tA("auth");return i&&ON(t,`http://${i}`),t}function c4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SN({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=$a("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",c4().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i4("Browser");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wl,qA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function C(){}C.prototype=x.prototype,N.D=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(I,j,B){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return x.prototype[j].apply(I,U)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,x,C){C||(C=0);var I=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)I[j]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(j=0;16>j;++j)I[j]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],j=N.g[2];var B=N.g[3],U=x+(B^C&(j^B))+I[0]+3614090360&4294967295;x=C+(U<<7&4294967295|U>>>25),U=B+(j^x&(C^j))+I[1]+3905402710&4294967295,B=x+(U<<12&4294967295|U>>>20),U=j+(C^B&(x^C))+I[2]+606105819&4294967295,j=B+(U<<17&4294967295|U>>>15),U=C+(x^j&(B^x))+I[3]+3250441966&4294967295,C=j+(U<<22&4294967295|U>>>10),U=x+(B^C&(j^B))+I[4]+4118548399&4294967295,x=C+(U<<7&4294967295|U>>>25),U=B+(j^x&(C^j))+I[5]+1200080426&4294967295,B=x+(U<<12&4294967295|U>>>20),U=j+(C^B&(x^C))+I[6]+2821735955&4294967295,j=B+(U<<17&4294967295|U>>>15),U=C+(x^j&(B^x))+I[7]+4249261313&4294967295,C=j+(U<<22&4294967295|U>>>10),U=x+(B^C&(j^B))+I[8]+1770035416&4294967295,x=C+(U<<7&4294967295|U>>>25),U=B+(j^x&(C^j))+I[9]+2336552879&4294967295,B=x+(U<<12&4294967295|U>>>20),U=j+(C^B&(x^C))+I[10]+4294925233&4294967295,j=B+(U<<17&4294967295|U>>>15),U=C+(x^j&(B^x))+I[11]+2304563134&4294967295,C=j+(U<<22&4294967295|U>>>10),U=x+(B^C&(j^B))+I[12]+1804603682&4294967295,x=C+(U<<7&4294967295|U>>>25),U=B+(j^x&(C^j))+I[13]+4254626195&4294967295,B=x+(U<<12&4294967295|U>>>20),U=j+(C^B&(x^C))+I[14]+2792965006&4294967295,j=B+(U<<17&4294967295|U>>>15),U=C+(x^j&(B^x))+I[15]+1236535329&4294967295,C=j+(U<<22&4294967295|U>>>10),U=x+(j^B&(C^j))+I[1]+4129170786&4294967295,x=C+(U<<5&4294967295|U>>>27),U=B+(C^j&(x^C))+I[6]+3225465664&4294967295,B=x+(U<<9&4294967295|U>>>23),U=j+(x^C&(B^x))+I[11]+643717713&4294967295,j=B+(U<<14&4294967295|U>>>18),U=C+(B^x&(j^B))+I[0]+3921069994&4294967295,C=j+(U<<20&4294967295|U>>>12),U=x+(j^B&(C^j))+I[5]+3593408605&4294967295,x=C+(U<<5&4294967295|U>>>27),U=B+(C^j&(x^C))+I[10]+38016083&4294967295,B=x+(U<<9&4294967295|U>>>23),U=j+(x^C&(B^x))+I[15]+3634488961&4294967295,j=B+(U<<14&4294967295|U>>>18),U=C+(B^x&(j^B))+I[4]+3889429448&4294967295,C=j+(U<<20&4294967295|U>>>12),U=x+(j^B&(C^j))+I[9]+568446438&4294967295,x=C+(U<<5&4294967295|U>>>27),U=B+(C^j&(x^C))+I[14]+3275163606&4294967295,B=x+(U<<9&4294967295|U>>>23),U=j+(x^C&(B^x))+I[3]+4107603335&4294967295,j=B+(U<<14&4294967295|U>>>18),U=C+(B^x&(j^B))+I[8]+1163531501&4294967295,C=j+(U<<20&4294967295|U>>>12),U=x+(j^B&(C^j))+I[13]+2850285829&4294967295,x=C+(U<<5&4294967295|U>>>27),U=B+(C^j&(x^C))+I[2]+4243563512&4294967295,B=x+(U<<9&4294967295|U>>>23),U=j+(x^C&(B^x))+I[7]+1735328473&4294967295,j=B+(U<<14&4294967295|U>>>18),U=C+(B^x&(j^B))+I[12]+2368359562&4294967295,C=j+(U<<20&4294967295|U>>>12),U=x+(C^j^B)+I[5]+4294588738&4294967295,x=C+(U<<4&4294967295|U>>>28),U=B+(x^C^j)+I[8]+2272392833&4294967295,B=x+(U<<11&4294967295|U>>>21),U=j+(B^x^C)+I[11]+1839030562&4294967295,j=B+(U<<16&4294967295|U>>>16),U=C+(j^B^x)+I[14]+4259657740&4294967295,C=j+(U<<23&4294967295|U>>>9),U=x+(C^j^B)+I[1]+2763975236&4294967295,x=C+(U<<4&4294967295|U>>>28),U=B+(x^C^j)+I[4]+1272893353&4294967295,B=x+(U<<11&4294967295|U>>>21),U=j+(B^x^C)+I[7]+4139469664&4294967295,j=B+(U<<16&4294967295|U>>>16),U=C+(j^B^x)+I[10]+3200236656&4294967295,C=j+(U<<23&4294967295|U>>>9),U=x+(C^j^B)+I[13]+681279174&4294967295,x=C+(U<<4&4294967295|U>>>28),U=B+(x^C^j)+I[0]+3936430074&4294967295,B=x+(U<<11&4294967295|U>>>21),U=j+(B^x^C)+I[3]+3572445317&4294967295,j=B+(U<<16&4294967295|U>>>16),U=C+(j^B^x)+I[6]+76029189&4294967295,C=j+(U<<23&4294967295|U>>>9),U=x+(C^j^B)+I[9]+3654602809&4294967295,x=C+(U<<4&4294967295|U>>>28),U=B+(x^C^j)+I[12]+3873151461&4294967295,B=x+(U<<11&4294967295|U>>>21),U=j+(B^x^C)+I[15]+530742520&4294967295,j=B+(U<<16&4294967295|U>>>16),U=C+(j^B^x)+I[2]+3299628645&4294967295,C=j+(U<<23&4294967295|U>>>9),U=x+(j^(C|~B))+I[0]+4096336452&4294967295,x=C+(U<<6&4294967295|U>>>26),U=B+(C^(x|~j))+I[7]+1126891415&4294967295,B=x+(U<<10&4294967295|U>>>22),U=j+(x^(B|~C))+I[14]+2878612391&4294967295,j=B+(U<<15&4294967295|U>>>17),U=C+(B^(j|~x))+I[5]+4237533241&4294967295,C=j+(U<<21&4294967295|U>>>11),U=x+(j^(C|~B))+I[12]+1700485571&4294967295,x=C+(U<<6&4294967295|U>>>26),U=B+(C^(x|~j))+I[3]+2399980690&4294967295,B=x+(U<<10&4294967295|U>>>22),U=j+(x^(B|~C))+I[10]+4293915773&4294967295,j=B+(U<<15&4294967295|U>>>17),U=C+(B^(j|~x))+I[1]+2240044497&4294967295,C=j+(U<<21&4294967295|U>>>11),U=x+(j^(C|~B))+I[8]+1873313359&4294967295,x=C+(U<<6&4294967295|U>>>26),U=B+(C^(x|~j))+I[15]+4264355552&4294967295,B=x+(U<<10&4294967295|U>>>22),U=j+(x^(B|~C))+I[6]+2734768916&4294967295,j=B+(U<<15&4294967295|U>>>17),U=C+(B^(j|~x))+I[13]+1309151649&4294967295,C=j+(U<<21&4294967295|U>>>11),U=x+(j^(C|~B))+I[4]+4149444226&4294967295,x=C+(U<<6&4294967295|U>>>26),U=B+(C^(x|~j))+I[11]+3174756917&4294967295,B=x+(U<<10&4294967295|U>>>22),U=j+(x^(B|~C))+I[2]+718787259&4294967295,j=B+(U<<15&4294967295|U>>>17),U=C+(B^(j|~x))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}n.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var C=x-this.blockSize,I=this.B,j=this.h,B=0;B<x;){if(j==0)for(;B<=C;)i(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<x;)if(I[j++]=N.charCodeAt(B++),j==this.blockSize){i(this,I),j=0;break}}else for(;B<x;)if(I[j++]=N[B++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=x},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var C=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=C&255,C/=256;for(this.u(N),N=Array(16),x=C=0;4>x;++x)for(var I=0;32>I;I+=8)N[C++]=this.g[x]>>>I&255;return N};function a(N,x){var C=u;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function l(N,x){this.h=x;for(var C=[],I=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;I&&B==x||(C[j]=B,I=!1)}this.g=C}var u={};function d(N){return-128<=N&&128>N?a(N,function(x){return new l([x|0],0>x?-1:0)}):new l([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return D(f(-N));for(var x=[],C=1,I=0;N>=C;I++)x[I]=N/C|0,C*=4294967296;return new l(x,0)}function p(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return D(p(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(x,8)),I=g,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),U=parseInt(N.substring(j,j+B),x);8>B?(B=f(Math.pow(x,B)),I=I.j(B).add(f(U))):(I=I.j(C),I=I.add(f(U)))}return I}var g=d(0),v=d(1),b=d(16777216);r=l.prototype,r.m=function(){if(R(this))return-D(this).m();for(var N=0,x=1,C=0;C<this.g.length;C++){var I=this.i(C);N+=(0<=I?I:4294967296+I)*x,x*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(R(this))return"-"+D(this).toString(N);for(var x=f(Math.pow(N,6)),C=this,I="";;){var j=z(C,x).g;C=k(C,j.j(x));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=j,E(C))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function R(N){return N.h==-1}r.l=function(N){return N=k(this,N),R(N)?-1:E(N)?0:1};function D(N){for(var x=N.g.length,C=[],I=0;I<x;I++)C[I]=~N.g[I];return new l(C,~N.h).add(v)}r.abs=function(){return R(this)?D(this):this},r.add=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],I=0,j=0;j<=x;j++){var B=I+(this.i(j)&65535)+(N.i(j)&65535),U=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);I=U>>>16,B&=65535,U&=65535,C[j]=U<<16|B}return new l(C,C[C.length-1]&-2147483648?-1:0)};function k(N,x){return N.add(D(x))}r.j=function(N){if(E(this)||E(N))return g;if(R(this))return R(N)?D(this).j(D(N)):D(D(this).j(N));if(R(N))return D(this.j(D(N)));if(0>this.l(b)&&0>N.l(b))return f(this.m()*N.m());for(var x=this.g.length+N.g.length,C=[],I=0;I<2*x;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<N.g.length;j++){var B=this.i(I)>>>16,U=this.i(I)&65535,X=N.i(j)>>>16,J=N.i(j)&65535;C[2*I+2*j]+=U*J,Y(C,2*I+2*j),C[2*I+2*j+1]+=B*J,Y(C,2*I+2*j+1),C[2*I+2*j+1]+=U*X,Y(C,2*I+2*j+1),C[2*I+2*j+2]+=B*X,Y(C,2*I+2*j+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new l(C,0)};function Y(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function $(N,x){this.g=N,this.h=x}function z(N,x){if(E(x))throw Error("division by zero");if(E(N))return new $(g,g);if(R(N))return x=z(D(N),x),new $(D(x.g),D(x.h));if(R(x))return x=z(N,D(x)),new $(D(x.g),x.h);if(30<N.g.length){if(R(N)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var C=v,I=x;0>=I.l(N);)C=G(C),I=G(I);var j=H(C,1),B=H(I,1);for(I=H(I,2),C=H(C,2);!E(I);){var U=B.add(I);0>=U.l(N)&&(j=j.add(C),B=U),I=H(I,1),C=H(C,1)}return x=k(N,j.j(x)),new $(j,x)}for(j=g;0<=N.l(x);){for(C=Math.max(1,Math.floor(N.m()/x.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=f(C),U=B.j(x);R(U)||0<U.l(N);)C-=I,B=f(C),U=B.j(x);E(B)&&(B=v),j=j.add(B),N=k(N,U)}return new $(j,N)}r.A=function(N){return z(this,N).h},r.and=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)&N.i(I);return new l(C,this.h&N.h)},r.or=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)|N.i(I);return new l(C,this.h|N.h)},r.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],I=0;I<x;I++)C[I]=this.i(I)^N.i(I);return new l(C,this.h^N.h)};function G(N){for(var x=N.g.length+1,C=[],I=0;I<x;I++)C[I]=N.i(I)<<1|N.i(I-1)>>>31;return new l(C,N.h)}function H(N,x){var C=x>>5;x%=32;for(var I=N.g.length-C,j=[],B=0;B<I;B++)j[B]=0<x?N.i(B+C)>>>x|N.i(B+C+1)<<32-x:N.i(B+C);return new l(j,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qA=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Wl=l}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,vf,YA,Bm,W_,GA,WA,QA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,O){return m==Array.prototype||m==Object.prototype||(m[A]=O.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var A=0;A<m.length;++A){var O=m[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=t(this);function i(m,A){if(A)e:{var O=n;m=m.split(".");for(var K=0;K<m.length-1;K++){var he=m[K];if(!(he in O))break e;O=O[he]}m=m[m.length-1],K=O[m],A=A(K),A!=K&&A!=null&&e(O,m,{configurable:!0,writable:!0,value:A})}}function a(m,A){m instanceof String&&(m+="");var O=0,K=!1,he={next:function(){if(!K&&O<m.length){var _e=O++;return{value:A(_e,m[_e]),done:!1}}return K=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(m){return m||function(){return a(this,function(A,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function f(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function p(m,A,O){return m.call.apply(m.bind,arguments)}function g(m,A,O){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,K),m.apply(A,he)}}return function(){return m.apply(A,arguments)}}function v(m,A,O){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function b(m,A){var O=Array.prototype.slice.call(arguments,1);return function(){var K=O.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function E(m,A){function O(){}O.prototype=A.prototype,m.aa=A.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(K,he,_e){for(var Oe=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Oe[Ht-2]=arguments[Ht];return A.prototype[he].apply(K,Oe)}}function R(m){const A=m.length;if(0<A){const O=Array(A);for(let K=0;K<A;K++)O[K]=m[K];return O}return[]}function D(m,A){for(let O=1;O<arguments.length;O++){const K=arguments[O];if(d(K)){const he=m.length||0,_e=K.length||0;m.length=he+_e;for(let Oe=0;Oe<_e;Oe++)m[he+Oe]=K[Oe]}else m.push(K)}}class k{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function Y(m){return/^[\s\xa0]*$/.test(m)}function $(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function z(m){return z[" "](m),m}z[" "]=function(){};var G=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function H(m,A,O){for(const K in m)A.call(O,m[K],K,m)}function N(m,A){for(const O in m)A.call(void 0,m[O],O,m)}function x(m){const A={};for(const O in m)A[O]=m[O];return A}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,A){let O,K;for(let he=1;he<arguments.length;he++){K=arguments[he];for(O in K)m[O]=K[O];for(let _e=0;_e<C.length;_e++)O=C[_e],Object.prototype.hasOwnProperty.call(K,O)&&(m[O]=K[O])}}function j(m){var A=1;m=m.split(":");const O=[];for(;0<A&&m.length;)O.push(m.shift()),A--;return m.length&&O.push(m.join(":")),O}function B(m){u.setTimeout(()=>{throw m},0)}function U(){var m=ne;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class X{constructor(){this.h=this.g=null}add(A,O){const K=J.get();K.set(A,O),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new k(()=>new P,m=>m.reset());class P{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let F,ee=!1,ne=new X,L=()=>{const m=u.Promise.resolve(void 0);F=()=>{m.then(re)}};var re=()=>{for(var m;m=U();){try{m.h.call(m.g)}catch(O){B(O)}var A=J;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}ee=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};u.addEventListener("test",O,A),u.removeEventListener("test",O,A)}catch{}return m}();function Z(m,A){if(ie.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(G){e:{try{z(A.nodeName);var he=!0;break e}catch{}he=!1}he||(A=null)}}else O=="mouseover"?A=m.fromElement:O=="mouseout"&&(A=m.toElement);this.relatedTarget=A,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:we[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Z.aa.h.call(this)}}E(Z,ie);var we={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),me=0;function Fe(m,A,O,K,he){this.listener=m,this.proxy=null,this.src=A,this.type=O,this.capture=!!K,this.ha=he,this.key=++me,this.da=this.fa=!1}function Ie(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function He(m){this.src=m,this.g={},this.h=0}He.prototype.add=function(m,A,O,K,he){var _e=m.toString();m=this.g[_e],m||(m=this.g[_e]=[],this.h++);var Oe=Ce(m,A,K,he);return-1<Oe?(A=m[Oe],O||(A.fa=!1)):(A=new Fe(A,this.src,_e,!!K,he),A.fa=O,m.push(A)),A};function de(m,A){var O=A.type;if(O in m.g){var K=m.g[O],he=Array.prototype.indexOf.call(K,A,void 0),_e;(_e=0<=he)&&Array.prototype.splice.call(K,he,1),_e&&(Ie(A),m.g[O].length==0&&(delete m.g[O],m.h--))}}function Ce(m,A,O,K){for(var he=0;he<m.length;++he){var _e=m[he];if(!_e.da&&_e.listener==A&&_e.capture==!!O&&_e.ha==K)return he}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),ke={};function Ze(m,A,O,K,he){if(Array.isArray(A)){for(var _e=0;_e<A.length;_e++)Ze(m,A[_e],O,K,he);return null}return O=ln(O),m&&m[je]?m.K(A,O,f(K)?!!K.capture:!1,he):Qe(m,A,O,!1,K,he)}function Qe(m,A,O,K,he,_e){if(!A)throw Error("Invalid event type");var Oe=f(he)?!!he.capture:!!he,Ht=zt(m);if(Ht||(m[qe]=Ht=new He(m)),O=Ht.add(A,O,K,Oe,_e),O.proxy)return O;if(K=lt(),O.proxy=K,K.src=m,K.listener=O,m.addEventListener)oe||(he=Oe),he===void 0&&(he=!1),m.addEventListener(A.toString(),K,he);else if(m.attachEvent)m.attachEvent(Pt(A.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return O}function lt(){function m(O){return A.call(m.src,m.listener,O)}const A=Gn;return m}function Kt(m,A,O,K,he){if(Array.isArray(A))for(var _e=0;_e<A.length;_e++)Kt(m,A[_e],O,K,he);else K=f(K)?!!K.capture:!!K,O=ln(O),m&&m[je]?(m=m.i,A=String(A).toString(),A in m.g&&(_e=m.g[A],O=Ce(_e,O,K,he),-1<O&&(Ie(_e[O]),Array.prototype.splice.call(_e,O,1),_e.length==0&&(delete m.g[A],m.h--)))):m&&(m=zt(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Ce(A,O,K,he)),(O=-1<m?A[m]:null)&&vn(O))}function vn(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[je])de(A.i,m);else{var O=m.type,K=m.proxy;A.removeEventListener?A.removeEventListener(O,K,m.capture):A.detachEvent?A.detachEvent(Pt(O),K):A.addListener&&A.removeListener&&A.removeListener(K),(O=zt(A))?(de(O,m),O.h==0&&(O.src=null,A[qe]=null)):Ie(m)}}}function Pt(m){return m in ke?ke[m]:ke[m]="on"+m}function Gn(m,A){if(m.da)m=!0;else{A=new Z(A,this);var O=m.listener,K=m.ha||m.src;m.fa&&vn(m),m=O.call(K,A)}return m}function zt(m){return m=m[qe],m instanceof He?m:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(m){return typeof m=="function"?m:(m[xt]||(m[xt]=function(A){return m.handleEvent(A)}),m[xt])}function Rt(){ae.call(this),this.i=new He(this),this.M=this,this.F=null}E(Rt,ae),Rt.prototype[je]=!0,Rt.prototype.removeEventListener=function(m,A,O,K){Kt(this,m,A,O,K)};function pt(m,A){var O,K=m.F;if(K)for(O=[];K;K=K.F)O.push(K);if(m=m.M,K=A.type||A,typeof A=="string")A=new ie(A,m);else if(A instanceof ie)A.target=A.target||m;else{var he=A;A=new ie(K,m),I(A,he)}if(he=!0,O)for(var _e=O.length-1;0<=_e;_e--){var Oe=A.g=O[_e];he=Tt(Oe,K,!0,A)&&he}if(Oe=A.g=m,he=Tt(Oe,K,!0,A)&&he,he=Tt(Oe,K,!1,A)&&he,O)for(_e=0;_e<O.length;_e++)Oe=A.g=O[_e],he=Tt(Oe,K,!1,A)&&he}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var O=m.g[A],K=0;K<O.length;K++)Ie(O[K]);delete m.g[A],m.h--}}this.F=null},Rt.prototype.K=function(m,A,O,K){return this.i.add(String(m),A,!1,O,K)},Rt.prototype.L=function(m,A,O,K){return this.i.add(String(m),A,!0,O,K)};function Tt(m,A,O,K){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var he=!0,_e=0;_e<A.length;++_e){var Oe=A[_e];if(Oe&&!Oe.da&&Oe.capture==O){var Ht=Oe.listener,mr=Oe.ha||Oe.src;Oe.fa&&de(m.i,Oe),he=Ht.call(mr,K)!==!1&&he}}return he&&!K.defaultPrevented}function kt(m,A,O){if(typeof m=="function")O&&(m=v(m,O));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(m,A||0)}function yn(m){m.g=kt(()=>{m.g=null,m.i&&(m.i=!1,yn(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Wn extends ae{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(m){ae.call(this),this.h=m,this.g={}}E(En,ae);var Un=[];function zn(m){H(m.g,function(A,O){this.g.hasOwnProperty(O)&&vn(A)},m),m.g={}}En.prototype.N=function(){En.aa.N.call(this),zn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=u.JSON.stringify,Xr=u.JSON.parse,Or=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function fi(){}fi.prototype.h=null;function Nr(m){return m.h||(m.h=m.i())}function hr(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ae(){ie.call(this,"d")}E(Ae,ie);function Pe(){ie.call(this,"c")}E(Pe,ie);var Ke={},St=null;function Gt(){return St=St||new Rt}Ke.La="serverreachability";function mt(m){ie.call(this,Ke.La,m)}E(mt,ie);function gt(m){const A=Gt();pt(A,new mt(A))}Ke.STAT_EVENT="statevent";function tt(m,A){ie.call(this,Ke.STAT_EVENT,m),this.stat=A}E(tt,ie);function We(m){const A=Gt();pt(A,new tt(A,m))}Ke.Ma="timingevent";function Le(m,A){ie.call(this,Ke.Ma,m),this.size=A}E(Le,ie);function It(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},A)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function wr(m,A,O,K,he,_e){m.info(function(){if(m.g)if(_e)for(var Oe="",Ht=_e.split("&"),mr=0;mr<Ht.length;mr++){var qt=Ht[mr].split("=");if(1<qt.length){var _n=qt[0];qt=qt[1];var sr=_n.split("_");Oe=2<=sr.length&&sr[1]=="type"?Oe+(_n+"="+qt+"&"):Oe+(_n+"=redacted&")}}else Oe=null;else Oe=_e;return"XMLHTTP REQ ("+K+") [attempt "+he+"]: "+A+`
`+O+`
`+Oe})}function Pr(m,A,O,K,he,_e,Oe){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+he+"]: "+A+`
`+O+`
`+_e+" "+Oe})}function cn(m,A,O,K){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+Qn(m,O)+(K?" "+K:"")})}function xr(m,A){m.info(function(){return"TIMEOUT: "+A})}pn.prototype.info=function(){};function Qn(m,A){if(!m.g)return A;if(!A)return null;try{var O=JSON.parse(A);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var K=O[m];if(!(2>K.length)){var he=K[1];if(Array.isArray(he)&&!(1>he.length)){var _e=he[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Oe=1;Oe<he.length;Oe++)he[Oe]=""}}}}return kn(O)}catch{return A}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function Pn(){}E(Pn,fi),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Ar=new Pn;function Tn(m,A,O,K){this.j=m,this.i=A,this.l=O,this.R=K||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var fr={},Qs={};function Ur(m,A,O){m.L=1,m.v=ea(ei(A)),m.m=O,m.P=!0,Zr(m,null)}function Zr(m,A){m.F=Date.now(),Xs(m),m.A=ei(m.v);var O=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),tl(O.i,"t",K),m.C=0,O=m.j.J,m.h=new Wt,m.g=Eu(m.j,O?A:null,!m.m),0<m.O&&(m.M=new Wn(v(m.Y,m,m.g),m.O)),A=m.U,O=m.g,K=m.ca;var he="readystatechange";Array.isArray(he)||(he&&(Un[0]=he.toString()),he=Un);for(var _e=0;_e<he.length;_e++){var Oe=Ze(O,he[_e],K||A.handleEvent,!1,A.h||A);if(!Oe)break;A.g[Oe.key]=Oe}A=m.H?x(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),gt(),wr(m.i,m.u,m.A,m.l,m.R,m.m)}Tn.prototype.ca=function(m){m=m.target;const A=this.M;A&&Ri(m)==3?A.j():this.Y(m)},Tn.prototype.Y=function(m){try{if(m==this.g)e:{const sr=Ri(this.g);var A=this.g.Ba();const As=this.g.Z();if(!(3>sr)&&(sr!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||sr!=4||A==7||(A==8||0>=As?gt(3):gt(2)),Js(this);var O=this.g.Z();this.X=O;t:if(Ks(this)){var K=mc(this.g);m="";var he=K.length,_e=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Vi(this);var Oe="";break t}this.h.i=new u.TextDecoder}for(A=0;A<he;A++)this.h.h=!0,m+=this.h.i.decode(K[A],{stream:!(_e&&A==he-1)});K.length=0,this.h.g+=m,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=O==200,Pr(this.i,this.u,this.A,this.l,this.R,sr,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,mr=this.g;if((Ht=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ht)){var qt=Ht;break t}}qt=null}if(O=qt)cn(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,O);else{this.o=!1,this.s=3,We(12),pr(this),Vi(this);break e}}if(this.P){O=!0;let Er;for(;!this.J&&this.C<Oe.length;)if(Er=hc(this,Oe),Er==Qs){sr==4&&(this.s=4,We(14),O=!1),cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==fr){this.s=4,We(15),cn(this.i,this.l,Oe,"[Invalid Chunk]"),O=!1;break}else cn(this.i,this.l,Er,null),Ta(this,Er);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sr!=4||Oe.length!=0||this.h.h||(this.s=1,We(16),O=!1),this.o=this.o&&O,!O)cn(this.i,this.l,Oe,"[Invalid Chunked Response]"),pr(this),Vi(this);else if(0<Oe.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),xa(_n),_n.M=!0,We(11))}}else cn(this.i,this.l,Oe,null),Ta(this,Oe);sr==4&&pr(this),this.o&&!this.J&&(sr==4?sl(this.j,this):(this.o=!1,Xs(this)))}else mu(this.g),O==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),pr(this),Vi(this)}}}catch{}finally{}};function Ks(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function hc(m,A){var O=m.C,K=A.indexOf(`
`,O);return K==-1?Qs:(O=Number(A.substring(O,K)),isNaN(O)?fr:(K+=1,K+O>A.length?Qs:(A=A.slice(K,K+O),m.C=K+O,A)))}Tn.prototype.cancel=function(){this.J=!0,pr(this)};function Xs(m){m.S=Date.now()+m.I,Zs(m,m.I)}function Zs(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=It(v(m.ba,m),A)}function Js(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Tn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(xr(this.i,this.A),this.L!=2&&(gt(),We(17)),pr(this),this.s=2,Vi(this)):Zs(this,this.S-m)};function Vi(m){m.j.G==0||m.J||sl(m.j,m)}function pr(m){Js(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,zn(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function Ta(m,A){try{var O=m.j;if(O.G!=0&&(O.g==m||Xo(O.h,m))){if(!m.K&&Xo(O.h,m)&&O.G==3){try{var K=O.Da.g.parse(A)}catch{K=null}if(Array.isArray(K)&&K.length==3){var he=K;if(he[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)Hi(O),ho(O);else break e;fo(O),We(18)}}else O.za=he[1],0<O.za-O.T&&37500>he[2]&&O.F&&O.v==0&&!O.C&&(O.C=It(v(O.Za,O),6e3));if(1>=no(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else xs(O,11)}else if((m.K||O.g==m)&&Hi(O),!Y(A))for(he=O.Da.g.parse(A),A=0;A<he.length;A++){let qt=he[A];if(O.T=qt[0],qt=qt[1],O.G==2)if(qt[0]=="c"){O.K=qt[1],O.ia=qt[2];const _n=qt[3];_n!=null&&(O.la=_n,O.j.info("VER="+O.la));const sr=qt[4];sr!=null&&(O.Aa=sr,O.j.info("SVER="+O.Aa));const As=qt[5];As!=null&&typeof As=="number"&&0<As&&(K=1.5*As,O.L=K,O.j.info("backChannelRequestTimeoutMs_="+K)),K=O;const Er=m.g;if(Er){const Ds=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var _e=K.h;_e.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(ro(_e,_e.h),_e.h=null))}if(K.D){const yc=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;yc&&(K.ya=yc,Qt(K.I,K.D,yc))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),K=O;var Oe=m;if(K.qa=wu(K,K.J?K.ia:null,K.W),Oe.K){Vr(K.h,Oe);var Ht=Oe,mr=K.L;mr&&(Ht.I=mr),Ht.B&&(Js(Ht),Xs(Ht)),K.g=Oe}else _u(K);0<O.i.length&&rl(O)}else qt[0]!="stop"&&qt[0]!="close"||xs(O,7);else O.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?xs(O,7):uo(O):qt[0]!="noop"&&O.l&&O.l.ta(qt),O.v=0)}}gt(4)}catch{}}var fc=class{constructor(m,A){this.g=m,this.map=A}};function bs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function to(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function no(m){return m.h?1:m.g?m.g.size:0}function Xo(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function ro(m,A){m.g?m.g.add(A):m.h=A}function Vr(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}bs.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Zo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const O of m.g.values())A=A.concat(O.D);return A}return R(m.i)}function pu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var A=[],O=m.length,K=0;K<O;K++)A.push(m[K]);return A}A=[],O=0;for(K in m)A[O++]=m[K];return A}function Jr(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var A=[];m=m.length;for(var O=0;O<m;O++)A.push(O);return A}A=[],O=0;for(const K in m)A[O++]=K;return A}}}function Dr(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var O=Jr(m),K=pu(m),he=K.length,_e=0;_e<he;_e++)A.call(void 0,K[_e],O&&O[_e],m)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(m,A){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var K=m[O].indexOf("="),he=null;if(0<=K){var _e=m[O].substring(0,K);he=m[O].substring(K+1)}else _e=m[O];A(_e,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Kn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Kn){this.h=m.h,Fr(this,m.j),this.o=m.o,this.g=m.g,mi(this,m.s),this.l=m.l;var A=m.i,O=new Es;O.i=A.i,A.g&&(O.g=new Map(A.g),O.h=A.h),Fi(this,O),this.m=m.m}else m&&(A=String(m).match(Ti))?(this.h=!1,Fr(this,A[1]||"",!0),this.o=Si(A[2]||""),this.g=Si(A[3]||"",!0),mi(this,A[4]),this.l=Si(A[5]||"",!0),Fi(this,A[6]||"",!0),this.m=Si(A[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Kn.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Bi(A,el,!0),":");var O=this.g;return(O||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Bi(A,el,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Bi(O,O.charAt(0)=="/"?Zd:Ci,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Bi(O,ta)),m.join("")};function ei(m){return new Kn(m)}function Fr(m,A,O){m.j=O?Si(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function mi(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function Fi(m,A,O){A instanceof Es?(m.i=A,pc(m.i,m.h)):(O||(A=Bi(A,ws)),m.i=new Es(A,m.h))}function Qt(m,A,O){m.i.set(A,O)}function ea(m){return Qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Si(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bi(m,A,O){return typeof m=="string"?(m=encodeURI(m).replace(A,Jo),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Jo(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var el=/[#\/\?@]/g,Ci=/[#\?:]/g,Zd=/[#\?]/g,ws=/[#\?@]/g,ta=/#/g;function Es(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Br(m){m.g||(m.g=new Map,m.h=0,m.i&&pi(m.i,function(A,O){m.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}r=Es.prototype,r.add=function(m,A){Br(this),this.i=null,m=ss(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(A),this.h+=1,this};function is(m,A){Br(m),A=ss(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function xi(m,A){return Br(m),A=ss(m,A),m.g.has(A)}r.forEach=function(m,A){Br(this),this.g.forEach(function(O,K){O.forEach(function(he){m.call(A,he,K,this)},this)},this)},r.na=function(){Br(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),O=[];for(let K=0;K<A.length;K++){const he=m[K];for(let _e=0;_e<he.length;_e++)O.push(A[K])}return O},r.V=function(m){Br(this);let A=[];if(typeof m=="string")xi(this,m)&&(A=A.concat(this.g.get(ss(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)A=A.concat(m[O])}return A},r.set=function(m,A){return Br(this),this.i=null,m=ss(this,m),xi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},r.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function tl(m,A,O){is(m,A),0<O.length&&(m.i=null,m.g.set(ss(m,A),R(O)),m.h+=O.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var O=0;O<A.length;O++){var K=A[O];const _e=encodeURIComponent(String(K)),Oe=this.V(K);for(K=0;K<Oe.length;K++){var he=_e;Oe[K]!==""&&(he+="="+encodeURIComponent(String(Oe[K]))),m.push(he)}}return this.i=m.join("&")};function ss(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function pc(m,A){A&&!m.j&&(Br(m),m.i=null,m.g.forEach(function(O,K){var he=K.toLowerCase();K!=he&&(is(this,K),tl(this,he,O))},m)),m.j=A}function zi(m,A){const O=new pn;if(u.Image){const K=new Image;K.onload=b(Ai,O,"TestLoadImage: loaded",!0,A,K),K.onerror=b(Ai,O,"TestLoadImage: error",!1,A,K),K.onabort=b(Ai,O,"TestLoadImage: abort",!1,A,K),K.ontimeout=b(Ai,O,"TestLoadImage: timeout",!1,A,K),u.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else A(!1)}function as(m,A){const O=new pn,K=new AbortController,he=setTimeout(()=>{K.abort(),Ai(O,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:K.signal}).then(_e=>{clearTimeout(he),_e.ok?Ai(O,"TestPingServer: ok",!0,A):Ai(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(he),Ai(O,"TestPingServer: error",!1,A)})}function Ai(m,A,O,K,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),K(O)}catch{}}function na(){this.g=new Or}function Di(m,A,O){const K=O||"";try{Dr(m,function(he,_e){let Oe=he;f(he)&&(Oe=kn(he)),A.push(K+_e+"="+encodeURIComponent(Oe))})}catch(he){throw A.push(K+"type="+encodeURIComponent("_badmap")),he}}function Ts(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Ts,fi),Ts.prototype.g=function(){return new ra(this.l,this.j)},Ts.prototype.i=function(m){return function(){return m}}({});function ra(m,A){Rt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ra,Rt),r=ra.prototype,r.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,os(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sa(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sa(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Ss(this):os(this),this.readyState==3&&Sa(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,Ss(this))},r.Qa=function(m){this.g&&(this.response=m,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(m){m.readyState=4,m.l=null,m.j=null,m.v=null,os(m)}r.setRequestHeader=function(m,A){this.u.append(m,A)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=A.next();return m.join(`\r
`)};function os(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function io(m){let A="";return H(m,function(O,K){A+=K,A+=":",A+=O,A+=`\r
`}),A}function ir(m,A,O){e:{for(K in O){var K=!1;break e}K=!0}K||(O=io(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):Qt(m,A,O))}function Xt(m){Rt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Xt,Rt);var so=/^https?$/i,ls=["POST","PUT"];r=Xt.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,A,O,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?Nr(this.o):Nr(Ar),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(_e){nl(this,_e);return}if(m=O||"",O=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var he in K)O.set(he,K[he]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const _e of K.keys())O.set(_e,K.get(_e));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(O.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ls,A,void 0))||K||he||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Oe]of O)this.g.setRequestHeader(_e,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(m),this.u=!1}catch(_e){nl(this,_e)}};function nl(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,ao(m),ti(m)}function ao(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,pt(this,"complete"),pt(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},r.bb=function(){oo(this)};function oo(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Ri(m)!=4||m.Z()!=2)){if(m.u&&Ri(m)==4)kt(m.Ea,0,m);else if(pt(m,"readystatechange"),Ri(m)==4){m.h=!1;try{const Oe=m.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var K;if(K=Oe===0){var he=String(m.D).match(Ti)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),K=!so.test(he?he.toLowerCase():"")}O=K}if(O)pt(m,"complete"),pt(m,"success");else{m.m=6;try{var _e=2<Ri(m)?m.g.statusText:""}catch{_e=""}m.l=_e+" ["+m.Z()+"]",ao(m)}}finally{ti(m)}}}}function ti(m,A){if(m.g){lo(m);const O=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||pt(m,"ready");try{O.onreadystatechange=K}catch{}}}function lo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function Ri(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),Xr(A)}};function mc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function mu(m){const A={};m=(m.g&&2<=Ri(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(Y(m[K]))continue;var O=j(m[K]);const he=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const _e=A[he]||[];A[he]=_e,_e.push(O)}N(A,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(m,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||A}function co(m){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,m),this.cb=Ca("retryDelaySeedMs",1e4,m),this.Wa=Ca("forwardChannelMaxRetries",2,m),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(m&&m.concurrentRequestLimit),this.Da=new na,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=co.prototype,r.la=8,r.G=1,r.connect=function(m,A,O,K){We(0),this.W=m,this.H=A||{},O&&K!==void 0&&(this.H.OSID=O,this.H.OAID=K),this.F=this.X,this.I=wu(this,null,this.W),rl(this)};function uo(m){if(gu(m),m.G==3){var A=m.U++,O=ei(m.I);if(Qt(O,"SID",m.K),Qt(O,"RID",A),Qt(O,"TYPE","terminate"),Cs(m,O),A=new Tn(m,m.j,A),A.L=2,A.v=ea(ei(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!O&&u.Image&&(new Image().src=A.v,O=!0),O||(A.g=Eu(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Xs(A)}bu(m)}function ho(m){m.g&&(xa(m),m.g.cancel(),m.g=null)}function gu(m){ho(m),m.u&&(u.clearTimeout(m.u),m.u=null),Hi(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function rl(m){if(!to(m.h)&&!m.s){m.s=!0;var A=m.Ga;F||L(),ee||(F(),ee=!0),ne.add(A,m),m.B=0}}function vu(m,A){return no(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=It(v(m.Ga,m,A),vc(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const he=new Tn(this,this.j,m);let _e=this.o;if(this.S&&(_e?(_e=x(_e),I(_e,this.S)):_e=this.S),this.m!==null||this.O||(he.H=_e,_e=null),this.P)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var K=this.i[O];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(A+=K,4096<A){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=yu(this,he,A),O=ei(this.I),Qt(O,"RID",m),Qt(O,"CVER",22),this.D&&Qt(O,"X-HTTP-Session-Id",this.D),Cs(this,O),_e&&(this.O?A="headers="+encodeURIComponent(String(io(_e)))+"&"+A:this.m&&ir(O,this.m,_e)),ro(this.h,he),this.Ua&&Qt(O,"TYPE","init"),this.P?(Qt(O,"$req",A),Qt(O,"SID","null"),he.T=!0,Ur(he,O,null)):Ur(he,O,A),this.G=2}}else this.G==3&&(m?il(this,m):this.i.length==0||to(this.h)||il(this))};function il(m,A){var O;A?O=A.l:O=m.U++;const K=ei(m.I);Qt(K,"SID",m.K),Qt(K,"RID",O),Qt(K,"AID",m.T),Cs(m,K),m.m&&m.o&&ir(K,m.m,m.o),O=new Tn(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),A&&(m.i=A.D.concat(m.i)),A=yu(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ro(m.h,O),Ur(O,K,A)}function Cs(m,A){m.H&&H(m.H,function(O,K){Qt(A,K,O)}),m.l&&Dr({},function(O,K){Qt(A,K,O)})}function yu(m,A,O){O=Math.min(m.i.length,O);var K=m.l?v(m.l.Na,m.l,m):null;e:{var he=m.i;let _e=-1;for(;;){const Oe=["count="+O];_e==-1?0<O?(_e=he[0].g,Oe.push("ofs="+_e)):_e=0:Oe.push("ofs="+_e);let Ht=!0;for(let mr=0;mr<O;mr++){let qt=he[mr].g;const _n=he[mr].map;if(qt-=_e,0>qt)_e=Math.max(0,he[mr].g-100),Ht=!1;else try{Di(_n,Oe,"req"+qt+"_")}catch{K&&K(_n)}}if(Ht){K=Oe.join("&");break e}}}return m=m.i.splice(0,O),A.D=m,K}function _u(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;F||L(),ee||(F(),ee=!0),ne.add(A,m),m.v=0}}function fo(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=It(v(m.Fa,m),vc(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=It(v(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),ho(this),gc(this))};function xa(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function gc(m){m.g=new Tn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=ei(m.qa);Qt(A,"RID","rpc"),Qt(A,"SID",m.K),Qt(A,"AID",m.T),Qt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&Qt(A,"TO",m.ja),Qt(A,"TYPE","xmlhttp"),Cs(m,A),m.m&&m.o&&ir(A,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=ea(ei(A)),O.m=null,O.P=!0,Zr(O,m)}r.Za=function(){this.C!=null&&(this.C=null,ho(this),fo(this),We(19))};function Hi(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function sl(m,A){var O=null;if(m.g==A){Hi(m),xa(m),m.g=null;var K=2}else if(Xo(m.h,A))O=A.D,Vr(m.h,A),K=1;else return;if(m.G!=0){if(A.o)if(K==1){O=A.m?A.m.length:0,A=Date.now()-A.F;var he=m.B;K=Gt(),pt(K,new Le(K,O)),rl(m)}else _u(m);else if(he=A.s,he==3||he==0&&0<A.X||!(K==1&&vu(m,A)||K==2&&fo(m)))switch(O&&0<O.length&&(A=m.h,A.i=A.i.concat(O)),he){case 1:xs(m,5);break;case 4:xs(m,10);break;case 3:xs(m,6);break;default:xs(m,2)}}}function vc(m,A){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*A}function xs(m,A){if(m.j.info("Error code "+A),A==2){var O=v(m.fb,m),K=m.Xa;const he=!K;K=new Kn(K||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fr(K,"https"),ea(K),he?zi(K.toString(),O):as(K.toString(),O)}else We(2);m.G=0,m.l&&m.l.sa(A),bu(m),gu(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function bu(m){if(m.G=0,m.ka=[],m.l){const A=Zo(m.h);(A.length!=0||m.i.length!=0)&&(D(m.ka,A),D(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function wu(m,A,O){var K=O instanceof Kn?ei(O):new Kn(O);if(K.g!="")A&&(K.g=A+"."+K.g),mi(K,K.s);else{var he=u.location;K=he.protocol,A=A?A+"."+he.hostname:he.hostname,he=+he.port;var _e=new Kn(null);K&&Fr(_e,K),A&&(_e.g=A),he&&mi(_e,he),O&&(_e.l=O),K=_e}return O=m.D,A=m.ya,O&&A&&Qt(K,O,A),Qt(K,"VER",m.la),Cs(m,K),K}function Eu(m,A,O){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Xt(new Ts({eb:O})):new Xt(m.pa),A.Ha(m.J),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function po(){}po.prototype.g=function(m,A){return new zr(m,A)};function zr(m,A){Rt.call(this),this.g=new co(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!Y(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!Y(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Hr(this)}E(zr,Rt),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){uo(this.g)},zr.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=kn(m),m=O);A.i.push(new fc(A.Ya++,m)),A.G==3&&rl(A)},zr.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,zr.aa.N.call(this)};function Su(m){Ae.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const O in A){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}E(Su,Ae);function ia(){Pe.call(this),this.status=1}E(ia,Pe);function Hr(m){this.g=m}E(Hr,Tu),Hr.prototype.ua=function(){pt(this.g,"a")},Hr.prototype.ta=function(m){pt(this.g,new Su(m))},Hr.prototype.sa=function(m){pt(this.g,new ia)},Hr.prototype.ra=function(){pt(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,QA=function(){return new po},WA=function(){return Gt()},GA=Ke,W_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Bm=jr,rs.COMPLETE="complete",YA=rs,hr.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,vf=hr,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,$A=Xt}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});const yT="@firebase/firestore",_T="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new U0("@firebase/firestore");function od(){return Jc.logLevel}function Ge(r,...e){if(Jc.logLevel<=$t.DEBUG){const t=e.map(Q0);Jc.debug(`Firestore (${$d}): ${r}`,...t)}}function $o(r,...e){if(Jc.logLevel<=$t.ERROR){const t=e.map(Q0);Jc.error(`Firestore (${$d}): ${r}`,...t)}}function Cd(r,...e){if(Jc.logLevel<=$t.WARN){const t=e.map(Q0);Jc.warn(`Firestore (${$d}): ${r}`,...t)}}function Q0(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r="Unexpected state"){const e=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: `+r;throw $o(e),new Error(e)}function wn(r,e){r||ft()}function wt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ja{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class d4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h4{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wn(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let a=new No;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new No,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new No)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wn(typeof n.accessToken=="string"),new KA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wn(e===null||typeof e=="string"),new bi(e)}}class f4{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p4{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new f4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){wn(this.o===void 0);const n=a=>{a.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn(typeof t.token=="string"),this.R=t.token,new bT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=g4(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function Mt(r,e){return r<e?-1:r>e?1:0}function Q_(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return Mt(n,i);{const a=XA(),l=v4(a.encode(wT(r,t)),a.encode(wT(e,t)));return l!==0?l:Mt(n,i)}}t+=n>65535?2:1}return Mt(r.length,e.length)}function wT(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function v4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Mt(r[t],e[t]);return Mt(r.length,e.length)}function xd(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,TT=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*TT);return new ur(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ET)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TT}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ur(0,0))}static max(){return new yt(new ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__name__";class ja{constructor(e,t,n){t===void 0?t=0:t>e.length&&ft(),n===void 0?n=e.length-t:n>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=ja.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Mt(e.length,t.length)}static compareSegments(e,t){const n=ja.isNumericId(e),i=ja.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?ja.extractNumericId(e).compare(ja.extractNumericId(t)):Q_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wl.fromString(e.substring(4,e.length-2))}}class Bn extends ja{construct(e,t,n){return new Bn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends ja{construct(e,t,n){return new ui(e,t,n)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new ui([ST])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ve(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ve(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(a(),i++)}if(a(),l)throw new Ve(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(t)}static emptyPath(){return new ui([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(Bn.fromString(e))}static fromName(e){return new rt(Bn.fromString(e).popFirst(5))}static empty(){return new rt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new Bn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=-1;function _4(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(n===1e9?new ur(t+1,0):new ur(t,n));return new Jl(i,rt.empty(),e)}function b4(r){return new Jl(r.readTime,r.key,Lf)}class Jl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jl(yt.min(),rt.empty(),Lf)}static max(){return new Jl(yt.max(),rt.empty(),Lf)}}function w4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=rt.comparator(r.documentKey,e.documentKey),t!==0?t:Mt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(r){if(r.code!==Se.FAILED_PRECONDITION||r.message!==E4)throw r;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,n)=>{t(e)})}static reject(e){return new Me((t,n)=>{n(e)})}static waitFor(e){return new Me((t,n)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},d=>n(d))}),l=!0,a===i&&t()})}static or(e){let t=Me.resolve(!1);for(const n of e)t=t.next(i=>i?Me.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new Me((n,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(p=>{l[f]=p,++u,u===a&&n(l)},p=>i(p))}})}static doWhile(e,t){return new Me((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function S4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gd(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ov.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-1;function lv(r){return r==null}function dg(r){return r===0&&1/r==-1/0}function C4(r){return typeof r=="number"&&Number.isInteger(r)&&!dg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="";function x4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=CT(e)),e=A4(r.get(t),e);return CT(e)}function A4(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case JA:t+="";break;default:t+=a}}return t}function CT(r){return r+JA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function cc(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function eD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??li.RED,this.left=i??li.EMPTY,this.right=a??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new li(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return li.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,t,n,i,a){return this}insert(e,t,n){return new li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(e){return new AT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ir(this.comparator);return t.data=e,t}}class AT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new ys([])}unionWith(e){let t=new Ir(ui.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xd(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tD("Invalid base64 string: "+a):a}}(e);return new hi(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(r){if(wn(!!r),typeof r=="string"){let e=0;const t=D4.exec(r);if(wn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vr(r.seconds),nanos:vr(r.nanos)}}function vr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function tc(r){return typeof r=="string"?hi.fromBase64String(r):hi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="server_timestamp",rD="__type__",iD="__previous_value__",sD="__local_write_time__";function cv(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[rD])===null||t===void 0?void 0:t.stringValue)===nD}function uv(r){const e=r.mapValue.fields[iD];return cv(e)?uv(e):e}function Of(r){const e=ec(r.mapValue.fields[sD].timestampValue);return new ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,n,i,a,l,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}const hg="(default)";class Nf{constructor(e,t){this.projectId=e,this.database=t||hg}static empty(){return new Nf("","")}get isDefaultDatabase(){return this.database===hg}isEqual(e){return e instanceof Nf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__type__",M4="__max__",bm={mapValue:{}},oD="__vector__",fg="value";function nc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cv(r)?4:I4(r)?9007199254740991:k4(r)?10:11:ft()}function Xa(r,e){if(r===e)return!0;const t=nc(r);if(t!==nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Of(r).isEqual(Of(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ec(i.timestampValue),u=ec(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return tc(i.bytesValue).isEqual(tc(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return vr(i.geoPointValue.latitude)===vr(a.geoPointValue.latitude)&&vr(i.geoPointValue.longitude)===vr(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vr(i.integerValue)===vr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vr(i.doubleValue),u=vr(a.doubleValue);return l===u?dg(l)===dg(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return xd(r.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(xT(l)!==xT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Xa(l[d],u[d])))return!1;return!0}(r,e);default:return ft()}}function Pf(r,e){return(r.values||[]).find(t=>Xa(t,e))!==void 0}function Ad(r,e){if(r===e)return 0;const t=nc(r),n=nc(e);if(t!==n)return Mt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return function(a,l){const u=vr(a.integerValue||a.doubleValue),d=vr(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(r,e);case 3:return DT(r.timestampValue,e.timestampValue);case 4:return DT(Of(r),Of(e));case 5:return Q_(r.stringValue,e.stringValue);case 6:return function(a,l){const u=tc(a),d=tc(l);return u.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Mt(u[f],d[f]);if(p!==0)return p}return Mt(u.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Mt(vr(a.latitude),vr(l.latitude));return u!==0?u:Mt(vr(a.longitude),vr(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return RT(r.arrayValue,e.arrayValue);case 10:return function(a,l){var u,d,f,p;const g=a.fields||{},v=l.fields||{},b=(u=g[fg])===null||u===void 0?void 0:u.arrayValue,E=(d=v[fg])===null||d===void 0?void 0:d.arrayValue,R=Mt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:RT(b,E)}(r.mapValue,e.mapValue);case 11:return function(a,l){if(a===bm.mapValue&&l===bm.mapValue)return 0;if(a===bm.mapValue)return 1;if(l===bm.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const v=Q_(d[g],p[g]);if(v!==0)return v;const b=Ad(u[d[g]],f[p[g]]);if(b!==0)return b}return Mt(d.length,p.length)}(r.mapValue,e.mapValue);default:throw ft()}}function DT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const t=ec(r),n=ec(e),i=Mt(t.seconds,n.seconds);return i!==0?i:Mt(t.nanos,n.nanos)}function RT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Ad(t[i],n[i]);if(a)return a}return Mt(t.length,n.length)}function Dd(r){return K_(r)}function K_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ec(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return tc(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return rt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=K_(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${K_(t.fields[l])}`;return i+"}"}(r.mapValue):ft()}function zm(r){switch(nc(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uv(r);return e?16+zm(e):16;case 5:return 2*r.stringValue.length;case 6:return tc(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+zm(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return cc(n.fields,(a,l)=>{i+=a.length+zm(l)}),i}(r.mapValue);default:throw ft()}}function pg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function X_(r){return!!r&&"integerValue"in r}function X0(r){return!!r&&"arrayValue"in r}function MT(r){return!!r&&"nullValue"in r}function kT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hm(r){return!!r&&"mapValue"in r}function k4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aD])===null||t===void 0?void 0:t.stringValue)===oD}function Sf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cc(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Sf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function I4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===M4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sf(t)}setAll(e){let t=ui.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=Sf(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Hm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Hm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){cc(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ns(Sf(this.value))}}function lD(r){const e=[];return cc(r.fields,(t,n)=>{const i=new ui([t]);if(Hm(n)){const a=lD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ys(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,n,i,a,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new wi(e,0,yt.min(),yt.min(),yt.min(),ns.empty(),0)}static newFoundDocument(e,t,n,i){return new wi(e,1,t,yt.min(),n,i,0)}static newNoDocument(e,t){return new wi(e,2,t,yt.min(),yt.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,yt.min(),yt.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function IT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],l=r.position[i];if(a.field.isKeyField()?n=rt.comparator(rt.fromName(l.referenceValue),t.key):n=Ad(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function LT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xa(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function L4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class Cr extends cD{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new N4(e,t,n):t==="array-contains"?new U4(e,n):t==="in"?new V4(e,n):t==="not-in"?new F4(e,n):t==="array-contains-any"?new B4(e,n):new Cr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new P4(e,n):new j4(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ad(t,this.value)):t!==null&&nc(this.value)===nc(t)&&this.matchesComparison(Ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends cD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _a(e,t)}matches(e){return uD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uD(r){return r.op==="and"}function dD(r){return O4(r)&&uD(r)}function O4(r){for(const e of r.filters)if(e instanceof _a)return!1;return!0}function Z_(r){if(r instanceof Cr)return r.field.canonicalString()+r.op.toString()+Dd(r.value);if(dD(r))return r.filters.map(e=>Z_(e)).join(",");{const e=r.filters.map(t=>Z_(t)).join(",");return`${r.op}(${e})`}}function hD(r,e){return r instanceof Cr?function(n,i){return i instanceof Cr&&n.op===i.op&&n.field.isEqual(i.field)&&Xa(n.value,i.value)}(r,e):r instanceof _a?function(n,i){return i instanceof _a&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,u)=>a&&hD(l,i.filters[u]),!0):!1}(r,e):void ft()}function fD(r){return r instanceof Cr?function(t){return`${t.field.canonicalString()} ${t.op} ${Dd(t.value)}`}(r):r instanceof _a?function(t){return t.op.toString()+" {"+t.getFilters().map(fD).join(" ,")+"}"}(r):"Filter"}class N4 extends Cr{constructor(e,t,n){super(e,t,n),this.key=rt.fromName(n.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class P4 extends Cr{constructor(e,t){super(e,"in",t),this.keys=pD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class j4 extends Cr{constructor(e,t){super(e,"not-in",t),this.keys=pD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pD(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>rt.fromName(n.referenceValue))}class U4 extends Cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return X0(t)&&Pf(t.arrayValue,this.value)}}class V4 extends Cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pf(this.value.arrayValue,t)}}class F4 extends Cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pf(this.value.arrayValue,t)}}class B4 extends Cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!X0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Pf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t=null,n=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function OT(r,e=null,t=[],n=[],i=null,a=null,l=null){return new z4(r,e,t,n,i,a,l)}function Z0(r){const e=wt(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Z_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),lv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Dd(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Dd(n)).join(",")),e.le=t}return e.le}function J0(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!L4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hD(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!LT(r.startAt,e.startAt)&&LT(r.endAt,e.endAt)}function J_(r){return rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t=null,n=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function H4(r,e,t,n,i,a,l,u){return new lu(r,e,t,n,i,a,l,u)}function eb(r){return new lu(r)}function NT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tb(r){return r.collectionGroup!==null}function _d(r){const e=wt(r);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ir(ui.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new jf(a,n))}),t.has(ui.keyField().canonicalString())||e.he.push(new jf(ui.keyField(),n))}return e.he}function Ga(r){const e=wt(r);return e.Pe||(e.Pe=q4(e,_d(r))),e.Pe}function q4(r,e){if(r.limitType==="F")return OT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new jf(i.field,a)});const t=r.endAt?new Rd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Rd(r.startAt.position,r.startAt.inclusive):null;return OT(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function e0(r,e){const t=r.filters.concat([e]);return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function mg(r,e,t){return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dv(r,e){return J0(Ga(r),Ga(e))&&r.limitType===e.limitType}function mD(r){return`${Z0(Ga(r))}|lt:${r.limitType}`}function ld(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>fD(i)).join(", ")}]`),lv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Dd(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Dd(i)).join(",")),`Target(${n})`}(Ga(r))}; limitType=${r.limitType})`}function hv(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):rt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of _d(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,u,d){const f=IT(l,u,d);return l.inclusive?f<=0:f<0}(n.startAt,_d(n),i)||n.endAt&&!function(l,u,d){const f=IT(l,u,d);return l.inclusive?f>=0:f>0}(n.endAt,_d(n),i))}(r,e)}function $4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gD(r){return(e,t)=>{let n=!1;for(const i of _d(r)){const a=Y4(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Y4(r,e,t){const n=r.field.isKeyField()?rt.comparator(e.key,t.key):function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?Ad(d,f):ft()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return eD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new nr(rt.comparator);function Yo(){return G4}const vD=new nr(rt.comparator);function yf(...r){let e=vD;for(const t of r)e=e.insert(t.key,t);return e}function yD(r){let e=vD;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function zc(){return Cf()}function _D(){return Cf()}function Cf(){return new cu(r=>r.toString(),(r,e)=>r.isEqual(e))}const W4=new nr(rt.comparator),Q4=new Ir(rt.comparator);function Yt(...r){let e=Q4;for(const t of r)e=e.add(t);return e}const K4=new Ir(Mt);function X4(){return K4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dg(e)?"-0":e}}function bD(r){return{integerValue:""+r}}function Z4(r,e){return C4(e)?bD(e):nb(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this._=void 0}}function J4(r,e,t){return r instanceof Uf?function(i,a){const l={fields:{[rD]:{stringValue:nD},[sD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cv(a)&&(a=uv(a)),a&&(l.fields[iD]=a),{mapValue:l}}(t,e):r instanceof Vf?ED(r,e):r instanceof Ff?TD(r,e):function(i,a){const l=wD(i,a),u=PT(l)+PT(i.Ie);return X_(l)&&X_(i.Ie)?bD(u):nb(i.serializer,u)}(r,e)}function e3(r,e,t){return r instanceof Vf?ED(r,e):r instanceof Ff?TD(r,e):t}function wD(r,e){return r instanceof gg?function(n){return X_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Uf extends fv{}class Vf extends fv{constructor(e){super(),this.elements=e}}function ED(r,e){const t=SD(e);for(const n of r.elements)t.some(i=>Xa(i,n))||t.push(n);return{arrayValue:{values:t}}}class Ff extends fv{constructor(e){super(),this.elements=e}}function TD(r,e){let t=SD(e);for(const n of r.elements)t=t.filter(i=>!Xa(i,n));return{arrayValue:{values:t}}}class gg extends fv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PT(r){return vr(r.integerValue||r.doubleValue)}function SD(r){return X0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.field=e,this.transform=t}}function n3(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Vf&&i instanceof Vf||n instanceof Ff&&i instanceof Ff?xd(n.elements,i.elements,Xa):n instanceof gg&&i instanceof gg?Xa(n.Ie,i.Ie):n instanceof Uf&&i instanceof Uf}(r.transform,e.transform)}class r3{constructor(e,t){this.version=e,this.transformResults=t}}class Ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qm(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pv{}function CD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rb(r.key,Ys.none()):new tp(r.key,r.data,Ys.none());{const t=r.data,n=ns.empty();let i=new Ir(ui.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new uc(r.key,n,new ys(i.toArray()),Ys.none())}}function i3(r,e,t){r instanceof tp?function(i,a,l){const u=i.value.clone(),d=UT(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof uc?function(i,a,l){if(!qm(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=UT(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(xD(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function xf(r,e,t,n){return r instanceof tp?function(a,l,u,d){if(!qm(a.precondition,l))return u;const f=a.value.clone(),p=VT(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(r,e,t,n):r instanceof uc?function(a,l,u,d){if(!qm(a.precondition,l))return u;const f=VT(a.fieldTransforms,d,l),p=l.data;return p.setAll(xD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(a,l,u){return qm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function s3(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=wD(n.transform,i||null);a!=null&&(t===null&&(t=ns.empty()),t.set(n.field,a))}return t||null}function jT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xd(n,i,(a,l)=>n3(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tp extends pv{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uc extends pv{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function UT(r,e,t){const n=new Map;wn(r.length===t.length);for(let i=0;i<t.length;i++){const a=r[i],l=a.transform,u=e.data.field(a.field);n.set(a.field,e3(l,u,t[i]))}return n}function VT(r,e,t){const n=new Map;for(const i of r){const a=i.transform,l=t.data.field(i.field);n.set(i.field,J4(a,l,e))}return n}class rb extends pv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a3 extends pv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&i3(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_D();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const d=CD(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(yt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&xd(this.mutations,e.mutations,(t,n)=>jT(t,n))&&xd(this.baseMutations,e.baseMutations,(t,n)=>jT(t,n))}}class ib{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){wn(e.mutations.length===n.length);let i=function(){return W4}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new ib(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,tn;function u3(r){switch(r){case Se.OK:return ft();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return ft()}}function AD(r){if(r===void 0)return $o("GRPC error has no .code"),Se.UNKNOWN;switch(r){case Sr.OK:return Se.OK;case Sr.CANCELLED:return Se.CANCELLED;case Sr.UNKNOWN:return Se.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return Se.INTERNAL;case Sr.UNAVAILABLE:return Se.UNAVAILABLE;case Sr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Sr.NOT_FOUND:return Se.NOT_FOUND;case Sr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Sr.ABORTED:return Se.ABORTED;case Sr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Sr.DATA_LOSS:return Se.DATA_LOSS;default:return ft()}}(tn=Sr||(Sr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Wl([4294967295,4294967295],0);function FT(r){const e=XA().encode(r),t=new qA;return t.update(e),new Uint8Array(t.digest())}function BT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wl([t,n],0),new Wl([i,a],0)]}class sb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(n<0)throw new _f(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Wl.fromNumber(this.Ee)}Ae(e,t,n){let i=e.add(t.multiply(Wl.fromNumber(n)));return i.compare(d3)===1&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=FT(e),[n,i]=BT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new sb(a,i,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=FT(e),[n,i]=BT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new mv(yt.min(),i,new nr(Mt),Yo(),Yt())}}class np{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new np(n,t,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,n,i){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=i}}class DD{constructor(e,t){this.targetId=e,this.ge=t}}class RD{constructor(e,t,n=hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class zT{constructor(){this.pe=0,this.ye=HT(),this.we=hi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yt(),t=Yt(),n=Yt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ft()}}),new np(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=HT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,wn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class h3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yo(),this.$e=wm(),this.Ue=wm(),this.Ke=new nr(Mt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,n=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(J_(a))if(n===0){const l=new rt(a.path);this.ze(t,l,wi.newNoDocument(l,yt.min()))}else wn(n===1);else{const l=this.et(t);if(l!==n){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=tc(n).toUint8Array()}catch(d){if(d instanceof tD)return Cd("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new sb(l,i,a)}catch(d){return Cd(d instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&J_(u.target)){const d=new rt(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,wi.newNoDocument(d,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let n=Yt();this.Ue.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new mv(e,t,this.Ke,this.Qe,n);return this.Qe=Yo(),this.$e=wm(),this.Ue=wm(),this.Ke=new nr(Mt),i}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new zT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ir(Mt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ir(Mt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new zT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wm(){return new nr(rt.comparator)}function HT(){return new nr(rt.comparator)}const f3={asc:"ASCENDING",desc:"DESCENDING"},p3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m3={and:"AND",or:"OR"};class g3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function t0(r,e){return r.useProto3Json||lv(e)?e:{value:e}}function vg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function v3(r,e){return vg(r,e.toTimestamp())}function Wa(r){return wn(!!r),yt.fromTimestamp(function(t){const n=ec(t);return new ur(n.seconds,n.nanos)}(r))}function ab(r,e){return n0(r,e).canonicalString()}function n0(r,e){const t=function(i){return new Bn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kD(r){const e=Bn.fromString(r);return wn(PD(e)),e}function r0(r,e){return ab(r.databaseId,e.path)}function f_(r,e){const t=kD(e);if(t.get(1)!==r.databaseId.projectId)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new rt(LD(t))}function ID(r,e){return ab(r.databaseId,e)}function y3(r){const e=kD(r);return e.length===4?Bn.emptyPath():LD(e)}function i0(r){return new Bn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function LD(r){return wn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function qT(r,e,t){return{name:r0(r,e),fields:t.value.mapValue.fields}}function _3(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(wn(p===void 0||typeof p=="string"),hi.fromBase64String(p||"")):(wn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),hi.fromUint8Array(p||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?Se.UNKNOWN:AD(f.code);return new Ve(p,f.message||"")}(l);t=new RD(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=f_(r,n.document.name),a=Wa(n.document.updateTime),l=n.document.createTime?Wa(n.document.createTime):yt.min(),u=new ns({mapValue:{fields:n.document.fields}}),d=wi.newFoundDocument(i,a,l,u),f=n.targetIds||[],p=n.removedTargetIds||[];t=new $m(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=f_(r,n.document),a=n.readTime?Wa(n.readTime):yt.min(),l=wi.newNoDocument(i,a),u=n.removedTargetIds||[];t=new $m([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=f_(r,n.document),a=n.removedTargetIds||[];t=new $m([],a,i,null)}else{if(!("filter"in e))return ft();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new c3(i,a),u=n.targetId;t=new DD(u,l)}}return t}function b3(r,e){let t;if(e instanceof tp)t={update:qT(r,e.key,e.value)};else if(e instanceof rb)t={delete:r0(r,e.key)};else if(e instanceof uc)t={update:qT(r,e.key,e.data),updateMask:R3(e.fieldMask)};else{if(!(e instanceof a3))return ft();t={verify:r0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const u=l.transform;if(u instanceof Uf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ff)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gg)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw ft()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:v3(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ft()}(r,e.precondition)),t}function w3(r,e){return r&&r.length>0?(wn(e!==void 0),r.map(t=>function(i,a){let l=i.updateTime?Wa(i.updateTime):Wa(a);return l.isEqual(yt.min())&&(l=Wa(a)),new r3(l,i.transformResults||[])}(t,e))):[]}function E3(r,e){return{documents:[ID(r,e.path)]}}function T3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=ID(r,i);const a=function(f){if(f.length!==0)return ND(_a.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:cd(v.field),direction:x3(v.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=t0(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function S3(r){let e=y3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){wn(n===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const v=OD(g);return v instanceof _a&&dD(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(v=>function(E){return new jf(ud(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(g){let v;return v=typeof g=="object"?g.value:g,lv(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(g){const v=!!g.before,b=g.values||[];return new Rd(b,v)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const v=!g.before,b=g.values||[];return new Rd(b,v)}(t.endAt)),H4(e,i,l,a,u,"F",d,f)}function C3(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ud(t.unaryFilter.field);return Cr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ud(t.unaryFilter.field);return Cr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ud(t.unaryFilter.field);return Cr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ud(t.unaryFilter.field);return Cr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(r):r.fieldFilter!==void 0?function(t){return Cr.create(ud(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return _a.create(t.compositeFilter.filters.map(n=>OD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ft()}}(t.compositeFilter.op))}(r):ft()}function x3(r){return f3[r]}function A3(r){return p3[r]}function D3(r){return m3[r]}function cd(r){return{fieldPath:r.canonicalString()}}function ud(r){return ui.fromServerFormat(r.fieldPath)}function ND(r){return r instanceof Cr?function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NAN"}};if(MT(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NAN"}};if(MT(t.value))return{unaryFilter:{field:cd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(t.field),op:A3(t.op),value:t.value}}}(r):r instanceof _a?function(t){const n=t.getFilters().map(i=>ND(i));return n.length===1?n[0]:{compositeFilter:{op:D3(t.op),filters:n}}}(r):ft()}function R3(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,n,i,a=yt.min(),l=yt.min(),u=hi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.Tt=e}}function k3(r){const e=S3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Tn=new L3}addToCollectionParentIndex(e,t){return this.Tn.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(Jl.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(Jl.min())}updateCollectionGroup(e,t,n){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class L3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ir(Bn.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ir(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jD=41943040;class Ji{static withCacheSize(e){return new Ji(e,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(jD,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Md(0)}static Kn(){return new Md(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LruGarbageCollector",O3=1048576;function GT([r,e],[t,n]){const i=Mt(r,t);return i===0?Mt(e,n):i}class N3{constructor(e){this.Hn=e,this.buffer=new Ir(GT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();GT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class P3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ge(YT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gd(t)?Ge(YT,"Ignoring IndexedDB error during garbage collection: ",t):await Yd(t)}await this.er(3e5)})}}class j3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Me.resolve(ov.ae);const n=new N3(t);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve($T)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,i,a,l,u,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,u=Date.now(),this.removeTargets(e,n,t))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(f=Date.now(),od()<=$t.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function U3(r,e){return new j3(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.changes=new cu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&xf(n.mutation,i,ys.empty(),ur.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Yt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Yt()){const i=zc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let l=yf();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=zc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Yt()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,i){let a=Yo();const l=Cf(),u=function(){return Cf()}();return t.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof uc)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),xf(p.mutation,f,p.mutation.getFieldMask(),ur.now())):l.set(f.key,ys.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var g;return u.set(f,new F3(p,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const n=Cf();let i=new nr((l,u)=>l-u),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let p=n.get(d)||ys.empty();p=u.applyToLocalView(f,p),n.set(d,p);const g=(i.get(u.batchId)||Yt()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,g=_D();p.forEach(v=>{if(!a.has(v)){const b=CD(t.get(v),n.get(v));b!==null&&g.set(v,b),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Me.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return rt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Me.resolve(zc());let u=Lf,d=a;return l.next(f=>Me.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?Me.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,Yt())).next(p=>({batchId:u,changes:yD(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(n=>{let i=yf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let l=yf();return this.indexManager.getCollectionParents(e,a).next(u=>Me.forEach(u,d=>{const f=function(g,v){return new lu(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(l=>{a.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,wi.newInvalidDocument(p)))});let u=yf();return l.forEach((d,f)=>{const p=a.get(d);p!==void 0&&xf(p.mutation,f,ys.empty(),ur.now()),hv(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Me.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Wa(i.createTime)}}(t)),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:k3(i.bundledQuery),readTime:Wa(i.readTime)}}(t)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.overlays=new nr(rt.comparator),this.Rr=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zc();return Me.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.Et(e,t,a)}),Me.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(n)),Me.resolve()}getOverlaysForCollection(e,t,n){const i=zc(),a=t.length+1,l=new rt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new nr((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=zc(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=zc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return Me.resolve(u)}Et(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new l3(t,n));let a=this.Rr.get(t);a===void 0&&(a=Yt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.sessionToken=hi.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Vr=new Ir(Qr.mr),this.gr=new Ir(Qr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Qr(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Qr(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new rt(new Bn([])),n=new Qr(t,e),i=new Qr(t,e+1),a=[];return this.gr.forEachInRange([n,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new rt(new Bn([])),n=new Qr(t,e),i=new Qr(t,e+1);let a=Yt();return this.gr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Qr(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Qr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return rt.comparator(e.key,t.key)||Mt(e.Cr,t.Cr)}static pr(e,t){return Mt(e.Cr,t.Cr)||rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ir(Qr.mr)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new o3(a,t,n,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new Qr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Me.resolve(l)}lookupMutationBatch(e,t){return Me.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Nr(n),a=i<0?0:i;return Me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?K0:this.Fr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Qr(t,0),i=new Qr(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,i],l=>{const u=this.Or(l.Cr);a.push(u)}),Me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ir(Mt);return t.forEach(i=>{const a=new Qr(i,0),l=new Qr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{n=n.add(u.Cr)})}),Me.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;rt.isDocumentKey(a)||(a=a.child(""));const l=new Qr(new rt(a),0);let u=new Ir(Mt);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Cr)),!0)},l),Me.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){wn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Me.forEach(t.mutations,i=>{const a=new Qr(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Qr(t,0),i=this.Mr.firstAfterOrEqual(n);return Me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.kr=e,this.docs=function(){return new nr(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Me.resolve(n?n.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let n=Yo();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():wi.newInvalidDocument(i))}),Me.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=Yo();const l=t.path,u=new rt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||w4(b4(p),n)<=0||(i.has(p.key)||hv(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Me.resolve(a)}getAllFromCollectionGroup(e,t,n,i){ft()}qr(e,t){return Me.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new G3(this)}getSize(e){return Me.resolve(this.size)}}class G3 extends V3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),Me.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.Qr=new cu(t=>Z0(t),J0),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ob,this.targetCount=0,this.Kr=Md.Un()}forEachTarget(e,t){return this.Qr.forEach((n,i)=>t(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Me.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Md(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.zn(t),Me.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Me.waitFor(a).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Me.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Me.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Me.resolve(n)}containsKey(e,t){return Me.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ov(0),this.zr=!1,this.zr=!0,this.jr=new q3,this.referenceDelegate=e(this),this.Hr=new W3(this),this.indexManager=new I3,this.remoteDocumentCache=function(i){return new Y3(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new M3(t),this.Yr=new z3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new $3(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Ge("MemoryPersistence","Starting transaction:",e);const i=new Q3(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return Me.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class Q3 extends T4{constructor(e){super(),this.currentSequenceNumber=e}}class lb{constructor(e){this.persistence=e,this.ti=new ob,this.ni=null}static ri(e){return new lb(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Me.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Me.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.ii,n=>{const i=rt.fromPath(n);return this.si(e,i).next(a=>{a||t.removeEntry(i,yt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Me.or([()=>Me.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class yg{constructor(e,t){this.persistence=e,this.oi=new cu(n=>x4(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=U3(this,t)}static ri(e,t){return new yg(e,t)}Zr(){}Xr(e){return Me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return Me.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(a=>a?Me.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(n++,a.removeEntry(l,yt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zm(e.data.value)),t}ar(e,t,n){return Me.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Me.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=i}static Yi(e,t){let n=Yt(),i=Yt();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new cb(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kL()?8:S4(Ei())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new K3;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,n,i){return n.documentReadCount<this.es?(od()<=$t.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",ld(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Me.resolve()):(od()<=$t.DEBUG&&Ge("QueryEngine","Query:",ld(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(od()<=$t.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",ld(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ga(t))):Me.resolve())}rs(e,t){if(NT(t))return Me.resolve(null);let n=Ga(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mg(t,null,"F"),n=Ga(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=Yt(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.cs(t,u);return this.ls(t,f,l,d.readTime)?this.rs(e,mg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,n,i){return NT(t)||i.isEqual(yt.min())?Me.resolve(null):this.ns.getDocuments(e,n).next(a=>{const l=this.cs(t,a);return this.ls(t,l,n,i)?Me.resolve(null):(od()<=$t.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ld(t)),this.hs(e,l,t,_4(i,Lf)).next(u=>u))})}cs(e,t){let n=new Ir(gD(e));return t.forEach((i,a)=>{hv(e,a)&&(n=n.add(a))}),n}ls(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,n){return od()<=$t.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",ld(t)),this.ns.getDocumentsMatchingQuery(e,t,Jl.min(),n)}hs(e,t,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="LocalStore",Z3=3e8;class J3{constructor(e,t,n,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new nr(Mt),this.Is=new cu(a=>Z0(a),J0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ej(r,e,t,n){return new J3(r,e,t,n)}async function VD(r,e){const t=wt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],u=[];let d=Yt();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(n,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function tj(r,e){const t=wt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,f,p){const g=f.batch,v=g.keys();let b=Me.resolve();return v.forEach(E=>{b=b.next(()=>p.getEntry(d,E)).next(R=>{const D=f.docVersions.get(E);wn(D!==null),R.version.compareTo(D)<0&&(g.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=Yt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function FD(r){const e=wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function nj(r,e){const t=wt(r),n=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((p,g)=>{const v=i.get(g);if(!v)return;u.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,g)));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(hi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),i=i.insert(g,b),function(R,D,k){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Z3?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,b,p)&&u.push(t.Hr.updateTargetData(a,b))});let d=Yo(),f=Yt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(rj(a,l,e.documentUpdates).next(p=>{d=p.Vs,f=p.fs})),!n.isEqual(yt.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(g=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return Me.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.Ts=i,a))}function rj(r,e,t){let n=Yt(),i=Yt();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=Yo();return t.forEach((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(yt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ge(ub,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function ij(r,e){const t=wt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=K0),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function sj(r,e){const t=wt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Hr.getTargetData(n,e).next(a=>a?(i=a,Me.resolve(i)):t.Hr.allocateTargetId(n).next(l=>(i=new Hl(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function s0(r,e,t){const n=wt(r),i=n.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Gd(l))throw l;Ge(ub,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function WT(r,e,t){const n=wt(r);let i=yt.min(),a=Yt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const g=wt(d),v=g.Is.get(p);return v!==void 0?Me.resolve(g.Ts.get(v)):g.Hr.getTargetData(f,p)}(n,l,Ga(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?i:yt.min(),t?a:Yt())).next(u=>(aj(n,$4(e),u),{documents:u,gs:a})))}function aj(r,e,t){let n=r.Es.get(e)||yt.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Es.set(e,n)}class QT{constructor(){this.activeTargetIds=X4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oj{constructor(){this.ho=new QT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new QT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="ConnectivityMonitor";class XT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ge(KT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ge(KT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em=null;function a0(){return Em===null?Em=function(){return 268435456+Math.round(2147483648*Math.random())}():Em++,"0x"+Em.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="RestConnection",cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===hg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,t,n,i,a){const l=a0(),u=this.bo(e,t.toUriEncodedString());Ge(p_,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,a),this.vo(e,u,d,n).then(f=>(Ge(p_,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Cd(p_,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",n),f})}Co(e,t,n,i,a,l){return this.So(e,t,n,i,a)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const n=cj[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="WebChannelConnection";class hj extends uj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,i){const a=a0();return new Promise((l,u)=>{const d=new $A;d.setWithCredentials(!0),d.listenOnce(YA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bm.NO_ERROR:const p=d.getResponseJson();Ge(yi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Bm.TIMEOUT:Ge(yi,`RPC '${e}' ${a} timed out`),u(new Ve(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const g=d.getStatus();if(Ge(yi,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const E=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(k)>=0?k:Se.UNKNOWN}(b.status);u(new Ve(E,b.message))}else u(new Ve(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Ve(Se.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ge(yi,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ge(yi,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",f,n,15)})}Wo(e,t,n){const i=a0(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QA(),u=WA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Ge(yi,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);let v=!1,b=!1;const E=new dj({Fo:D=>{b?Ge(yi,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(v||(Ge(yi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ge(yi,`RPC '${e}' stream ${i} sending:`,D),g.send(D))},Mo:()=>g.close()}),R=(D,k,Y)=>{D.listen(k,$=>{try{Y($)}catch(z){setTimeout(()=>{throw z},0)}})};return R(g,vf.EventType.OPEN,()=>{b||(Ge(yi,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),R(g,vf.EventType.CLOSE,()=>{b||(b=!0,Ge(yi,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),R(g,vf.EventType.ERROR,D=>{b||(b=!0,Cd(yi,`RPC '${e}' stream ${i} transport errored:`,D),E.Uo(new Ve(Se.UNAVAILABLE,"The operation could not be completed")))}),R(g,vf.EventType.MESSAGE,D=>{var k;if(!b){const Y=D.data[0];wn(!!Y);const $=Y,z=($==null?void 0:$.error)||((k=$[0])===null||k===void 0?void 0:k.error);if(z){Ge(yi,`RPC '${e}' stream ${i} received error:`,z);const G=z.status;let H=function(C){const I=Sr[C];if(I!==void 0)return AD(I)}(G),N=z.message;H===void 0&&(H=Se.INTERNAL,N="Unknown error status: "+G+" with message "+z.message),b=!0,E.Uo(new Ve(H,N)),g.close()}else Ge(yi,`RPC '${e}' stream ${i} received:`,Y),E.Ko(Y)}}),R(u,GA.STAT_EVENT,D=>{D.stat===W_.PROXY?Ge(yi,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===W_.NOPROXY&&Ge(yi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function m_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){return new g3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-n);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="PersistentStream";class zD{constructor(e,t,n,i,a,l,u,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BD(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?($o(t.toString()),$o("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===t&&this.V_(n,i)},n=>{e(()=>{const i=new Ve(Se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ge(ZT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ge(ZT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fj extends zD{constructor(e,t,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=_3(this.serializer,e),n=function(a){if(!("targetChange"in a))return yt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?yt.min():l.readTime?Wa(l.readTime):yt.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=i0(this.serializer),t.addTarget=function(a,l){let u;const d=l.target;if(u=J_(d)?{documents:E3(a,d)}:{query:T3(a,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=MD(a,l.resumeToken);const f=t0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(yt.min())>0){u.readTime=vg(a,l.snapshotVersion.toTimestamp());const f=t0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=C3(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=i0(this.serializer),t.removeTarget=e,this.I_(t)}}class pj extends zD{constructor(e,t,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return wn(!!e.streamToken),this.lastStreamToken=e.streamToken,wn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=w3(e.writeResults,e.commitTime),n=Wa(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=i0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>b3(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{}class gj extends mj{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,n0(t,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(Se.UNKNOWN,a.toString())})}Co(e,t,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,n0(t,n),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(Se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($o(t),this.N_=!1):Ge("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="RemoteStore";class yj{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{n.enqueueAndForget(async()=>{uu(this)&&(Ge(eu,"Restarting streams for network reachability change."),await async function(d){const f=wt(d);f.W_.add(4),await rp(f),f.j_.set("Unknown"),f.W_.delete(4),await vv(f)}(this))})}),this.j_=new vj(n,i)}}async function vv(r){if(uu(r))for(const e of r.G_)await e(!0)}async function rp(r){for(const e of r.G_)await e(!1)}function HD(r,e){const t=wt(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),pb(t)?fb(t):Wd(t).c_()&&hb(t,e))}function db(r,e){const t=wt(r),n=Wd(t);t.K_.delete(e),n.c_()&&qD(t,e),t.K_.size===0&&(n.c_()?n.P_():uu(t)&&t.j_.set("Unknown"))}function hb(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wd(r).y_(e)}function qD(r,e){r.H_.Ne(e),Wd(r).w_(e)}function fb(r){r.H_=new h3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Wd(r).start(),r.j_.B_()}function pb(r){return uu(r)&&!Wd(r).u_()&&r.K_.size>0}function uu(r){return wt(r).W_.size===0}function $D(r){r.H_=void 0}async function _j(r){r.j_.set("Online")}async function bj(r){r.K_.forEach((e,t)=>{hb(r,e)})}async function wj(r,e){$D(r),pb(r)?(r.j_.q_(e),fb(r)):r.j_.set("Unknown")}async function Ej(r,e,t){if(r.j_.set("Online"),e instanceof RD&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.K_.delete(u),i.H_.removeTarget(u))}(r,e)}catch(n){Ge(eu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _g(r,n)}else if(e instanceof $m?r.H_.We(e):e instanceof DD?r.H_.Ze(e):r.H_.je(e),!t.isEqual(yt.min()))try{const n=await FD(r.localStore);t.compareTo(n)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(hi.EMPTY_BYTE_STRING,p.snapshotVersion)),qD(a,d);const g=new Hl(p.target,d,f,p.sequenceNumber);hb(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){Ge(eu,"Failed to raise snapshot:",n),await _g(r,n)}}async function _g(r,e,t){if(!Gd(e))throw e;r.W_.add(1),await rp(r),r.j_.set("Offline"),t||(t=()=>FD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ge(eu,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await vv(r)})}function YD(r,e){return e().catch(t=>_g(r,t,e))}async function yv(r){const e=wt(r),t=rc(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:K0;for(;Tj(e);)try{const i=await ij(e.localStore,n);if(i===null){e.U_.length===0&&t.P_();break}n=i.batchId,Sj(e,i)}catch(i){await _g(e,i)}GD(e)&&WD(e)}function Tj(r){return uu(r)&&r.U_.length<10}function Sj(r,e){r.U_.push(e);const t=rc(r);t.c_()&&t.S_&&t.b_(e.mutations)}function GD(r){return uu(r)&&!rc(r).u_()&&r.U_.length>0}function WD(r){rc(r).start()}async function Cj(r){rc(r).C_()}async function xj(r){const e=rc(r);for(const t of r.U_)e.b_(t.mutations)}async function Aj(r,e,t){const n=r.U_.shift(),i=ib.from(n,e,t);await YD(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await yv(r)}async function Dj(r,e){e&&rc(r).S_&&await async function(n,i){if(function(l){return u3(l)&&l!==Se.ABORTED}(i.code)){const a=n.U_.shift();rc(n).h_(),await YD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await yv(n)}}(r,e),GD(r)&&WD(r)}async function JT(r,e){const t=wt(r);t.asyncQueue.verifyOperationInProgress(),Ge(eu,"RemoteStore received new credentials");const n=uu(t);t.W_.add(3),await rp(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await vv(t)}async function Rj(r,e){const t=wt(r);e?(t.W_.delete(2),await vv(t)):e||(t.W_.add(2),await rp(t),t.j_.set("Unknown"))}function Wd(r){return r.J_||(r.J_=function(t,n,i){const a=wt(t);return a.M_(),new fj(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:_j.bind(null,r),No:bj.bind(null,r),Lo:wj.bind(null,r),p_:Ej.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),pb(r)?fb(r):r.j_.set("Unknown")):(await r.J_.stop(),$D(r))})),r.J_}function rc(r){return r.Y_||(r.Y_=function(t,n,i){const a=wt(t);return a.M_(),new pj(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Cj.bind(null,r),Lo:Dj.bind(null,r),D_:xj.bind(null,r),v_:Aj.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await yv(r)):(await r.Y_.stop(),r.U_.length>0&&(Ge(eu,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const l=Date.now()+n,u=new mb(e,t,l,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gb(r,e){if($o("AsyncQueue",`${e}: ${r}`),Gd(r))return new Ve(Se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static emptySet(e){return new bd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||rt.comparator(t.key,n.key):(t,n)=>rt.comparator(t.key,n.key),this.keyedMap=yf(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new bd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Z_=new nr(rt.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class kd{constructor(e,t,n,i,a,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new kd(e,t,bd.emptySet(t),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class kj{constructor(){this.queries=tS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const i=wt(t),a=i.queries;i.queries=tS(),a.forEach((l,u)=>{for(const d of u.ta)d.onError(n)})})(this,new Ve(Se.ABORTED,"Firestore shutting down"))}}function tS(){return new cu(r=>mD(r),dv)}async function QD(r,e){const t=wt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(n=2):(a=new Mj,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=gb(l,`Initialization of query '${ld(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&vb(t)}async function KD(r,e){const t=wt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Ij(r,e){const t=wt(r);let n=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(i)&&(n=!0);l.ea=i}}n&&vb(t)}function Lj(r,e,t){const n=wt(r),i=n.queries.get(e);if(i)for(const a of i.ta)a.onError(t);n.queries.delete(e)}function vb(r){r.ia.forEach(e=>{e.next()})}var o0,nS;(nS=o0||(o0={}))._a="default",nS.Cache="cache";class XD{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new kd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.key=e}}class JD{constructor(e){this.key=e}}class Oj{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=gD(e),this.wa=new bd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new eS,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const v=i.get(p),b=hv(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;v&&b?v.data.isEqual(b.data)?E!==R&&(n.track({type:3,doc:b}),D=!0):this.va(v,b)||(n.track({type:2,doc:b}),D=!0,(d&&this.ya(b,d)>0||f&&this.ya(b,f)<0)&&(u=!0)):!v&&b?(n.track({type:0,doc:b}),D=!0):v&&!b&&(n.track({type:1,doc:v}),D=!0,(d||f)&&(u=!0)),D&&(b?(l=l.add(b),a=R?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,g)=>function(b,E){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return R(b)-R(E)}(p.type,g.type)||this.ya(p.doc,g.doc)),this.Ca(n),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new kd(this.query,e.wa,a,l,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new JD(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new ZD(n))}),t}Oa(e){this.fa=e.gs,this.pa=Yt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return kd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yb="SyncEngine";class Nj{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pj{constructor(e){this.key=e,this.Ba=!1}}class jj{constructor(e,t,n,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new cu(u=>mD(u),dv),this.qa=new Map,this.Qa=new Set,this.$a=new nr(rt.comparator),this.Ua=new Map,this.Ka=new ob,this.Wa={},this.Ga=new Map,this.za=Md.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Uj(r,e,t=!0){const n=sR(r);let i;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await eR(n,e,t,!0),i}async function Vj(r,e){const t=sR(r);await eR(t,e,!0,!1)}async function eR(r,e,t,n){const i=await sj(r.localStore,Ga(e)),a=i.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let u;return n&&(u=await Fj(r,e,a,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&HD(r.remoteStore,i),u}async function Fj(r,e,t,n,i){r.Ha=(g,v,b)=>async function(R,D,k,Y){let $=D.view.ba(k);$.ls&&($=await WT(R.localStore,D.query,!1).then(({documents:N})=>D.view.ba(N,$)));const z=Y&&Y.targetChanges.get(D.targetId),G=Y&&Y.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges($,R.isPrimaryClient,z,G);return iS(R,D.targetId,H.Ma),H.snapshot}(r,g,v,b);const a=await WT(r.localStore,e,!0),l=new Oj(e,a.gs),u=l.ba(a.documents),d=np.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),f=l.applyChanges(u,r.isPrimaryClient,d);iS(r,t,f.Ma);const p=new Nj(e,t,l);return r.ka.set(e,p),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),f.snapshot}async function Bj(r,e,t){const n=wt(r),i=n.ka.get(e),a=n.qa.get(i.targetId);if(a.length>1)return n.qa.set(i.targetId,a.filter(l=>!dv(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await s0(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&db(n.remoteStore,i.targetId),l0(n,i.targetId)}).catch(Yd)):(l0(n,i.targetId),await s0(n.localStore,i.targetId,!0))}async function zj(r,e){const t=wt(r),n=t.ka.get(e),i=t.qa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),db(t.remoteStore,n.targetId))}async function Hj(r,e,t){const n=Kj(r);try{const i=await function(l,u){const d=wt(l),f=ur.now(),p=u.reduce((b,E)=>b.add(E.key),Yt());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=Yo(),R=Yt();return d.ds.getEntries(b,p).next(D=>{E=D,E.forEach((k,Y)=>{Y.isValidDocument()||(R=R.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,E)).next(D=>{g=D;const k=[];for(const Y of u){const $=s3(Y,g.get(Y.key).overlayedDocument);$!=null&&k.push(new uc(Y.key,$,lD($.value.mapValue),Ys.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,k,u)}).next(D=>{v=D;const k=D.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(b,D.batchId,k)})}).then(()=>({batchId:v.batchId,changes:yD(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new nr(Mt)),f=f.insert(u,d),l.Wa[l.currentUser.toKey()]=f}(n,i.batchId,t),await ip(n,i.changes),await yv(n.remoteStore)}catch(i){const a=gb(i,"Failed to persist write");t.reject(a)}}async function tR(r,e){const t=wt(r);try{const n=await nj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ua.get(a);l&&(wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?wn(l.Ba):i.removedDocuments.size>0&&(wn(l.Ba),l.Ba=!1))}),await ip(t,n,e)}catch(n){await Yd(n)}}function rS(r,e,t){const n=wt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=wt(l);d.onlineState=u;let f=!1;d.queries.forEach((p,g)=>{for(const v of g.ta)v.sa(u)&&(f=!0)}),f&&vb(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qj(r,e,t){const n=wt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ua.get(e),a=i&&i.key;if(a){let l=new nr(rt.comparator);l=l.insert(a,wi.newNoDocument(a,yt.min()));const u=Yt().add(a),d=new mv(yt.min(),new Map,new nr(Mt),l,u);await tR(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),_b(n)}else await s0(n.localStore,e,!1).then(()=>l0(n,e,t)).catch(Yd)}async function $j(r,e){const t=wt(r),n=e.batch.batchId;try{const i=await tj(t.localStore,e);rR(t,n,null),nR(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await ip(t,i)}catch(i){await Yd(i)}}async function Yj(r,e,t){const n=wt(r);try{const i=await function(l,u){const d=wt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next(g=>(wn(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(n.localStore,e);rR(n,e,t),nR(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await ip(n,i)}catch(i){await Yd(i)}}function nR(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function rR(r,e,t){const n=wt(r);let i=n.Wa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function l0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||iR(r,n)})}function iR(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(db(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),_b(r))}function iS(r,e,t){for(const n of t)n instanceof ZD?(r.Ka.addReference(n.key,e),Gj(r,n)):n instanceof JD?(Ge(yb,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||iR(r,n.key)):ft()}function Gj(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(Ge(yb,"New document in limbo: "+t),r.Qa.add(n),_b(r))}function _b(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new rt(Bn.fromString(e)),n=r.za.next();r.Ua.set(n,new Pj(t)),r.$a=r.$a.insert(t,n),HD(r.remoteStore,new Hl(Ga(eb(t.path)),n,"TargetPurposeLimboResolution",ov.ae))}}async function ip(r,e,t){const n=wt(r),i=[],a=[],l=[];n.ka.isEmpty()||(n.ka.forEach((u,d)=>{l.push(n.Ha(d,e,t).then(f=>{var p;if((f||t)&&n.isPrimaryClient){const g=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=cb.Yi(d.targetId,f);a.push(g)}}))}),await Promise.all(l),n.La.p_(i),await async function(d,f){const p=wt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Me.forEach(f,v=>Me.forEach(v.Hi,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>Me.forEach(v.Ji,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!Gd(g))throw g;Ge(ub,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const b=p.Ts.get(v),E=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(E);p.Ts=p.Ts.insert(v,R)}}}(n.localStore,a))}async function Wj(r,e){const t=wt(r);if(!t.currentUser.isEqual(e)){Ge(yb,"User change. New user:",e.toKey());const n=await VD(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(d=>{d.reject(new Ve(Se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ip(t,n.Rs)}}function Qj(r,e){const t=wt(r),n=t.Ua.get(e);if(n&&n.Ba)return Yt().add(n.key);{let i=Yt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function sR(r){const e=wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qj.bind(null,e),e.La.p_=Ij.bind(null,e.eventManager),e.La.Ja=Lj.bind(null,e.eventManager),e}function Kj(r){const e=wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yj.bind(null,e),e}class bg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ej(this.persistence,new X3,e.initialUser,this.serializer)}Xa(e){return new UD(lb.ri,this.serializer)}Za(e){return new oj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bg.provider={build:()=>new bg};class Xj extends bg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){wn(this.persistence.referenceDelegate instanceof yg);const n=this.persistence.referenceDelegate.garbageCollector;return new P3(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new UD(n=>yg.ri(n,t),this.serializer)}}class c0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wj.bind(null,this.syncEngine),await Rj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kj}()}createDatastore(e){const t=gv(e.databaseInfo.databaseId),n=function(a){return new hj(a)}(e.databaseInfo);return function(a,l,u,d){return new gj(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,l,u){return new yj(n,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>rS(this.syncEngine,t,0),function(){return XT.D()?new XT:new lj}())}createSyncEngine(e,t){return function(i,a,l,u,d,f,p){const g=new jj(i,a,l,u,d,f);return p&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=wt(i);Ge(eu,"RemoteStore shutting down."),a.W_.add(5),await rp(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}c0.provider={build:()=>new c0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$o("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="FirestoreClient";class Zj{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=bi.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{Ge(ic,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ge(ic,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gb(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function g_(r,e){r.asyncQueue.verifyOperationInProgress(),Ge(ic,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await VD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sS(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Jj(r);Ge(ic,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>JT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>JT(e.remoteStore,i)),r._onlineComponents=e}async function Jj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ge(ic,"Using user provided OfflineComponentProvider");try{await g_(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cd("Error using user provided cache. Falling back to memory cache: "+t),await g_(r,new bg)}}else Ge(ic,"Using default OfflineComponentProvider"),await g_(r,new Xj(void 0));return r._offlineComponents}async function oR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ge(ic,"Using user provided OnlineComponentProvider"),await sS(r,r._uninitializedComponentsProvider._online)):(Ge(ic,"Using default OnlineComponentProvider"),await sS(r,new c0))),r._onlineComponents}function eU(r){return oR(r).then(e=>e.syncEngine)}async function lR(r){const e=await oR(r),t=e.eventManager;return t.onListen=Uj.bind(null,e.syncEngine),t.onUnlisten=Bj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Vj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zj.bind(null,e.syncEngine),t}function tU(r,e,t={}){const n=new No;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,f){const p=new aR({next:v=>{p.su(),l.enqueueAndForget(()=>KD(a,g));const b=v.docs.has(u);!b&&v.fromCache?f.reject(new Ve(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new Ve(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new XD(eb(u.path),p,{includeMetadataChanges:!0,Ta:!0});return QD(a,g)}(await lR(r),r.asyncQueue,e,t,n)),n.promise}function nU(r,e,t={}){const n=new No;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,f){const p=new aR({next:v=>{p.su(),l.enqueueAndForget(()=>KD(a,g)),v.fromCache&&d.source==="server"?f.reject(new Ve(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new XD(u,p,{includeMetadataChanges:!0,Ta:!0});return QD(a,g)}(await lR(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r,e,t){if(!t)throw new Ve(Se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rU(r,e,t,n){if(e===!0&&n===!0)throw new Ve(Se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function oS(r){if(!rt.isDocumentKey(r))throw new Ve(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lS(r){if(rt.isDocumentKey(r))throw new Ve(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _v(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ft()}function ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ve(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_v(r);throw new Ve(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firestore.googleapis.com",cS=!0;class uS{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=cS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O3)throw new Ve(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cR((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new u4;switch(n.type){case"firstParty":return new p4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=aS.get(t);n&&(Ge("ComponentProvider","Removing Datastore"),aS.delete(t),n.terminate())}(this),Promise.resolve()}}function iU(r,e,t,n={}){var i;const a=(r=ba(r,bv))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:r._getEmulatorOptions()}),u=`${e}:${t}`;a.host!==dR&&a.host!==u&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:n});if(!Xc(d,l)&&(r._setSettings(d),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=bi.MOCK_USER;else{f=iA(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new Ve(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new bi(g)}r._authCredentials=new d4(new KA(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Ui{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ql extends Qo{constructor(e,t,n){super(e,t,eb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new rt(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function Hs(r,e,...t){if(r=Nn(r),uR("collection","path",e),r instanceof bv){const n=Bn.fromString(e,...t);return lS(n),new Ql(r,null,n)}{if(!(r instanceof Ui||r instanceof Ql))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Bn.fromString(e,...t));return lS(n),new Ql(r.firestore,null,n)}}function Yc(r,e,...t){if(r=Nn(r),arguments.length===1&&(e=ZA.newId()),uR("doc","path",e),r instanceof bv){const n=Bn.fromString(e,...t);return oS(n),new Ui(r,null,new rt(n))}{if(!(r instanceof Ui||r instanceof Ql))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Bn.fromString(e,...t));return oS(n),new Ui(r.firestore,r instanceof Ql?r.converter:null,new rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="AsyncQueue";class hS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BD(this,"async_queue_retry"),this.Su=()=>{const n=m_();n&&Ge(dS,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=m_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=m_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new No;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Gd(e))throw e;Ge(dS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw $o("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=mb.createAndSchedule(this,e,t,n,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class du extends bv{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new hS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hS(e),this._firestoreClient=void 0,await e}}}function sU(r,e){const t=typeof r=="object"?r:nv(),n=typeof r=="string"?r:hg,i=Xf(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=j0("firestore");a&&iU(i,...a)}return i}function bb(r){if(r._terminated)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aU(r),r._firestoreClient}function aU(r){var e,t,n;const i=r._freezeSettings(),a=function(u,d,f,p){return new R4(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cR(p.experimentalLongPollingOptions),p.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new Zj(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Id(hi.fromBase64String(e))}catch(t){throw new Ve(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Id(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ve(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=/^__.*__$/;class lU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new tp(e,this.data,t,this.fieldTransforms)}}class hR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fR(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Eb{constructor(e,t,n,i,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return wg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fR(this.Lu)&&oU.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gv(e)}ju(e,t,n,i=!1){return new Eb({Lu:e,methodName:t,zu:n,path:ui.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sp(r){const e=r._freezeSettings(),t=gv(r._databaseId);return new cU(r._databaseId,!!e.ignoreUndefinedProperties,t)}function pR(r,e,t,n,i,a={}){const l=r.ju(a.merge||a.mergeFields?2:0,e,t,i);Sb("Data must be an object, but it was:",l,n);const u=gR(n,l);let d,f;if(a.merge)d=new ys(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=u0(e,g,t);if(!l.contains(v))throw new Ve(Se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);yR(p,v)||p.push(v)}d=new ys(p),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new lU(new ns(u),d,f)}class Sv extends Ev{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sv}}class Tb extends Ev{_toFieldTransform(e){return new t3(e.path,new Uf)}isEqual(e){return e instanceof Tb}}function uU(r,e,t,n){const i=r.ju(1,e,t);Sb("Data must be an object, but it was:",i,n);const a=[],l=ns.empty();cc(n,(d,f)=>{const p=Cb(e,d,t);f=Nn(f);const g=i.Uu(p);if(f instanceof Sv)a.push(p);else{const v=ap(f,g);v!=null&&(a.push(p),l.set(p,v))}});const u=new ys(a);return new hR(l,u,i.fieldTransforms)}function dU(r,e,t,n,i,a){const l=r.ju(1,e,t),u=[u0(e,n,t)],d=[i];if(a.length%2!=0)throw new Ve(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(u0(e,a[v])),d.push(a[v+1]);const f=[],p=ns.empty();for(let v=u.length-1;v>=0;--v)if(!yR(f,u[v])){const b=u[v];let E=d[v];E=Nn(E);const R=l.Uu(b);if(E instanceof Sv)f.push(b);else{const D=ap(E,R);D!=null&&(f.push(b),p.set(b,D))}}const g=new ys(f);return new hR(p,g,l.fieldTransforms)}function mR(r,e,t,n=!1){return ap(t,r.ju(n?4:3,e))}function ap(r,e){if(vR(r=Nn(r)))return Sb("Unsupported field value:",e,r),gR(r,e);if(r instanceof Ev)return function(n,i){if(!fR(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const u of n){let d=ap(u,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Z4(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ur.fromDate(n);return{timestampValue:vg(i.serializer,a)}}if(n instanceof ur){const a=new ur(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vg(i.serializer,a)}}if(n instanceof Tv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Id)return{bytesValue:MD(i.serializer,n._byteString)};if(n instanceof Ui){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ab(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof wb)return function(l,u){return{mapValue:{fields:{[aD]:{stringValue:oD},[fg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return nb(u.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${_v(n)}`)}(r,e)}function gR(r,e){const t={};return eD(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(r,(n,i)=>{const a=ap(i,e.qu(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function vR(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ur||r instanceof Tv||r instanceof Id||r instanceof Ui||r instanceof Ev||r instanceof wb)}function Sb(r,e,t){if(!vR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=_v(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function u0(r,e,t){if((e=Nn(e))instanceof wv)return e._internalPath;if(typeof e=="string")return Cb(r,e);throw wg("Field path arguments must be of type string or ",r,!1,void 0,t)}const hU=new RegExp("[~\\*/\\[\\]]");function Cb(r,e,t){if(e.search(hU)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wv(...e.split("."))._internalPath}catch{throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wg(r,e,t,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Ve(Se.INVALID_ARGUMENT,u+r+d)}function yR(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fU extends xb{data(){return super.data()}}function Cv(r,e){return typeof e=="string"?Cb(r,e):e instanceof wv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ve(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ab{}class xv extends Ab{}function fa(r,e,...t){let n=[];e instanceof Ab&&n.push(e),n=n.concat(t),function(a){const l=a.filter(d=>d instanceof Db).length,u=a.filter(d=>d instanceof Av).length;if(l>1||l>0&&u>0)throw new Ve(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Av extends xv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Av(e,t,n)}_apply(e){const t=this._parse(e);return _R(e._query,t),new Qo(e.firestore,e.converter,e0(e._query,t))}_parse(e){const t=sp(e.firestore);return function(a,l,u,d,f,p,g){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mS(g,p);const E=[];for(const R of g)E.push(pS(d,a,R));v={arrayValue:{values:E}}}else v=pS(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mS(g,p),v=mR(u,l,g,p==="in"||p==="not-in");return Cr.create(f,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zi(r,e,t){const n=e,i=Cv("where",r);return Av._create(i,n,t)}class Db extends Ab{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Db(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:_a.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)_R(l,d),l=e0(l,d)}(e._query,t),new Qo(e.firestore,e.converter,e0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rb extends xv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rb(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jf(a,l)}(e._query,this._field,this._direction);return new Qo(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new lu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Eg(r,e="asc"){const t=e,n=Cv("orderBy",r);return Rb._create(n,t)}class Mb extends xv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Mb(e,t,n)}_apply(e){return new Qo(e.firestore,e.converter,mg(e._query,this._limit,this._limitType))}}function fS(r){return Mb._create("limit",r,"F")}class kb extends xv{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new kb(e,t,n)}_apply(e){const t=gU(e,this.type,this._docOrFields,this._inclusive);return new Qo(e.firestore,e.converter,function(i,a){return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,t))}}function mU(...r){return kb._create("startAfter",r,!1)}function gU(r,e,t,n){if(t[0]=Nn(t[0]),t[0]instanceof xb)return function(a,l,u,d,f){if(!d)throw new Ve(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const p=[];for(const g of _d(a))if(g.field.isKeyField())p.push(pg(l,d.key));else{const v=d.data.field(g.field);if(cv(v))throw new Ve(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=g.field.canonicalString();throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(v)}return new Rd(p,f)}(r._query,r.firestore._databaseId,e,t[0]._document,n);{const i=sp(r.firestore);return function(l,u,d,f,p,g){const v=l.explicitOrderBy;if(p.length>v.length)throw new Ve(Se.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let E=0;E<p.length;E++){const R=p[E];if(v[E].field.isKeyField()){if(typeof R!="string")throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!tb(l)&&R.indexOf("/")!==-1)throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const D=l.path.child(Bn.fromString(R));if(!rt.isDocumentKey(D))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const k=new rt(D);b.push(pg(u,k))}else{const D=mR(d,f,R);b.push(D)}}return new Rd(b,g)}(r._query,r.firestore._databaseId,i,e,t,n)}}function pS(r,e,t){if(typeof(t=Nn(t))=="string"){if(t==="")throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&t.indexOf("/")!==-1)throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Bn.fromString(t));if(!rt.isDocumentKey(n))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return pg(r,new rt(n))}if(t instanceof Ui)return pg(r,t._key);throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_v(t)}.`)}function mS(r,e){if(!Array.isArray(r)||r.length===0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _R(r,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ve(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ve(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vU{convertValue(e,t="none"){switch(nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return cc(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[fg].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>vr(l.doubleValue));return new wb(a)}convertGeoPoint(e){return new Tv(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=uv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const t=ec(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bn.fromString(e);wn(PD(n));const i=new Nf(n.get(1),n.get(3)),a=new rt(n.popFirst(5));return i.isEqual(t)||$o(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wR extends xb{constructor(e,t,n,i,a,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Cv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ym extends wR{data(e={}){return super.data(e)}}class yU{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ym(this._firestore,this._userDataWriter,n.key,n,new bf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Ym(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new Ym(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:_U(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _U(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){r=ba(r,Ui);const e=ba(r.firestore,du);return tU(bb(e),r._key).then(t=>wU(e,r,t))}class ER extends vU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Id(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}function pa(r){r=ba(r,Qo);const e=ba(r.firestore,du),t=bb(e),n=new ER(e);return pU(r._query),nU(t,r._query).then(i=>new yU(e,n,r,i))}function v_(r,e,t){r=ba(r,Ui);const n=ba(r.firestore,du),i=bR(r.converter,e,t);return Dv(n,[pR(sp(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Ys.none())])}function Gm(r,e,t,...n){r=ba(r,Ui);const i=ba(r.firestore,du),a=sp(i);let l;return l=typeof(e=Nn(e))=="string"||e instanceof wv?dU(a,"updateDoc",r._key,e,t,n):uU(a,"updateDoc",r._key,e),Dv(i,[l.toMutation(r._key,Ys.exists(!0))])}function bU(r){return Dv(ba(r.firestore,du),[new rb(r._key,Ys.none())])}function h0(r,e){const t=ba(r.firestore,du),n=Yc(r),i=bR(r.converter,e);return Dv(t,[pR(sp(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Ys.exists(!1))]).then(()=>n)}function Dv(r,e){return function(n,i){const a=new No;return n.asyncQueue.enqueueAndForget(async()=>Hj(await eU(n),i,a)),a.promise}(bb(r),e)}function wU(r,e,t){const n=t.docs.get(e._key),i=new ER(r);return new wR(r,i,e._key,n,new bf(t.hasPendingWrites,t.fromCache),e.converter)}function af(){return new Tb("serverTimestamp")}(function(e,t=!0){(function(i){$d=i})(au),Zl(new zo("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new du(new h4(n.getProvider("auth-internal")),new m4(l,n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(f.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),$s(yT,_T,e),$s(yT,_T,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebasestorage.googleapis.com",SR="storageBucket",EU=2*60*1e3,TU=10*60*1e3,SU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Ja{constructor(e,t,n=0){super(y_(e),`Firebase Storage: ${t} (${y_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yn||(Yn={}));function y_(r){return"storage/"+r}function Ib(){const r="An unknown error occurred, please check the error payload for server response.";return new rr(Yn.UNKNOWN,r)}function CU(r){return new rr(Yn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xU(r){return new rr(Yn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AU(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rr(Yn.UNAUTHENTICATED,r)}function DU(){return new rr(Yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RU(r){return new rr(Yn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function CR(){return new rr(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xR(){return new rr(Yn.CANCELED,"User canceled the upload/download.")}function MU(r){return new rr(Yn.INVALID_URL,"Invalid URL '"+r+"'.")}function kU(r){return new rr(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function IU(){return new rr(Yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SR+"' property when initializing the app?")}function AR(){return new rr(Yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LU(){return new rr(Yn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function OU(){return new rr(Yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NU(r){return new rr(Yn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function f0(r){return new rr(Yn.INVALID_ARGUMENT,r)}function DR(){return new rr(Yn.APP_DELETED,"The Firebase app was deleted.")}function PU(r){return new rr(Yn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Af(r,e){return new rr(Yn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function of(r){throw new rr(Yn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ni.makeFromUrl(e,t)}catch{return new Ni(e,"")}if(n.path==="")return n;throw kU(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${v}`,"i"),E={bucket:1,path:3},R=t===TR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",k=new RegExp(`^https?://${R}/${i}/${D}`,"i"),$=[{regex:u,indices:d,postModify:a},{regex:b,indices:E,postModify:f},{regex:k,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<$.length;z++){const G=$[z],H=G.regex.exec(e);if(H){const N=H[G.indices.bucket];let x=H[G.indices.path];x||(x=""),n=new Ni(N,x),G.postModify(n);break}}if(n==null)throw MU(e);return n}}class jU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(r,e,t){let n=1,i=null,a=null,l=!1,u=0;function d(){return u===2}let f=!1;function p(...D){f||(f=!0,e.apply(null,D))}function g(D){i=setTimeout(()=>{i=null,r(b,d())},D)}function v(){a&&clearTimeout(a)}function b(D,...k){if(f){v();return}if(D){v(),p.call(null,D,...k);return}if(d()||l){v(),p.call(null,D,...k);return}n<64&&(n*=2);let $;u===1?(u=2,$=0):$=(n+Math.random())*1e3,g($)}let E=!1;function R(D){E||(E=!0,v(),!f&&(i!==null?(D||(u=2),clearTimeout(i),g(0)):D||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,R(!0)},t),R}function VU(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(r){return r!==void 0}function BU(r){return typeof r=="function"}function zU(r){return typeof r=="object"&&!Array.isArray(r)}function Rv(r){return typeof r=="string"||r instanceof String}function gS(r){return Lb()&&r instanceof Blob}function Lb(){return typeof Blob<"u"}function p0(r,e,t,n){if(n<e)throw f0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw f0(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function RR(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var Gc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Gc||(Gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,n,i,a,l,u,d,f,p,g,v=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,E)=>{this.resolve_=b,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Tm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Gc.NO_ERROR,d=a.getStatus();if(!u||MR(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Gc.ABORT;n(!1,new Tm(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new Tm(f,a))})},t=(n,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());FU(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=Ib();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?DR():xR();l(d)}else{const d=CR();l(d)}};this.canceled_?t(!1,new Tm(!1,null,!0)):this.backoffId_=UU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function qU(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function $U(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YU(r,e){e&&(r["X-Firebase-GMPID"]=e)}function GU(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function WU(r,e,t,n,i,a,l=!0){const u=RR(r.urlParams),d=r.url+u,f=Object.assign({},r.headers);return YU(f,e),qU(f,t),$U(f,a),GU(f,n),new HU(d,r.method,f,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KU(...r){const e=QU();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Lb())return new Blob(r);throw new rr(Yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XU(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(r){if(typeof atob>"u")throw NU("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class __{constructor(e,t){this.data=e,this.contentType=t||null}}function JU(r,e){switch(r){case Ha.RAW:return new __(kR(e));case Ha.BASE64:case Ha.BASE64URL:return new __(IR(r,e));case Ha.DATA_URL:return new __(tV(e),nV(e))}throw Ib()}function kR(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=r.charCodeAt(++t);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function eV(r){let e;try{e=decodeURIComponent(r)}catch{throw Af(Ha.DATA_URL,"Malformed data URL.")}return kR(e)}function IR(r,e){switch(r){case Ha.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Af(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ha.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Af(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ZU(e)}catch(i){throw i.message.includes("polyfill")?i:Af(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class LR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Af(Ha.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=rV(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function tV(r){const e=new LR(r);return e.base64?IR(Ha.BASE64,e.rest):eV(e.rest)}function nV(r){return new LR(r).contentType}function rV(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t){let n=0,i="";gS(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(gS(this.data_)){const n=this.data_,i=XU(n,e,t);return i===null?null:new Mo(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Mo(n,!0)}}static getBlob(...e){if(Lb()){const t=e.map(n=>n instanceof Mo?n.data_:n);return new Mo(KU.apply(null,t))}else{const t=e.map(l=>Rv(l)?JU(Ha.RAW,l).data:l.data_);let n=0;t.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new Mo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){let e;try{e=JSON.parse(r)}catch{return null}return zU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function sV(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function OR(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(r,e){return e}class Li{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||aV}}let Sm=null;function oV(r){return!Rv(r)||r.length<2?r:OR(r)}function Nb(){if(Sm)return Sm;const r=[];r.push(new Li("bucket")),r.push(new Li("generation")),r.push(new Li("metageneration")),r.push(new Li("name","fullPath",!0));function e(a,l){return oV(l)}const t=new Li("name");t.xform=e,r.push(t);function n(a,l){return l!==void 0?Number(l):l}const i=new Li("size");return i.xform=n,r.push(i),r.push(new Li("timeCreated")),r.push(new Li("updated")),r.push(new Li("md5Hash",null,!0)),r.push(new Li("cacheControl",null,!0)),r.push(new Li("contentDisposition",null,!0)),r.push(new Li("contentEncoding",null,!0)),r.push(new Li("contentLanguage",null,!0)),r.push(new Li("contentType",null,!0)),r.push(new Li("metadata","customMetadata",!0)),Sm=r,Sm}function lV(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Ni(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function cV(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];n[l.local]=l.xform(n,e[l.server])}return lV(n,r),n}function NR(r,e,t){const n=Ob(e);return n===null?null:cV(r,n,t)}function uV(r,e,t,n){const i=Ob(e);if(i===null||!Rv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const p=r.bucket,g=r.fullPath,v="/b/"+l(p)+"/o/"+l(g),b=hu(v,t,n),E=RR({alt:"media",token:f});return b+E})[0]}function PR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="prefixes",yS="items";function dV(r,e,t){const n={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[vS])for(const i of t[vS]){const a=i.replace(/\/$/,""),l=r._makeStorageReference(new Ni(e,a));n.prefixes.push(l)}if(t[yS])for(const i of t[yS]){const a=r._makeStorageReference(new Ni(e,i.name));n.items.push(a)}return n}function hV(r,e,t){const n=Ob(t);return n===null?null:dV(r,e,n)}class dc{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(r){if(!r)throw Ib()}function Pb(r,e){function t(n,i){const a=NR(r,i,e);return Qa(a!==null),a}return t}function fV(r,e){function t(n,i){const a=hV(r,e,i);return Qa(a!==null),a}return t}function pV(r,e){function t(n,i){const a=NR(r,i,e);return Qa(a!==null),uV(a,i,r.host,r._protocol)}return t}function Qd(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=DU():i=AU():t.getStatus()===402?i=xU(r.bucket):t.getStatus()===403?i=RU(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function jb(r){const e=Qd(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=CU(r.path)),a.serverResponse=i.serverResponse,a}return t}function mV(r,e,t){const n=e.fullServerUrl(),i=hu(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,u=new dc(i,a,Pb(r,t),l);return u.errorHandler=jb(e),u}function gV(r,e,t,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),n&&(a.pageToken=n),i&&(a.maxResults=i);const l=e.bucketOnlyServerUrl(),u=hu(l,r.host,r._protocol),d="GET",f=r.maxOperationRetryTime,p=new dc(u,d,fV(r,e.bucket),f);return p.urlParams=a,p.errorHandler=Qd(e),p}function vV(r,e,t){const n=e.fullServerUrl(),i=hu(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,u=new dc(i,a,pV(r,t),l);return u.errorHandler=jb(e),u}function yV(r,e){const t=e.fullServerUrl(),n=hu(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function l(d,f){}const u=new dc(n,i,l,a);return u.successCodes=[200,204],u.errorHandler=jb(e),u}function _V(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function jR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=_V(null,e)),n}function UR(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let $="";for(let z=0;z<2;z++)$=$+Math.random().toString().slice(2);return $}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=jR(e,n,i),p=PR(f,t),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",b=Mo.getBlob(g,n,v);if(b===null)throw AR();const E={name:f.fullPath},R=hu(a,r.host,r._protocol),D="POST",k=r.maxUploadRetryTime,Y=new dc(R,D,Pb(r,t),k);return Y.urlParams=E,Y.headers=l,Y.body=b.uploadData(),Y.errorHandler=Qd(e),Y}class Tg{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function Ub(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Qa(!1)}return Qa(!!t&&(e||["active"]).indexOf(t)!==-1),t}function bV(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l=jR(e,n,i),u={name:l.fullPath},d=hu(a,r.host,r._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},g=PR(l,t),v=r.maxUploadRetryTime;function b(R){Ub(R);let D;try{D=R.getResponseHeader("X-Goog-Upload-URL")}catch{Qa(!1)}return Qa(Rv(D)),D}const E=new dc(d,f,b,v);return E.urlParams=u,E.headers=p,E.body=g,E.errorHandler=Qd(e),E}function wV(r,e,t,n){const i={"X-Goog-Upload-Command":"query"};function a(f){const p=Ub(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qa(!1)}g||Qa(!1);const v=Number(g);return Qa(!isNaN(v)),new Tg(v,n.size(),p==="final")}const l="POST",u=r.maxUploadRetryTime,d=new dc(t,l,a,u);return d.headers=i,d.errorHandler=Qd(e),d}const _S=256*1024;function EV(r,e,t,n,i,a,l,u){const d=new Tg(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=n.size()),n.size()!==d.total)throw LU();const f=d.total-d.current;let p=f;i>0&&(p=Math.min(p,i));const g=d.current,v=g+p;let b="";p===0?b="finalize":f===p?b="upload, finalize":b="upload";const E={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${d.current}`},R=n.slice(g,v);if(R===null)throw AR();function D(z,G){const H=Ub(z,["active","final"]),N=d.current+p,x=n.size();let C;return H==="final"?C=Pb(e,a)(z,G):C=null,new Tg(N,x,H==="final",C)}const k="POST",Y=e.maxUploadRetryTime,$=new dc(t,k,D,Y);return $.headers=E,$.body=R.uploadData(),$.progressCallback=u||null,$.errorHandler=Qd(r),$}const es={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function b_(r){switch(r){case"running":case"pausing":case"canceling":return es.RUNNING;case"paused":return es.PAUSED;case"success":return es.SUCCESS;case"canceled":return es.CANCELED;case"error":return es.ERROR;default:return es.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t,n){if(BU(e)||t!=null||n!=null)this.next=e,this.error=t??void 0,this.complete=n??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class SV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i){if(this.sent_)throw of("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw of("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw of("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw of("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CV extends SV{initXhr(){this.xhr_.responseType="text"}}function ko(){return new CV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Nb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Yn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(MR(i.status,[]))if(a)i=CR();else{this.sleepTime=Math.max(this.sleepTime*2,SU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Yn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const n=bV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ko,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const i=wV(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ko,t,n);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=_S*this._chunkMultiplier,t=new Tg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=EV(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const u=this._ref.storage._makeRequest(l,ko,i,a,!1);this._request=u,u.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){_S*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=mV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,ko,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=UR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ko,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=b_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const a=new TV(t||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(b_(this._state)){case es.SUCCESS:sd(this._resolve.bind(null,this.snapshot))();break;case es.CANCELED:case es.ERROR:const t=this._reject;sd(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(b_(this._state)){case es.RUNNING:case es.PAUSED:e.next&&sd(e.next.bind(e,this.snapshot))();break;case es.SUCCESS:e.complete&&sd(e.complete.bind(e))();break;case es.CANCELED:case es.ERROR:e.error&&sd(e.error.bind(e,this._error))();break;default:e.error&&sd(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this._service=e,t instanceof Ni?this._location=t:this._location=Ni.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tu(e,t)}get root(){const e=new Ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OR(this._location.path)}get storage(){return this._service}get parent(){const e=iV(this._location.path);if(e===null)return null;const t=new Ni(this._location.bucket,e);return new tu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw PU(e)}}function AV(r,e,t){r._throwIfRoot("uploadBytes");const n=UR(r.storage,r._location,Nb(),new Mo(e,!0),t);return r.storage.makeRequestWithTokens(n,ko).then(i=>({metadata:i,ref:r}))}function DV(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new xV(r,new Mo(e),t)}function RV(r){const e={prefixes:[],items:[]};return VR(r,e).then(()=>e)}async function VR(r,e,t){const i=await MV(r,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await VR(r,e,i.nextPageToken)}function MV(r,e){e!=null&&typeof e.maxResults=="number"&&p0("options.maxResults",1,1e3,e.maxResults);const t=e||{},n=gV(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(n,ko)}function kV(r){r._throwIfRoot("getDownloadURL");const e=vV(r.storage,r._location,Nb());return r.storage.makeRequestWithTokens(e,ko).then(t=>{if(t===null)throw OU();return t})}function IV(r){r._throwIfRoot("deleteObject");const e=yV(r.storage,r._location);return r.storage.makeRequestWithTokens(e,ko)}function LV(r,e){const t=sV(r._location.path,e),n=new Ni(r._location.bucket,t);return new tu(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(r){return/^[A-Za-z]+:\/\//.test(r)}function NV(r,e){return new tu(r,e)}function FR(r,e){if(r instanceof Vb){const t=r;if(t._bucket==null)throw IU();const n=new tu(t,t._bucket);return e!=null?FR(n,e):n}else return e!==void 0?LV(r,e):r}function PV(r,e){if(e&&OV(e)){if(r instanceof Vb)return NV(r,e);throw f0("To use ref(service, url), the first argument must be a Storage instance.")}else return FR(r,e)}function bS(r,e){const t=e==null?void 0:e[SR];return t==null?null:Ni.makeFromBucketSpec(t,r)}function jV(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:iA(i,r.app.options.projectId))}class Vb{constructor(e,t,n,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EU,this._maxUploadRetryTime=TU,this._requests=new Set,i!=null?this._bucket=Ni.makeFromBucketSpec(i,this._host):this._bucket=bS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ni.makeFromBucketSpec(this._url,e):this._bucket=bS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tu(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new jU(DR());{const l=WU(e,this._appId,n,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const wS="@firebase/storage",ES="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="storage";function zR(r,e,t){return r=Nn(r),AV(r,e,t)}function UV(r,e,t){return r=Nn(r),DV(r,e,t)}function Cm(r){return r=Nn(r),RV(r)}function Fc(r){return r=Nn(r),kV(r)}function TS(r){return r=Nn(r),IV(r)}function Us(r,e){return r=Nn(r),PV(r,e)}function VV(r=nv(),e){r=Nn(r);const n=Xf(r,BR).getImmediate({identifier:e}),i=j0("storage");return i&&FV(n,...i),n}function FV(r,e,t,n={}){jV(r,e,t,n)}function BV(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Vb(t,n,i,e,au)}function zV(){Zl(new zo(BR,BV,"PUBLIC").setMultipleInstances(!0)),$s(wS,ES,""),$s(wS,ES,"esm2017")}zV();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,vs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="us-central1";class qV{constructor(e,t,n,i,a=m0,l=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new HV(e,t,n,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=m0}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function $V(r,e,t){r.emulatorOrigin=`http://${e}:${t}`}const SS="@firebase/functions",CS="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="auth-internal",GV="app-check-internal",WV="messaging-internal";function QV(r){const e=(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider(YV),l=t.getProvider(WV),u=t.getProvider(GV);return new qV(i,a,l,u,n)};Zl(new zo(HR,e,"PUBLIC").setMultipleInstances(!0)),$s(SS,CS,r),$s(SS,CS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(r=nv(),e=m0){const n=Xf(Nn(r),HR).getImmediate({identifier:e}),i=j0("functions");return i&&XV(n,...i),n}function XV(r,e,t){$V(Nn(r),e,t)}QV();const ZV={apiKey:"AIzaSyAcOv9f-14NF_b15KExdQC1h8LUZa0tSpo",authDomain:"chaaya.ai",projectId:"photoshoto-a7226",storageBucket:"photoshoto-a7226.appspot.com",messagingSenderId:"662675060225",appId:"1:662675060225:web:71903d0e60c17cebc9f200"},Mv=oA(ZV),oi=l4(Mv),ci=sU(Mv),Vs=VV(Mv);KV(Mv,"us-central1");const qR=T.createContext();function Fb(){return T.useContext(qR)}function JV({children:r}){const[e,t]=T.useState(null),[n,i]=T.useState(!0);T.useEffect(()=>LA(oi,f=>{t(f),i(!1)}),[]);const u={user:e,login:(d,f)=>WN(oi,d,f),logout:()=>XN(oi)};return S.jsx(qR.Provider,{value:u,children:!n&&r})}function e6({children:r}){const{user:e}=Fb();return e?r:S.jsx($x,{to:"/login"})}var $R={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xS=ve.createContext&&ve.createContext($R),t6=["attr","size","title"];function n6(r,e){if(r==null)return{};var t=r6(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function r6(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Sg(){return Sg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Sg.apply(this,arguments)}function AS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Cg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(t),!0).forEach(function(n){i6(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function i6(r,e,t){return e=s6(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function s6(r){var e=a6(r,"string");return typeof e=="symbol"?e:e+""}function a6(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function YR(r){return r&&r.map((e,t)=>ve.createElement(e.tag,Cg({key:t},e.attr),YR(e.child)))}function Mn(r){return e=>ve.createElement(o6,Sg({attr:Cg({},r.attr)},e),YR(r.child))}function o6(r){var e=t=>{var{attr:n,size:i,title:a}=r,l=n6(r,t6),u=i||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),ve.createElement("svg",Sg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:d,style:Cg(Cg({color:r.color||t.color},t.style),r.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&ve.createElement("title",null,a),r.children)};return xS!==void 0?ve.createElement(xS.Consumer,null,t=>e(t)):e($R)}function GR(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(r)}function l6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(r)}function DS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(r)}function c6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function u6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function d6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function h6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},child:[]}]})(r)}function f6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(r)}function p6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"},child:[]}]})(r)}function WR(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},child:[]}]})(r)}function m6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(r)}function QR(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},child:[]}]})(r)}function g6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(r)}function v6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function y6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},child:[]}]})(r)}function RS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(r)}function Bb(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},child:[]}]})(r)}function MS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(r)}function _6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"},child:[]}]})(r)}function b6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"},child:[]}]})(r)}function kS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function IS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function w6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},child:[]}]})(r)}function E6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"},child:[]}]})(r)}function LS(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"},child:[]}]})(r)}function T6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function S6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 011-1h1V6a1 1 0 012 0v1h1a1 1 0 110 2H9v1a1 1 0 11-2 0V9H6a1 1 0 01-1-1z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8zm6-4a4 4 0 100 8 4 4 0 000-8z",clipRule:"evenodd"},child:[]}]})(r)}function C6(r){return Mn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5 8a1 1 0 011-1h4a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}const x6=({isOpen:r,toggleSidebar:e})=>{const t=Wo();return S.jsxs("div",{className:`sidebar ${r?"open":""}`,children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[S.jsx(jl,{to:"/",className:"text-decoration-none",children:S.jsx("img",{src:"/dashboard_event/images/wawasensei-white.png",alt:"Chaaya.ai",style:{height:"84px",width:"auto"},className:"sidebar-logo"})}),S.jsx("button",{className:"btn d-md-none",onClick:e,children:S.jsx(T6,{})})]}),S.jsxs("div",{className:"nav flex-column nav-pills",children:[S.jsxs(jl,{to:"/",className:`nav-link ${t.pathname==="/"?"active":""}`,"data-discover":"true",children:[S.jsx(m6,{className:"me-2"}),"Dashboard"]}),S.jsxs(jl,{to:"/events",className:`nav-link ${t.pathname==="/events"?"active":""}`,"data-discover":"true",children:[S.jsx(GR,{className:"me-2"}),"Events"]}),S.jsxs(jl,{to:"/analytics",className:`nav-link ${t.pathname==="/analytics"?"active":""}`,"data-discover":"true",children:[S.jsx(l6,{className:"me-2"}),"Analytics"]}),S.jsxs(jl,{to:"/attendees",className:`nav-link ${t.pathname==="/attendees"?"active":""}`,"data-discover":"true",children:[S.jsx(w6,{className:"me-2"}),"Attendees"]}),S.jsx("div",{className:"nav-item",children:S.jsxs(jl,{to:"/folders",className:`nav-link ${t.pathname==="/folders"?"active":""}`,"data-discover":"true",children:[S.jsx(WR,{className:"me-2"}),"Folders"]})})]})]})};function A6(r){return Mn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function D6({toggleSidebar:r}){const{darkMode:e,toggleTheme:t}=pL(),{user:n,logout:i}=Fb(),a=Gf(),l=async()=>{try{await i(),a("/login")}catch(u){console.error("Failed to log out:",u)}};return S.jsx("nav",{className:"navbar navbar-expand-lg mb-4",children:S.jsxs("div",{className:"container-fluid",children:[S.jsx("button",{className:"btn d-md-none",onClick:r,children:S.jsx(v6,{size:24})}),S.jsx("div",{className:"d-flex align-items-center",children:S.jsx("input",{type:"search",className:"form-control ms-2",placeholder:"Search..."})}),S.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[S.jsx("button",{className:"theme-toggle me-3",onClick:t,"aria-label":"Toggle theme",children:e?S.jsx(b6,{size:24}):S.jsx(y6,{size:24})}),S.jsxs("div",{className:"dropdown",children:[S.jsx("button",{className:"btn btn-link",type:"button",id:"profileDropdown","data-bs-toggle":"dropdown",children:S.jsx(A6,{size:32,className:"text-primary"})}),S.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[S.jsx("li",{children:S.jsx("span",{className:"dropdown-item-text",children:n==null?void 0:n.email})}),S.jsx("li",{children:S.jsx("hr",{className:"dropdown-divider"})}),S.jsx("li",{children:S.jsx("button",{className:"dropdown-item",onClick:l,children:"Logout"})})]})]})]})]})})}function R6(){const[r,e]=T.useState(!1);return S.jsxs("div",{className:"dashboard-container",children:[S.jsx(x6,{isOpen:r,toggleSidebar:()=>e(!r)}),S.jsxs("div",{className:"main-content",children:[S.jsx(D6,{toggleSidebar:()=>e(!r)}),S.jsx("div",{className:"container-fluid",children:S.jsx(II,{})})]})]})}function M6(){const[r,e]=T.useState(""),[t,n]=T.useState(""),[i,a]=T.useState(""),[l,u]=T.useState(!1),d=Gf(),{login:f}=Fb();async function p(g){g.preventDefault();try{a(""),u(!0),await f(r,t),d("/")}catch(v){a("Failed to sign in: "+v.message)}finally{u(!1)}}return S.jsx("div",{className:"auth-wrapper",children:S.jsx("div",{className:"auth-container",children:S.jsxs("div",{className:"auth-card",children:[S.jsx("h2",{className:"text-center mb-4",children:"Login"}),i&&S.jsx("div",{className:"alert alert-danger",children:i}),S.jsxs("form",{onSubmit:p,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Email"}),S.jsx("input",{type:"email",className:"form-control",value:r,onChange:g=>e(g.target.value),required:!0})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Password"}),S.jsx("input",{type:"password",className:"form-control",value:t,onChange:g=>n(g.target.value),required:!0})]}),S.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:l,children:l?"Logging in...":"Login"})]})]})})})}function k6(){return S.jsx("div",{className:"container-fluid",children:S.jsx("div",{className:"row",children:S.jsxs("div",{className:"col-12",children:[S.jsx("h2",{className:"mb-4",children:"Dashboard Overview"}),S.jsxs("div",{className:"row",children:[S.jsx("div",{className:"col-md-3 mb-4",children:S.jsxs("div",{className:"stat-card",children:[S.jsx("h3",{children:"Total Events"}),S.jsx("h2",{children:"156"})]})}),S.jsx("div",{className:"col-md-3 mb-4",children:S.jsxs("div",{className:"stat-card",children:[S.jsx("h3",{children:"Active Events"}),S.jsx("h2",{children:"32"})]})}),S.jsx("div",{className:"col-md-3 mb-4",children:S.jsxs("div",{className:"stat-card",children:[S.jsx("h3",{children:"Total Revenue"}),S.jsx("h2",{children:"$45,678"})]})}),S.jsx("div",{className:"col-md-3 mb-4",children:S.jsxs("div",{className:"stat-card",children:[S.jsx("h3",{children:"Attendees"}),S.jsx("h2",{children:"1,234"})]})})]}),S.jsxs("div",{className:"table-responsive mt-4",children:[S.jsx("h3",{className:"mb-4",children:"Recent Events"}),S.jsxs("table",{className:"table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Event Name"}),S.jsx("th",{children:"Date"}),S.jsx("th",{children:"Location"}),S.jsx("th",{children:"Status"})]})}),S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{children:"Summer Music Festival"}),S.jsx("td",{children:"2024-06-15"}),S.jsx("td",{children:"Central Park"}),S.jsx("td",{children:S.jsx("span",{className:"badge bg-success",children:"Active"})})]}),S.jsxs("tr",{children:[S.jsx("td",{children:"Tech Conference 2024"}),S.jsx("td",{children:"2024-07-20"}),S.jsx("td",{children:"Convention Center"}),S.jsx("td",{children:S.jsx("span",{className:"badge bg-warning",children:"Pending"})})]})]})]})]})]})})})}function KR(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=KR(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function di(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=KR(r))&&(n&&(n+=" "),n+=e);return n}const XR=6048e5,I6=864e5,kv=6e4,Iv=36e5,L6=1e3,OS=Symbol.for("constructDateFrom");function Rn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&OS in r?r[OS](e):r instanceof Date?new r.constructor(e):new Date(e)}function Je(r,e){return Rn(e||r,r)}function ga(r,e,t){const n=Je(r,t==null?void 0:t.in);return isNaN(e)?Rn((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function wa(r,e,t){const n=Je(r,t==null?void 0:t.in);if(isNaN(e))return Rn(r,NaN);if(!e)return n;const i=n.getDate(),a=Rn(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function ZR(r,e,t){return Rn(r,+Je(r)+e)}function O6(r,e,t){return ZR(r,e*Iv)}let N6={};function fu(){return N6}function Go(r,e){var u,d,f,p;const t=fu(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Je(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ld(r,e){return Go(r,{...e,weekStartsOn:1})}function JR(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=Rn(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Ld(i),l=Rn(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Ld(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function xg(r){const e=Je(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ko(r,...e){const t=Rn.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function nu(r,e){const t=Je(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Od(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e),a=nu(n),l=nu(i),u=+a-xg(a),d=+l-xg(l);return Math.round((u-d)/I6)}function P6(r,e){const t=JR(r,e),n=Rn(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ld(n)}function g0(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*kv),n}function zb(r,e,t){return wa(r,e*3,t)}function j6(r,e,t){return ZR(r,e*1e3)}function Ag(r,e,t){return ga(r,e*7,t)}function Po(r,e,t){return wa(r,e*12,t)}function NS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=Rn.bind(null,i));const a=Je(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),Rn(n,t||NaN)}function PS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=Rn.bind(null,i));const a=Je(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),Rn(n,t||NaN)}function U6(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e);return+nu(n)==+nu(i)}function jo(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Dg(r){return!(!jo(r)&&typeof r!="number"||isNaN(+Je(r)))}function Rg(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return a*12+l}function Wc(r,e){const t=Je(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Mg(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=Wc(n)-Wc(i);return a*4+l}function kg(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function V6(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e),a=jS(n,i),l=Math.abs(Od(n,i));n.setDate(n.getDate()-a*l);const u=+(jS(n,i)===-a),d=a*(l-u);return d===0?0:d}function jS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function e2(r,e){const t=Je(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function t2(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function v0(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function n2(r,e){const t=Je(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function r2(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Lv(r,e){const t=Je(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function F6(r,e){var u,d;const t=fu(),n=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Je(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const B6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z6=(r,e,t)=>{let n;const i=B6[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function w_(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const H6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y6={date:w_({formats:H6,defaultWidth:"full"}),time:w_({formats:q6,defaultWidth:"full"}),dateTime:w_({formats:$6,defaultWidth:"full"})},G6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W6=(r,e,t,n)=>G6[r];function lf(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=r.formattingValues[u]||r.formattingValues[l]}else{const l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[u]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const Q6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t5=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},n5={ordinalNumber:t5,era:lf({values:Q6,defaultWidth:"wide"}),quarter:lf({values:K6,defaultWidth:"wide",argumentCallback:r=>r-1}),month:lf({values:X6,defaultWidth:"wide"}),day:lf({values:Z6,defaultWidth:"wide"}),dayPeriod:lf({values:J6,defaultWidth:"wide",formattingValues:e5,defaultFormattingWidth:"wide"})};function cf(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(u)?i5(u,g=>g.test(l)):r5(u,g=>g.test(l));let f;f=r.valueCallback?r.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function r5(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function i5(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function s5(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const a5=/^(\d+)(th|st|nd|rd)?/i,o5=/\d+/i,l5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c5={any:[/^b/i,/^(a|c)/i]},u5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d5={any:[/1/i,/2/i,/3/i,/4/i]},h5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y5={ordinalNumber:s5({matchPattern:a5,parsePattern:o5,valueCallback:r=>parseInt(r,10)}),era:cf({matchPatterns:l5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),quarter:cf({matchPatterns:u5,defaultMatchWidth:"wide",parsePatterns:d5,defaultParseWidth:"any",valueCallback:r=>r+1}),month:cf({matchPatterns:h5,defaultMatchWidth:"wide",parsePatterns:f5,defaultParseWidth:"any"}),day:cf({matchPatterns:p5,defaultMatchWidth:"wide",parsePatterns:m5,defaultParseWidth:"any"}),dayPeriod:cf({matchPatterns:g5,defaultMatchWidth:"any",parsePatterns:v5,defaultParseWidth:"any"})},i2={code:"en-US",formatDistance:z6,formatLong:Y6,formatRelative:W6,localize:n5,match:y5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _5(r,e){const t=Je(r,e==null?void 0:e.in);return Od(t,Lv(t))+1}function Hb(r,e){const t=Je(r,e==null?void 0:e.in),n=+Ld(t)-+P6(t);return Math.round(n/XR)+1}function qb(r,e){var p,g,v,b;const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=fu(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=Rn((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const u=Go(l,e),d=Rn((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const f=Go(d,e);return+t>=+u?n+1:+t>=+f?n:n-1}function b5(r,e){var u,d,f,p;const t=fu(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=qb(r,e),a=Rn((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Go(a,e)}function s2(r,e){const t=Je(r,e==null?void 0:e.in),n=+Go(t,e)-+b5(t,e);return Math.round(n/XR)+1}function Dn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Nl={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Dn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Dn(t+1,2)},d(r,e){return Dn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Dn(r.getHours()%12||12,e.length)},H(r,e){return Dn(r.getHours(),e.length)},m(r,e){return Dn(r.getMinutes(),e.length)},s(r,e){return Dn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Dn(i,e.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},US={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Nl.y(r,e)},Y:function(r,e,t,n){const i=qb(r,n),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return Dn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Dn(a,e.length)},R:function(r,e){const t=JR(r);return Dn(t,e.length)},u:function(r,e){const t=r.getFullYear();return Dn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Dn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Dn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Nl.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Dn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=s2(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Dn(i,e.length)},I:function(r,e,t){const n=Hb(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Dn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Nl.d(r,e)},D:function(r,e,t){const n=_5(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Dn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Dn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Dn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Dn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=ad.noon:n===0?i=ad.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=ad.evening:n>=12?i=ad.afternoon:n>=4?i=ad.morning:i=ad.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Nl.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Nl.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Dn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Dn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Nl.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Nl.s(r,e)},S:function(r,e){return Nl.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return FS(n);case"XXXX":case"XX":return Bc(n);case"XXXXX":case"XXX":default:return Bc(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return FS(n);case"xxxx":case"xx":return Bc(n);case"xxxxx":case"xxx":default:return Bc(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VS(n,":");case"OOOO":default:return"GMT"+Bc(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VS(n,":");case"zzzz":default:return"GMT"+Bc(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Dn(n,e.length)},T:function(r,e,t){return Dn(+r,e.length)}};function VS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+Dn(a,2)}function FS(r,e){return r%60===0?(r>0?"-":"+")+Dn(Math.abs(r)/60,2):Bc(r,e)}function Bc(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Dn(Math.trunc(n/60),2),a=Dn(n%60,2);return t+i+e+a}const BS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},a2=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},w5=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return BS(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",BS(n,e)).replace("{{time}}",a2(i,e))},y0={p:a2,P:w5},E5=/^D+$/,T5=/^Y+$/,S5=["D","DD","YY","YYYY"];function C5(r){return E5.test(r)}function x5(r){return T5.test(r)}function A5(r,e,t){const n=D5(r,e,t);if(console.warn(n),S5.includes(r))throw new RangeError(n)}function D5(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k5=/^'([^]*?)'?$/,I5=/''/g,L5=/[a-zA-Z]/;function Bf(r,e,t){var p,g,v,b,E,R,D,k;const n=fu(),i=(t==null?void 0:t.locale)??n.locale??i2,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((R=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:R.weekStartsOn)??n.weekStartsOn??((k=(D=n.locale)==null?void 0:D.options)==null?void 0:k.weekStartsOn)??0,u=Je(r,t==null?void 0:t.in);if(!Dg(u))throw new RangeError("Invalid time value");let d=e.match(M5).map(Y=>{const $=Y[0];if($==="p"||$==="P"){const z=y0[$];return z(Y,i.formatLong)}return Y}).join("").match(R5).map(Y=>{if(Y==="''")return{isToken:!1,value:"'"};const $=Y[0];if($==="'")return{isToken:!1,value:O5(Y)};if(US[$])return{isToken:!0,value:Y};if($.match(L5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return{isToken:!1,value:Y}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map(Y=>{if(!Y.isToken)return Y.value;const $=Y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&x5($)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&C5($))&&A5($,e,String(r));const z=US[$[0]];return z(u,$,i.localize,f)}).join("")}function O5(r){const e=r.match(k5);return e?e[1].replace(I5,"'"):r}function zS(r,e){return Je(r,e==null?void 0:e.in).getDate()}function N5(r,e){return Je(r,e==null?void 0:e.in).getDay()}function P5(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),a=Rn(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function j5(){return Object.assign({},fu())}function Uo(r,e){return Je(r,e==null?void 0:e.in).getHours()}function U5(r,e){const t=Je(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Vo(r,e){return Je(r,e==null?void 0:e.in).getMinutes()}function Pi(r,e){return Je(r,e==null?void 0:e.in).getMonth()}function Kl(r){return Je(r).getSeconds()}function _0(r){return+Je(r)}function Ot(r,e){return Je(r,e==null?void 0:e.in).getFullYear()}function sc(r,e){return+Je(r)>+Je(e)}function ru(r,e){return+Je(r)<+Je(e)}function V5(r,e){return+Je(r)==+Je(e)}function F5(r,e){const t=B5(e)?new e(0):Rn(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function B5(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const z5=10;class o2{constructor(){Ye(this,"subPriority",0)}validate(e,t){return!0}}class H5 extends o2{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class q5 extends o2{constructor(t,n){super();Ye(this,"priority",z5);Ye(this,"subPriority",-1);this.context=t||(i=>Rn(n,i))}set(t,n){return n.timestampIsSet?t:Rn(t,F5(t,this.context))}}class gn{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new H5(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class $5 extends gn{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const yr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ba={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function _r(r,e){return r&&{value:e(r.value),rest:r.rest}}function tr(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function za(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Iv+a*kv+l*L6),rest:e.slice(t[0].length)}}function l2(r){return tr(yr.anyDigitsSigned,r)}function dr(r,e){switch(r){case 1:return tr(yr.singleDigit,e);case 2:return tr(yr.twoDigits,e);case 3:return tr(yr.threeDigits,e);case 4:return tr(yr.fourDigits,e);default:return tr(new RegExp("^\\d{1,"+r+"}"),e)}}function Ig(r,e){switch(r){case 1:return tr(yr.singleDigitSigned,e);case 2:return tr(yr.twoDigitsSigned,e);case 3:return tr(yr.threeDigitsSigned,e);case 4:return tr(yr.fourDigitsSigned,e);default:return tr(new RegExp("^-?\\d{1,"+r+"}"),e)}}function $b(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function c2(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,l=Math.trunc(a/100)*100,u=r>=a%100;i=r+l-(u?100:0)}return t?i:1-i}function u2(r){return r%400===0||r%4===0&&r%100!==0}class Y5 extends gn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return _r(dr(4,t),a);case"yo":return _r(i.ordinalNumber(t,{unit:"year"}),a);default:return _r(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const a=t.getFullYear();if(i.isTwoDigitYear){const u=c2(i.year,a);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class G5 extends gn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return _r(dr(4,t),a);case"Yo":return _r(i.ordinalNumber(t,{unit:"year"}),a);default:return _r(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,a){const l=qb(t,a);if(i.isTwoDigitYear){const d=c2(i.year,l);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Go(t,a)}const u=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Go(t,a)}}class W5 extends gn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Ig(n==="R"?4:n.length,t)}set(t,n,i){const a=Rn(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Ld(a)}}class Q5 extends gn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Ig(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class K5 extends gn{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return dr(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class X5 extends gn{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return dr(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Z5 extends gn{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(t,n,i){const a=l=>l-1;switch(n){case"M":return _r(tr(yr.month,t),a);case"MM":return _r(dr(2,t),a);case"Mo":return _r(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class J5 extends gn{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const a=l=>l-1;switch(n){case"L":return _r(tr(yr.month,t),a);case"LL":return _r(dr(2,t),a);case"Lo":return _r(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function eF(r,e,t){const n=Je(r,t==null?void 0:t.in),i=s2(n,t)-e;return n.setDate(n.getDate()-i*7),Je(n,t==null?void 0:t.in)}class tF extends gn{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return tr(yr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,a){return Go(eF(t,i,a),a)}}function nF(r,e,t){const n=Je(r,t==null?void 0:t.in),i=Hb(n,t)-e;return n.setDate(n.getDate()-i*7),n}class rF extends gn{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return tr(yr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Ld(nF(t,i))}}const iF=[31,28,31,30,31,30,31,31,30,31,30,31],sF=[31,29,31,30,31,30,31,31,30,31,30,31];class aF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return tr(yr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const i=t.getFullYear(),a=u2(i),l=t.getMonth();return a?n>=1&&n<=sF[l]:n>=1&&n<=iF[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class oF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return tr(yr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const i=t.getFullYear();return u2(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Yb(r,e,t){var g,v,b,E;const n=fu(),i=(t==null?void 0:t.weekStartsOn)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((E=(b=n.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,a=Je(r,t==null?void 0:t.in),l=a.getDay(),d=(e%7+7)%7,f=7-i,p=e<0||e>6?e-(l+f)%7:(d+f)%7-(l+f)%7;return ga(a,p,t)}class lF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Yb(t,i,a),t.setHours(0,0,0,0),t}}class cF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,a){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return _r(dr(n.length,t),l);case"eo":return _r(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Yb(t,i,a),t.setHours(0,0,0,0),t}}class uF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,a){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return _r(dr(n.length,t),l);case"co":return _r(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Yb(t,i,a),t.setHours(0,0,0,0),t}}function dF(r,e,t){const n=Je(r,t==null?void 0:t.in),i=U5(n,t),a=e-i;return ga(n,a,t)}class hF extends gn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const a=l=>l===0?7:l;switch(n){case"i":case"ii":return dr(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return _r(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return _r(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return _r(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return _r(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=dF(t,i),t.setHours(0,0,0,0),t}}class fF extends gn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours($b(i),0,0,0),t}}class pF extends gn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours($b(i),0,0,0),t}}class mF extends gn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours($b(i),0,0,0),t}}class gF extends gn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return tr(yr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class vF extends gn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return tr(yr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class yF extends gn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return tr(yr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class _F extends gn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return tr(yr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class bF extends gn{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return tr(yr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class wF extends gn{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return tr(yr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class EF extends gn{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return _r(dr(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class TF extends gn{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return za(Ba.basicOptionalMinutes,t);case"XX":return za(Ba.basic,t);case"XXXX":return za(Ba.basicOptionalSeconds,t);case"XXXXX":return za(Ba.extendedOptionalSeconds,t);case"XXX":default:return za(Ba.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Rn(t,t.getTime()-xg(t)-i)}}class SF extends gn{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return za(Ba.basicOptionalMinutes,t);case"xx":return za(Ba.basic,t);case"xxxx":return za(Ba.basicOptionalSeconds,t);case"xxxxx":return za(Ba.extendedOptionalSeconds,t);case"xxx":default:return za(Ba.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Rn(t,t.getTime()-xg(t)-i)}}class CF extends gn{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(t){return l2(t)}set(t,n,i){return[Rn(t,i*1e3),{timestampIsSet:!0}]}}class xF extends gn{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(t){return l2(t)}set(t,n,i){return[Rn(t,i),{timestampIsSet:!0}]}}const AF={G:new $5,y:new Y5,Y:new G5,R:new W5,u:new Q5,Q:new K5,q:new X5,M:new Z5,L:new J5,w:new tF,I:new rF,d:new aF,D:new oF,E:new lF,e:new cF,c:new uF,i:new hF,a:new fF,b:new pF,B:new mF,h:new gF,H:new vF,K:new yF,k:new _F,m:new bF,s:new wF,S:new EF,X:new TF,x:new SF,t:new CF,T:new xF},DF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MF=/^'([^]*?)'?$/,kF=/''/g,IF=/\S/,LF=/[a-zA-Z]/;function OF(r,e,t,n){var D,k,Y,$,z,G,H,N;const i=()=>Rn((n==null?void 0:n.in)||t,NaN),a=j5(),l=(n==null?void 0:n.locale)??a.locale??i2,u=(n==null?void 0:n.firstWeekContainsDate)??((k=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:k.firstWeekContainsDate)??a.firstWeekContainsDate??(($=(Y=a.locale)==null?void 0:Y.options)==null?void 0:$.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((G=(z=n==null?void 0:n.locale)==null?void 0:z.options)==null?void 0:G.weekStartsOn)??a.weekStartsOn??((N=(H=a.locale)==null?void 0:H.options)==null?void 0:N.weekStartsOn)??0;if(!e)return r?i():Je(t,n==null?void 0:n.in);const f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},p=[new q5(n==null?void 0:n.in,t)],g=e.match(RF).map(x=>{const C=x[0];if(C in y0){const I=y0[C];return I(x,l.formatLong)}return x}).join("").match(DF),v=[];for(let x of g){const C=x[0],I=AF[C];if(I){const{incompatibleTokens:j}=I;if(Array.isArray(j)){const U=v.find(X=>j.includes(X.token)||X.token===C);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${x}\` at the same time`)}else if(I.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);v.push({token:C,fullToken:x});const B=I.run(r,x,l.match,f);if(!B)return i();p.push(B.setter),r=B.rest}else{if(C.match(LF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(x==="''"?x="'":C==="'"&&(x=NF(x)),r.indexOf(x)===0)r=r.slice(x.length);else return i()}}if(r.length>0&&IF.test(r))return i();const b=p.map(x=>x.priority).sort((x,C)=>C-x).filter((x,C,I)=>I.indexOf(x)===C).map(x=>p.filter(C=>C.priority===x).sort((C,I)=>I.subPriority-C.subPriority)).map(x=>x[0]);let E=Je(t,n==null?void 0:n.in);if(isNaN(+E))return i();const R={};for(const x of b){if(!x.validate(E,f))return i();const C=x.set(E,R,f);Array.isArray(C)?(E=C[0],Object.assign(R,C[1])):E=C}return E}function NF(r){return r.match(MF)[1].replace(kF,"'")}function PF(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function jF(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e);return+v0(n)==+v0(i)}function UF(r,e,t){const[n,i]=Ko(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function zf(r,e,t){const n=+Je(r,t==null?void 0:t.in),[i,a]=[+Je(e.start,t==null?void 0:t.in),+Je(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return n>=i&&n<=a}function VF(r,e,t){return ga(r,-1,t)}function FF(r,e){const t=()=>Rn(e==null?void 0:e.in,NaN),i=qF(r);let a;if(i.date){const f=$F(i.date,2);a=YF(f.restDateString,f.year)}if(!a||isNaN(+a))return t();const l=+a;let u=0,d;if(i.time&&(u=GF(i.time),isNaN(u)))return t();if(i.timezone){if(d=WF(i.timezone),isNaN(d))return t()}else{const f=new Date(l+u),p=Je(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Je(l+u+d,e==null?void 0:e.in)}const xm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qF(r){const e={},t=r.split(xm.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],xm.timeZoneDelimiter.test(e.date)&&(e.date=r.split(xm.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=xm.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function $F(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function YF(r,e){if(e===null)return new Date(NaN);const t=r.match(BF);if(!t)return new Date(NaN);const n=!!t[4],i=uf(t[1]),a=uf(t[2])-1,l=uf(t[3]),u=uf(t[4]),d=uf(t[5])-1;if(n)return JF(e,u,d)?QF(e,u,d):new Date(NaN);{const f=new Date(0);return!XF(e,a,l)||!ZF(e,i)?new Date(NaN):(f.setUTCFullYear(e,a,Math.max(i,l)),f)}}function uf(r){return r?parseInt(r):1}function GF(r){const e=r.match(zF);if(!e)return NaN;const t=E_(e[1]),n=E_(e[2]),i=E_(e[3]);return e9(t,n,i)?t*Iv+n*kv+i*1e3:NaN}function E_(r){return r&&parseFloat(r.replace(",","."))||0}function WF(r){if(r==="Z")return 0;const e=r.match(HF);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return t9(n,i)?t*(n*Iv+i*kv):NaN}function QF(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const KF=[31,null,31,30,31,30,31,31,30,31,30,31];function d2(r){return r%400===0||r%4===0&&r%100!==0}function XF(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(KF[e]||(d2(r)?29:28))}function ZF(r,e){return e>=1&&e<=(d2(r)?366:365)}function JF(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function e9(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function t9(r,e){return e>=0&&e<=59}function zs(r,e,t){const n=Je(r,t==null?void 0:t.in),i=n.getFullYear(),a=n.getDate(),l=Rn(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=P5(l);return n.setMonth(e,Math.min(a,u)),n}function Wm(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setHours(e),n}function Qm(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setMinutes(e),n}function dd(r,e,t){const n=Je(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return zs(n,n.getMonth()+a*3)}function Km(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Ua(r,e,t){const n=Je(r,t==null?void 0:t.in);return isNaN(+n)?Rn(r,NaN):(n.setFullYear(e),n)}function Qc(r,e,t){return wa(r,-e,t)}function h2(r,e,t){return zb(r,-1,t)}function HS(r,e,t){return Ag(r,-1,t)}function Nd(r,e,t){return Po(r,-e,t)}function Ov(){return typeof window<"u"}function Kd(r){return f2(r)?(r.nodeName||"").toLowerCase():"#document"}function _s(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function eo(r){var e;return(e=(f2(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function f2(r){return Ov()?r instanceof Node||r instanceof _s(r).Node:!1}function ji(r){return Ov()?r instanceof Element||r instanceof _s(r).Element:!1}function Za(r){return Ov()?r instanceof HTMLElement||r instanceof _s(r).HTMLElement:!1}function qS(r){return!Ov()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof _s(r).ShadowRoot}function op(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Gs(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function n9(r){return["table","td","th"].includes(Kd(r))}function Nv(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Gb(r){const e=Wb(),t=ji(r)?Gs(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function r9(r){let e=ac(r);for(;Za(e)&&!Pd(e);){if(Gb(e))return e;if(Nv(e))return null;e=ac(e)}return null}function Wb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pd(r){return["html","body","#document"].includes(Kd(r))}function Gs(r){return _s(r).getComputedStyle(r)}function Pv(r){return ji(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ac(r){if(Kd(r)==="html")return r;const e=r.assignedSlot||r.parentNode||qS(r)&&r.host||eo(r);return qS(e)?e.host:e}function p2(r){const e=ac(r);return Pd(e)?r.ownerDocument?r.ownerDocument.body:r.body:Za(e)&&op(e)?e:p2(e)}function Hf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=p2(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),l=_s(i);if(a){const u=b0(l);return e.concat(l,l.visualViewport||[],op(i)?i:[],u&&t?Hf(u):[])}return e.concat(i,Hf(i,[],t))}function b0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const jd=Math.min,Kc=Math.max,Lg=Math.round,Am=Math.floor,Ka=r=>({x:r,y:r}),i9={left:"right",right:"left",bottom:"top",top:"bottom"},s9={start:"end",end:"start"};function a9(r,e,t){return Kc(r,jd(e,t))}function jv(r,e){return typeof r=="function"?r(e):r}function Ud(r){return r.split("-")[0]}function lp(r){return r.split("-")[1]}function o9(r){return r==="x"?"y":"x"}function Qb(r){return r==="y"?"height":"width"}function qf(r){return["top","bottom"].includes(Ud(r))?"y":"x"}function Kb(r){return o9(qf(r))}function l9(r,e,t){t===void 0&&(t=!1);const n=lp(r),i=Kb(r),a=Qb(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Og(l)),[l,Og(l)]}function c9(r){const e=Og(r);return[w0(r),e,w0(e)]}function w0(r){return r.replace(/start|end/g,e=>s9[e])}function u9(r,e,t){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?a:l;default:return[]}}function d9(r,e,t,n){const i=lp(r);let a=u9(Ud(r),t==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(w0)))),a}function Og(r){return r.replace(/left|right|bottom|top/g,e=>i9[e])}function h9(r){return{top:0,right:0,bottom:0,left:0,...r}}function m2(r){return typeof r!="number"?h9(r):{top:r,right:r,bottom:r,left:r}}function Ng(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function $S(r,e,t){let{reference:n,floating:i}=r;const a=qf(e),l=Kb(e),u=Qb(l),d=Ud(e),f=a==="y",p=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let b;switch(d){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(lp(e)){case"start":b[l]-=v*(t&&f?-1:1);break;case"end":b[l]+=v*(t&&f?-1:1);break}return b}const f9=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:p,y:g}=$S(f,n,d),v=n,b={},E=0;for(let R=0;R<u.length;R++){const{name:D,fn:k}=u[R],{x:Y,y:$,data:z,reset:G}=await k({x:p,y:g,initialPlacement:n,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:r,floating:e}});p=Y??p,g=$??g,b={...b,[D]:{...b[D],...z}},G&&E<=50&&(E++,typeof G=="object"&&(G.placement&&(v=G.placement),G.rects&&(f=G.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):G.rects),{x:p,y:g}=$S(f,v,d)),R=-1)}return{x:p,y:g,placement:v,strategy:i,middlewareData:b}};async function p9(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:u,strategy:d}=r,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=jv(e,r),E=m2(b),D=u[v?g==="floating"?"reference":"floating":g],k=Ng(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(D)))==null||t?D:D.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),Y=g==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),z=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},G=Ng(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:Y,offsetParent:$,strategy:d}):Y);return{top:(k.top-G.top+E.top)/z.y,bottom:(G.bottom-k.bottom+E.bottom)/z.y,left:(k.left-G.left+E.left)/z.x,right:(G.right-k.right+E.right)/z.x}}const m9=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:l,elements:u,middlewareData:d}=e,{element:f,padding:p=0}=jv(r,e)||{};if(f==null)return{};const g=m2(p),v={x:t,y:n},b=Kb(i),E=Qb(b),R=await l.getDimensions(f),D=b==="y",k=D?"top":"left",Y=D?"bottom":"right",$=D?"clientHeight":"clientWidth",z=a.reference[E]+a.reference[b]-v[b]-a.floating[E],G=v[b]-a.reference[b],H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let N=H?H[$]:0;(!N||!await(l.isElement==null?void 0:l.isElement(H)))&&(N=u.floating[$]||a.floating[E]);const x=z/2-G/2,C=N/2-R[E]/2-1,I=jd(g[k],C),j=jd(g[Y],C),B=I,U=N-R[E]-j,X=N/2-R[E]/2+x,J=a9(B,X,U),P=!d.arrow&&lp(i)!=null&&X!==J&&a.reference[E]/2-(X<B?I:j)-R[E]/2<0,F=P?X<B?X-B:X-U:0;return{[b]:v[b]+F,data:{[b]:J,centerOffset:X-J-F,...P&&{alignmentOffset:F}},reset:P}}}),g9=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:R=!0,...D}=jv(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const k=Ud(i),Y=qf(u),$=Ud(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(f.floating)),G=v||($||!R?[Og(u)]:c9(u)),H=E!=="none";!v&&H&&G.push(...d9(u,R,E,z));const N=[u,...G],x=await p9(e,D),C=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&C.push(x[k]),g){const X=l9(i,l,z);C.push(x[X[0]],x[X[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every(X=>X<=0)){var j,B;const X=(((j=a.flip)==null?void 0:j.index)||0)+1,J=N[X];if(J)return{data:{index:X,overflows:I},reset:{placement:J}};let P=(B=I.filter(F=>F.overflows[0]<=0).sort((F,ee)=>F.overflows[1]-ee.overflows[1])[0])==null?void 0:B.placement;if(!P)switch(b){case"bestFit":{var U;const F=(U=I.filter(ee=>{if(H){const ne=qf(ee.placement);return ne===Y||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,L)=>ne+L,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:U[0];F&&(P=F);break}case"initialPlacement":P=u;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function v9(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Ud(t),u=lp(t),d=qf(t)==="y",f=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,g=jv(e,r);let{mainAxis:v,crossAxis:b,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof E=="number"&&(b=u==="end"?E*-1:E),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const y9=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:l,middlewareData:u}=e,d=await v9(e,r);return l===((t=u.offset)==null?void 0:t.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}};function g2(r){const e=Gs(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Za(r),a=i?r.offsetWidth:t,l=i?r.offsetHeight:n,u=Lg(t)!==a||Lg(n)!==l;return u&&(t=a,n=l),{width:t,height:n,$:u}}function Xb(r){return ji(r)?r:r.contextElement}function wd(r){const e=Xb(r);if(!Za(e))return Ka(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=g2(e);let l=(a?Lg(t.width):t.width)/n,u=(a?Lg(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const _9=Ka(0);function v2(r){const e=_s(r);return!Wb()||!e.visualViewport?_9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function b9(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==_s(r)?!1:e}function iu(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=Xb(r);let l=Ka(1);e&&(n?ji(n)&&(l=wd(n)):l=wd(r));const u=b9(a,t,n)?v2(a):Ka(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,g=i.height/l.y;if(a){const v=_s(a),b=n&&ji(n)?_s(n):n;let E=v,R=b0(E);for(;R&&n&&b!==E;){const D=wd(R),k=R.getBoundingClientRect(),Y=Gs(R),$=k.left+(R.clientLeft+parseFloat(Y.paddingLeft))*D.x,z=k.top+(R.clientTop+parseFloat(Y.paddingTop))*D.y;d*=D.x,f*=D.y,p*=D.x,g*=D.y,d+=$,f+=z,E=_s(R),R=b0(E)}}return Ng({width:p,height:g,x:d,y:f})}function Zb(r,e){const t=Pv(r).scrollLeft;return e?e.left+t:iu(eo(r)).left+t}function y2(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Zb(r,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function w9(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",l=eo(n),u=e?Nv(e.floating):!1;if(n===l||u&&a)return t;let d={scrollLeft:0,scrollTop:0},f=Ka(1);const p=Ka(0),g=Za(n);if((g||!g&&!a)&&((Kd(n)!=="body"||op(l))&&(d=Pv(n)),Za(n))){const b=iu(n);f=wd(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=l&&!g&&!a?y2(l,d,!0):Ka(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function E9(r){return Array.from(r.getClientRects())}function T9(r){const e=eo(r),t=Pv(r),n=r.ownerDocument.body,i=Kc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Kc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Zb(r);const u=-t.scrollTop;return Gs(n).direction==="rtl"&&(l+=Kc(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:u}}function S9(r,e){const t=_s(r),n=eo(r),i=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){a=i.width,l=i.height;const f=Wb();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:u,y:d}}function C9(r,e){const t=iu(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=Za(r)?wd(r):Ka(1),l=r.clientWidth*a.x,u=r.clientHeight*a.y,d=i*a.x,f=n*a.y;return{width:l,height:u,x:d,y:f}}function YS(r,e,t){let n;if(e==="viewport")n=S9(r,t);else if(e==="document")n=T9(eo(r));else if(ji(e))n=C9(e,t);else{const i=v2(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ng(n)}function _2(r,e){const t=ac(r);return t===e||!ji(t)||Pd(t)?!1:Gs(t).position==="fixed"||_2(t,e)}function x9(r,e){const t=e.get(r);if(t)return t;let n=Hf(r,[],!1).filter(u=>ji(u)&&Kd(u)!=="body"),i=null;const a=Gs(r).position==="fixed";let l=a?ac(r):r;for(;ji(l)&&!Pd(l);){const u=Gs(l),d=Gb(l);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||op(l)&&!d&&_2(r,l))?n=n.filter(p=>p!==l):i=u,l=ac(l)}return e.set(r,n),n}function A9(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?Nv(e)?[]:x9(e,this._c):[].concat(t),n],u=l[0],d=l.reduce((f,p)=>{const g=YS(e,p,i);return f.top=Kc(g.top,f.top),f.right=jd(g.right,f.right),f.bottom=jd(g.bottom,f.bottom),f.left=Kc(g.left,f.left),f},YS(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function D9(r){const{width:e,height:t}=g2(r);return{width:e,height:t}}function R9(r,e,t){const n=Za(e),i=eo(e),a=t==="fixed",l=iu(r,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=Ka(0);if(n||!n&&!a)if((Kd(e)!=="body"||op(i))&&(u=Pv(e)),n){const v=iu(e,!0,a,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&(d.x=Zb(i));const f=i&&!n&&!a?y2(i,u):Ka(0),p=l.left+u.scrollLeft-d.x-f.x,g=l.top+u.scrollTop-d.y-f.y;return{x:p,y:g,width:l.width,height:l.height}}function T_(r){return Gs(r).position==="static"}function GS(r,e){if(!Za(r)||Gs(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return eo(r)===t&&(t=t.ownerDocument.body),t}function b2(r,e){const t=_s(r);if(Nv(r))return t;if(!Za(r)){let i=ac(r);for(;i&&!Pd(i);){if(ji(i)&&!T_(i))return i;i=ac(i)}return t}let n=GS(r,e);for(;n&&n9(n)&&T_(n);)n=GS(n,e);return n&&Pd(n)&&T_(n)&&!Gb(n)?t:n||r9(r)||t}const M9=async function(r){const e=this.getOffsetParent||b2,t=this.getDimensions,n=await t(r.floating);return{reference:R9(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function k9(r){return Gs(r).direction==="rtl"}const I9={convertOffsetParentRelativeRectToViewportRelativeRect:w9,getDocumentElement:eo,getClippingRect:A9,getOffsetParent:b2,getElementRects:M9,getClientRects:E9,getDimensions:D9,getScale:wd,isElement:ji,isRTL:k9};function w2(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function L9(r,e){let t=null,n;const i=eo(r);function a(){var u;clearTimeout(n),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const f=r.getBoundingClientRect(),{left:p,top:g,width:v,height:b}=f;if(u||e(),!v||!b)return;const E=Am(g),R=Am(i.clientWidth-(p+v)),D=Am(i.clientHeight-(g+b)),k=Am(p),$={rootMargin:-E+"px "+-R+"px "+-D+"px "+-k+"px",threshold:Kc(0,jd(1,d))||1};let z=!0;function G(H){const N=H[0].intersectionRatio;if(N!==d){if(!z)return l();N?l(!1,N):n=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!w2(f,r.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(G,{...$,root:i.ownerDocument})}catch{t=new IntersectionObserver(G,$)}t.observe(r)}return l(!0),a}function O9(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Xb(r),p=i||a?[...f?Hf(f):[],...Hf(e)]:[];p.forEach(k=>{i&&k.addEventListener("scroll",t,{passive:!0}),a&&k.addEventListener("resize",t)});const g=f&&u?L9(f,t):null;let v=-1,b=null;l&&(b=new ResizeObserver(k=>{let[Y]=k;Y&&Y.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var $;($=b)==null||$.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let E,R=d?iu(r):null;d&&D();function D(){const k=iu(r);R&&!w2(R,k)&&t(),R=k,E=requestAnimationFrame(D)}return t(),()=>{var k;p.forEach(Y=>{i&&Y.removeEventListener("scroll",t),a&&Y.removeEventListener("resize",t)}),g==null||g(),(k=b)==null||k.disconnect(),b=null,d&&cancelAnimationFrame(E)}}const N9=y9,P9=g9,WS=m9,j9=(r,e,t)=>{const n=new Map,i={platform:I9,...t},a={...i.platform,_c:n};return f9(r,e,{...i,platform:a})};var Xm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Pg(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Pg(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!Pg(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function E2(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function QS(r,e){const t=E2(r);return Math.round(e*t)/t}function S_(r){const e=T.useRef(r);return Xm(()=>{e.current=r}),e}function U9(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=r,[p,g]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=T.useState(n);Pg(v,n)||b(n);const[E,R]=T.useState(null),[D,k]=T.useState(null),Y=T.useCallback(ee=>{ee!==H.current&&(H.current=ee,R(ee))},[]),$=T.useCallback(ee=>{ee!==N.current&&(N.current=ee,k(ee))},[]),z=a||E,G=l||D,H=T.useRef(null),N=T.useRef(null),x=T.useRef(p),C=d!=null,I=S_(d),j=S_(i),B=S_(f),U=T.useCallback(()=>{if(!H.current||!N.current)return;const ee={placement:e,strategy:t,middleware:v};j.current&&(ee.platform=j.current),j9(H.current,N.current,ee).then(ne=>{const L={...ne,isPositioned:B.current!==!1};X.current&&!Pg(x.current,L)&&(x.current=L,oc.flushSync(()=>{g(L)}))})},[v,e,t,j,B]);Xm(()=>{f===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[f]);const X=T.useRef(!1);Xm(()=>(X.current=!0,()=>{X.current=!1}),[]),Xm(()=>{if(z&&(H.current=z),G&&(N.current=G),z&&G){if(I.current)return I.current(z,G,U);U()}},[z,G,U,I,C]);const J=T.useMemo(()=>({reference:H,floating:N,setReference:Y,setFloating:$}),[Y,$]),P=T.useMemo(()=>({reference:z,floating:G}),[z,G]),F=T.useMemo(()=>{const ee={position:t,left:0,top:0};if(!P.floating)return ee;const ne=QS(P.floating,p.x),L=QS(P.floating,p.y);return u?{...ee,transform:"translate("+ne+"px, "+L+"px)",...E2(P.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:L}},[t,u,P.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:U,refs:J,elements:P,floatingStyles:F}),[p,U,J,P,F])}const V9=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?WS({element:n.current,padding:i}).fn(t):{}:n?WS({element:n,padding:i}).fn(t):{}}}},F9=(r,e)=>({...N9(r),options:[r,e]}),B9=(r,e)=>({...P9(r),options:[r,e]}),z9=(r,e)=>({...V9(r),options:[r,e]}),T2={...Lk},H9=T2.useInsertionEffect,q9=H9||(r=>r());function $9(r){const e=T.useRef(()=>{});return q9(()=>{e.current=r}),T.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var jg=typeof document<"u"?T.useLayoutEffect:T.useEffect;let KS=!1,Y9=0;const XS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Y9++;function G9(){const[r,e]=T.useState(()=>KS?XS():void 0);return jg(()=>{r==null&&e(XS())},[]),T.useEffect(()=>{KS=!0},[]),r}const W9=T2.useId,S2=W9||G9,Q9=T.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:l}},width:u=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:g,stroke:v,d:b,style:{transform:E,...R}={},...D}=e,k=S2(),[Y,$]=T.useState(!1);if(jg(()=>{if(!i)return;Gs(i).direction==="rtl"&&$(!0)},[i]),!i)return null;const[z,G]=n.split("-"),H=z==="top"||z==="bottom";let N=g;(H&&l!=null&&l.x||!H&&l!=null&&l.y)&&(N=null);const x=p*2,C=x/2,I=u/2*(f/-8+1),j=d/2*f/4,B=!!b,U=N&&G==="end"?"bottom":"top";let X=N&&G==="end"?"right":"left";N&&Y&&(X=G==="end"?"left":"right");const J=(a==null?void 0:a.x)!=null?N||a.x:"",P=(a==null?void 0:a.y)!=null?N||a.y:"",F=b||"M0,0"+(" H"+u)+(" L"+(u-I)+","+(d-j))+(" Q"+u/2+","+d+" "+I+","+(d-j))+" Z",ee={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[z];return S.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:B?u:u+x,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[X]:J,[U]:P,[z]:H||B?"100%":"calc(100% - "+x/2+"px)",transform:[ee,E].filter(ne=>!!ne).join(" "),...R},children:[x>0&&S.jsx("path",{clipPath:"url(#"+k+")",fill:"none",stroke:v,strokeWidth:x+(b?0:1),d:F}),S.jsx("path",{stroke:x&&!b?D.fill:"none",d:F}),S.jsx("clipPath",{id:k,children:S.jsx("rect",{x:-C,y:C*(B?-1:1),width:u+x,height:u})})]})});function K9(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const X9=T.createContext(null),Z9=T.createContext(null),J9=()=>{var r;return((r=T.useContext(X9))==null?void 0:r.id)||null},eB=()=>T.useContext(Z9);function tB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=S2(),a=T.useRef({}),[l]=T.useState(()=>K9()),u=J9()!=null,[d,f]=T.useState(n.reference),p=$9((b,E,R)=>{a.current.openEvent=b?E:void 0,l.emit("openchange",{open:b,event:E,reason:R,nested:u}),t==null||t(b,E,R)}),g=T.useMemo(()=>({setPositionReference:f}),[]),v=T.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return T.useMemo(()=>({dataRef:a,open:e,onOpenChange:p,elements:v,events:l,floatingId:i,refs:g}),[e,p,v,l,i,g])}function nB(r){r===void 0&&(r={});const{nodeId:e}=r,t=tB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,l]=T.useState(null),[u,d]=T.useState(null),p=(i==null?void 0:i.domReference)||a,g=T.useRef(null),v=eB();jg(()=>{p&&(g.current=p)},[p]);const b=U9({...r,elements:{...i,...u&&{reference:u}}}),E=T.useCallback($=>{const z=ji($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),getClientRects:()=>$.getClientRects(),contextElement:$}:$;d(z),b.refs.setReference(z)},[b.refs]),R=T.useCallback($=>{(ji($)||$===null)&&(g.current=$,l($)),(ji(b.refs.reference.current)||b.refs.reference.current===null||$!==null&&!ji($))&&b.refs.setReference($)},[b.refs]),D=T.useMemo(()=>({...b.refs,setReference:R,setPositionReference:E,domReference:g}),[b.refs,R,E]),k=T.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),Y=T.useMemo(()=>({...b,...n,refs:D,elements:k,nodeId:e}),[b,D,k,e,n]);return jg(()=>{n.dataRef.current.floatingContext=Y;const $=v==null?void 0:v.nodesRef.current.find(z=>z.id===e);$&&($.context=Y)}),T.useMemo(()=>({...b,context:Y,refs:D,elements:k}),[b,D,k,Y])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var E0=function(e,t){return E0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},E0(e,t)};function Kr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var on=function(){return on=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},on.apply(this,arguments)};function qa(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var rB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,l=r.children,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ve.createElement("div",{className:a,role:"dialog","aria-label":u,"aria-modal":"true"},l)},iB=function(r,e){var t=T.useRef(null),n=T.useRef(r);n.current=r;var i=T.useCallback(function(a){var l,u=a.composed&&a.composedPath&&a.composedPath().find(function(d){return d instanceof Node})||a.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,a))},[e]);return T.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Uv=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,l=r.ignoreClass,u=iB(t,l);return ve.createElement("div",{className:n,style:a,ref:function(d){u.current=d,i&&(i.current=d)}},e)},ze;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ze||(ze={}));function C2(){var r=typeof window<"u"?window:globalThis;return r}var cp=12;function bn(r){if(r==null)return new Date;var e=typeof r=="string"?FF(r):Je(r);return Vv(e)?e:new Date}function C_(r,e,t,n,i){i===void 0&&(i=bn());for(var a=Vd(t)||Vd(Jb()),l=Array.isArray(e)?e:[e],u=0,d=l;u<d.length;u++){var f=d[u],p=OF(r,f,i,{locale:a});if(Vv(p)&&(!n||r===Zn(p,f,t)))return p}return null}function Vv(r,e){return Dg(r)&&!ru(r,new Date("1/1/1800"))}function Zn(r,e,t){if(t==="en")return Bf(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Vd(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Vd(Jb()),Bf(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Bs(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Zn(r,i,n)||""}function sB(r,e,t){if(!r)return"";var n=Bs(r,t),i=e?Bs(e,t):"";return"".concat(n," - ").concat(i)}function aB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Bs(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Bs(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function x_(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,l=e.second,u=l===void 0?0:l;return Wm(Qm(Km(r,u),a),n)}function oB(r){return Hb(r)}function lB(r,e){return Zn(r,"ddd",e)}function Zm(r){return nu(r)}function Xl(r,e,t){var n=Vd(e||Jb());return Go(r,{locale:n,weekStartsOn:t})}function Fo(r){return n2(r)}function wf(r){return Lv(r)}function ZS(r){return v0(r)}function JS(){return nu(bn())}function eC(r){return e2(r)}function cB(r){return F6(r)}function uB(r){return t2(r)}function Va(r,e){return r&&e?UF(r,e):!r&&!e}function Oi(r,e){return r&&e?PF(r,e):!r&&!e}function Ug(r,e){return r&&e?jF(r,e):!r&&!e}function an(r,e){return r&&e?U6(r,e):!r&&!e}function Hc(r,e){return r&&e?V5(r,e):!r&&!e}function Ef(r,e,t){var n,i=nu(e),a=e2(t);try{n=zf(r,{start:i,end:a})}catch{n=!1}return n}function Jb(){var r=C2();return r.__localeId__}function Vd(r){if(typeof r=="string"){var e=C2();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function dB(r,e,t){return e(Zn(r,"EEEE",t))}function hB(r,e){return Zn(r,"EEEEEE",e)}function fB(r,e){return Zn(r,"EEE",e)}function ew(r,e){return Zn(zs(bn(),r),"LLLL",e)}function x2(r,e){return Zn(zs(bn(),r),"LLL",e)}function pB(r,e){return Zn(dd(bn(),r),"QQQ",e)}function qs(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return up(r,{minDate:n,maxDate:i})||a&&a.some(function(p){return p instanceof Date?an(r,p):an(r,p.date)})||l&&l.some(function(p){var g=p.start,v=p.end;return zf(r,{start:g,end:v})})||u&&!u.some(function(p){return an(r,p)})||d&&!d.some(function(p){var g=p.start,v=p.end;return zf(r,{start:g,end:v})})||f&&!f(bn(r))||!1}function tw(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var l=a.start,u=a.end;return zf(r,{start:l,end:u})}):n&&n.some(function(a){var l;return a instanceof Date?an(r,a):an(r,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function A2(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,u=t.filterDate;return up(r,{minDate:n?n2(n):void 0,maxDate:i?t2(i):void 0})||(a==null?void 0:a.some(function(d){return Oi(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Oi(r,d)})||u&&!u(bn(r))||!1}function Dm(r,e,t,n){var i=Ot(r),a=Pi(r),l=Ot(e),u=Pi(e),d=Ot(n);return i===l&&i===d?a<=t&&t<=u:i<l?d===i&&a<=t||d===l&&u>=t||d<l&&d>i:!1}function mB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates;return up(r,{minDate:n,maxDate:i})||a&&a.some(function(u){return Oi(u instanceof Date?u:u.date,r)})||l&&!l.some(function(u){return Oi(u,r)})||!1}function Rm(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,u=t.filterDate;return up(r,{minDate:n,maxDate:i})||(a==null?void 0:a.some(function(d){return Ug(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Ug(r,d)})||u&&!u(bn(r))||!1}function Mm(r,e,t){if(!e||!t||!Dg(e)||!Dg(t))return!1;var n=Ot(e),i=Ot(t);return n<=r&&i>=r}function Jm(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(r,0,1);return up(d,{minDate:n?Lv(n):void 0,maxDate:i?r2(i):void 0})||(a==null?void 0:a.some(function(f){return Va(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Va(d,f)})||u&&!u(bn(d))||!1}function km(r,e,t,n){var i=Ot(r),a=Wc(r),l=Ot(e),u=Wc(e),d=Ot(n);return i===l&&i===d?a<=t&&t<=u:i<l?d===i&&a<=t||d===l&&u>=t||d<l&&d>i:!1}function up(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&Od(r,i)<0||a&&Od(r,a)>0)!==null&&t!==void 0?t:!1}function tC(r,e){return e.some(function(t){return Uo(t)===Uo(r)&&Vo(t)===Vo(r)&&Kl(t)===Kl(r)})}function nC(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&tC(r,n)||i&&!tC(r,i)||a&&!a(r)||!1}function rC(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=bn();i=Wm(i,Uo(r)),i=Qm(i,Vo(r)),i=Km(i,Kl(r));var a=bn();a=Wm(a,Uo(t)),a=Qm(a,Vo(t)),a=Km(a,Kl(t));var l=bn();l=Wm(l,Uo(n)),l=Qm(l,Vo(n)),l=Km(l,Kl(n));var u;try{u=!zf(i,{start:a,end:l})}catch{u=!1}return u}function iC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Qc(r,1);return n&&Rg(n,a)>0||i&&i.every(function(l){return Rg(l,a)>0})||!1}function sC(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=wa(r,1);return n&&Rg(a,n)>0||i&&i.every(function(l){return Rg(a,l)>0})||!1}function gB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Lv(r),l=h2(a);return n&&Mg(n,l)>0||i&&i.every(function(u){return Mg(u,l)>0})||!1}function vB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=r2(r),l=zb(a,1);return n&&Mg(l,n)>0||i&&i.every(function(u){return Mg(l,u)>0})||!1}function aC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Nd(r,1);return n&&kg(n,a)>0||i&&i.every(function(l){return kg(l,a)>0})||!1}function yB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?cp:i,l=wf(Nd(r,a)),u=ql(l,a).endPeriod,d=n&&Ot(n);return d&&d>u||!1}function oC(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Po(r,1);return n&&kg(a,n)>0||i&&i.every(function(l){return kg(a,l)>0})||!1}function _B(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?cp:i,l=Po(r,a),u=ql(l,a).startPeriod,d=n&&Ot(n);return d&&d<u||!1}function D2(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Od(i,e)>=0});return PS(n)}else return t?PS(t):e}function R2(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Od(i,e)<=0});return NS(n)}else return t?NS(t):e}function lC(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var l=r[i];if(jo(l)){var u=Zn(l,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(e)||(d.push(e),n.set(u,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",g=l[p];if(typeof p=="string"&&Array.isArray(g))for(var v=0,b=g.length;v<b;v++){var E=g[v];if(E){var u=Zn(E,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(p)||(d.push(p),n.set(u,d))}}}}return n}function bB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function wB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(jo(i)){var l=Zn(i,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&bB(u.holidayNames,[a]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?qa(qa([],d,!0),[a],!1):[a],t.set(l,u)}}}),t}function EB(r,e,t,n,i){for(var a=i.length,l=[],u=0;u<a;u++){var d=r,f=i[u];f&&(d=O6(d,Uo(f)),d=g0(d,Vo(f)),d=j6(d,Kl(f)));var p=g0(r,(t+1)*n);sc(d,e)&&ru(d,p)&&f!=null&&l.push(f)}return l}function cC(r){return r<10?"0".concat(r):"".concat(r)}function ql(r,e){e===void 0&&(e=cp);var t=Math.ceil(Ot(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function TB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function uC(r){var e=r.getSeconds(),t=r.getMilliseconds();return Je(r.getTime()-e*1e3-t)}function SB(r,e){return uC(r).getTime()===uC(e).getTime()}function dC(r){if(!jo(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function hC(r,e){if(!jo(r)||!jo(e))throw new Error("Invalid date received");var t=dC(r),n=dC(e);return ru(t,n)}function M2(r){return r.key===ze.Space}var CB=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ve.createRef(),n.onTimeChange=function(i){var a,l;n.setState({time:i});var u=n.props.date,d=u instanceof Date&&!isNaN(+u),f=d?u:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),g=p[0],v=p[1];f.setHours(Number(g)),f.setMinutes(Number(v))}(l=(a=n.props).onChange)===null||l===void 0||l.call(a,f)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,l=a.date,u=a.timeString,d=a.customTimeInput;return d?T.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var f;(f=n.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){n.onTimeChange(f.target.value||u)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ve.createElement("div",{className:"react-datepicker__input-time-container"},ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ve.createElement("div",{className:"react-datepicker-time__input-container"},ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(T.Component),xB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=T.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return an(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),qs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return tw(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return an(t.props.day,Xl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&an(n,Xl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var l=Zn(i,"MM.dd.yyyy");return a.get(l)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,l=i.holidays;if(!l)return[void 0];var u=Zn(a,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Ef(i,a,l)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,l=i.selectsStart,u=i.selectsEnd,d=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,g=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||u||d)||!v||!f&&t.isDisabled()?!1:l&&g&&(ru(v,g)||Hc(v,g))?Ef(a,v,g):u&&p&&(sc(v,p)||Hc(v,p))||d&&p&&!g&&(sc(v,p)||Hc(v,p))?Ef(a,p,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.startDate,u=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u?an(a,d):an(a,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.endDate,u=i.selectsEnd,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u||d?an(a,f):an(a,l)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:an(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:an(l,i)},t.isWeekend=function(){var n=N5(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Pi(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Pi(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(bn())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return di("react-datepicker__day",i,"react-datepicker__day--"+lB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,u=n.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(Zn(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,l=a===void 0?new Map:a,u=n.excludeDates,d=Zn(i,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(u==null?void 0:u.filter(function(p){return p instanceof Date?an(p,i):an(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&an(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(zS(t.props.day),t.props.day):zS(t.props.day)},t.render=function(){return ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(T.Component),AB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=T.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!an(t.props.date,t.props.selected)&&an(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||an(t.props.date,t.props.selected)&&an(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&an(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,l=a===void 0?e.defaultProps.ariaLabelPrefix:a,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&an(this.props.date,this.props.selected)};return ve.createElement("div",{ref:this.weekNumberEl,className:di(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(T.Component),DB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return qs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var l,u,d,f=new Date(n),p=0;p<7;p++){var g=new Date(n);g.setDate(g.getDate()+p);var v=!t.isDisabled(g);if(v){f=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,i,a),t.props.showWeekPicker&&t.handleDayClick(f,a),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):oB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=ga(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=ga(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(ve.createElement(AB,on({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var d=ga(n,u);return ve.createElement(xB,on({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Xl(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!an(t.startOfWeek(),t.props.selected)&&an(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":an(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ve.createElement("div",{className:di(t)},this.renderDays())},e}(T.Component),df,RB=6,Ed={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},A_=(df={},df[Ed.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},df[Ed.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},df[Ed.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},df),Im=1;function fC(r,e){return r?Ed.FOUR_COLUMNS:e?Ed.TWO_COLUMNS:Ed.THREE_COLUMNS}var MB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=qa([],Array(12),!0).map(function(){return T.createRef()}),t.QUARTER_REFS=qa([],Array(4),!0).map(function(){return T.createRef()}),t.isDisabled=function(n){return qs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return tw(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,l;(l=(a=t.props).onDayClick)===null||l===void 0||l.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Oi(zs(a,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Ug(dd(a,n),l)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Oi(zs(a,n),u)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Ug(dd(a,n),u)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||f)||!v?!1:u&&g?Dm(v,g,n,l):d&&p||f&&p&&!g?Dm(p,v,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,u=a.startDate,d=a.selectsStart,f=zs(l,n),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?Oi(f,p):Oi(f,u)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,u=a.endDate,d=a.selectsEnd,f=a.selectsRange,p=zs(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||f?Oi(p,g):Oi(p,u)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||f)||!v?!1:u&&g?km(v,g,n,l):d&&p||f&&p&&!g?km(p,v,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=ga(n,6);return Oi(n,i)||Oi(a,i)},t.isCurrentMonth=function(n,i){return Ot(n)===Ot(bn())&&i===Pi(bn())},t.isCurrentQuarter=function(n,i){return Ot(n)===Ot(bn())&&i===Wc(bn())},t.isSelectedMonth=function(n,i,a){return Pi(a)===i&&Ot(n)===Ot(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,a){return Wc(n)===i&&Ot(n)===Ot(a)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,a=0,l=!1,u=Xl(Fo(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(E){return t.props.showWeekPicker?Xl(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(E){return t.props.showWeekPicker?Xl(E,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,g=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ve.createElement(DB,on({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:u,month:Pi(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!l;){a++,u=Ag(u,1);var v=i&&a>=RB,b=!i&&!t.isWeekInMonth(u);if(v||b)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),l=a.isDisabled,u=a.labelDate;l||t.handleDayClick(Fo(u),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,l=i.labelDate;a||t.handleDayMouseEnter(Fo(l))},t.handleMonthNavigation=function(n,i){var a,l,u,d;(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(u=t.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,a){var l,u=t.props,d=u.selected,f=u.preSelection,p=u.setPreSelection,g=u.minDate,v=u.maxDate,b=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(f){var R=fC(b,E),D=t.getVerticalOffset(R),k=(l=A_[R])===null||l===void 0?void 0:l.grid,Y=function(N,x,C){var I,j,B=x,U=C;switch(N){case ze.ArrowRight:B=wa(x,Im),U=C===11?0:C+Im;break;case ze.ArrowLeft:B=Qc(x,Im),U=C===0?11:C-Im;break;case ze.ArrowUp:B=Qc(x,D),U=!((I=k==null?void 0:k[0])===null||I===void 0)&&I.includes(C)?C+12-D:C-D;break;case ze.ArrowDown:B=wa(x,D),U=!((j=k==null?void 0:k[k.length-1])===null||j===void 0)&&j.includes(C)?C-12+D:C+D;break}return{newCalculatedDate:B,newCalculatedMonth:U}},$=function(N,x,C){for(var I=40,j=N,B=!1,U=0,X=Y(j,x,C),J=X.newCalculatedDate,P=X.newCalculatedMonth;!B;){if(U>=I){J=x,P=C;break}if(g&&J<g){j=ze.ArrowRight;var F=Y(j,J,P);J=F.newCalculatedDate,P=F.newCalculatedMonth}if(v&&J>v){j=ze.ArrowLeft;var F=Y(j,J,P);J=F.newCalculatedDate,P=F.newCalculatedMonth}if(mB(J,t.props)){var F=Y(j,J,P);J=F.newCalculatedDate,P=F.newCalculatedMonth}else B=!0;U++}return{newCalculatedDate:J,newCalculatedMonth:P}};if(i===ze.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),p==null||p(d));return}var z=$(i,f,a),G=z.newCalculatedDate,H=z.newCalculatedMonth;switch(i){case ze.ArrowRight:case ze.ArrowLeft:case ze.ArrowUp:case ze.ArrowDown:t.handleMonthNavigation(H,G);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=A_[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,l=a.disabledKeyboardNavigation,u=a.handleOnMonthKeyDown,d=n.key;d!==ze.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),u&&u(n)},t.onQuarterClick=function(n,i){var a=dd(t.props.day,i);Rm(a,t.props)||t.handleDayClick(ZS(a),n)},t.onQuarterMouseEnter=function(n){var i=dd(t.props.day,n);Rm(i,t.props)||t.handleDayMouseEnter(ZS(i))},t.handleQuarterNavigation=function(n,i){var a,l,u,d;t.isDisabled(i)||t.isExcluded(i)||((l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(u=t.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var a,l,u=n.key;if(!t.props.disabledKeyboardNavigation)switch(u){case ze.Enter:t.onQuarterClick(n,i),(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,t.props.selected);break;case ze.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,zb(t.props.preSelection,1));break;case ze.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,h2(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,l=a.day,u=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,g=zs(l,n);return{isDisabled:(i=(u||d||f||p)&&A2(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate,d=i.preSelection,f=i.monthClassName,p=f?f(zs(a,n)):void 0,g=t.getSelection();return di("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,n,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(a,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?Dm(l,u,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Pi(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Wc(t.props.preSelection),a=Rm(t.props.day,t.props),l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,u=i.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,f=i.day,p=i.locale,g=zs(f,n),v=t.isDisabled(g)||t.isExcluded(g)?d:l;return"".concat(v," ").concat(Zn(g,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,u=i.endDate,d=i.selected,f=i.minDate,p=i.maxDate,g=i.excludeDates,v=i.includeDates,b=i.filterDate,E=i.preSelection,R=i.disabledKeyboardNavigation,D=(f||p||g||v||b)&&Rm(dd(a,n),t.props);return di("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(a,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!R&&E&&t.isSelectedQuarter(a,n,E)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?km(l,u,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,l=i.renderMonthContent,u=i.locale,d=i.day,f=x2(n,u),p=ew(n,u);return l?l(n,f,p,d):a?p:f},t.getQuarterContent=function(n){var i,a=t.props,l=a.renderQuarterContent,u=a.locale,d=pB(n,u);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,f=(n=A_[fC(l,a)])===null||n===void 0?void 0:n.grid;return f==null?void 0:f.map(function(p,g){return ve.createElement("div",{className:"react-datepicker__month-wrapper",key:g},p.map(function(v,b){return ve.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(E){t.onMonthClick(E,v)},onKeyDown:function(E){M2(E)&&(E.preventDefault(),E.key=ze.Enter),t.onMonthKeyDown(E,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(u,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,l=[1,2,3,4];return ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return ve.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":a?t.isSelectedQuarter(i,u,a):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(i,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,d=n.showQuarterYearPicker,f=n.showWeekPicker;return di("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Zn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(T.Component),kB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ve.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ve.createElement(Uv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),IB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return ve.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ve.createElement(kB,on({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return x2(a,t.props.locale)}:function(a){return ew(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(T.Component);function LB(r,e){for(var t=[],n=Fo(r),i=Fo(e);!sc(n,i);)t.push(bn(n)),n=wa(n,1);return t}var OB=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=_0(i),l=Va(n.props.date,i)&&Oi(n.props.date,i);return ve.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":l?"true":void 0},l?ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Zn(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:LB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=di({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ve.createElement(Uv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),NB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Fo(t.props.minDate),i=Fo(t.props.maxDate),a=[];!sc(n,i);){var l=_0(n);a.push(ve.createElement("option",{key:l,value:l},Zn(n,t.props.dateFormat,t.props.locale))),n=wa(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:_0(Fo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Zn(t.props.date,t.props.dateFormat,t.props.locale);return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ve.createElement(OB,on({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=bn(n);Va(t.props.date,i)&&Oi(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),PB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&rC(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nC(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&SB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&rC(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nC(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Uo(n)*3600+Vo(n)*60+Kl(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,l;n.key===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(n.key===ze.ArrowUp||n.key===ze.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ze.ArrowDown||n.key===ze.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ze.Enter&&t.handleClick(i),(l=(a=t.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||bn(),d=Zm(u),f=t.props.injectTimes&&t.props.injectTimes.sort(function(D,k){return D.getTime()-k.getTime()}),p=60*TB(u),g=p/l,v=0;v<g;v++){var b=g0(d,v*l);if(i.push(b),f){var E=EB(d,b,v,l,f);i=i.concat(E)}}var R=i.reduce(function(D,k){return k.getTime()<=u.getTime()?k:D},i[0]);return i.map(function(D){return ve.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(k){D===R&&(t.centerLi=k)},onKeyDown:function(k){t.handleOnKeyDown(k,D)},tabIndex:D===R?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},Zn(D,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ve.createElement(ve.Fragment,null):ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ve.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ve.createElement("div",{className:"react-datepicker__time"},ve.createElement("div",{className:"react-datepicker__time-box"},ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(T.Component),pC=3,jB=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=qa([],Array(n.props.yearItemNumber),!0).map(function(){return T.createRef()}),n.isDisabled=function(i){return qs(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return tw(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var l,u;(u=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var l,u,d,f,p=n.props,g=p.date,v=p.yearItemNumber;if(!(g===void 0||v===void 0)){var b=ql(g,v).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,a),i-b<0?n.updateFocusOnPaginate(v-(b-i)):i-b>=v?n.updateFocusOnPaginate(Math.abs(v-(i-b))):(f=(d=n.YEAR_REFS[i-b])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},n.isSameDay=function(i,a){return an(i,a)},n.isCurrentYear=function(i){return i===Ot(bn())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Va(Ua(bn(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Va(Ua(bn(),i),n.props.endDate)},n.isInRange=function(i){return Mm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,p=a.endDate;return!(l||u||d)||!n.selectingDate()?!1:l&&p?Mm(i,n.selectingDate(),p):u&&f||d&&f&&!p?Mm(i,f,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.startDate,d=l.selectsStart,f=Ua(bn(),i);return d?Va(f,(a=n.selectingDate())!==null&&a!==void 0?a:null):Va(f,u??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=Ua(bn(),i);return d||f?Va(p,(a=n.selectingDate())!==null&&a!==void 0?a:null):Va(p,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var a=n.props,l=a.minDate,u=a.maxDate,d=a.excludeDates,f=a.includeDates,p=a.filterDate,g=wf(Ua(n.props.date,i)),v=(l||u||d||f||p)&&Jm(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!an(g,wf(n.props.selected))&&an(g,wf(n.props.preSelection))&&!v}},n.onYearClick=function(i,a){var l=n.props.date;l!==void 0&&n.handleYearClick(wf(Ua(l,a)),i)},n.onYearKeyDown=function(i,a){var l,u,d=i.key,f=n.props,p=f.date,g=f.yearItemNumber,v=f.handleOnKeyDown;if(d!==ze.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case ze.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case ze.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,Po(n.props.preSelection,1));break;case ze.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,Nd(n.props.preSelection,1));break;case ze.ArrowUp:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var b=ql(p,g).startPeriod,E=pC,R=a-E;if(R<b){var D=g%E;a>=b&&a<b+D?E=D:E+=D,R=a-E}n.handleYearNavigation(R,Nd(n.props.preSelection,E));break}case ze.ArrowDown:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var k=ql(p,g).endPeriod,E=pC,R=a+E;if(R>k){var D=g%E;a<=k&&a>k-D?E=D:E+=D,R=a+E}n.handleYearNavigation(R,Po(n.props.preSelection,E));break}}v&&v(i)},n.getYearClassNames=function(i){var a=n.props,l=a.date,u=a.minDate,d=a.maxDate,f=a.selected,p=a.excludeDates,g=a.includeDates,v=a.filterDate,b=a.yearClassName;return di("react-datepicker__year-text","react-datepicker__year-".concat(i),l?b==null?void 0:b(Ua(l,i)):void 0,{"react-datepicker__year-text--selected":f?i===Ot(f):void 0,"react-datepicker__year-text--disabled":(u||d||p||g||v)&&Jm(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Ot(n.props.preSelection),l=Jm(i,n.props);return i===a&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,l=i.yearItemNumber,u=i.onYearMouseEnter,d=i.onYearMouseLeave;if(a===void 0)return null;for(var f=ql(a,l),p=f.startPeriod,g=f.endPeriod,v=function(R){n.push(ve.createElement("div",{ref:b.YEAR_REFS[R-p],onClick:function(D){t.onYearClick(D,R)},onKeyDown:function(D){M2(D)&&(D.preventDefault(),D.key=ze.Enter),t.onYearKeyDown(D,R)},tabIndex:Number(b.getYearTabIndex(R)),className:b.getYearClassNames(R),onMouseEnter:b.props.usePointerEvent?void 0:function(D){return u(D,R)},onPointerEnter:b.props.usePointerEvent?function(D){return u(D,R)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(D){return d(D,R)},onPointerLeave:b.props.usePointerEvent?function(D){return d(D,R)}:void 0,key:R,"aria-current":b.isCurrentYear(R)?"date":void 0},b.getYearContent(R)))},b=this,E=p;E<=g;E++)v(E);return ve.createElement("div",{className:"react-datepicker__year"},ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(T.Component);function UB(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var l=r+e-a,u=!0;t&&(u=Ot(t)<=l),n&&u&&(u=Ot(n)>=l),u&&i.push(l)}return i}var VB=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var u=n.props.year,d=n.state.yearsList.map(function(g){return ve.createElement("div",{className:u===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:n.onChange.bind(n,g),"aria-selected":u===g?"true":void 0},u===g?ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),f=n.props.minDate?Ot(n.props.minDate):null,p=n.props.maxDate?Ot(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(g){return g===p}))&&d.unshift(ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!n.state.yearsList.find(function(g){return g===f}))&&d.push(ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var d=n.state.yearsList.map(function(f){return f+u});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=i||(a?10:5);return n.state={yearsList:UB(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=T.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=di({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ve.createElement(Uv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),FB=function(r){Kr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ot(t.props.minDate):1900,i=t.props.maxDate?Ot(t.props.maxDate):2100,a=[],l=n;l<=i;l++)a.push(ve.createElement("option",{key:l,value:l},l));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ve.createElement(VB,on({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,l;(l=(a=t.props).onSelect)===null||l===void 0||l.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),BB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],zB=function(r){var e=(r.className||"").split(/\s+/);return BB.some(function(t){return e.indexOf(t)>=0})},HB=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,l;zB(i.target)&&((l=(a=n.props).onDropdownFocus)===null||l===void 0||l.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,l=i.selected,u=i.openToDate,d=D2(n.props),f=R2(n.props),p=bn(),g=u||l||a;return g||(d&&ru(p,d)?d:f&&sc(p,f)?f:p)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:wa(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:Qc(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,l){n.props.onSelect(i,a,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:Ua(bn(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,l,u,d;(l=(a=n.props).onYearChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!qs(i,n.props))return i;for(var a=Fo(i),l=uB(i),u=V6(l,a),d=null,f=0;f<=u;f++){var p=ga(a,f);if(!qs(p,n.props)){d=p;break}}return d},n.handleMonthChange=function(i){var a,l,u,d=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var a,l;(l=(a=n.props).onMonthChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var l=a.date;return{date:Ua(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var l=a.date;return{date:zs(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var l=a.date;return{date:Ua(zs(l,Pi(i)),Ot(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var a=Xl(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ve.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=ga(a,u),f=n.formatWeekday(d,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ve.createElement("div",{key:u,"aria-label":Zn(d,"EEEE",n.props.locale),className:di("react-datepicker__day-name",p)},f)}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?dB(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?fB(i,a):hB(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Nd(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,l;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,f=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,p=Qc(n.state.date,f),g;switch(!0){case n.props.showMonthYearPicker:g=aC(n.state.date,n.props);break;case n.props.showYearPicker:g=yB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:g=gB(n.state.date,n.props);break;default:g=iC(p,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&g||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),g&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),E=void 0);var R=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,D=n.props,k=D.previousMonthButtonLabel,Y=k===void 0?e.defaultProps.previousMonthButtonLabel:k,$=D.previousYearButtonLabel,z=$===void 0?e.defaultProps.previousYearButtonLabel:$,G=n.props,H=G.previousMonthAriaLabel,N=H===void 0?typeof Y=="string"?Y:"Previous Month":H,x=G.previousYearAriaLabel,C=x===void 0?typeof z=="string"?z:"Previous Year":x;return ve.createElement("button",{type:"button",className:b.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":R?C:N},ve.createElement("span",{className:v.join(" ")},R?z:Y))}}},n.increaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Po(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=oC(n.state.date,n.props);break;case n.props.showYearPicker:a=_B(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=vB(n.state.date,n.props);break;default:a=sC(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,g=p.nextMonthButtonLabel,v=g===void 0?e.defaultProps.nextMonthButtonLabel:g,b=p.nextYearButtonLabel,E=b===void 0?e.defaultProps.nextYearButtonLabel:b,R=n.props,D=R.nextMonthAriaLabel,k=D===void 0?typeof v=="string"?v:"Next Month":D,Y=R.nextYearAriaLabel,$=Y===void 0?typeof E=="string"?E:"Next Year":Y;return ve.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":f?$:k},ve.createElement("span",{className:u.join(" ")},f?E:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ve.createElement("h2",{className:a.join(" ")},Zn(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ve.createElement(FB,on({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ot(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ve.createElement(IB,on({},e.defaultProps,n.props,{month:Pi(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ve.createElement(NB,on({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(JS(),i),n.props.setPreSelection&&n.props.setPreSelection(JS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ve.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var a=i.monthDate,l=i.i;return ve.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ve.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderCustomHeader=function(i){var a,l,u=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var f=iC(n.state.date,n.props),p=sC(n.state.date,n.props),g=aC(n.state.date,n.props),v=oC(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(a=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,on(on({},n.state),{customHeaderCount:d,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:g,nextYearButtonDisabled:v})),b&&ve.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(i){var a=i.monthDate,l=n.props,u=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?e.defaultProps.yearItemNumber:d,p=ql(a,f),g=p.startPeriod,v=p.endPeriod;return ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(g," - ").concat(v):Ot(a))},n.renderHeader=function(i){var a=i.monthDate,l=i.i,u=l===void 0?0:l,d={monthDate:a,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Po(n.state.date,d):Qc(n.state.date,d),p=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,g=0;g<u;++g){var v=g-p+d,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Po(f,v):wa(f,v),E="month-".concat(g),R=g<u-1,D=g>0;l.push(ve.createElement("div",{key:E,ref:function(k){n.monthContainer=k??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:g}),ve.createElement(MB,on({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:g,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:D}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ve.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ve.createElement(jB,on({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ve.createElement(PB,on({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Vv(i)&&!!n.props.selected,l=a?"".concat(cC(i.getHours()),":").concat(cC(i.getMinutes())):"";if(n.props.showTimeInput)return ve.createElement(CB,on({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,a=ql(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=a.startPeriod,u=a.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Ot(n.state.date):d="".concat(ew(Pi(n.state.date),n.props.locale)," ").concat(Ot(n.state.date)),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ve.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=T.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!an(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Oi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!an(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||rB;return ve.createElement(Uv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},ve.createElement(t,{className:di("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(T.Component),qB=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return ve.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(ve.isValidElement(e)){var l=e;return ve.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(n),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof i=="function"&&i(u)}})}return ve.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},k2=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return fL.createPortal(this.props.children,this.el)},e}(T.Component),$B="[tabindex], a, button, input, select, textarea",YB=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},I2=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll($B),1,-1).filter(YB)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=T.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(T.Component);function GB(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=T.useRef(null),l=nB(on({open:!i,whileElementsMounted:O9,placement:t.popperPlacement,middleware:qa([B9({padding:15}),F9(10),z9({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),u=on(on({},t),{hidePopper:i,popperProps:on(on({},l),{arrowRef:a})});return ve.createElement(r,on({},u))};return e}var WB=function(r){Kr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,a=t.hidePopper,l=a===void 0?e.defaultProps.hidePopper:a,u=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,g=t.portalId,v=t.portalHost,b=t.popperProps,E=t.showArrow,R=void 0;if(!l){var D=di("react-datepicker-popper",n);R=ve.createElement(I2,{enableTabLoop:f},ve.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:D,"data-placement":b.placement,onKeyDown:p},u,E&&ve.createElement(Q9,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(R=T.createElement(this.props.popperContainer,{},R)),g&&!l&&(R=ve.createElement(k2,{portalId:g,portalHost:v},R));var k=di("react-datepicker-wrapper",i);return ve.createElement(ve.Fragment,null,ve.createElement("div",{ref:b.refs.setReference,className:k},d),R)},e}(T.Component),QB=GB(WB),mC="react-datepicker-ignore-onclickoutside";function KB(r,e){return r&&e?Pi(r)!==Pi(e)||Ot(r)!==Ot(e):r!==e}var D_="Date input not valid.",R_=function(r){Kr(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:bn()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,l){var u=new Date(l.date);return Vv(u)?qa(qa([],a,!0),[on(on({},l),{date:u})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),l=D2(n.props),u=R2(n.props),d=l&&ru(a,Zm(l))?l:u&&sc(a,eC(u))?u:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:lC(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(on(on({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(on(on({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:M_},function(){i||n.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return jo(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,l,u=n.state.wasHidden,d=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((l=(a=n.props).onFocus)===null||l===void 0||l.call(a,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var a,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(a=n.props).onBlur)===null||l===void 0||l.call(a,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,l;n.props.inline||n.setOpen(!1),(l=(a=n.props).onClickOutside)===null||l===void 0||l.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,l,u,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var g=f[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,f),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){n.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:XB});var v=n.props,b=v.selectsRange,E=v.startDate,R=v.endDate,D=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,k=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,Y=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(b){var $=Y.split("-",2).map(function(j){return j.trim()}),z=$[0],G=$[1],H=C_(z??"",D,n.props.locale,k),N=C_(G??"",D,n.props.locale,k),x=(E==null?void 0:E.getTime())!==(H==null?void 0:H.getTime()),C=(R==null?void 0:R.getTime())!==(N==null?void 0:N.getTime());if(!x&&!C||H&&qs(H,n.props)||N&&qs(N,n.props))return;(u=(l=n.props).onChange)===null||u===void 0||u.call(l,[H,N],g)}else{var I=C_(Y,D,n.props.locale,k,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(I||!Y)&&n.setSelected(I,g,!0)}}},n.handleSelect=function(i,a,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(a),n.setSelected(i,a,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,d=u.startDate,f=u.endDate;d&&!f&&(n.props.swapRange||!hC(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,a,l,u){var d,f,p=i;if(n.props.showYearPicker){if(p!==null&&Jm(Ot(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&A2(p,n.props))return}else if(p!==null&&qs(p,n.props))return;var g=n.props,v=g.onChange,b=g.selectsRange,E=g.startDate,R=g.endDate,D=g.selectsMultiple,k=g.selectedDates,Y=g.minTime,$=g.swapRange;if(!Hc(n.props.selected,p)||n.props.allowSameDay||b||D)if(p!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=x_(p,{hour:Uo(n.props.selected),minute:Vo(n.props.selected),second:Kl(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&Y&&(p=x_(p,{hour:Y.getHours(),minute:Y.getMinutes(),second:Y.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),b){var z=!E&&!R,G=E&&!R,H=E&&R;z?v==null||v([p,null],a):G&&(p===null?v==null||v([null,null],a):hC(p,E)?$?v==null||v([p,E],a):v==null||v([p,null],a):v==null||v([E,p],a)),H&&(v==null||v([p,null],a))}else if(D){if(p!==null)if(!(k!=null&&k.length))v==null||v([p],a);else{var N=k.some(function(C){return an(C,p)});if(N){var x=k.filter(function(C){return!an(C,p)});v==null||v(x,a)}else v==null||v(qa(qa([],k,!0),[p],!1),a)}}else v==null||v(p,a);l||((f=(d=n.props).onSelect)===null||f===void 0||f.call(d,p,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){var a=jo(n.props.minDate),l=jo(n.props.maxDate),u=!0;if(i){var d=Zm(i);if(a&&l)u=Ef(i,n.props.minDate,n.props.maxDate);else if(a){var f=Zm(n.props.minDate);u=sc(i,f)||Hc(d,f)}else if(l){var p=eC(n.props.maxDate);u=ru(i,p)||Hc(d,p)}}u&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:x_(u,{hour:Uo(i),minute:Vo(i)});n.setState({preSelection:d}),(l=(a=n.props).onChange)===null||l===void 0||l.call(a,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,l,u,d,f,p;(l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i);var g=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(g===ze.ArrowDown||g===ze.ArrowUp||g===ze.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(g===ze.ArrowDown||g===ze.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var E=bn(n.state.preSelection);g===ze.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===M_?(n.handleSelect(E,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):g===ze.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):g===ze.Tab&&n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:D_})}},n.onPortalKeyDown=function(i){var a=i.key;a===ze.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,l,u,d,f,p,g=n.props,v=g.minDate,b=g.maxDate,E=g.disabledKeyboardNavigation,R=g.showWeekPicker,D=g.shouldCloseOnSelect,k=g.locale,Y=g.calendarStartDay,$=g.adjustDateOnChange,z=g.inline;if((l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i),!E){var G=i.key,H=i.shiftKey,N=bn(n.state.preSelection),x=function(J,P){var F=P;switch(J){case ze.ArrowRight:F=R?Ag(P,1):ga(P,1);break;case ze.ArrowLeft:F=R?HS(P):VF(P);break;case ze.ArrowUp:F=HS(P);break;case ze.ArrowDown:F=Ag(P,1);break;case ze.PageUp:F=H?Nd(P,1):Qc(P,1);break;case ze.PageDown:F=H?Po(P,1):wa(P,1);break;case ze.Home:F=Xl(P,k,Y);break;case ze.End:F=cB(P);break}return F},C=function(J,P){for(var F=40,ee=J,ne=!1,L=0,re=x(J,P);!ne;){if(L>=F){re=P;break}v&&re<v&&(ee=ze.ArrowRight,re=qs(v,n.props)?x(ee,re):v),b&&re>b&&(ee=ze.ArrowLeft,re=qs(b,n.props)?x(ee,re):b),qs(re,n.props)?((ee===ze.PageUp||ee===ze.Home)&&(ee=ze.ArrowRight),(ee===ze.PageDown||ee===ze.End)&&(ee=ze.ArrowLeft),re=x(ee,re)):ne=!0,L++}return re};if(G===ze.Enter){i.preventDefault(),n.handleSelect(N,i),!D&&n.setPreSelection(N);return}else if(G===ze.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:D_});return}var I=null;switch(G){case ze.ArrowLeft:case ze.ArrowRight:case ze.ArrowUp:case ze.ArrowDown:case ze.PageUp:case ze.PageDown:case ze.Home:case ze.End:I=C(G,N);break}if(!I){(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:D_});return}if(i.preventDefault(),n.setState({lastPreSelectChange:M_}),$&&n.setSelected(I),n.setPreSelection(I),z){var j=Pi(N),B=Pi(I),U=Ot(N),X=Ot(I);j!==B||U!==X?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===ze.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,l=a.selectsRange,u=a.onChange;l?u==null||u([null,null],i):u==null||u(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:ve.createElement(HB,on({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:wB(n.modifyHolidays()),outsideClickIgnoreClass:mC,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,a=i.dateFormat,l=a===void 0?e.defaultProps.dateFormat:a,u=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Bs(n.props.startDate,{dateFormat:f,locale:u}),". ").concat(n.props.endDate?"End date: "+Bs(n.props.endDate,{dateFormat:f,locale:u}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Bs(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?p="Selected year: ".concat(Bs(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?p="Selected month: ".concat(Bs(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Bs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(Bs(n.props.selected,{dateFormat:f,locale:u})),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var i,a,l,u=di(n.props.className,(i={},i[mC]=n.state.open,i)),d=n.props.customInput||ve.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref",p=n.props,g=p.dateFormat,v=g===void 0?e.defaultProps.dateFormat:g,b=p.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?sB(n.props.startDate,n.props.endDate,{dateFormat:v,locale:b}):n.props.selectsMultiple?aB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:b}):Bs(n.props.selected,{dateFormat:v,locale:b});return T.cloneElement(d,(a={},a[f]=function(R){n.input=R},a.value=E,a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=di(d.props.className,u),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,l=i.disabled,u=i.selected,d=i.startDate,f=i.endDate,p=i.clearButtonTitle,g=i.clearButtonClassName,v=g===void 0?"":g,b=i.ariaLabelClose,E=b===void 0?"Close":b,R=i.selectedDates;return a&&(u!=null||d!=null||f!=null||R!=null&&R.length)?ve.createElement("button",{type:"button",className:di("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,l,u;t.inline&&KB(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:lC(this.props.highlightDates)}),!n.focused&&!Hc(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ve.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ve.createElement(qB,on({icon:i,className:di(l,!l&&a,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ve.createElement(I2,{enableTabLoop:this.props.enableTabLoop},ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ve.createElement(k2,on({portalId:this.props.portalId},this.props),n)),ve.createElement("div",null,this.renderInputContainer(),n)}return ve.createElement(QB,on({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(T.Component),XB="input",M_="navigate";function $f(r){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(r)}function ZB(r,e){if($f(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function JB(r){var e=ZB(r,"string");return $f(e)=="symbol"?e:e+""}function Ee(r,e,t){return(e=JB(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function L2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k_,gC;function e8(){if(gC)return k_;gC=1;var r=function(t,n,i,a,l,u,d,f){if(!t){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,a,l,u,d,f],v=0;p=new Error(n.replace(/%s/g,function(){return g[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return k_=r,k_}var t8=e8(),Lr=L2(t8),Dt=T.createContext(null);function n8(){Lr(!!T.useContext,"useGoogleMap is React hook and requires React version 16.8+");var r=T.useContext(Dt);return Lr(!!r,"useGoogleMap needs a GoogleMap available up in the tree"),r}function r8(r,e,t){return Object.keys(r).reduce(function(i,a){return e(i,r[a],a)},t)}function i8(r,e){Object.keys(r).forEach(t=>e(r[t],t))}function s8(r,e,t,n){var i={},a=(l,u)=>{var d=t[u];d!==e[u]&&(i[u]=d,l(n,d))};return i8(r,a),i}function a8(r,e,t){var n=r8(t,function(a,l,u){return typeof r[u]=="function"&&a.push(google.maps.event.addListener(e,l,r[u])),a},[]);return n}function o8(r){google.maps.event.removeListener(r)}function Bt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(o8)}function Nt(r){var{updaterMap:e,eventMap:t,prevProps:n,nextProps:i,instance:a}=r,l=a8(i,a,t);return s8(e,n,i,a),l}var vC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},yC={extraMapTypes(r,e){e.forEach(function(n,i){r.mapTypes.set(String(i),n)})},center(r,e){r.setCenter(e)},clickableIcons(r,e){r.setClickableIcons(e)},heading(r,e){r.setHeading(e)},mapTypeId(r,e){r.setMapTypeId(e)},options(r,e){r.setOptions(e)},streetView(r,e){r.setStreetView(e)},tilt(r,e){r.setTilt(e)},zoom(r,e){r.setZoom(e)}};function l8(r){var{children:e,options:t,id:n,mapContainerStyle:i,mapContainerClassName:a,center:l,onClick:u,onDblClick:d,onDrag:f,onDragEnd:p,onDragStart:g,onMouseMove:v,onMouseOut:b,onMouseOver:E,onMouseDown:R,onMouseUp:D,onRightClick:k,onCenterChanged:Y,onLoad:$,onUnmount:z}=r,[G,H]=T.useState(null),N=T.useRef(null),[x,C]=T.useState(null),[I,j]=T.useState(null),[B,U]=T.useState(null),[X,J]=T.useState(null),[P,F]=T.useState(null),[ee,ne]=T.useState(null),[L,re]=T.useState(null),[ae,ie]=T.useState(null),[oe,Z]=T.useState(null),[we,je]=T.useState(null),[me,Fe]=T.useState(null),[Ie,He]=T.useState(null);return T.useEffect(()=>{t&&G!==null&&G.setOptions(t)},[G,t]),T.useEffect(()=>{G!==null&&typeof l<"u"&&G.setCenter(l)},[G,l]),T.useEffect(()=>{G&&d&&(I!==null&&google.maps.event.removeListener(I),j(google.maps.event.addListener(G,"dblclick",d)))},[d]),T.useEffect(()=>{G&&p&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(G,"dragend",p)))},[p]),T.useEffect(()=>{G&&g&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(G,"dragstart",g)))},[g]),T.useEffect(()=>{G&&R&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(G,"mousedown",R)))},[R]),T.useEffect(()=>{G&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(G,"mousemove",v)))},[v]),T.useEffect(()=>{G&&b&&(L!==null&&google.maps.event.removeListener(L),re(google.maps.event.addListener(G,"mouseout",b)))},[b]),T.useEffect(()=>{G&&E&&(ae!==null&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(G,"mouseover",E)))},[E]),T.useEffect(()=>{G&&D&&(oe!==null&&google.maps.event.removeListener(oe),Z(google.maps.event.addListener(G,"mouseup",D)))},[D]),T.useEffect(()=>{G&&k&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(G,"rightclick",k)))},[k]),T.useEffect(()=>{G&&u&&(me!==null&&google.maps.event.removeListener(me),Fe(google.maps.event.addListener(G,"click",u)))},[u]),T.useEffect(()=>{G&&f&&(Ie!==null&&google.maps.event.removeListener(Ie),He(google.maps.event.addListener(G,"drag",f)))},[f]),T.useEffect(()=>{G&&Y&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(G,"center_changed",Y)))},[u]),T.useEffect(()=>{var de=N.current===null?null:new google.maps.Map(N.current,t);return H(de),de!==null&&$&&$(de),()=>{de!==null&&z&&z(de)}},[]),S.jsx("div",{id:n,ref:N,style:i,className:a,children:S.jsx(Dt.Provider,{value:G,children:G!==null?e:null})})}T.memo(l8);class c8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{map:null}),Ee(this,"registeredEvents",[]),Ee(this,"mapRef",null),Ee(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Ee(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Ee(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Ee(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Nt({updaterMap:yC,eventMap:vC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:yC,eventMap:vC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Bt(this.registeredEvents))}render(){return S.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:S.jsx(Dt.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function _C(r,e,t,n,i,a,l){try{var u=r[a](l),d=u.value}catch(f){return void t(f)}u.done?e(d):Promise.resolve(d).then(n,i)}function O2(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function l(d){_C(a,n,i,l,u,"next",d)}function u(d){_C(a,n,i,l,u,"throw",d)}l(void 0)})}}function N2(r){var{googleMapsApiKey:e,googleMapsClientId:t,version:n="weekly",language:i,region:a,libraries:l,channel:u,mapIds:d,authReferrerPolicy:f}=r,p=[];return Lr(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),n&&p.push("v=".concat(n)),i&&p.push("language=".concat(i)),a&&p.push("region=".concat(a)),l&&l.length&&p.push("libraries=".concat(l.sort().join(","))),u&&p.push("channel=".concat(u)),d&&d.length&&p.push("map_ids=".concat(d.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var qc=typeof document<"u";function P2(r){var{url:e,id:t,nonce:n}=r;return qc?new Promise(function(a,l){var u=document.getElementById(t),d=window;if(u){var f=u.getAttribute("data-state");if(u.src===e&&f!=="error"){if(f==="ready")return a(t);var p=d.initMap,g=u.onerror;d.initMap=function(){p&&p(),a(t)},u.onerror=function(b){g&&g(b),l(b)};return}else u.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=e,v.id=t,v.async=!0,v.nonce=n||"",v.onerror=function(E){v.setAttribute("data-state","error"),l(E)},d.initMap=function(){v.setAttribute("data-state","ready"),a(t)},document.head.appendChild(v)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function bC(r){var e=r.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:r.tagName.toLowerCase()==="style"&&r.styleSheet&&r.styleSheet.cssText&&r.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(r.styleSheet.cssText="",!0):r.tagName.toLowerCase()==="style"&&r.innerHTML&&r.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(r.innerHTML="",!0):r.tagName.toLowerCase()==="style"&&!r.styleSheet&&!r.innerHTML}function j2(){var r=document.getElementsByTagName("head")[0];if(r){var e=r.insertBefore.bind(r);r.insertBefore=function(i,a){return bC(i)||Reflect.apply(e,r,[i,a]),i};var t=r.appendChild.bind(r);r.appendChild=function(i){return bC(i)||Reflect.apply(t,r,[i]),i}}}var hf=!1;function U2(){return S.jsx("div",{children:"Loading..."})}var T0={id:"script-loader",version:"weekly"};class V2 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"check",null),Ee(this,"state",{loaded:!1}),Ee(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Ee(this,"isCleaningUp",O2(function*(){function e(t){if(!hf)t();else if(qc)var n=window.setInterval(function(){hf||(window.clearInterval(n),t())},1)}return new Promise(e)})),Ee(this,"cleanup",()=>{hf=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),Ee(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&j2(),Lr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:N2(this.props)};P2(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Ee(this,"getRef",e=>{this.check=e})}componentDidMount(){if(qc){if(window.google&&window.google.maps&&!hf){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),qc&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(qc){this.cleanup();var e=()=>{this.check||(delete window.google,hf=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||S.jsx(U2,{})]})}}Ee(V2,"defaultProps",T0);function u8(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function nw(r,e){if(r==null)return{};var t,n,i=u8(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var wC;function d8(r){var{id:e=T0.id,version:t=T0.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:u,libraries:d,preventGoogleFontsLoading:f,channel:p,mapIds:g,authReferrerPolicy:v}=r,b=T.useRef(!1),[E,R]=T.useState(!1),[D,k]=T.useState(void 0);T.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),T.useEffect(function(){qc&&f&&j2()},[f]),T.useEffect(function(){E&&Lr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var Y=N2({version:t,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:u,libraries:d,channel:p,mapIds:g,authReferrerPolicy:v});T.useEffect(function(){if(!qc)return;function G(){b.current&&(R(!0),wC=Y)}if(window.google&&window.google.maps&&wC===Y){G();return}P2({id:e,url:Y,nonce:n}).then(G).catch(function(N){b.current&&k(N),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(N)})},[e,Y,n]);var $=T.useRef(void 0);return T.useEffect(function(){$.current&&d!==$.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),$.current=d},[d]),{isLoaded:E,loadError:D,url:Y}}var h8=["loadingElement","onLoad","onError","onUnmount","children"],f8=S.jsx(U2,{});function p8(r){var{loadingElement:e,onLoad:t,onError:n,onUnmount:i,children:a}=r,l=nw(r,h8),{isLoaded:u,loadError:d}=d8(l);return T.useEffect(function(){u&&typeof t=="function"&&t()},[u,t]),T.useEffect(function(){d&&typeof n=="function"&&n(d)},[d,n]),T.useEffect(function(){return()=>{i&&i()}},[i]),u?a:e||f8}T.memo(p8);var EC;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(EC||(EC={}));function TC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var SC={},CC={options(r,e){r.setOptions(e)}};function m8(r){var{options:e,onLoad:t,onUnmount:n}=r,i=T.useContext(Dt),[a,l]=T.useState(null);return T.useEffect(()=>{a!==null&&a.setMap(i)},[i]),T.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),T.useEffect(()=>{var u=new google.maps.TrafficLayer(Vg(Vg({},e),{},{map:i}));return l(u),t&&t(u),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}T.memo(m8);class g8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{trafficLayer:null}),Ee(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Ee(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Vg(Vg({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:CC,eventMap:SC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:CC,eventMap:SC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Bt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ee(g8,"contextType",Dt);function v8(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(Dt),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.BicyclingLayer;return a(l),l.setMap(n),e&&e(l),()=>{l!==null&&(t&&t(l),l.setMap(null))}},[]),null}T.memo(v8);class y8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{bicyclingLayer:null}),Ee(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Ee(y8,"contextType",Dt);function _8(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(Dt),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.TransitLayer;return a(l),l.setMap(n),e&&e(l),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}T.memo(_8);class b8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{transitLayer:null}),Ee(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Ee(b8,"contextType",Dt);function xC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Fg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var AC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},DC={drawingMode(r,e){r.setDrawingMode(e)},options(r,e){r.setOptions(e)}};function w8(r){var{options:e,drawingMode:t,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:l,onPolylineComplete:u,onRectangleComplete:d,onLoad:f,onUnmount:p}=r,g=T.useContext(Dt),[v,b]=T.useState(null),[E,R]=T.useState(null),[D,k]=T.useState(null),[Y,$]=T.useState(null),[z,G]=T.useState(null),[H,N]=T.useState(null),[x,C]=T.useState(null);return T.useEffect(()=>{v!==null&&v.setMap(g)},[g]),T.useEffect(()=>{e&&v!==null&&v.setOptions(e)},[v,e]),T.useEffect(()=>{v!==null&&v.setDrawingMode(t??null)},[v,t]),T.useEffect(()=>{v&&n&&(E!==null&&google.maps.event.removeListener(E),R(google.maps.event.addListener(v,"circlecomplete",n)))},[v,n]),T.useEffect(()=>{v&&i&&(D!==null&&google.maps.event.removeListener(D),k(google.maps.event.addListener(v,"markercomplete",i)))},[v,i]),T.useEffect(()=>{v&&a&&(Y!==null&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(v,"overlaycomplete",a)))},[v,a]),T.useEffect(()=>{v&&l&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(v,"polygoncomplete",l)))},[v,l]),T.useEffect(()=>{v&&u&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(v,"polylinecomplete",u)))},[v,u]),T.useEffect(()=>{v&&d&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(v,"rectanglecomplete",d)))},[v,d]),T.useEffect(()=>{Lr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(Fg(Fg({},e),{},{map:g}));return t&&I.setDrawingMode(t),n&&R(google.maps.event.addListener(I,"circlecomplete",n)),i&&k(google.maps.event.addListener(I,"markercomplete",i)),a&&$(google.maps.event.addListener(I,"overlaycomplete",a)),l&&G(google.maps.event.addListener(I,"polygoncomplete",l)),u&&N(google.maps.event.addListener(I,"polylinecomplete",u)),d&&C(google.maps.event.addListener(I,"rectanglecomplete",d)),b(I),f&&f(I),()=>{v!==null&&(E&&google.maps.event.removeListener(E),D&&google.maps.event.removeListener(D),Y&&google.maps.event.removeListener(Y),z&&google.maps.event.removeListener(z),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),p&&p(v),v.setMap(null))}},[]),null}T.memo(w8);class E8 extends T.PureComponent{constructor(e){super(e),Ee(this,"registeredEvents",[]),Ee(this,"state",{drawingManager:null}),Ee(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Lr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Fg(Fg({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:DC,eventMap:AC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:DC,eventMap:AC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Bt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Ee(E8,"contextType",Dt);function RC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Td(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var MC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},kC={animation(r,e){r.setAnimation(e)},clickable(r,e){r.setClickable(e)},cursor(r,e){r.setCursor(e)},draggable(r,e){r.setDraggable(e)},icon(r,e){r.setIcon(e)},label(r,e){r.setLabel(e)},map(r,e){r.setMap(e)},opacity(r,e){r.setOpacity(e)},options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},shape(r,e){r.setShape(e)},title(r,e){r.setTitle(e)},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},Bg={};function T8(r){var{position:e,options:t,clusterer:n,noClustererRedraw:i,children:a,draggable:l,visible:u,animation:d,clickable:f,cursor:p,icon:g,label:v,opacity:b,shape:E,title:R,zIndex:D,onClick:k,onDblClick:Y,onDrag:$,onDragEnd:z,onDragStart:G,onMouseOut:H,onMouseOver:N,onMouseUp:x,onMouseDown:C,onRightClick:I,onClickableChanged:j,onCursorChanged:B,onAnimationChanged:U,onDraggableChanged:X,onFlatChanged:J,onIconChanged:P,onPositionChanged:F,onShapeChanged:ee,onTitleChanged:ne,onVisibleChanged:L,onZindexChanged:re,onLoad:ae,onUnmount:ie}=r,oe=T.useContext(Dt),[Z,we]=T.useState(null),[je,me]=T.useState(null),[Fe,Ie]=T.useState(null),[He,de]=T.useState(null),[Ce,qe]=T.useState(null),[ke,Ze]=T.useState(null),[Qe,lt]=T.useState(null),[Kt,vn]=T.useState(null),[Pt,Gn]=T.useState(null),[zt,xt]=T.useState(null),[ln,Rt]=T.useState(null),[pt,Tt]=T.useState(null),[kt,yn]=T.useState(null),[Wn,En]=T.useState(null),[Un,zn]=T.useState(null),[kn,Xr]=T.useState(null),[Or,fi]=T.useState(null),[Nr,hr]=T.useState(null),[br,Ae]=T.useState(null),[Pe,Ke]=T.useState(null),[St,Gt]=T.useState(null),[mt,gt]=T.useState(null);T.useEffect(()=>{Z!==null&&Z.setMap(oe)},[oe]),T.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),T.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setDraggable(l)},[Z,l]),T.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),T.useEffect(()=>{typeof u<"u"&&Z!==null&&Z.setVisible(u)},[Z,u]),T.useEffect(()=>{Z==null||Z.setAnimation(d)},[Z,d]),T.useEffect(()=>{Z&&f!==void 0&&Z.setClickable(f)},[Z,f]),T.useEffect(()=>{Z&&p!==void 0&&Z.setCursor(p)},[Z,p]),T.useEffect(()=>{Z&&g!==void 0&&Z.setIcon(g)},[Z,g]),T.useEffect(()=>{Z&&v!==void 0&&Z.setLabel(v)},[Z,v]),T.useEffect(()=>{Z&&b!==void 0&&Z.setOpacity(b)},[Z,b]),T.useEffect(()=>{Z&&E!==void 0&&Z.setShape(E)},[Z,E]),T.useEffect(()=>{Z&&R!==void 0&&Z.setTitle(R)},[Z,R]),T.useEffect(()=>{Z&&D!==void 0&&Z.setZIndex(D)},[Z,D]),T.useEffect(()=>{Z&&Y&&(je!==null&&google.maps.event.removeListener(je),me(google.maps.event.addListener(Z,"dblclick",Y)))},[Y]),T.useEffect(()=>{Z&&z&&(Fe!==null&&google.maps.event.removeListener(Fe),Ie(google.maps.event.addListener(Z,"dragend",z)))},[z]),T.useEffect(()=>{Z&&G&&(He!==null&&google.maps.event.removeListener(He),de(google.maps.event.addListener(Z,"dragstart",G)))},[G]),T.useEffect(()=>{Z&&C&&(Ce!==null&&google.maps.event.removeListener(Ce),qe(google.maps.event.addListener(Z,"mousedown",C)))},[C]),T.useEffect(()=>{Z&&H&&(ke!==null&&google.maps.event.removeListener(ke),Ze(google.maps.event.addListener(Z,"mouseout",H)))},[H]),T.useEffect(()=>{Z&&N&&(Qe!==null&&google.maps.event.removeListener(Qe),lt(google.maps.event.addListener(Z,"mouseover",N)))},[N]),T.useEffect(()=>{Z&&x&&(Kt!==null&&google.maps.event.removeListener(Kt),vn(google.maps.event.addListener(Z,"mouseup",x)))},[x]),T.useEffect(()=>{Z&&I&&(Pt!==null&&google.maps.event.removeListener(Pt),Gn(google.maps.event.addListener(Z,"rightclick",I)))},[I]),T.useEffect(()=>{Z&&k&&(zt!==null&&google.maps.event.removeListener(zt),xt(google.maps.event.addListener(Z,"click",k)))},[k]),T.useEffect(()=>{Z&&$&&(ln!==null&&google.maps.event.removeListener(ln),Rt(google.maps.event.addListener(Z,"drag",$)))},[$]),T.useEffect(()=>{Z&&j&&(pt!==null&&google.maps.event.removeListener(pt),Tt(google.maps.event.addListener(Z,"clickable_changed",j)))},[j]),T.useEffect(()=>{Z&&B&&(kt!==null&&google.maps.event.removeListener(kt),yn(google.maps.event.addListener(Z,"cursor_changed",B)))},[B]),T.useEffect(()=>{Z&&U&&(Wn!==null&&google.maps.event.removeListener(Wn),En(google.maps.event.addListener(Z,"animation_changed",U)))},[U]),T.useEffect(()=>{Z&&X&&(Un!==null&&google.maps.event.removeListener(Un),zn(google.maps.event.addListener(Z,"draggable_changed",X)))},[X]),T.useEffect(()=>{Z&&J&&(kn!==null&&google.maps.event.removeListener(kn),Xr(google.maps.event.addListener(Z,"flat_changed",J)))},[J]),T.useEffect(()=>{Z&&P&&(Or!==null&&google.maps.event.removeListener(Or),fi(google.maps.event.addListener(Z,"icon_changed",P)))},[P]),T.useEffect(()=>{Z&&F&&(Nr!==null&&google.maps.event.removeListener(Nr),hr(google.maps.event.addListener(Z,"position_changed",F)))},[F]),T.useEffect(()=>{Z&&ee&&(br!==null&&google.maps.event.removeListener(br),Ae(google.maps.event.addListener(Z,"shape_changed",ee)))},[ee]),T.useEffect(()=>{Z&&ne&&(Pe!==null&&google.maps.event.removeListener(Pe),Ke(google.maps.event.addListener(Z,"title_changed",ne)))},[ne]),T.useEffect(()=>{Z&&L&&(St!==null&&google.maps.event.removeListener(St),Gt(google.maps.event.addListener(Z,"visible_changed",L)))},[L]),T.useEffect(()=>{Z&&re&&(mt!==null&&google.maps.event.removeListener(mt),gt(google.maps.event.addListener(Z,"zindex_changed",re)))},[re]),T.useEffect(()=>{var We=Td(Td(Td({},t||Bg),n?Bg:{map:oe}),{},{position:e}),Le=new google.maps.Marker(We);return n?n.addMarker(Le,!!i):Le.setMap(oe),e&&Le.setPosition(e),typeof u<"u"&&Le.setVisible(u),typeof l<"u"&&Le.setDraggable(l),typeof f<"u"&&Le.setClickable(f),typeof p=="string"&&Le.setCursor(p),g&&Le.setIcon(g),typeof v<"u"&&Le.setLabel(v),typeof b<"u"&&Le.setOpacity(b),E&&Le.setShape(E),typeof R=="string"&&Le.setTitle(R),typeof D=="number"&&Le.setZIndex(D),Y&&me(google.maps.event.addListener(Le,"dblclick",Y)),z&&Ie(google.maps.event.addListener(Le,"dragend",z)),G&&de(google.maps.event.addListener(Le,"dragstart",G)),C&&qe(google.maps.event.addListener(Le,"mousedown",C)),H&&Ze(google.maps.event.addListener(Le,"mouseout",H)),N&&lt(google.maps.event.addListener(Le,"mouseover",N)),x&&vn(google.maps.event.addListener(Le,"mouseup",x)),I&&Gn(google.maps.event.addListener(Le,"rightclick",I)),k&&xt(google.maps.event.addListener(Le,"click",k)),$&&Rt(google.maps.event.addListener(Le,"drag",$)),j&&Tt(google.maps.event.addListener(Le,"clickable_changed",j)),B&&yn(google.maps.event.addListener(Le,"cursor_changed",B)),U&&En(google.maps.event.addListener(Le,"animation_changed",U)),X&&zn(google.maps.event.addListener(Le,"draggable_changed",X)),J&&Xr(google.maps.event.addListener(Le,"flat_changed",J)),P&&fi(google.maps.event.addListener(Le,"icon_changed",P)),F&&hr(google.maps.event.addListener(Le,"position_changed",F)),ee&&Ae(google.maps.event.addListener(Le,"shape_changed",ee)),ne&&Ke(google.maps.event.addListener(Le,"title_changed",ne)),L&&Gt(google.maps.event.addListener(Le,"visible_changed",L)),re&&gt(google.maps.event.addListener(Le,"zindex_changed",re)),we(Le),ae&&ae(Le),()=>{je!==null&&google.maps.event.removeListener(je),Fe!==null&&google.maps.event.removeListener(Fe),He!==null&&google.maps.event.removeListener(He),Ce!==null&&google.maps.event.removeListener(Ce),ke!==null&&google.maps.event.removeListener(ke),Qe!==null&&google.maps.event.removeListener(Qe),Kt!==null&&google.maps.event.removeListener(Kt),Pt!==null&&google.maps.event.removeListener(Pt),zt!==null&&google.maps.event.removeListener(zt),pt!==null&&google.maps.event.removeListener(pt),kt!==null&&google.maps.event.removeListener(kt),Wn!==null&&google.maps.event.removeListener(Wn),Un!==null&&google.maps.event.removeListener(Un),kn!==null&&google.maps.event.removeListener(kn),Or!==null&&google.maps.event.removeListener(Or),Nr!==null&&google.maps.event.removeListener(Nr),Pe!==null&&google.maps.event.removeListener(Pe),St!==null&&google.maps.event.removeListener(St),mt!==null&&google.maps.event.removeListener(mt),ie&&ie(Le),n?n.removeMarker(Le,!!i):Le&&Le.setMap(null)}},[]);var tt=T.useMemo(()=>a?T.Children.map(a,We=>{if(!T.isValidElement(We))return We;var Le=We;return T.cloneElement(Le,{anchor:Z})}):null,[a,Z]);return S.jsx(S.Fragment,{children:tt})||null}T.memo(T8);class F2 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[])}componentDidMount(){var e=this;return O2(function*(){var t=Td(Td(Td({},e.props.options||Bg),e.props.clusterer?Bg:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Nt({updaterMap:kC,eventMap:MC,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:kC,eventMap:MC,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Bt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?T.Children.map(this.props.children,t=>{if(!T.isValidElement(t))return t;var n=t;return T.cloneElement(n,{anchor:this.marker})}):null;return e||null}}Ee(F2,"contextType",Dt);var S8=function(){function r(e,t){e.getClusterer().extend(r,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return r.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},r.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},r.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),a=t.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=t.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var u=l.getZoom()||0;n!==null&&u>n&&l.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},r.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},r.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},r.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},r.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},r.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},r.prototype.show=function(){var e,t,n,i,a,l;if(this.div&&this.center){var u=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((t=d[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=u,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var b=document.createElement("div");b.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(b.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(b.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(b),this.div.title=u,this.div.style.display=""}this.visible=!0},r.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},r.prototype.setCenter=function(e){this.center=e},r.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},r}(),C8=function(){function r(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new S8(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return r.prototype.getSize=function(){return this.markers.length},r.prototype.getMarkers=function(){return this.markers},r.prototype.getCenter=function(){return this.center},r.prototype.getMap=function(){return this.map},r.prototype.getClusterer=function(){return this.markerClusterer},r.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0,i=t;n<i.length;n++){var a=i[n],l=a.getPosition();l&&e.extend(l)}return e},r.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},r.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,l=this.markerClusterer.getMaxZoom(),u=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(l!==null&&typeof u<"u"&&u>l)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var p=f[d];p.setMap(null)}else e.setMap(null);return!0},r.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},r.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},r.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},r.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},r}();function x8(r,e){var t=r.length,n=t.toString().length,i=Math.min(n,e);return{text:t.toString(),index:i,title:""}}var A8=2e3,D8=500,R8="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",M8="png",k8=[53,56,66,78,90],I8="cluster",B2=function(){function r(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(r,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||R8,this.imageExtension=n.imageExtension||M8,this.imageSizes=n.imageSizes||k8,this.calculator=n.calculator||x8,this.batchSize=n.batchSize||A8,this.batchSizeIE=n.batchSizeIE||D8,this.clusterClass=n.clusterClass||I8,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return r.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},r.prototype.onIdle=function(){this.redraw()},r.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},r.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var l=a[i];l.remove()}this.clusters=[];for(var u=0,d=this.listeners;u<d.length;u++){var f=d[u];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},r.prototype.draw=function(){},r.prototype.getMap=function(){return null},r.prototype.getPanes=function(){return null},r.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},r.prototype.setMap=function(){},r.prototype.addListener=function(){return{remove:function(){}}},r.prototype.bindTo=function(){},r.prototype.get=function(){},r.prototype.notify=function(){},r.prototype.set=function(){},r.prototype.setValues=function(){},r.prototype.unbind=function(){},r.prototype.unbindAll=function(){},r.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},r.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var a=i[n],l=a.getPosition();l&&t.extend(l)}var u=this.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(t)},r.prototype.getGridSize=function(){return this.gridSize},r.prototype.setGridSize=function(e){this.gridSize=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.setMaxZoom=function(e){this.maxZoom=e},r.prototype.getStyles=function(){return this.styles},r.prototype.setStyles=function(e){this.styles=e},r.prototype.getTitle=function(){return this.title},r.prototype.setTitle=function(e){this.title=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick},r.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},r.prototype.getAverageCenter=function(){return this.averageCenter},r.prototype.setAverageCenter=function(e){this.averageCenter=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},r.prototype.getImageExtension=function(){return this.imageExtension},r.prototype.setImageExtension=function(e){this.imageExtension=e},r.prototype.getImagePath=function(){return this.imagePath},r.prototype.setImagePath=function(e){this.imagePath=e},r.prototype.getImageSizes=function(){return this.imageSizes},r.prototype.setImageSizes=function(e){this.imageSizes=e},r.prototype.getCalculator=function(){return this.calculator},r.prototype.setCalculator=function(e){this.calculator=e},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},r.prototype.getClusterClass=function(){return this.clusterClass},r.prototype.setClusterClass=function(e){this.clusterClass=e},r.prototype.getMarkers=function(){return this.markers},r.prototype.getTotalMarkers=function(){return this.markers.length},r.prototype.getClusters=function(){return this.clusters},r.prototype.getTotalClusters=function(){return this.clusters.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},r.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},r.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},r.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},r.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},r.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,a=e;i<a.length;i++){var l=a[i];n=n||this.removeMarker_(l)}return!t&&n&&this.repaint(),n},r.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},r.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=e;n<i.length;n++){var a=i[n];a.remove()}},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var a=t.fromDivPixelToLatLng(n);a!==null&&e.extend(a)}if(i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}return e},r.prototype.redraw=function(){this.createClusters(0)},r.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){var i=n[t];i.remove()}this.clusters=[];for(var a=0,l=this.markers;a<l.length;a++){var u=l[a];u.isAdded=!1,e&&u.setMap(null)}},r.prototype.distanceBetweenPoints=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},r.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return n?t.contains(n):!1},r.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,a=0,l=this.clusters;a<l.length;a++){var u=l[a];t=u;var d=t.getCenter(),f=e.getPosition();if(d&&f){var p=this.distanceBetweenPoints(d,f);p<n&&(n=p,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new C8(this),t.addMarker(e),this.clusters.push(t))},r.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,a=(n==null?void 0:n.getZoom())||0,l=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),u=this.getExtendedBounds(l),d=Math.min(e+this.batchSize,this.markers.length),f=e;f<d;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,u)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,v=this.clusters;g<v.length;g++){var b=v[g];b.updateIcon()}}}},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype){var l=a;this.prototype[l]=i.prototype[l]}return this}).apply(e,[t])},r}();function IC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function L8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Fs={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},fn={averageCenter(r,e){r.setAverageCenter(e)},batchSizeIE(r,e){r.setBatchSizeIE(e)},calculator(r,e){r.setCalculator(e)},clusterClass(r,e){r.setClusterClass(e)},enableRetinaIcons(r,e){r.setEnableRetinaIcons(e)},gridSize(r,e){r.setGridSize(e)},ignoreHidden(r,e){r.setIgnoreHidden(e)},imageExtension(r,e){r.setImageExtension(e)},imagePath(r,e){r.setImagePath(e)},imageSizes(r,e){r.setImageSizes(e)},maxZoom(r,e){r.setMaxZoom(e)},minimumClusterSize(r,e){r.setMinimumClusterSize(e)},styles(r,e){r.setStyles(e)},title(r,e){r.setTitle(e)},zoomOnClick(r,e){r.setZoomOnClick(e)}},O8={};function N8(r){var{children:e,options:t,averageCenter:n,batchSizeIE:i,calculator:a,clusterClass:l,enableRetinaIcons:u,gridSize:d,ignoreHidden:f,imageExtension:p,imagePath:g,imageSizes:v,maxZoom:b,minimumClusterSize:E,styles:R,title:D,zoomOnClick:k,onClick:Y,onClusteringBegin:$,onClusteringEnd:z,onMouseOver:G,onMouseOut:H,onLoad:N,onUnmount:x}=r,[C,I]=T.useState(null),j=T.useContext(Dt),[B,U]=T.useState(null),[X,J]=T.useState(null),[P,F]=T.useState(null),[ee,ne]=T.useState(null),[L,re]=T.useState(null);return T.useEffect(()=>{C&&H&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(C,Fs.onMouseOut,H)))},[H]),T.useEffect(()=>{C&&G&&(L!==null&&google.maps.event.removeListener(L),re(google.maps.event.addListener(C,Fs.onMouseOver,G)))},[G]),T.useEffect(()=>{C&&Y&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(C,Fs.onClick,Y)))},[Y]),T.useEffect(()=>{C&&$&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(C,Fs.onClusteringBegin,$)))},[$]),T.useEffect(()=>{C&&z&&(P!==null&&google.maps.event.removeListener(P),J(google.maps.event.addListener(C,Fs.onClusteringEnd,z)))},[z]),T.useEffect(()=>{typeof n<"u"&&C!==null&&fn.averageCenter(C,n)},[C,n]),T.useEffect(()=>{typeof i<"u"&&C!==null&&fn.batchSizeIE(C,i)},[C,i]),T.useEffect(()=>{typeof a<"u"&&C!==null&&fn.calculator(C,a)},[C,a]),T.useEffect(()=>{typeof l<"u"&&C!==null&&fn.clusterClass(C,l)},[C,l]),T.useEffect(()=>{typeof u<"u"&&C!==null&&fn.enableRetinaIcons(C,u)},[C,u]),T.useEffect(()=>{typeof d<"u"&&C!==null&&fn.gridSize(C,d)},[C,d]),T.useEffect(()=>{typeof f<"u"&&C!==null&&fn.ignoreHidden(C,f)},[C,f]),T.useEffect(()=>{typeof p<"u"&&C!==null&&fn.imageExtension(C,p)},[C,p]),T.useEffect(()=>{typeof g<"u"&&C!==null&&fn.imagePath(C,g)},[C,g]),T.useEffect(()=>{typeof v<"u"&&C!==null&&fn.imageSizes(C,v)},[C,v]),T.useEffect(()=>{typeof b<"u"&&C!==null&&fn.maxZoom(C,b)},[C,b]),T.useEffect(()=>{typeof E<"u"&&C!==null&&fn.minimumClusterSize(C,E)},[C,E]),T.useEffect(()=>{typeof R<"u"&&C!==null&&fn.styles(C,R)},[C,R]),T.useEffect(()=>{typeof D<"u"&&C!==null&&fn.title(C,D)},[C,D]),T.useEffect(()=>{typeof k<"u"&&C!==null&&fn.zoomOnClick(C,k)},[C,k]),T.useEffect(()=>{if(j){var ae=L8({},t||O8),ie=new B2(j,[],ae);return n&&fn.averageCenter(ie,n),i&&fn.batchSizeIE(ie,i),a&&fn.calculator(ie,a),l&&fn.clusterClass(ie,l),u&&fn.enableRetinaIcons(ie,u),d&&fn.gridSize(ie,d),f&&fn.ignoreHidden(ie,f),p&&fn.imageExtension(ie,p),g&&fn.imagePath(ie,g),v&&fn.imageSizes(ie,v),b&&fn.maxZoom(ie,b),E&&fn.minimumClusterSize(ie,E),R&&fn.styles(ie,R),D&&fn.title(ie,D),k&&fn.zoomOnClick(ie,k),H&&ne(google.maps.event.addListener(ie,Fs.onMouseOut,H)),G&&re(google.maps.event.addListener(ie,Fs.onMouseOver,G)),Y&&U(google.maps.event.addListener(ie,Fs.onClick,Y)),$&&J(google.maps.event.addListener(ie,Fs.onClusteringBegin,$)),z&&F(google.maps.event.addListener(ie,Fs.onClusteringEnd,z)),I(ie),N&&N(ie),()=>{ee!==null&&google.maps.event.removeListener(ee),L!==null&&google.maps.event.removeListener(L),B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),P!==null&&google.maps.event.removeListener(P),x&&x(ie)}}},[]),C!==null&&e(C)||null}T.memo(N8);class P8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{markerClusterer:null}),Ee(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new B2(this.context,[],this.props.options);this.registeredEvents=Nt({updaterMap:fn,eventMap:Fs,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:fn,eventMap:Fs,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Bt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Ee(P8,"contextType",Dt);function LC(r){r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}var z2=function(){function r(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(r,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return r.prototype.createInfoBoxDiv=function(){var e=this,t=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||LC(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,u=a;l<u.length;l++){var d=u[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,LC))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},r.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},r.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},r.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},r.prototype.getCloseClickHandler=function(){return this.closeClickHandler},r.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,a=t.getBounds();a&&!a.contains(this.position)&&t.setCenter(this.position);var l=t.getDiv(),u=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,g=this.div.offsetWidth,v=this.div.offsetHeight,b=this.infoBoxClearance.width,E=this.infoBoxClearance.height,R=this.getProjection(),D=R.fromLatLngToContainerPixel(this.position);D!==null&&(D.x<-f+b?n=D.x+f-b:D.x+g+f+b>u&&(n=D.x+g+f+b-u),this.alignBottom?D.y<-p+E+v?i=D.y+p-E-v:D.y+p+E>d&&(i=D.y+p+E-d):D.y<-p+E?i=D.y+p-E:D.y+v+p+E>d&&(i=D.y+v+p+E-d)),n===0&&i===0||t.panBy(n,i)}}},r.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},r.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},r.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},r.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},r.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},r.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},r.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},r.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},r.prototype.getContent=function(){return this.content},r.prototype.getPosition=function(){return this.position},r.prototype.getZIndex=function(){return this.zIndex},r.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},r.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},r.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},r.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},r.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[t])},r}(),j8=["position"],U8=["position"];function OC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var NC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},PC={options(r,e){r.setOptions(e)},position(r,e){e instanceof google.maps.LatLng?r.setPosition(e):r.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},V8={};function F8(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:u,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:g,onUnmount:v}=r,b=T.useContext(Dt),[E,R]=T.useState(null),[D,k]=T.useState(null),[Y,$]=T.useState(null),[z,G]=T.useState(null),[H,N]=T.useState(null),[x,C]=T.useState(null),I=T.useRef(null);return T.useEffect(()=>{b&&E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{if(i&&E!==null){var j=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);E.setPosition(j)}},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(D!==null&&google.maps.event.removeListener(D),k(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&u&&(Y!==null&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(E,"domready",u)))},[u]),T.useEffect(()=>{E&&d&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{if(b){var j=n||V8,{position:B}=j,U=nw(j,j8),X;B&&!(B instanceof google.maps.LatLng)&&(X=new google.maps.LatLng(B.lat,B.lng));var J=new z2(zg(zg({},U),X?{position:X}:{}));I.current=document.createElement("div"),R(J),l&&k(google.maps.event.addListener(J,"closeclick",l)),u&&$(google.maps.event.addListener(J,"domready",u)),d&&G(google.maps.event.addListener(J,"content_changed",d)),f&&N(google.maps.event.addListener(J,"position_changed",f)),p&&C(google.maps.event.addListener(J,"zindex_changed",p)),J.setContent(I.current),t?J.open(b,t):J.getPosition()?J.open(b):Lr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(J)}return()=>{E!==null&&(D&&google.maps.event.removeListener(D),z&&google.maps.event.removeListener(z),Y&&google.maps.event.removeListener(Y),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),v&&v(E),E.close())}},[]),I.current?oc.createPortal(T.Children.only(e),I.current):null}T.memo(F8);class B8 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",null),Ee(this,"state",{infoBox:null}),Ee(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Lr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Ee(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,n=nw(e,U8),i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));var a=new z2(zg(zg({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Nt({updaterMap:PC,eventMap:NC,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:PC,eventMap:NC,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Bt(this.registeredEvents),t.close())}render(){return this.containerElement?oc.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Ee(B8,"contextType",Dt);var I_,jC;function z8(){return jC||(jC=1,I_=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var l=a[i];if(!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),I_}var H8=z8(),UC=L2(H8),VC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],L_=1,ff=8;class rw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==L_)throw new Error("Got v".concat(i," data when expected v").concat(L_,"."));var a=VC[n&15];if(!a)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[u]=new Uint32Array(e,4,1);return new rw(u,l,a,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=VC.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,u=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-u%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ff,e),this.coords=new this.ArrayType(this.data,ff+u+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ff+l+u+d),this.ids=new this.IndexArrayType(this.data,ff,e),this.coords=new this.ArrayType(this.data,ff+u+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(L_<<4)+a]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return S0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:u}=this,d=[0,a.length-1,0],f=[];d.length;){var p=d.pop()||0,g=d.pop()||0,v=d.pop()||0;if(g-v<=u){for(var b=v;b<=g;b++){var E=l[2*b],R=l[2*b+1];E>=e&&E<=n&&R>=t&&R<=i&&f.push(a[b])}continue}var D=v+g>>1,k=l[2*D],Y=l[2*D+1];k>=e&&k<=n&&Y>=t&&Y<=i&&f.push(a[D]),(p===0?e<=k:t<=Y)&&(d.push(v),d.push(D-1),d.push(1-p)),(p===0?n>=k:i>=Y)&&(d.push(D+1),d.push(g),d.push(1-p))}return f}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,u=[0,i.length-1,0],d=[],f=n*n;u.length;){var p=u.pop()||0,g=u.pop()||0,v=u.pop()||0;if(g-v<=l){for(var b=v;b<=g;b++)FC(a[2*b],a[2*b+1],e,t)<=f&&d.push(i[b]);continue}var E=v+g>>1,R=a[2*E],D=a[2*E+1];FC(R,D,e,t)<=f&&d.push(i[E]),(p===0?e-n<=R:t-n<=D)&&(u.push(v),u.push(E-1),u.push(1-p)),(p===0?e+n>=R:t+n>=D)&&(u.push(E+1),u.push(g),u.push(1-p))}return d}}function S0(r,e,t,n,i,a){if(!(i-n<=t)){var l=n+i>>1;H2(r,e,l,n,i,a),S0(r,e,t,n,l-1,1-a),S0(r,e,t,l+1,i,1-a)}}function H2(r,e,t,n,i,a){for(;i>n;){if(i-n>600){var l=i-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/l+p)),v=Math.min(i,Math.floor(t+(l-u)*f/l+p));H2(r,e,t,g,v,a)}var b=e[2*t+a],E=n,R=i;for(pf(r,e,n,t),e[2*i+a]>b&&pf(r,e,n,i);E<R;){for(pf(r,e,E,R),E++,R--;e[2*E+a]<b;)E++;for(;e[2*R+a]>b;)R--}e[2*n+a]===b?pf(r,e,n,R):(R++,pf(r,e,R,i)),R<=t&&(n=R+1),t<=R&&(i=R-1)}}function pf(r,e,t,n){O_(r,t,n),O_(e,2*t,2*n),O_(e,2*t+1,2*n+1)}function O_(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function FC(r,e,t,n){var i=r-t,a=e-n;return i*i+a*a}var q8={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:r=>r},BC=Math.fround||(r=>e=>(r[0]=+e,r[0]))(new Float32Array(1)),Uc=2,Ul=3,N_=4,Pl=5,q2=6;class $8{constructor(e){this.options=Object.assign(Object.create(q8),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var a="prepare ".concat(e.length," points");t&&console.time(a),this.points=e;for(var l=[],u=0;u<e.length;u++){var d=e[u];if(d.geometry){var[f,p]=d.geometry.coordinates,g=BC(Lm(f)),v=BC(Om(p));l.push(g,v,1/0,u,-1,1),this.options.reduce&&l.push(0)}}var b=this.trees[i+1]=this._createTree(l);t&&console.timeEnd(a);for(var E=i;E>=n;E--){var R=+Date.now();b=this.trees[E]=this._createTree(this._cluster(b,E)),t&&console.log("z%d: %d clusters in %dms",E,b.numItems,+Date.now()-R)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,a=180;else if(n>a){var u=this.getClusters([n,i,180,l],t),d=this.getClusters([-180,i,a,l],t);return u.concat(d)}var f=this.trees[this._limitZoom(t)],p=f.range(Lm(n),Om(l),Lm(a),Om(i)),g=f.data,v=[];for(var b of p){var E=this.stride*b;v.push(g[E+Pl]>1?zC(g,E,this.clusterProps):this.points[g[E+Ul]])}return v}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);var l=a.data;if(t*this.stride>=l.length)throw new Error(i);var u=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=l[t*this.stride],f=l[t*this.stride+1],p=a.within(d,f,u),g=[];for(var v of p){var b=v*this.stride;l[b+N_]===e&&g.push(l[b+Pl]>1?zC(l,b,this.clusterProps):this.points[l[b+Ul]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:l,radius:u}=this.options,d=u/l,f=(n-d)/a,p=(n+1+d)/a,g={features:[]};return this._addTileFeatures(i.range((t-d)/a,f,(t+1+d)/a,p),i.data,t,n,a,g),t===0&&this._addTileFeatures(i.range(1-d/a,f,1,p),i.data,a,n,a,g),t===a-1&&this._addTileFeatures(i.range(0,f,d/a,p),i.data,-1,n,a,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,a){var l=this.getChildren(t);for(var u of l){var d=u.properties;if(d&&d.cluster?a+d.point_count<=i?a+=d.point_count:a=this._appendLeaves(e,d.cluster_id,n,i,a):a<i?a++:e.push(u),e.length===n)break}return a}_createTree(e){for(var t=new rw(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,a,l){for(var u of e){var d=u*this.stride,f=t[d+Pl]>1,p=void 0,g=void 0,v=void 0;if(f)p=$2(t,d,this.clusterProps),g=t[d],v=t[d+1];else{var b=this.points[t[d+Ul]];p=b.properties;var[E,R]=b.geometry.coordinates;g=Lm(E),v=Om(R)}var D={type:1,geometry:[[Math.round(this.options.extent*(g*a-n)),Math.round(this.options.extent*(v*a-i))]],tags:p},k=void 0;f||this.options.generateId?k=t[d+Ul]:k=this.points[t[d+Ul]].id,k!==void 0&&(D.id=k),l.features.push(D)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:a,minPoints:l}=this.options,u=n/(i*Math.pow(2,t)),d=e.data,f=[],p=this.stride,g=0;g<d.length;g+=p)if(!(d[g+Uc]<=t)){d[g+Uc]=t;var v=d[g],b=d[g+1],E=e.within(d[g],d[g+1],u),R=d[g+Pl],D=R;for(var k of E){var Y=k*p;d[Y+Uc]>t&&(D+=d[Y+Pl])}if(D>R&&D>=l){var $=v*R,z=b*R,G=void 0,H=-1,N=((g/p|0)<<5)+(t+1)+this.points.length;for(var x of E){var C=x*p;if(!(d[C+Uc]<=t)){d[C+Uc]=t;var I=d[C+Pl];$+=d[C]*I,z+=d[C+1]*I,d[C+N_]=N,a&&(G||(G=this._map(d,g,!0),H=this.clusterProps.length,this.clusterProps.push(G)),a(G,this._map(d,C)))}}d[g+N_]=N,f.push($/D,z/D,1/0,N,-1,D),a&&f.push(H)}else{for(var j=0;j<p;j++)f.push(d[g+j]);if(D>1)for(var B of E){var U=B*p;if(!(d[U+Uc]<=t)){d[U+Uc]=t;for(var X=0;X<p;X++)f.push(d[U+X])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+Pl]>1){var i=this.clusterProps[e[t+q2]];return n?Object.assign({},i):i}var a=this.points[e[t+Ul]].properties,l=this.options.map(a);return n&&l===a?Object.assign({},l):l}}function zC(r,e,t){return{type:"Feature",id:r[e+Ul],properties:$2(r,e,t),geometry:{type:"Point",coordinates:[Y8(r[e]),G8(r[e+1])]}}}function $2(r,e,t){var n=r[e+Pl],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,a=r[e+q2],l=a===-1?{}:Object.assign({},t[a]);return Object.assign(l,{cluster:!0,cluster_id:r[e+Ul],point_count:n,point_count_abbreviated:i})}function Lm(r){return r/360+.5}function Om(r){var e=Math.sin(r*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function Y8(r){return(r-.5)*360}function G8(r){var e=(180-r*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function W8(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}class gs{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class C0{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(gs.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>gs.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(gs.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Q8{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return K8(t)}}var K8=r=>{var e=r.map(t=>new C0({position:gs.getPosition(t),markers:[t]}));return e};class X8 extends Q8{constructor(e){var{maxZoom:t,radius:n=60}=e,i=W8(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new $8(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!UC(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var l=gs.getPosition(a),u=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:u},properties:{marker:a}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!UC(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new C0({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:n,lng:t}});var a=i.marker;return new C0({markers:[a],position:gs.getPosition(a)})}}class Z8{constructor(e,t){this.markers={sum:e.length};var n=t.map(a=>a.count),i=n.reduce((a,l)=>a+l,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class J8{render(e,t,n){var{count:i,position:a}=e,l=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",u='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+i;if(gs.isAdvancedMarkerAvailable(n)){var p=new DOMParser,g=p.parseFromString(u,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var v={map:n,position:a,zIndex:f,title:d,content:g};return new google.maps.marker.AdvancedMarkerElement(v)}var b={position:a,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(u)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}function ez(r,e){for(var t in e.prototype)r.prototype[t]=e.prototype[t]}class iw{constructor(){ez(iw,google.maps.OverlayView)}}var Df;(function(r){r.CLUSTERING_BEGIN="clusteringbegin",r.CLUSTERING_END="clusteringend",r.CLUSTER_CLICK="click"})(Df||(Df={}));var tz=(r,e,t)=>{t.fitBounds(e.bounds)};class nz extends iw{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:a=new X8(i),renderer:l=new J8,onClusterClick:u=tz}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=a,this.renderer=l,this.onClusterClick=u,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(n=>{this.addMarker(n,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return n===-1?!1:(gs.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Df.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var a of t)a.markers.length==1&&i.add(a.markers[0]);var l=[];for(var u of this.clusters)u.marker!=null&&(u.markers.length==1?i.has(u.marker)||gs.setMap(u.marker,null):l.push(u.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>gs.setMap(d,null)))}google.maps.event.trigger(this,Df.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>gs.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Z8(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(i=>gs.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Df.CLUSTER_CLICK,n),this.onClusterClick(i,n,t)})),gs.setMap(n.marker,t)})}}function HC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rz(r){var e=n8(),[t,n]=T.useState(null);return T.useEffect(()=>{if(e&&t===null){var i=new nz(qC(qC({},r),{},{map:e}));n(i)}},[e]),t}function iz(r){var{children:e,options:t}=r,n=rz(t);return n!==null?e(n):null}T.memo(iz);var $C={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},YC={options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},zIndex(r,e){r.setZIndex(e)}};function sz(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:u,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:g,onUnmount:v}=r,b=T.useContext(Dt),[E,R]=T.useState(null),[D,k]=T.useState(null),[Y,$]=T.useState(null),[z,G]=T.useState(null),[H,N]=T.useState(null),[x,C]=T.useState(null),I=T.useRef(null);return T.useEffect(()=>{E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{i&&E!==null&&E.setPosition(i)},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(D!==null&&google.maps.event.removeListener(D),k(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&u&&(Y!==null&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(E,"domready",u)))},[u]),T.useEffect(()=>{E&&d&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{var j=new google.maps.InfoWindow(n);return R(j),I.current=document.createElement("div"),l&&k(google.maps.event.addListener(j,"closeclick",l)),u&&$(google.maps.event.addListener(j,"domready",u)),d&&G(google.maps.event.addListener(j,"content_changed",d)),f&&N(google.maps.event.addListener(j,"position_changed",f)),p&&C(google.maps.event.addListener(j,"zindex_changed",p)),j.setContent(I.current),i&&j.setPosition(i),a&&j.setZIndex(a),t?j.open(b,t):j.getPosition()?j.open(b):Lr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(j),()=>{D&&google.maps.event.removeListener(D),z&&google.maps.event.removeListener(z),Y&&google.maps.event.removeListener(Y),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),v&&v(j),j.close()}},[]),I.current?oc.createPortal(T.Children.only(e),I.current):null}T.memo(sz);class az extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",null),Ee(this,"state",{infoWindow:null}),Ee(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Lr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Ee(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Nt({updaterMap:YC,eventMap:$C,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:YC,eventMap:$C,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Bt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?oc.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Ee(az,"contextType",Dt);function GC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Hg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var WC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},QC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},visible(r,e){r.setVisible(e)}},oz={};function lz(r){var{options:e,draggable:t,editable:n,visible:i,path:a,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:R,onDrag:D,onLoad:k,onUnmount:Y}=r,$=T.useContext(Dt),[z,G]=T.useState(null),[H,N]=T.useState(null),[x,C]=T.useState(null),[I,j]=T.useState(null),[B,U]=T.useState(null),[X,J]=T.useState(null),[P,F]=T.useState(null),[ee,ne]=T.useState(null),[L,re]=T.useState(null),[ae,ie]=T.useState(null),[oe,Z]=T.useState(null),[we,je]=T.useState(null);return T.useEffect(()=>{z!==null&&z.setMap($)},[$]),T.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),T.useEffect(()=>{typeof t<"u"&&z!==null&&z.setDraggable(t)},[z,t]),T.useEffect(()=>{typeof n<"u"&&z!==null&&z.setEditable(n)},[z,n]),T.useEffect(()=>{typeof i<"u"&&z!==null&&z.setVisible(i)},[z,i]),T.useEffect(()=>{typeof a<"u"&&z!==null&&z.setPath(a)},[z,a]),T.useEffect(()=>{z&&l&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(z,"dblclick",l)))},[l]),T.useEffect(()=>{z&&u&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(z,"dragend",u)))},[u]),T.useEffect(()=>{z&&d&&(I!==null&&google.maps.event.removeListener(I),j(google.maps.event.addListener(z,"dragstart",d)))},[d]),T.useEffect(()=>{z&&f&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(z,"mousedown",f)))},[f]),T.useEffect(()=>{z&&p&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(z,"mousemove",p)))},[p]),T.useEffect(()=>{z&&g&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(z,"mouseout",g)))},[g]),T.useEffect(()=>{z&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(z,"mouseover",v)))},[v]),T.useEffect(()=>{z&&b&&(L!==null&&google.maps.event.removeListener(L),re(google.maps.event.addListener(z,"mouseup",b)))},[b]),T.useEffect(()=>{z&&E&&(ae!==null&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(z,"rightclick",E)))},[E]),T.useEffect(()=>{z&&R&&(oe!==null&&google.maps.event.removeListener(oe),Z(google.maps.event.addListener(z,"click",R)))},[R]),T.useEffect(()=>{z&&D&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(z,"drag",D)))},[D]),T.useEffect(()=>{var me=new google.maps.Polyline(Hg(Hg({},e||oz),{},{map:$}));return a&&me.setPath(a),typeof i<"u"&&me.setVisible(i),typeof n<"u"&&me.setEditable(n),typeof t<"u"&&me.setDraggable(t),l&&N(google.maps.event.addListener(me,"dblclick",l)),u&&C(google.maps.event.addListener(me,"dragend",u)),d&&j(google.maps.event.addListener(me,"dragstart",d)),f&&U(google.maps.event.addListener(me,"mousedown",f)),p&&J(google.maps.event.addListener(me,"mousemove",p)),g&&F(google.maps.event.addListener(me,"mouseout",g)),v&&ne(google.maps.event.addListener(me,"mouseover",v)),b&&re(google.maps.event.addListener(me,"mouseup",b)),E&&ie(google.maps.event.addListener(me,"rightclick",E)),R&&Z(google.maps.event.addListener(me,"click",R)),D&&je(google.maps.event.addListener(me,"drag",D)),G(me),k&&k(me),()=>{H!==null&&google.maps.event.removeListener(H),x!==null&&google.maps.event.removeListener(x),I!==null&&google.maps.event.removeListener(I),B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),P!==null&&google.maps.event.removeListener(P),ee!==null&&google.maps.event.removeListener(ee),L!==null&&google.maps.event.removeListener(L),ae!==null&&google.maps.event.removeListener(ae),oe!==null&&google.maps.event.removeListener(oe),Y&&Y(me),me.setMap(null)}},[]),null}T.memo(lz);class cz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{polyline:null}),Ee(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Hg(Hg({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:QC,eventMap:WC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:QC,eventMap:WC,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Bt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Ee(cz,"contextType",Dt);function KC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function XC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ZC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},JC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},paths(r,e){r.setPaths(e)},visible(r,e){r.setVisible(e)}};function uz(r){var{options:e,draggable:t,editable:n,visible:i,path:a,paths:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:R,onClick:D,onDrag:k,onLoad:Y,onUnmount:$,onEdit:z}=r,G=T.useContext(Dt),[H,N]=T.useState(null),[x,C]=T.useState(null),[I,j]=T.useState(null),[B,U]=T.useState(null),[X,J]=T.useState(null),[P,F]=T.useState(null),[ee,ne]=T.useState(null),[L,re]=T.useState(null),[ae,ie]=T.useState(null),[oe,Z]=T.useState(null),[we,je]=T.useState(null),[me,Fe]=T.useState(null);return T.useEffect(()=>{H!==null&&H.setMap(G)},[G]),T.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),T.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),T.useEffect(()=>{typeof n<"u"&&H!==null&&H.setEditable(n)},[H,n]),T.useEffect(()=>{typeof i<"u"&&H!==null&&H.setVisible(i)},[H,i]),T.useEffect(()=>{typeof a<"u"&&H!==null&&H.setPath(a)},[H,a]),T.useEffect(()=>{typeof l<"u"&&H!==null&&H.setPaths(l)},[H,l]),T.useEffect(()=>{H&&typeof u=="function"&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(H,"dblclick",u)))},[u]),T.useEffect(()=>{H&&(google.maps.event.addListener(H.getPath(),"insert_at",()=>{z==null||z(H)}),google.maps.event.addListener(H.getPath(),"set_at",()=>{z==null||z(H)}),google.maps.event.addListener(H.getPath(),"remove_at",()=>{z==null||z(H)}))},[H,z]),T.useEffect(()=>{H&&typeof d=="function"&&(I!==null&&google.maps.event.removeListener(I),j(google.maps.event.addListener(H,"dragend",d)))},[d]),T.useEffect(()=>{H&&typeof f=="function"&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(H,"dragstart",f)))},[f]),T.useEffect(()=>{H&&typeof p=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(H,"mousedown",p)))},[p]),T.useEffect(()=>{H&&typeof g=="function"&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(H,"mousemove",g)))},[g]),T.useEffect(()=>{H&&typeof v=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(H,"mouseout",v)))},[v]),T.useEffect(()=>{H&&typeof b=="function"&&(L!==null&&google.maps.event.removeListener(L),re(google.maps.event.addListener(H,"mouseover",b)))},[b]),T.useEffect(()=>{H&&typeof E=="function"&&(ae!==null&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(H,"mouseup",E)))},[E]),T.useEffect(()=>{H&&typeof R=="function"&&(oe!==null&&google.maps.event.removeListener(oe),Z(google.maps.event.addListener(H,"rightclick",R)))},[R]),T.useEffect(()=>{H&&typeof D=="function"&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(H,"click",D)))},[D]),T.useEffect(()=>{H&&typeof k=="function"&&(me!==null&&google.maps.event.removeListener(me),Fe(google.maps.event.addListener(H,"drag",k)))},[k]),T.useEffect(()=>{var Ie=new google.maps.Polygon(XC(XC({},e),{},{map:G}));return a&&Ie.setPath(a),l&&Ie.setPaths(l),typeof i<"u"&&Ie.setVisible(i),typeof n<"u"&&Ie.setEditable(n),typeof t<"u"&&Ie.setDraggable(t),u&&C(google.maps.event.addListener(Ie,"dblclick",u)),d&&j(google.maps.event.addListener(Ie,"dragend",d)),f&&U(google.maps.event.addListener(Ie,"dragstart",f)),p&&J(google.maps.event.addListener(Ie,"mousedown",p)),g&&F(google.maps.event.addListener(Ie,"mousemove",g)),v&&ne(google.maps.event.addListener(Ie,"mouseout",v)),b&&re(google.maps.event.addListener(Ie,"mouseover",b)),E&&ie(google.maps.event.addListener(Ie,"mouseup",E)),R&&Z(google.maps.event.addListener(Ie,"rightclick",R)),D&&je(google.maps.event.addListener(Ie,"click",D)),k&&Fe(google.maps.event.addListener(Ie,"drag",k)),N(Ie),Y&&Y(Ie),()=>{x!==null&&google.maps.event.removeListener(x),I!==null&&google.maps.event.removeListener(I),B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),P!==null&&google.maps.event.removeListener(P),ee!==null&&google.maps.event.removeListener(ee),L!==null&&google.maps.event.removeListener(L),ae!==null&&google.maps.event.removeListener(ae),oe!==null&&google.maps.event.removeListener(oe),we!==null&&google.maps.event.removeListener(we),$&&$(Ie),Ie.setMap(null)}},[]),null}T.memo(uz);class dz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Nt({updaterMap:JC,eventMap:ZC,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:JC,eventMap:ZC,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Bt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Ee(dz,"contextType",Dt);function ex(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ex(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var tx={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nx={bounds(r,e){r.setBounds(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},visible(r,e){r.setVisible(e)}};function hz(r){var{options:e,bounds:t,draggable:n,editable:i,visible:a,onDblClick:l,onDragEnd:u,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:g,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:R,onDrag:D,onBoundsChanged:k,onLoad:Y,onUnmount:$}=r,z=T.useContext(Dt),[G,H]=T.useState(null),[N,x]=T.useState(null),[C,I]=T.useState(null),[j,B]=T.useState(null),[U,X]=T.useState(null),[J,P]=T.useState(null),[F,ee]=T.useState(null),[ne,L]=T.useState(null),[re,ae]=T.useState(null),[ie,oe]=T.useState(null),[Z,we]=T.useState(null),[je,me]=T.useState(null),[Fe,Ie]=T.useState(null);return T.useEffect(()=>{G!==null&&G.setMap(z)},[z]),T.useEffect(()=>{typeof e<"u"&&G!==null&&G.setOptions(e)},[G,e]),T.useEffect(()=>{typeof n<"u"&&G!==null&&G.setDraggable(n)},[G,n]),T.useEffect(()=>{typeof i<"u"&&G!==null&&G.setEditable(i)},[G,i]),T.useEffect(()=>{typeof a<"u"&&G!==null&&G.setVisible(a)},[G,a]),T.useEffect(()=>{typeof t<"u"&&G!==null&&G.setBounds(t)},[G,t]),T.useEffect(()=>{G&&l&&(N!==null&&google.maps.event.removeListener(N),x(google.maps.event.addListener(G,"dblclick",l)))},[l]),T.useEffect(()=>{G&&u&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(G,"dragend",u)))},[u]),T.useEffect(()=>{G&&d&&(j!==null&&google.maps.event.removeListener(j),B(google.maps.event.addListener(G,"dragstart",d)))},[d]),T.useEffect(()=>{G&&f&&(U!==null&&google.maps.event.removeListener(U),X(google.maps.event.addListener(G,"mousedown",f)))},[f]),T.useEffect(()=>{G&&p&&(J!==null&&google.maps.event.removeListener(J),P(google.maps.event.addListener(G,"mousemove",p)))},[p]),T.useEffect(()=>{G&&g&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(G,"mouseout",g)))},[g]),T.useEffect(()=>{G&&v&&(ne!==null&&google.maps.event.removeListener(ne),L(google.maps.event.addListener(G,"mouseover",v)))},[v]),T.useEffect(()=>{G&&b&&(re!==null&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(G,"mouseup",b)))},[b]),T.useEffect(()=>{G&&E&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(G,"rightclick",E)))},[E]),T.useEffect(()=>{G&&R&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(G,"click",R)))},[R]),T.useEffect(()=>{G&&D&&(je!==null&&google.maps.event.removeListener(je),me(google.maps.event.addListener(G,"drag",D)))},[D]),T.useEffect(()=>{G&&k&&(Fe!==null&&google.maps.event.removeListener(Fe),Ie(google.maps.event.addListener(G,"bounds_changed",k)))},[k]),T.useEffect(()=>{var He=new google.maps.Rectangle(qg(qg({},e),{},{map:z}));return typeof a<"u"&&He.setVisible(a),typeof i<"u"&&He.setEditable(i),typeof n<"u"&&He.setDraggable(n),typeof t<"u"&&He.setBounds(t),l&&x(google.maps.event.addListener(He,"dblclick",l)),u&&I(google.maps.event.addListener(He,"dragend",u)),d&&B(google.maps.event.addListener(He,"dragstart",d)),f&&X(google.maps.event.addListener(He,"mousedown",f)),p&&P(google.maps.event.addListener(He,"mousemove",p)),g&&ee(google.maps.event.addListener(He,"mouseout",g)),v&&L(google.maps.event.addListener(He,"mouseover",v)),b&&ae(google.maps.event.addListener(He,"mouseup",b)),E&&oe(google.maps.event.addListener(He,"rightclick",E)),R&&we(google.maps.event.addListener(He,"click",R)),D&&me(google.maps.event.addListener(He,"drag",D)),k&&Ie(google.maps.event.addListener(He,"bounds_changed",k)),H(He),Y&&Y(He),()=>{N!==null&&google.maps.event.removeListener(N),C!==null&&google.maps.event.removeListener(C),j!==null&&google.maps.event.removeListener(j),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),Z!==null&&google.maps.event.removeListener(Z),je!==null&&google.maps.event.removeListener(je),Fe!==null&&google.maps.event.removeListener(Fe),$&&$(He),He.setMap(null)}},[]),null}T.memo(hz);class fz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{rectangle:null}),Ee(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(qg(qg({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:nx,eventMap:tx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:nx,eventMap:tx,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Bt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Ee(fz,"contextType",Dt);function rx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $g(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ix={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sx={center(r,e){r.setCenter(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},radius(r,e){r.setRadius(e)},visible(r,e){r.setVisible(e)}},pz={};function mz(r){var{options:e,center:t,radius:n,draggable:i,editable:a,visible:l,onDblClick:u,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:g,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:R,onClick:D,onDrag:k,onCenterChanged:Y,onRadiusChanged:$,onLoad:z,onUnmount:G}=r,H=T.useContext(Dt),[N,x]=T.useState(null),[C,I]=T.useState(null),[j,B]=T.useState(null),[U,X]=T.useState(null),[J,P]=T.useState(null),[F,ee]=T.useState(null),[ne,L]=T.useState(null),[re,ae]=T.useState(null),[ie,oe]=T.useState(null),[Z,we]=T.useState(null),[je,me]=T.useState(null),[Fe,Ie]=T.useState(null),[He,de]=T.useState(null),[Ce,qe]=T.useState(null);return T.useEffect(()=>{N!==null&&N.setMap(H)},[H]),T.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),T.useEffect(()=>{typeof i<"u"&&N!==null&&N.setDraggable(i)},[N,i]),T.useEffect(()=>{typeof a<"u"&&N!==null&&N.setEditable(a)},[N,a]),T.useEffect(()=>{typeof l<"u"&&N!==null&&N.setVisible(l)},[N,l]),T.useEffect(()=>{typeof n=="number"&&N!==null&&N.setRadius(n)},[N,n]),T.useEffect(()=>{typeof t<"u"&&N!==null&&N.setCenter(t)},[N,t]),T.useEffect(()=>{N&&u&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(N,"dblclick",u)))},[u]),T.useEffect(()=>{N&&d&&(j!==null&&google.maps.event.removeListener(j),B(google.maps.event.addListener(N,"dragend",d)))},[d]),T.useEffect(()=>{N&&f&&(U!==null&&google.maps.event.removeListener(U),X(google.maps.event.addListener(N,"dragstart",f)))},[f]),T.useEffect(()=>{N&&p&&(J!==null&&google.maps.event.removeListener(J),P(google.maps.event.addListener(N,"mousedown",p)))},[p]),T.useEffect(()=>{N&&g&&(F!==null&&google.maps.event.removeListener(F),ee(google.maps.event.addListener(N,"mousemove",g)))},[g]),T.useEffect(()=>{N&&v&&(ne!==null&&google.maps.event.removeListener(ne),L(google.maps.event.addListener(N,"mouseout",v)))},[v]),T.useEffect(()=>{N&&b&&(re!==null&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(N,"mouseover",b)))},[b]),T.useEffect(()=>{N&&E&&(ie!==null&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(N,"mouseup",E)))},[E]),T.useEffect(()=>{N&&R&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(N,"rightclick",R)))},[R]),T.useEffect(()=>{N&&D&&(je!==null&&google.maps.event.removeListener(je),me(google.maps.event.addListener(N,"click",D)))},[D]),T.useEffect(()=>{N&&k&&(Fe!==null&&google.maps.event.removeListener(Fe),Ie(google.maps.event.addListener(N,"drag",k)))},[k]),T.useEffect(()=>{N&&Y&&(He!==null&&google.maps.event.removeListener(He),de(google.maps.event.addListener(N,"center_changed",Y)))},[D]),T.useEffect(()=>{N&&$&&(Ce!==null&&google.maps.event.removeListener(Ce),qe(google.maps.event.addListener(N,"radius_changed",$)))},[$]),T.useEffect(()=>{var ke=new google.maps.Circle($g($g({},e||pz),{},{map:H}));return typeof n=="number"&&ke.setRadius(n),typeof t<"u"&&ke.setCenter(t),typeof n=="number"&&ke.setRadius(n),typeof l<"u"&&ke.setVisible(l),typeof a<"u"&&ke.setEditable(a),typeof i<"u"&&ke.setDraggable(i),u&&I(google.maps.event.addListener(ke,"dblclick",u)),d&&B(google.maps.event.addListener(ke,"dragend",d)),f&&X(google.maps.event.addListener(ke,"dragstart",f)),p&&P(google.maps.event.addListener(ke,"mousedown",p)),g&&ee(google.maps.event.addListener(ke,"mousemove",g)),v&&L(google.maps.event.addListener(ke,"mouseout",v)),b&&ae(google.maps.event.addListener(ke,"mouseover",b)),E&&oe(google.maps.event.addListener(ke,"mouseup",E)),R&&we(google.maps.event.addListener(ke,"rightclick",R)),D&&me(google.maps.event.addListener(ke,"click",D)),k&&Ie(google.maps.event.addListener(ke,"drag",k)),Y&&de(google.maps.event.addListener(ke,"center_changed",Y)),$&&qe(google.maps.event.addListener(ke,"radius_changed",$)),x(ke),z&&z(ke),()=>{C!==null&&google.maps.event.removeListener(C),j!==null&&google.maps.event.removeListener(j),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),F!==null&&google.maps.event.removeListener(F),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),Z!==null&&google.maps.event.removeListener(Z),je!==null&&google.maps.event.removeListener(je),He!==null&&google.maps.event.removeListener(He),Ce!==null&&google.maps.event.removeListener(Ce),G&&G(ke),ke.setMap(null)}},[]),null}T.memo(mz);class gz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{circle:null}),Ee(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle($g($g({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:sx,eventMap:ix,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:sx,eventMap:ix,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Bt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Ee(gz,"contextType",Dt);function ax(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Yg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ax(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ox={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},lx={add(r,e){r.add(e)},addgeojson(r,e,t){r.addGeoJson(e,t)},contains(r,e){r.contains(e)},foreach(r,e){r.forEach(e)},loadgeojson(r,e,t,n){r.loadGeoJson(e,t,n)},overridestyle(r,e,t){r.overrideStyle(e,t)},remove(r,e){r.remove(e)},revertstyle(r,e){r.revertStyle(e)},controlposition(r,e){r.setControlPosition(e)},controls(r,e){r.setControls(e)},drawingmode(r,e){r.setDrawingMode(e)},map(r,e){r.setMap(e)},style(r,e){r.setStyle(e)},togeojson(r,e){r.toGeoJson(e)}};function vz(r){var{options:e,onClick:t,onDblClick:n,onMouseDown:i,onMouseMove:a,onMouseOut:l,onMouseOver:u,onMouseUp:d,onRightClick:f,onAddFeature:p,onRemoveFeature:g,onRemoveProperty:v,onSetGeometry:b,onSetProperty:E,onLoad:R,onUnmount:D}=r,k=T.useContext(Dt),[Y,$]=T.useState(null),[z,G]=T.useState(null),[H,N]=T.useState(null),[x,C]=T.useState(null),[I,j]=T.useState(null),[B,U]=T.useState(null),[X,J]=T.useState(null),[P,F]=T.useState(null),[ee,ne]=T.useState(null),[L,re]=T.useState(null),[ae,ie]=T.useState(null),[oe,Z]=T.useState(null),[we,je]=T.useState(null),[me,Fe]=T.useState(null);return T.useEffect(()=>{Y!==null&&Y.setMap(k)},[k]),T.useEffect(()=>{Y&&n&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(Y,"dblclick",n)))},[n]),T.useEffect(()=>{Y&&i&&(H!==null&&google.maps.event.removeListener(H),N(google.maps.event.addListener(Y,"mousedown",i)))},[i]),T.useEffect(()=>{Y&&a&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(Y,"mousemove",a)))},[a]),T.useEffect(()=>{Y&&l&&(I!==null&&google.maps.event.removeListener(I),j(google.maps.event.addListener(Y,"mouseout",l)))},[l]),T.useEffect(()=>{Y&&u&&(B!==null&&google.maps.event.removeListener(B),U(google.maps.event.addListener(Y,"mouseover",u)))},[u]),T.useEffect(()=>{Y&&d&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(Y,"mouseup",d)))},[d]),T.useEffect(()=>{Y&&f&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(Y,"rightclick",f)))},[f]),T.useEffect(()=>{Y&&t&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(Y,"click",t)))},[t]),T.useEffect(()=>{Y&&p&&(L!==null&&google.maps.event.removeListener(L),re(google.maps.event.addListener(Y,"addfeature",p)))},[p]),T.useEffect(()=>{Y&&g&&(ae!==null&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(Y,"removefeature",g)))},[g]),T.useEffect(()=>{Y&&v&&(oe!==null&&google.maps.event.removeListener(oe),Z(google.maps.event.addListener(Y,"removeproperty",v)))},[v]),T.useEffect(()=>{Y&&b&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(Y,"setgeometry",b)))},[b]),T.useEffect(()=>{Y&&E&&(me!==null&&google.maps.event.removeListener(me),Fe(google.maps.event.addListener(Y,"setproperty",E)))},[E]),T.useEffect(()=>{if(k!==null){var Ie=new google.maps.Data(Yg(Yg({},e),{},{map:k}));n&&G(google.maps.event.addListener(Ie,"dblclick",n)),i&&N(google.maps.event.addListener(Ie,"mousedown",i)),a&&C(google.maps.event.addListener(Ie,"mousemove",a)),l&&j(google.maps.event.addListener(Ie,"mouseout",l)),u&&U(google.maps.event.addListener(Ie,"mouseover",u)),d&&J(google.maps.event.addListener(Ie,"mouseup",d)),f&&F(google.maps.event.addListener(Ie,"rightclick",f)),t&&ne(google.maps.event.addListener(Ie,"click",t)),p&&re(google.maps.event.addListener(Ie,"addfeature",p)),g&&ie(google.maps.event.addListener(Ie,"removefeature",g)),v&&Z(google.maps.event.addListener(Ie,"removeproperty",v)),b&&je(google.maps.event.addListener(Ie,"setgeometry",b)),E&&Fe(google.maps.event.addListener(Ie,"setproperty",E)),$(Ie),R&&R(Ie)}return()=>{Y&&(z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),x!==null&&google.maps.event.removeListener(x),I!==null&&google.maps.event.removeListener(I),B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),P!==null&&google.maps.event.removeListener(P),ee!==null&&google.maps.event.removeListener(ee),L!==null&&google.maps.event.removeListener(L),ae!==null&&google.maps.event.removeListener(ae),oe!==null&&google.maps.event.removeListener(oe),we!==null&&google.maps.event.removeListener(we),me!==null&&google.maps.event.removeListener(me),D&&D(Y),Y.setMap(null))}},[]),null}T.memo(vz);class yz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{data:null}),Ee(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Yg(Yg({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:lx,eventMap:ox,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:lx,eventMap:ox,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Bt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Ee(yz,"contextType",Dt);function cx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ux(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var dx={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},hx={options(r,e){r.setOptions(e)},url(r,e){r.setUrl(e)},zIndex(r,e){r.setZIndex(e)}};class _z extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{kmlLayer:null}),Ee(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(ux(ux({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:hx,eventMap:dx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:hx,eventMap:dx,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Bt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Ee(_z,"contextType",Dt);function Y2(r,e){return typeof e=="function"?e(r.offsetWidth,r.offsetHeight):{x:0,y:0}}function bz(r,e){return new e(r.lat,r.lng)}function wz(r,e){return new e(new google.maps.LatLng(r.ne.lat,r.ne.lng),new google.maps.LatLng(r.sw.lat,r.sw.lng))}function Ez(r,e,t){return r instanceof e?r:t(r,e)}function Tz(r,e,t){return r instanceof e?r:t(r,e)}function Sz(r,e,t){var n=r&&r.fromLatLngToDivPixel(t.getNorthEast()),i=r&&r.fromLatLngToDivPixel(t.getSouthWest());return n&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-i.x-e.x,"px"),height:"".concat(i.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Cz(r,e,t){var n=r&&r.fromLatLngToDivPixel(t);if(n){var{x:i,y:a}=n;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function G2(r,e,t,n){return t!==void 0?Sz(r,e,Tz(t,google.maps.LatLngBounds,wz)):Cz(r,e,Ez(n,google.maps.LatLng,bz))}function xz(r,e){return r.left===e.left&&r.top===e.top&&r.width===e.height&&r.height===e.height}function fx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Az(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Dz(r,e,t,n,i){class a extends google.maps.OverlayView{constructor(u,d,f,p){super(),this.container=u,this.pane=d,this.position=f,this.bounds=p}onAdd(){var u,d=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];d==null||d.appendChild(this.container)}draw(){var u=this.getProjection(),d=Az({},this.container?Y2(this.container,i):{x:0,y:0}),f=G2(u,d,this.bounds,this.position);for(var[p,g]of Object.entries(f))this.container.style[p]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(r,e,t,n)}function px(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Rz(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?px(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):px(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mx(r){if(!r)return"";var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);return e+""}function gx(r){if(!r)return"";var e=r instanceof google.maps.LatLngBounds?r:new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.east),new google.maps.LatLng(r.north,r.west));return e+""}function Mz(r){var{position:e,bounds:t,mapPaneName:n,zIndex:i,onLoad:a,onUnmount:l,getPixelPositionOffset:u,children:d}=r,f=T.useContext(Dt),p=T.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),g=T.useMemo(()=>Dz(p,n,e,t,u),[p,n,e,t]);return T.useEffect(()=>(a==null||a(g),g==null||g.setMap(f),()=>{l==null||l(g),g==null||g.setMap(null)}),[f,g]),T.useEffect(()=>{p.style.zIndex="".concat(i)},[i,p]),oc.createPortal(d,p)}T.memo(Mz);class Xd extends T.PureComponent{constructor(e){super(e),Ee(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Ee(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();Lr(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),Ee(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),Ee(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=Rz({x:0,y:0},this.containerRef.current?Y2(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=G2(n,i,this.props.bounds,this.props.position);if(!xz(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,u,d,f;this.setState({containerStyle:{top:(l=a.top)!==null&&l!==void 0?l:0,left:(u=a.left)!==null&&u!==void 0?u:0,width:(d=a.width)!==null&&d!==void 0?d:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),Ee(this,"draw",()=>{this.onPositionElement()}),Ee(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=T.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=mx(e.position),n=mx(this.props.position),i=gx(e.bounds),a=gx(this.props.bounds);(t!==n||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?oc.createPortal(S.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:T.Children.only(this.props.children)}),e):null}}Ee(Xd,"FLOAT_PANE","floatPane");Ee(Xd,"MAP_PANE","mapPane");Ee(Xd,"MARKER_LAYER","markerLayer");Ee(Xd,"OVERLAY_LAYER","overlayLayer");Ee(Xd,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Ee(Xd,"contextType",Dt);function kz(){}function vx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var _x={onDblClick:"dblclick",onClick:"click"},bx={opacity(r,e){r.setOpacity(e)}};function Iz(r){var{url:e,bounds:t,options:n,visible:i}=r,a=T.useContext(Dt),l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),u=T.useMemo(()=>new google.maps.GroundOverlay(e,l,n),[]);return T.useEffect(()=>{u!==null&&u.setMap(a)},[a]),T.useEffect(()=>{typeof e<"u"&&u!==null&&(u.set("url",e),u.setMap(a))},[u,e]),T.useEffect(()=>{typeof i<"u"&&u!==null&&u.setOpacity(i?1:0)},[u,i]),T.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&u!==null&&(u.set("bounds",d),u.setMap(a))},[u,t]),null}T.memo(Iz);class W2 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{groundOverlay:null}),Ee(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Lr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,yx(yx({},this.props.options),{},{map:this.context}));this.registeredEvents=Nt({updaterMap:bx,eventMap:_x,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:bx,eventMap:_x,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Ee(W2,"defaultProps",{onLoad:kz});Ee(W2,"contextType",Dt);function wx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(t),!0).forEach(function(n){Ee(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ex={},Tx={data(r,e){r.setData(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)}};function Lz(r){var{data:e,onLoad:t,onUnmount:n,options:i}=r,a=T.useContext(Dt),[l,u]=T.useState(null);return T.useEffect(()=>{google.maps.visualization||Lr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),T.useEffect(()=>{Lr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),T.useEffect(()=>{l!==null&&l.setMap(a)},[a]),T.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),T.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Gg(Gg({},i),{},{data:e,map:a}));return u(d),t&&t(d),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}T.memo(Lz);class Oz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{heatmapLayer:null}),Ee(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Lr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Lr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Gg(Gg({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Nt({updaterMap:Tx,eventMap:Ex,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:Tx,eventMap:Ex,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Bt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Ee(Oz,"contextType",Dt);var Sx={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Cx={register(r,e,t){r.registerPanoProvider(e,t)},links(r,e){r.setLinks(e)},motionTracking(r,e){r.setMotionTracking(e)},options(r,e){r.setOptions(e)},pano(r,e){r.setPano(e)},position(r,e){r.setPosition(e)},pov(r,e){r.setPov(e)},visible(r,e){r.setVisible(e)},zoom(r,e){r.setZoom(e)}};class Nz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{streetViewPanorama:null}),Ee(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Nt({updaterMap:Cx,eventMap:Sx,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:Cx,eventMap:Sx,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Bt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Ee(Nz,"contextType",Dt);class Pz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"state",{streetViewService:null}),Ee(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Ee(Pz,"contextType",Dt);var xx={onDirectionsChanged:"directions_changed"},Ax={directions(r,e){r.setDirections(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},panel(r,e){r.setPanel(e)},routeIndex(r,e){r.setRouteIndex(e)}};class jz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"state",{directionsRenderer:null}),Ee(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Nt({updaterMap:Ax,eventMap:xx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:Ax,eventMap:xx,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Bt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Ee(jz,"contextType",Dt);var Dx={onPlacesChanged:"places_changed"},Rx={bounds(r,e){r.setBounds(e)}};class Uz extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",T.createRef()),Ee(this,"state",{searchBox:null}),Ee(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Lr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Nt({updaterMap:Rx,eventMap:Dx,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:Rx,eventMap:Dx,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Bt(this.registeredEvents))}render(){return S.jsx("div",{ref:this.containerElement,children:T.Children.only(this.props.children)})}}Ee(Uz,"contextType",Dt);var Mx={onPlaceChanged:"place_changed"},kx={bounds(r,e){r.setBounds(e)},restrictions(r,e){r.setComponentRestrictions(e)},fields(r,e){r.setFields(e)},options(r,e){r.setOptions(e)},types(r,e){r.setTypes(e)}};class Q2 extends T.PureComponent{constructor(){super(...arguments),Ee(this,"registeredEvents",[]),Ee(this,"containerElement",T.createRef()),Ee(this,"state",{autocomplete:null}),Ee(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Lr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Nt({updaterMap:kx,eventMap:Mx,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){Bt(this.registeredEvents),this.registeredEvents=Nt({updaterMap:kx,eventMap:Mx,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Bt(this.registeredEvents)}render(){return S.jsx("div",{ref:this.containerElement,className:this.props.className,children:T.Children.only(this.props.children)})}}Ee(Q2,"defaultProps",{className:""});Ee(Q2,"contextType",Dt);const Vz="AIzaSyCU0plQDFAs1MMKQN_sPZHPpBcKN1qe0PU";var Fz=Object.defineProperty,Wg=Object.getOwnPropertySymbols,K2=Object.prototype.hasOwnProperty,X2=Object.prototype.propertyIsEnumerable,Ix=(r,e,t)=>e in r?Fz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x0=(r,e)=>{for(var t in e||(e={}))K2.call(e,t)&&Ix(r,t,e[t]);if(Wg)for(var t of Wg(e))X2.call(e,t)&&Ix(r,t,e[t]);return r},A0=(r,e)=>{var t={};for(var n in r)K2.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Wg)for(var n of Wg(r))e.indexOf(n)<0&&X2.call(r,n)&&(t[n]=r[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var su;(r=>{const e=class Ft{constructor(d,f,p,g){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<Ft.MIN_VERSION||d>Ft.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let E=0;E<this.size;E++)v.push(!1);for(let E=0;E<this.size;E++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(p);if(this.drawCodewords(b),g==-1){let E=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const D=this.getPenaltyScore();D<E&&(g=R,E=D),this.applyMask(R)}}i(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(d,f){const p=r.QrSegment.makeSegments(d);return Ft.encodeSegments(p,f)}static encodeBinary(d,f){const p=r.QrSegment.makeBytes(d);return Ft.encodeSegments([p],f)}static encodeSegments(d,f,p=1,g=40,v=-1,b=!0){if(!(Ft.MIN_VERSION<=p&&p<=g&&g<=Ft.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let E,R;for(E=p;;E++){const $=Ft.getNumDataCodewords(E,f)*8,z=l.getTotalBits(d,E);if(z<=$){R=z;break}if(E>=g)throw new RangeError("Data too long")}for(const $ of[Ft.Ecc.MEDIUM,Ft.Ecc.QUARTILE,Ft.Ecc.HIGH])b&&R<=Ft.getNumDataCodewords(E,$)*8&&(f=$);let D=[];for(const $ of d){t($.mode.modeBits,4,D),t($.numChars,$.mode.numCharCountBits(E),D);for(const z of $.getData())D.push(z)}i(D.length==R);const k=Ft.getNumDataCodewords(E,f)*8;i(D.length<=k),t(0,Math.min(4,k-D.length),D),t(0,(8-D.length%8)%8,D),i(D.length%8==0);for(let $=236;D.length<k;$^=253)t($,8,D);let Y=[];for(;Y.length*8<D.length;)Y.push(0);return D.forEach(($,z)=>Y[z>>>3]|=$<<7-(z&7)),new Ft(E,f,Y,v)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let p=0;p<f;p++)for(let g=0;g<f;g++)p==0&&g==0||p==0&&g==f-1||p==f-1&&g==0||this.drawAlignmentPattern(d[p],d[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let p=f;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const g=(f<<10|p)^21522;i(g>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,n(g,v));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,n(g,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,n(g,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,n(g,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let p=0;p<18;p++){const g=n(f,p),v=this.size-11+p%3,b=Math.floor(p/3);this.setFunctionModule(v,b,g),this.setFunctionModule(b,v,g)}}drawFinderPattern(d,f){for(let p=-4;p<=4;p++)for(let g=-4;g<=4;g++){const v=Math.max(Math.abs(g),Math.abs(p)),b=d+g,E=f+p;0<=b&&b<this.size&&0<=E&&E<this.size&&this.setFunctionModule(b,E,v!=2&&v!=4)}}drawAlignmentPattern(d,f){for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)this.setFunctionModule(d+g,f+p,Math.max(Math.abs(g),Math.abs(p))!=1)}setFunctionModule(d,f,p){this.modules[f][d]=p,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,p=this.errorCorrectionLevel;if(d.length!=Ft.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const g=Ft.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],v=Ft.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],b=Math.floor(Ft.getNumRawDataModules(f)/8),E=g-b%g,R=Math.floor(b/g);let D=[];const k=Ft.reedSolomonComputeDivisor(v);for(let $=0,z=0;$<g;$++){let G=d.slice(z,z+R-v+($<E?0:1));z+=G.length;const H=Ft.reedSolomonComputeRemainder(G,k);$<E&&G.push(0),D.push(G.concat(H))}let Y=[];for(let $=0;$<D[0].length;$++)D.forEach((z,G)=>{($!=R-v||G>=E)&&Y.push(z[$])});return i(Y.length==b),Y}drawCodewords(d){if(d.length!=Math.floor(Ft.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let g=0;g<this.size;g++)for(let v=0;v<2;v++){const b=p-v,R=(p+1&2)==0?this.size-1-g:g;!this.isFunction[R][b]&&f<d.length*8&&(this.modules[R][b]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let g;switch(d){case 0:g=(p+f)%2==0;break;case 1:g=f%2==0;break;case 2:g=p%3==0;break;case 3:g=(p+f)%3==0;break;case 4:g=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:g=p*f%2+p*f%3==0;break;case 6:g=(p*f%2+p*f%3)%2==0;break;case 7:g=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&g&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let b=!1,E=0,R=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[v][D]==b?(E++,E==5?d+=Ft.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,R),b||(d+=this.finderPenaltyCountPatterns(R)*Ft.PENALTY_N3),b=this.modules[v][D],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,R)*Ft.PENALTY_N3}for(let v=0;v<this.size;v++){let b=!1,E=0,R=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[D][v]==b?(E++,E==5?d+=Ft.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,R),b||(d+=this.finderPenaltyCountPatterns(R)*Ft.PENALTY_N3),b=this.modules[D][v],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,R)*Ft.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let b=0;b<this.size-1;b++){const E=this.modules[v][b];E==this.modules[v][b+1]&&E==this.modules[v+1][b]&&E==this.modules[v+1][b+1]&&(d+=Ft.PENALTY_N2)}let f=0;for(const v of this.modules)f=v.reduce((b,E)=>b+(E?1:0),f);const p=this.size*this.size,g=Math.ceil(Math.abs(f*20-p*10)/p)-1;return i(0<=g&&g<=9),d+=g*Ft.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let g=this.size-7;p.length<d;g-=f)p.splice(1,0,g);return p}}static getNumRawDataModules(d){if(d<Ft.MIN_VERSION||d>Ft.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;f-=(25*p-10)*p-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(Ft.getNumRawDataModules(d)/8)-Ft.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*Ft.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let g=0;g<d-1;g++)f.push(0);f.push(1);let p=1;for(let g=0;g<d;g++){for(let v=0;v<f.length;v++)f[v]=Ft.reedSolomonMultiply(f[v],p),v+1<f.length&&(f[v]^=f[v+1]);p=Ft.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(d,f){let p=f.map(g=>0);for(const g of d){const v=g^p.shift();p.push(0),f.forEach((b,E)=>p[E]^=Ft.reedSolomonMultiply(b,v))}return p}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let g=7;g>=0;g--)p=p<<1^(p>>>7)*285,p^=(f>>>g&1)*d;return i(p>>>8==0),p}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const p=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(p&&d[0]>=f*4&&d[6]>=f?1:0)+(p&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,p){return d&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function t(u,d,f){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)f.push(u>>>p&1)}function n(u,d){return(u>>>d&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const a=class cr{constructor(d,f,p){if(this.mode=d,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let f=[];for(const p of d)t(p,8,f);return new cr(cr.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!cr.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<d.length;){const g=Math.min(d.length-p,3);t(parseInt(d.substring(p,p+g),10),g*3+1,f),p+=g}return new cr(cr.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!cr.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=d.length;p+=2){let g=cr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;g+=cr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),t(g,11,f)}return p<d.length&&t(cr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,f),new cr(cr.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:cr.isNumeric(d)?[cr.makeNumeric(d)]:cr.isAlphanumeric(d)?[cr.makeAlphanumeric(d)]:[cr.makeBytes(cr.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)t(d,8,f);else if(d<16384)t(2,2,f),t(d,14,f);else if(d<1e6)t(6,3,f),t(d,21,f);else throw new RangeError("ECI assignment value out of range");return new cr(cr.Mode.ECI,0,f)}static isNumeric(d){return cr.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return cr.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let p=0;for(const g of d){const v=g.mode.numCharCountBits(f);if(g.numChars>=1<<v)return 1/0;p+=4+v+g.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?f.push(d.charCodeAt(p)):(f.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return f}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;r.QrSegment=a})(su||(su={}));(r=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(r.QrCode||(r.QrCode={}))})(su||(su={}));(r=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(r.QrSegment||(r.QrSegment={}))})(su||(su={}));var fd=su;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Bz={L:fd.QrCode.Ecc.LOW,M:fd.QrCode.Ecc.MEDIUM,Q:fd.QrCode.Ecc.QUARTILE,H:fd.QrCode.Ecc.HIGH},Z2=128,J2="L",eM="#FFFFFF",tM="#000000",nM=!1,rM=1,zz=4,Hz=0,qz=.1;function iM(r,e=0){const t=[];return r.forEach(function(n,i){let a=null;n.forEach(function(l,u){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${u-a}v1H${a+e}z`),a=null;return}if(u===n.length-1){if(!l)return;a===null?t.push(`M${u+e},${i+e} h1v1H${u+e}z`):t.push(`M${a+e},${i+e} h${u+1-a}v1H${a+e}z`);return}l&&a===null&&(a=u)})}),t.join("")}function sM(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function $z(r,e,t,n){if(n==null)return null;const i=r.length+t*2,a=Math.floor(e*qz),l=i/e,u=(n.width||a)*l,d=(n.height||a)*l,f=n.x==null?r.length/2-u/2:n.x*l,p=n.y==null?r.length/2-d/2:n.y*l,g=n.opacity==null?1:n.opacity;let v=null;if(n.excavate){let E=Math.floor(f),R=Math.floor(p),D=Math.ceil(u+f-E),k=Math.ceil(d+p-R);v={x:E,y:R,w:D,h:k}}const b=n.crossOrigin;return{x:f,y:p,h:d,w:u,excavation:v,opacity:g,crossOrigin:b}}function Yz(r,e){return e!=null?Math.max(Math.floor(e),0):r?zz:Hz}function aM({value:r,level:e,minVersion:t,includeMargin:n,marginSize:i,imageSettings:a,size:l,boostLevel:u}){let d=ve.useMemo(()=>{const E=(Array.isArray(r)?r:[r]).reduce((R,D)=>(R.push(...fd.QrSegment.makeSegments(D)),R),[]);return fd.QrCode.encodeSegments(E,Bz[e],t,void 0,void 0,u)},[r,e,t,u]);const{cells:f,margin:p,numCells:g,calculatedImageSettings:v}=ve.useMemo(()=>{let b=d.getModules();const E=Yz(n,i),R=b.length+E*2,D=$z(b,l,E,a);return{cells:b,margin:E,numCells:R,calculatedImageSettings:D}},[d,l,a,n,i]);return{qrcode:d,margin:p,cells:f,numCells:g,calculatedImageSettings:v}}var Gz=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Wz=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=Z2,level:l=J2,bgColor:u=eM,fgColor:d=tM,includeMargin:f=nM,minVersion:p=rM,boostLevel:g,marginSize:v,imageSettings:b}=n,R=A0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:D}=R,k=A0(R,["style"]),Y=b==null?void 0:b.src,$=ve.useRef(null),z=ve.useRef(null),G=ve.useCallback(X=>{$.current=X,typeof t=="function"?t(X):t&&(t.current=X)},[t]),[H,N]=ve.useState(!1),{margin:x,cells:C,numCells:I,calculatedImageSettings:j}=aM({value:i,level:l,minVersion:p,boostLevel:g,includeMargin:f,marginSize:v,imageSettings:b,size:a});ve.useEffect(()=>{if($.current!=null){const X=$.current,J=X.getContext("2d");if(!J)return;let P=C;const F=z.current,ee=j!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;ee&&j.excavation!=null&&(P=sM(C,j.excavation));const ne=window.devicePixelRatio||1;X.height=X.width=a*ne;const L=a/I*ne;J.scale(L,L),J.fillStyle=u,J.fillRect(0,0,I,I),J.fillStyle=d,Gz?J.fill(new Path2D(iM(P,x))):C.forEach(function(re,ae){re.forEach(function(ie,oe){ie&&J.fillRect(oe+x,ae+x,1,1)})}),j&&(J.globalAlpha=j.opacity),ee&&J.drawImage(F,j.x+x,j.y+x,j.w,j.h)}}),ve.useEffect(()=>{N(!1)},[Y]);const B=x0({height:a,width:a},D);let U=null;return Y!=null&&(U=ve.createElement("img",{src:Y,key:Y,style:{display:"none"},onLoad:()=>{N(!0)},ref:z,crossOrigin:j==null?void 0:j.crossOrigin})),ve.createElement(ve.Fragment,null,ve.createElement("canvas",x0({style:B,height:a,width:a,ref:G,role:"img"},k)),U)});Wz.displayName="QRCodeCanvas";var oM=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=Z2,level:l=J2,bgColor:u=eM,fgColor:d=tM,includeMargin:f=nM,minVersion:p=rM,boostLevel:g,title:v,marginSize:b,imageSettings:E}=n,R=A0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:D,cells:k,numCells:Y,calculatedImageSettings:$}=aM({value:i,level:l,minVersion:p,boostLevel:g,includeMargin:f,marginSize:b,imageSettings:E,size:a});let z=k,G=null;E!=null&&$!=null&&($.excavation!=null&&(z=sM(k,$.excavation)),G=ve.createElement("image",{href:E.src,height:$.h,width:$.w,x:$.x+D,y:$.y+D,preserveAspectRatio:"none",opacity:$.opacity,crossOrigin:$.crossOrigin}));const H=iM(z,D);return ve.createElement("svg",x0({height:a,width:a,viewBox:`0 0 ${Y} ${Y}`,ref:t,role:"img"},R),!!v&&ve.createElement("title",null,v),ve.createElement("path",{fill:u,d:`M0,0 h${Y}v${Y}H0z`,shapeRendering:"crispEdges"}),ve.createElement("path",{fill:d,d:H,shapeRendering:"crispEdges"}),G)});oM.displayName="QRCodeSVG";const lM=T.createContext(),Qz=["places"];function Kz({children:r}){const[e,t]=T.useState(!1);return S.jsx(V2,{googleMapsApiKey:Vz,libraries:Qz,onLoad:()=>t(!0),children:S.jsx(lM.Provider,{value:{isLoaded:e},children:r})})}const Xz={width:"100%",height:"300px",borderRadius:"8px"};function Zz(){var Fe,Ie,He;const{isLoaded:r}=T.useContext(lM),[e,t]=T.useState(!1),[n,i]=T.useState(!0),[a,l]=T.useState(null),u=T.useRef(null),[d,f]=T.useState({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((Fe=oi.currentUser)==null?void 0:Fe.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),[p,g]=T.useState(null),[v,b]=T.useState([]),[E,R]=T.useState(!0),[D,k]=T.useState(!1),[Y,$]=T.useState(null),[z,G]=T.useState({}),[H,N]=T.useState(!1),[x,C]=T.useState(null),[I,j]=T.useState({coverImage:!1,avatar:!1,logo:!1,introVideo:!1}),B=de=>{const{name:Ce,value:qe,type:ke,checked:Ze}=de.target;f(Qe=>({...Qe,[Ce]:ke==="checkbox"?Ze:qe})),G(Qe=>({...Qe,[Ce]:null}))},U=()=>{var de;f({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((de=oi.currentUser)==null?void 0:de.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),l(null)},X=()=>{t(!1),k(!1),N(!1),$(null),C(null),U(),G({}),l(null)},J=()=>{t(!0),F()},P=async de=>{var qe;de.preventDefault();const Ce=ie();if(Object.keys(Ce).length>0){G(Ce);return}try{const ke={event_name:d.event_name,event_type:d.event_type||"normal",event_location_name:d.event_location_name,event_location:new Tv(d.event_location.lat,d.event_location.lng),date:ur.fromDate(d.date),start_time:ur.fromDate(d.start_time),end_time:ur.fromDate(d.end_time),live_stream_enabled:d.live_stream_enabled,has_QR_code:d.has_QR_code,live_session_url:d.live_session_url,event_host:((qe=oi.currentUser)==null?void 0:qe.uid)||"",folders:d.folders.filter(Ze=>Ze.trim()!==""),event_description:d.event_description};D&&Y?await Gm(Yc(ci,"events",Y),ke):await h0(Hs(ci,"events"),ke),X(),await ee()}catch(ke){console.error("Error saving event: ",ke),g("Failed to save event: "+ke.message)}},F=()=>{const de=new Date;de.setHours(9,0,0);const Ce=new Date;Ce.setHours(17,0,0),f(qe=>({...qe,start_time:de,end_time:Ce}))},ee=async()=>{try{if(i(!0),g(null),!oi.currentUser){g("User not authenticated"),i(!1);return}const de=Hs(ci,"events"),Ce=fa(de,Zi("event_host","==",oi.currentUser.uid),Eg("date","desc")),ke=(await pa(Ce)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));console.log("Fetched events:",ke),b(ke),i(!1)}catch(de){console.error("Error fetching events:",de),g("Failed to fetch events"),i(!1)}};T.useEffect(()=>{const de=async()=>{try{if(i(!0),g(null),!oi.currentUser){g("User not authenticated"),i(!1);return}const qe=Hs(ci,"events"),ke=fa(qe,Zi("event_host","==",oi.currentUser.uid),Eg("date","desc")),Qe=(await pa(ke)).docs.map(lt=>({id:lt.id,...lt.data()}));console.log("Fetched events:",Qe),b(Qe),i(!1)}catch(qe){console.error("Error fetching events:",qe),g("Failed to fetch events"),i(!1)}};oi.currentUser&&de();const Ce=oi.onAuthStateChanged(qe=>{qe?de():(b([]),i(!1))});return()=>Ce()},[(Ie=oi.currentUser)==null?void 0:Ie.uid]);const ne=de=>{if(!de)return"";const Ce=de.toDate();return Bf(Ce,"dd/MM/yyyy")},L=de=>{if(!de)return"";const Ce=de.toDate();return Bf(Ce,"hh:mm a")};T.useEffect(()=>{},[]),T.useEffect(()=>{if(e&&r&&u.current&&!a)try{const de={componentRestrictions:{country:"in"},types:["geocode","establishment"]},Ce=new window.google.maps.places.Autocomplete(u.current,de);Ce.addListener("place_changed",()=>{const qe=Ce.getPlace();qe.geometry&&f(ke=>({...ke,event_location_name:qe.formatted_address,event_location:{lat:qe.geometry.location.lat(),lng:qe.geometry.location.lng()}}))}),l(Ce)}catch(de){console.error("Error initializing autocomplete:",de)}},[e,r]),T.useEffect(()=>()=>{a&&l(null)},[]);const re=de=>{const Ce={lat:de.event_location.latitude,lng:de.event_location.longitude};N(!1),k(!0),$(de.id),f({event_name:de.event_name,event_type:de.event_type||"normal",event_location_name:de.event_location_name,event_location:Ce,date:de.date.toDate(),start_time:de.start_time.toDate(),end_time:de.end_time.toDate(),live_stream_enabled:de.live_stream_enabled||!1,has_QR_code:de.has_QR_code||!1,live_session_url:de.live_session_url||"",event_host:de.event_host,folders:de.folders||[],coverImage:de.coverImage||"",avatar:de.avatar||"",logo:de.logo||"",introVideo:de.introVideo||"",event_description:de.event_description||""}),t(!0)},ae=de=>{var Ce,qe,ke;try{const Ze=(Ce=de.date)!=null&&Ce.toDate?de.date.toDate():new Date(de.date),Qe=(qe=de.start_time)!=null&&qe.toDate?de.start_time.toDate():new Date(de.start_time),lt=(ke=de.end_time)!=null&&ke.toDate?de.end_time.toDate():new Date(de.end_time),Kt={lat:de.event_location.latitude,lng:de.event_location.longitude};N(!0),C(de.id),f({...de,date:Ze,start_time:Qe,end_time:lt,event_location:Kt}),t(!0),console.log("Event data being set:",{date:Ze,start_time:Qe,end_time:lt})}catch(Ze){console.error("Error in handleViewEvent:",Ze)}},ie=()=>{const de={};return d.event_name.trim()||(de.event_name="Event name is required"),(!d.event_location_name||!d.event_location)&&(de.event_location="Location is required"),console.log("Form validation:",{formData:d,errors:de,hasErrors:Object.keys(de).length>0}),G(de),de},oe=()=>{f(de=>({...de,folders:[...de.folders,""]}))},Z=(de,Ce)=>{const qe=Ce.replace(/[^a-zA-Z0-9]/g,"");f(ke=>{const Ze=[...ke.folders];return Ze[de]=qe,{...ke,folders:Ze}})},we=de=>{f(Ce=>({...Ce,folders:Ce.folders.filter((qe,ke)=>ke!==de)}))},je=()=>{const de=document.querySelector(".qr-code svg");if(!de)return;const Ce=document.createElement("canvas"),qe=Ce.getContext("2d");Ce.width=1e3,Ce.height=1e3;const ke=new XMLSerializer().serializeToString(de),Ze=new Image;Ze.onload=()=>{qe.fillStyle="white",qe.fillRect(0,0,Ce.width,Ce.height),qe.drawImage(Ze,0,0,Ce.width,Ce.height);const Qe=document.createElement("a");Qe.download=`event-qr-${x}.png`,Qe.href=Ce.toDataURL("image/png"),Qe.click()},Ze.src="data:image/svg+xml;base64,"+btoa(ke)},me=async(de,Ce)=>{if(!(!de||!oi.currentUser))try{j(Ze=>({...Ze,[Ce]:!0}));const qe=Us(Vs,`users/${oi.currentUser.uid}/event_media/${Ce}/${Date.now()}_${de.name}`);await zR(qe,de);const ke=await Fc(qe);f(Ze=>({...Ze,[Ce]:ke})),j(Ze=>({...Ze,[Ce]:!1}))}catch(qe){console.error(`Error uploading ${Ce}:`,qe),g(`Failed to upload ${Ce}`),j(ke=>({...ke,[Ce]:!1}))}};return p?S.jsxs("div",{className:"container-fluid",children:[S.jsx("div",{className:"alert alert-danger",role:"alert",children:p}),S.jsx("div",{className:"table-responsive",children:S.jsxs("table",{className:"table table-striped",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Event Name"}),S.jsx("th",{children:"Date"}),S.jsx("th",{children:"Location"}),S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:S.jsxs("tr",{children:[S.jsx("td",{children:"Summer Music Festival"}),S.jsx("td",{children:"2024-06-15"}),S.jsx("td",{children:"Central Park"}),S.jsx("td",{children:S.jsx("span",{className:"badge bg-success",children:"Active"})}),S.jsxs("td",{children:[S.jsx("button",{className:"btn btn-sm btn-primary me-2",children:"Edit"}),S.jsx("button",{className:"btn btn-sm btn-danger",children:"Delete"})]})]})})]})})]}):S.jsxs("div",{className:"container-fluid",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[S.jsx("h2",{children:"Events Management"}),S.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:J,children:[S.jsx(MS,{className:"me-2"}),"Create New Event"]})]}),p?S.jsx("div",{className:"alert alert-danger",role:"alert",children:p}):n?S.jsx("div",{className:"card",children:S.jsxs("div",{className:"card-body text-center py-5",children:[S.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})}),S.jsx("p",{className:"text-muted mb-0",children:"Loading events..."})]})}):v.length===0?S.jsx("div",{className:"card",children:S.jsx("div",{className:"card-body text-center py-5",children:S.jsx("p",{className:"text-muted mb-0",children:"No events found. Create your first event!"})})}):S.jsx("div",{className:"table-responsive",children:S.jsxs("table",{className:"table table-striped",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Event Name"}),S.jsx("th",{children:"Type"}),S.jsx("th",{children:"Location"}),S.jsx("th",{children:"Date"}),S.jsx("th",{children:"Time"}),S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Folders"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:v.map(de=>S.jsxs("tr",{onClick:()=>ae(de),style:{cursor:"pointer"},className:"hover-highlight",children:[S.jsx("td",{children:de.event_name}),S.jsx("td",{children:S.jsx("span",{className:`badge ${de.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:de.event_type})}),S.jsx("td",{children:de.event_location_name}),S.jsx("td",{children:ne(de.date)}),S.jsxs("td",{children:[L(de.start_time)," - ",L(de.end_time)]}),S.jsx("td",{children:new Date<de.date.toDate()?S.jsx("span",{className:"badge bg-success",children:"Upcoming"}):S.jsx("span",{className:"badge bg-secondary",children:"Past"})}),S.jsx("td",{children:S.jsx("div",{className:"d-flex flex-wrap gap-1",children:de.folders&&de.folders.map((Ce,qe)=>S.jsx("span",{className:"badge bg-secondary",children:Ce},qe))})}),S.jsx("td",{className:"actions-cell",children:S.jsxs("div",{className:"d-flex",children:[S.jsx("button",{className:"btn btn-icon",onClick:Ce=>{Ce.stopPropagation(),re(de)},children:S.jsx(RS,{})}),S.jsx("button",{className:"btn btn-icon text-danger ms-3",onClick:Ce=>{Ce.stopPropagation(),handleDeleteEvent(de.id)},children:S.jsx(kS,{})})]})})]},de.id))})]})}),e&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"modal fade show",style:{display:"block"},children:S.jsx("div",{className:"modal-dialog modal-lg",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:D?"Edit Event":H?"Event Details":"Create New Event"}),S.jsx("button",{type:"button",className:"btn-close",onClick:X})]}),S.jsx("div",{className:"modal-body",children:H?S.jsxs("div",{className:"event-details",children:[S.jsxs("div",{className:"text-center mb-4 p-3 border rounded",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[S.jsx("h6",{className:"text-muted mb-0",children:"Event QR Code"}),S.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{const de=v.find(Ce=>Ce.id===x);de&&re(de)},children:[S.jsx(RS,{className:"me-1"})," Edit Event"]})]}),S.jsxs("div",{className:"d-flex flex-column align-items-center mb-3",children:[S.jsx("div",{className:"qr-code mb-3",children:S.jsx(oM,{value:`https://chaaya.ai/event/${x}`,size:200,level:"H",includeMargin:!0,bgColor:getComputedStyle(document.documentElement).getPropertyValue("--bg-primary").trim(),fgColor:getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()})}),S.jsx("button",{className:"btn btn-outline-primary",onClick:je,children:"Download QR Code"})]}),S.jsxs("small",{className:"text-muted",children:["Scan to access event page: ",`https://chaaya.ai/event/${x}`]})]}),S.jsxs("div",{className:"row mb-4",children:[S.jsxs("div",{className:"col-md-6",children:[S.jsx("h6",{className:"text-muted",children:"Event Name"}),S.jsx("p",{className:"lead",children:d.event_name})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("h6",{className:"text-muted",children:"Event Type"}),S.jsx("p",{children:S.jsx("span",{className:`badge ${d.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:d.event_type})})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("h6",{className:"text-muted",children:"Description"}),S.jsx("p",{children:d.event_description})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("h6",{className:"text-muted",children:"Location"}),S.jsx("p",{children:d.event_location_name}),S.jsx("div",{className:"mt-3",children:S.jsx(c8,{mapContainerStyle:Xz,center:d.event_location,zoom:15,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0},children:S.jsx(F2,{position:d.event_location,title:d.event_location_name})})})]}),S.jsxs("div",{className:"row mb-4",children:[S.jsxs("div",{className:"col-md-4",children:[S.jsx("h6",{className:"text-muted",children:"Date"}),S.jsx("p",{children:d.date?new Date(d.date).toLocaleDateString():"N/A"})]}),S.jsxs("div",{className:"col-md-4",children:[S.jsx("h6",{className:"text-muted",children:"Time"}),S.jsxs("p",{children:[d.start_time?new Date(d.start_time).toLocaleTimeString():"N/A"," -",d.end_time?new Date(d.end_time).toLocaleTimeString():"N/A"]})]})]}),d.live_stream_enabled&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h6",{className:"text-muted",children:"Live Stream URL"}),S.jsx("p",{children:S.jsx("a",{href:d.live_session_url,target:"_blank",rel:"noopener noreferrer",children:d.live_session_url})})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("h6",{className:"text-muted",children:"Additional Features"}),S.jsxs("div",{className:"mt-2",children:[d.live_stream_enabled&&S.jsx("span",{className:"badge bg-success me-2",children:"Live Stream Enabled"}),d.has_QR_code&&S.jsx("span",{className:"badge bg-info me-2",children:"QR Code Available"})]})]}),d.folders&&d.folders.length>0&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h6",{className:"text-muted",children:"Folders"}),S.jsx("div",{className:"d-flex flex-wrap gap-2",children:d.folders.map((de,Ce)=>S.jsx("div",{className:"badge bg-secondary",children:de},Ce))})]})]}):S.jsxs("form",{onSubmit:P,children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Event Name*"}),S.jsx("input",{type:"text",className:`form-control ${z.event_name?"is-invalid":""}`,name:"event_name",value:d.event_name,onChange:B,required:!0}),z.event_name&&S.jsx("div",{className:"invalid-feedback",children:z.event_name})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"event_description",className:"form-label",children:"Event Description"}),S.jsx("textarea",{id:"event_description",className:"form-control",name:"event_description",value:d.event_description||"",onChange:B,maxLength:100,rows:3,placeholder:"Enter event description (max 100 characters)"}),S.jsx("small",{className:"text-muted",children:`${((He=d.event_description)==null?void 0:He.length)||0}/100 characters`})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label d-block",children:"Event Type"}),S.jsxs("div",{className:"form-check form-switch",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",name:"event_type",id:"event_type",checked:d.event_type==="smart",onChange:de=>f(Ce=>({...Ce,event_type:de.target.checked?"smart":"normal"}))}),S.jsxs("label",{className:"form-check-label",htmlFor:"event_type",children:["Smart Event ",d.event_type==="smart"?"(Enabled)":"(Disabled)"]}),S.jsx("small",{className:"form-text text-muted d-block",children:d.event_type==="smart"?"Smart event with advanced features":"Normal event with basic features"})]})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Location*"}),S.jsxs("div",{className:"input-group",children:[S.jsx("input",{ref:u,type:"text",className:`form-control ${z.event_location?"is-invalid":""}`,placeholder:"Search for a location",value:d.event_location_name,onChange:de=>{f(Ce=>({...Ce,event_location_name:de.target.value})),G(Ce=>({...Ce,event_location:null}))},required:!0}),S.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(de=>{const{latitude:Ce,longitude:qe}=de.coords;new window.google.maps.Geocoder().geocode({location:{lat:Ce,lng:qe}},(Ze,Qe)=>{Qe==="OK"&&Ze[0]&&f(lt=>({...lt,event_location_name:Ze[0].formatted_address,event_location:{lat:Ce,lng:qe}}))})})},children:S.jsx(QR,{})})]}),z.event_location&&S.jsx("div",{className:"invalid-feedback d-block",children:z.event_location})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Event Date*"}),S.jsx(R_,{selected:d.date,onChange:de=>{f(Ce=>({...Ce,date:de})),G(Ce=>({...Ce,date:null}))},dateFormat:"dd/MM/yyyy",className:`form-control ${z.date?"is-invalid":""}`,minDate:new Date,required:!0}),z.date&&S.jsx("div",{className:"invalid-feedback d-block",children:z.date})]}),S.jsxs("div",{className:"row mb-3",children:[S.jsxs("div",{className:"col",children:[S.jsx("label",{className:"form-label",children:"Start Time*"}),S.jsx(R_,{selected:d.start_time,onChange:de=>{f(Ce=>({...Ce,start_time:de})),G(Ce=>({...Ce,start_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${z.start_time?"is-invalid":""}`,required:!0}),z.start_time&&S.jsx("div",{className:"invalid-feedback d-block",children:z.start_time})]}),S.jsxs("div",{className:"col",children:[S.jsx("label",{className:"form-label",children:"End Time*"}),S.jsx(R_,{selected:d.end_time,onChange:de=>{f(Ce=>({...Ce,end_time:de})),G(Ce=>({...Ce,end_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${z.end_time?"is-invalid":""}`,required:!0}),z.end_time&&S.jsx("div",{className:"invalid-feedback d-block",children:z.end_time})]})]}),S.jsx("div",{className:"mb-3",children:S.jsxs("div",{className:"form-check form-switch",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",name:"live_stream_enabled",checked:d.live_stream_enabled,onChange:B,id:"live_stream_enabled"}),S.jsx("label",{className:"form-check-label",htmlFor:"live_stream_enabled",children:"Enable Live Stream"})]})}),d.live_stream_enabled&&S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Live Session URL"}),S.jsx("input",{type:"url",className:"form-control",name:"live_session_url",value:d.live_session_url,onChange:B,placeholder:"Enter live session URL"})]}),S.jsx("div",{className:"mb-3",children:S.jsxs("div",{className:"form-check form-switch",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",name:"has_QR_code",checked:d.has_QR_code,onChange:B,id:"has_QR_code"}),S.jsx("label",{className:"form-check-label",htmlFor:"has_QR_code",children:"Generate QR Code"})]})}),S.jsxs("div",{className:"mb-3",children:[S.jsxs("label",{className:"form-label d-flex justify-content-between align-items-center",children:["Folders",S.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:oe,children:[S.jsx(MS,{})," Add Folder"]})]}),d.folders.map((de,Ce)=>S.jsxs("div",{className:"input-group mb-2",children:[S.jsx("input",{type:"text",className:"form-control",value:de,onChange:qe=>Z(Ce,qe.target.value),placeholder:"Enter folder name (alphanumeric)",pattern:"[a-zA-Z0-9]+"}),S.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>we(Ce),children:S.jsx(kS,{})})]},Ce)),d.folders.length>0&&S.jsx("small",{className:"text-muted",children:"Only alphanumeric characters are allowed (a-z, A-Z, 0-9)"})]}),S.jsxs("div",{className:"card mb-4",children:[S.jsx("div",{className:"card-header",children:S.jsx("h6",{className:"mb-0",children:"Media Kit"})}),S.jsx("div",{className:"card-body",children:S.jsxs("div",{className:"row g-3",children:[S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Cover Image"}),S.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.coverImage&&S.jsx("img",{src:d.coverImage,alt:"Cover",className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),S.jsxs("div",{className:"flex-grow-1",children:[S.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:de=>me(de.target.files[0],"coverImage"),disabled:I.coverImage}),I.coverImage&&S.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Avatar"}),S.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.avatar&&S.jsx("img",{src:d.avatar,alt:"Avatar",className:"img-thumbnail rounded-circle",style:{width:"60px",height:"60px",objectFit:"cover"}}),S.jsxs("div",{className:"flex-grow-1",children:[S.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:de=>me(de.target.files[0],"avatar"),disabled:I.avatar}),I.avatar&&S.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Logo"}),S.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.logo&&S.jsx("img",{src:d.logo,alt:"Logo",className:"img-thumbnail",style:{width:"60px",height:"60px",objectFit:"contain"}}),S.jsxs("div",{className:"flex-grow-1",children:[S.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:de=>me(de.target.files[0],"logo"),disabled:I.logo}),I.logo&&S.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),S.jsxs("div",{className:"col-md-6",children:[S.jsx("label",{className:"form-label",children:"Intro Video"}),S.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.introVideo&&S.jsx("video",{src:d.introVideo,className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),S.jsxs("div",{className:"flex-grow-1",children:[S.jsx("input",{type:"file",className:"form-control",accept:"video/mp4,video/webm,video/ogg",onChange:de=>me(de.target.files[0],"introVideo"),disabled:I.introVideo}),I.introVideo&&S.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]})]})})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:X,children:"Close"}),S.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Object.values(I).some(de=>de),children:D?"Update Event":"Create Event"})]})]})})]})})}),S.jsx("div",{className:"modal-backdrop fade show"})]})]})}function Jz(){return S.jsxs("div",{className:"container-fluid",children:[S.jsx("h2",{className:"mb-4",children:"Analytics Overview"}),S.jsxs("div",{className:"row",children:[S.jsx("div",{className:"col-md-6",children:S.jsxs("div",{className:"chart-container",children:[S.jsx("h4",{children:"Event Attendance"}),S.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})}),S.jsx("div",{className:"col-md-6",children:S.jsxs("div",{className:"chart-container",children:[S.jsx("h4",{children:"Revenue Analysis"}),S.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})})]})]})}function eH(){const[r,e]=T.useState([]),[t,n]=T.useState(!0),i=Gf();return T.useEffect(()=>{(async()=>{try{n(!0);const l=Hs(ci,"events"),u=fa(l,Zi("event_host","==",oi.currentUser.uid)),f=(await pa(u)).docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.folders&&p.folders.length>0);e(f)}catch(l){console.error("Error fetching events:",l)}finally{n(!1)}})()},[]),t?S.jsx("div",{className:"container-fluid",children:S.jsx("div",{className:"text-center py-5",children:S.jsx("div",{className:"spinner-border text-primary",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):S.jsxs("div",{className:"container-fluid",children:[S.jsx("h2",{className:"mb-4",children:"Folders"}),r.length===0?S.jsx("div",{className:"alert alert-info",children:"No folders found. Create folders in your events to see them here."}):S.jsx("div",{className:"row",children:r.map(a=>S.jsx("div",{className:"col-12 mb-4",children:S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"card-header",children:[S.jsx("h5",{className:"mb-0",children:a.event_name}),S.jsx("small",{className:"text-muted",children:Bf(a.date.toDate(),"dd MMM yyyy")})]}),S.jsx("div",{className:"card-body",children:S.jsx("div",{className:"row g-4",children:a.folders.map((l,u)=>S.jsx("div",{className:"col-md-3 col-sm-6",children:S.jsxs("div",{className:"folder-card text-center",onClick:()=>i(`/folders/${a.id}/${encodeURIComponent(l)}`),children:[S.jsx(p6,{className:"folder-icon"}),S.jsxs("div",{className:"folder-name mt-2",children:[S.jsx("strong",{children:a.event_name})," / ",l]})]})},u))})})]})},a.id))})]})}function tH(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function cM(r,e){return new Promise(function(t,n){let i;return nH(r).then(function(a){try{return i=a,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(l){return n(l)}},n)})}const nH=r=>new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let l=0;if(a.getUint16(l)!==65496)return t("not a valid JPEG");for(l+=2;;){const u=a.getUint16(l);if(u===65498)break;const d=a.getUint16(l+2);if(u===65505&&a.getUint32(l+4)===1165519206){const f=l+10;let p;switch(a.getUint16(f)){case 18761:p=!0;break;case 19789:p=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(f+2,p)!==42)return t("TIFF header contains invalid version");const g=a.getUint32(f+4,p),v=f+g+2+12*a.getUint16(f+g,p);for(let b=f+g+2;b<v;b+=12)if(a.getUint16(b,p)==274){if(a.getUint16(b+2,p)!==3)return t("Orientation data type is invalid");if(a.getUint32(b+4,p)!==1)return t("Orientation data count is invalid");a.setUint16(b+8,1,p);break}return e(i.slice(l,l+2+d))}l+=2+d}return e(new Blob)}),n.readAsArrayBuffer(r)});var Qg={},rH={get exports(){return Qg},set exports(r){Qg=r}};(function(r){var e,t,n={};rH.exports=n,n.parse=function(i,a){for(var l=n.bin.readUshort,u=n.bin.readUint,d=0,f={},p=new Uint8Array(i),g=p.length-4;u(p,g)!=101010256;)g--;d=g,d+=4;var v=l(p,d+=4);l(p,d+=2);var b=u(p,d+=2),E=u(p,d+=4);d+=4,d=E;for(var R=0;R<v;R++){u(p,d),d+=4,d+=4,d+=4,u(p,d+=4),b=u(p,d+=4);var D=u(p,d+=4),k=l(p,d+=4),Y=l(p,d+2),$=l(p,d+4);d+=6;var z=u(p,d+=8);d+=4,d+=k+Y+$,n._readLocal(p,z,f,b,D,a)}return f},n._readLocal=function(i,a,l,u,d,f){var p=n.bin.readUshort,g=n.bin.readUint;g(i,a),p(i,a+=4),p(i,a+=2);var v=p(i,a+=2);g(i,a+=2),g(i,a+=4),a+=4;var b=p(i,a+=8),E=p(i,a+=2);a+=2;var R=n.bin.readUTF8(i,a,b);if(a+=b,a+=E,f)l[R]={size:d,csize:u};else{var D=new Uint8Array(i.buffer,a);if(v==0)l[R]=new Uint8Array(D.buffer.slice(a,a+u));else{if(v!=8)throw"unknown compression method: "+v;var k=new Uint8Array(d);n.inflateRaw(D,k),l[R]=k}}},n.inflateRaw=function(i,a){return n.F.inflate(i,a)},n.inflate=function(i,a){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},n.deflate=function(i,a){a==null&&(a={level:6});var l=0,u=new Uint8Array(50+Math.floor(1.1*i.length));u[l]=120,u[l+1]=156,l+=2,l=n.F.deflateRaw(i,u,l,a.level);var d=n.adler(i,0,i.length);return u[l+0]=d>>>24&255,u[l+1]=d>>>16&255,u[l+2]=d>>>8&255,u[l+3]=d>>>0&255,new Uint8Array(u.buffer,0,l+4)},n.deflateRaw=function(i,a){a==null&&(a={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),u=n.F.deflateRaw(i,l,u,a.level);return new Uint8Array(l.buffer,0,u)},n.encode=function(i,a){a==null&&(a=!1);var l=0,u=n.bin.writeUint,d=n.bin.writeUshort,f={};for(var p in i){var g=!n._noNeed(p)&&!a,v=i[p],b=n.crc.crc(v,0,v.length);f[p]={cpr:g,usize:v.length,crc:b,file:g?n.deflateRaw(v):v}}for(var p in f)l+=f[p].file.length+30+46+2*n.bin.sizeUTF8(p);l+=22;var E=new Uint8Array(l),R=0,D=[];for(var p in f){var k=f[p];D.push(R),R=n._writeHeader(E,R,p,k,0)}var Y=0,$=R;for(var p in f)k=f[p],D.push(R),R=n._writeHeader(E,R,p,k,1,D[Y++]);var z=R-$;return u(E,R,101010256),R+=4,d(E,R+=4,Y),d(E,R+=2,Y),u(E,R+=2,z),u(E,R+=4,$),R+=4,R+=2,E.buffer},n._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},n._writeHeader=function(i,a,l,u,d,f){var p=n.bin.writeUint,g=n.bin.writeUshort,v=u.file;return p(i,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),g(i,a,20),g(i,a+=2,0),g(i,a+=2,u.cpr?8:0),p(i,a+=2,0),p(i,a+=4,u.crc),p(i,a+=4,v.length),p(i,a+=4,u.usize),g(i,a+=4,n.bin.sizeUTF8(l)),g(i,a+=2,0),a+=2,d==1&&(a+=2,a+=2,p(i,a+=6,f),a+=4),a+=n.bin.writeUTF8(i,a,l),d==0&&(i.set(v,a),a+=v.length),a},n.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var l=a,u=0;u<8;u++)1&l?l=3988292384^l>>>1:l>>>=1;i[a]=l}return i}(),update:function(i,a,l,u){for(var d=0;d<u;d++)i=n.crc.table[255&(i^a[l+d])]^i>>>8;return i},crc:function(i,a,l){return 4294967295^n.crc.update(4294967295,i,a,l)}},n.adler=function(i,a,l){for(var u=1,d=0,f=a,p=a+l;f<p;){for(var g=Math.min(f+5552,p);f<g;)d+=u+=i[f++];u%=65521,d%=65521}return d<<16|u},n.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255,i[a+2]=l>>16&255,i[a+3]=l>>24&255},readASCII:function(i,a,l){for(var u="",d=0;d<l;d++)u+=String.fromCharCode(i[a+d]);return u},writeASCII:function(i,a,l){for(var u=0;u<l.length;u++)i[a+u]=l.charCodeAt(u)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,l){for(var u,d="",f=0;f<l;f++)d+="%"+n.bin.pad(i[a+f].toString(16));try{u=decodeURIComponent(d)}catch{return n.bin.readASCII(i,a,l)}return u},writeUTF8:function(i,a,l){for(var u=l.length,d=0,f=0;f<u;f++){var p=l.charCodeAt(f);if((4294967168&p)==0)i[a+d]=p,d++;else if((4294965248&p)==0)i[a+d]=192|p>>6,i[a+d+1]=128|p>>0&63,d+=2;else if((4294901760&p)==0)i[a+d]=224|p>>12,i[a+d+1]=128|p>>6&63,i[a+d+2]=128|p>>0&63,d+=3;else{if((4292870144&p)!=0)throw"e";i[a+d]=240|p>>18,i[a+d+1]=128|p>>12&63,i[a+d+2]=128|p>>6&63,i[a+d+3]=128|p>>0&63,d+=4}}return d},sizeUTF8:function(i){for(var a=i.length,l=0,u=0;u<a;u++){var d=i.charCodeAt(u);if((4294967168&d)==0)l++;else if((4294965248&d)==0)l+=2;else if((4294901760&d)==0)l+=3;else{if((4292870144&d)!=0)throw"e";l+=4}}return l}},n.F={},n.F.deflateRaw=function(i,a,l,u){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],f=n.F.U,p=n.F._goodIndex;n.F._hash;var g=n.F._putsE,v=0,b=l<<3,E=0,R=i.length;if(u==0){for(;v<R;)g(a,b,v+(j=Math.min(65535,R-v))==R?1:0),b=n.F._copyExact(i,v,j,a,b+8),v+=j;return b>>>3}var D=f.lits,k=f.strt,Y=f.prev,$=0,z=0,G=0,H=0,N=0,x=0;for(R>2&&(k[x=n.F._hash(i,0)]=0),v=0;v<R;v++){if(N=x,v+1<R-2){x=n.F._hash(i,v+1);var C=v+1&32767;Y[C]=k[x],k[x]=C}if(E<=v){($>14e3||z>26697)&&R-v>100&&(E<v&&(D[$]=v-E,$+=2,E=v),b=n.F._writeBlock(v==R-1||E==R?1:0,D,$,H,i,G,v-G,a,b),$=z=H=0,G=v);var I=0;v<R-2&&(I=n.F._bestMatch(i,v,Y,N,Math.min(d[2],R-v),d[3]));var j=I>>>16,B=65535&I;if(I!=0){B=65535&I;var U=p(j=I>>>16,f.of0);f.lhst[257+U]++;var X=p(B,f.df0);f.dhst[X]++,H+=f.exb[U]+f.dxb[X],D[$]=j<<23|v-E,D[$+1]=B<<16|U<<8|X,$+=2,E=v+j}else f.lhst[i[v]]++;z++}}for(G==v&&i.length!=0||(E<v&&(D[$]=v-E,$+=2,E=v),b=n.F._writeBlock(1,D,$,H,i,G,v-G,a,b),$=0,z=0,$=z=H=0,G=v);(7&b)!=0;)b++;return b>>>3},n.F._bestMatch=function(i,a,l,u,d,f){var p=32767&a,g=l[p],v=p-g+32768&32767;if(g==p||u!=n.F._hash(i,a-v))return 0;for(var b=0,E=0,R=Math.min(32767,a);v<=R&&--f!=0&&g!=p;){if(b==0||i[a+b]==i[a+b-v]){var D=n.F._howLong(i,a,v);if(D>b){if(E=v,(b=D)>=d)break;v+2<D&&(D=v+2);for(var k=0,Y=0;Y<D-2;Y++){var $=a-v+Y+32768&32767,z=$-l[$]+32768&32767;z>k&&(k=z,g=$)}}}v+=(p=g)-(g=l[p])+32768&32767}return b<<16|E},n.F._howLong=function(i,a,l){if(i[a]!=i[a-l]||i[a+1]!=i[a+1-l]||i[a+2]!=i[a+2-l])return 0;var u=a,d=Math.min(i.length,a+258);for(a+=3;a<d&&i[a]==i[a-l];)a++;return a-u},n.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,a,l,u,d,f,p,g,v){var b,E,R,D,k,Y,$,z,G,H=n.F.U,N=n.F._putsF,x=n.F._putsE;H.lhst[256]++,E=(b=n.F.getTrees())[0],R=b[1],D=b[2],k=b[3],Y=b[4],$=b[5],z=b[6],G=b[7];var C=32+((v+3&7)==0?0:8-(v+3&7))+(p<<3),I=u+n.F.contSize(H.fltree,H.lhst)+n.F.contSize(H.fdtree,H.dhst),j=u+n.F.contSize(H.ltree,H.lhst)+n.F.contSize(H.dtree,H.dhst);j+=14+3*$+n.F.contSize(H.itree,H.ihst)+(2*H.ihst[16]+3*H.ihst[17]+7*H.ihst[18]);for(var B=0;B<286;B++)H.lhst[B]=0;for(B=0;B<30;B++)H.dhst[B]=0;for(B=0;B<19;B++)H.ihst[B]=0;var U=C<I&&C<j?0:I<j?1:2;if(N(g,v,i),N(g,v+1,U),v+=3,U==0){for(;(7&v)!=0;)v++;v=n.F._copyExact(d,f,p,g,v)}else{var X,J;if(U==1&&(X=H.fltree,J=H.fdtree),U==2){n.F.makeCodes(H.ltree,E),n.F.revCodes(H.ltree,E),n.F.makeCodes(H.dtree,R),n.F.revCodes(H.dtree,R),n.F.makeCodes(H.itree,D),n.F.revCodes(H.itree,D),X=H.ltree,J=H.dtree,x(g,v,k-257),x(g,v+=5,Y-1),x(g,v+=5,$-4),v+=4;for(var P=0;P<$;P++)x(g,v+3*P,H.itree[1+(H.ordr[P]<<1)]);v+=3*$,v=n.F._codeTiny(z,H.itree,g,v),v=n.F._codeTiny(G,H.itree,g,v)}for(var F=f,ee=0;ee<l;ee+=2){for(var ne=a[ee],L=ne>>>23,re=F+(8388607&ne);F<re;)v=n.F._writeLit(d[F++],X,g,v);if(L!=0){var ae=a[ee+1],ie=ae>>16,oe=ae>>8&255,Z=255&ae;x(g,v=n.F._writeLit(257+oe,X,g,v),L-H.of0[oe]),v+=H.exb[oe],N(g,v=n.F._writeLit(Z,J,g,v),ie-H.df0[Z]),v+=H.dxb[Z],F+=L}}v=n.F._writeLit(256,X,g,v)}return v},n.F._copyExact=function(i,a,l,u,d){var f=d>>>3;return u[f]=l,u[f+1]=l>>>8,u[f+2]=255-u[f],u[f+3]=255-u[f+1],f+=4,u.set(new Uint8Array(i.buffer,a,l),f),d+(l+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,a=n.F._hufTree(i.lhst,i.ltree,15),l=n.F._hufTree(i.dhst,i.dtree,15),u=[],d=n.F._lenCodes(i.ltree,u),f=[],p=n.F._lenCodes(i.dtree,f),g=0;g<u.length;g+=2)i.ihst[u[g]]++;for(g=0;g<f.length;g+=2)i.ihst[f[g]]++;for(var v=n.F._hufTree(i.ihst,i.itree,7),b=19;b>4&&i.itree[1+(i.ordr[b-1]<<1)]==0;)b--;return[a,l,v,d,p,b,u,f]},n.F.getSecond=function(i){for(var a=[],l=0;l<i.length;l+=2)a.push(i[l+1]);return a},n.F.nonZero=function(i){for(var a="",l=0;l<i.length;l+=2)i[l+1]!=0&&(a+=(l>>1)+",");return a},n.F.contSize=function(i,a){for(var l=0,u=0;u<a.length;u++)l+=a[u]*i[1+(u<<1)];return l},n.F._codeTiny=function(i,a,l,u){for(var d=0;d<i.length;d+=2){var f=i[d],p=i[d+1];u=n.F._writeLit(f,a,l,u);var g=f==16?2:f==17?3:7;f>15&&(n.F._putsE(l,u,p,g),u+=g)}return u},n.F._lenCodes=function(i,a){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var u=0;u<l;u+=2){var d=i[u+1],f=u+3<l?i[u+3]:-1,p=u+5<l?i[u+5]:-1,g=u==0?-1:i[u-1];if(d==0&&f==d&&p==d){for(var v=u+5;v+2<l&&i[v+2]==d;)v+=2;(b=Math.min(v+1-u>>>1,138))<11?a.push(17,b-3):a.push(18,b-11),u+=2*b-2}else if(d==g&&f==d&&p==d){for(v=u+5;v+2<l&&i[v+2]==d;)v+=2;var b=Math.min(v+1-u>>>1,6);a.push(16,b-3),u+=2*b-2}else a.push(d,0)}return l>>>1},n.F._hufTree=function(i,a,l){var u=[],d=i.length,f=a.length,p=0;for(p=0;p<f;p+=2)a[p]=0,a[p+1]=0;for(p=0;p<d;p++)i[p]!=0&&u.push({lit:p,f:i[p]});var g=u.length,v=u.slice(0);if(g==0)return 0;if(g==1){var b=u[0].lit;return v=b==0?1:0,a[1+(b<<1)]=1,a[1+(v<<1)]=1,1}u.sort(function(z,G){return z.f-G.f});var E=u[0],R=u[1],D=0,k=1,Y=2;for(u[0]={lit:-1,f:E.f+R.f,l:E,r:R,d:0};k!=g-1;)E=D!=k&&(Y==g||u[D].f<u[Y].f)?u[D++]:u[Y++],R=D!=k&&(Y==g||u[D].f<u[Y].f)?u[D++]:u[Y++],u[k++]={lit:-1,f:E.f+R.f,l:E,r:R};var $=n.F.setDepth(u[k-1],0);for($>l&&(n.F.restrictDepth(v,l,$),$=l),p=0;p<g;p++)a[1+(v[p].lit<<1)]=v[p].d;return $},n.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(n.F.setDepth(i.l,a+1),n.F.setDepth(i.r,a+1))},n.F.restrictDepth=function(i,a,l){var u=0,d=1<<l-a,f=0;for(i.sort(function(g,v){return v.d==g.d?g.f-v.f:v.d-g.d}),u=0;u<i.length&&i[u].d>a;u++){var p=i[u].d;i[u].d=a,f+=d-(1<<l-p)}for(f>>>=l-a;f>0;)(p=i[u].d)<a?(i[u].d++,f-=1<<a-p-1):u++;for(;u>=0;u--)i[u].d==a&&f<0&&(i[u].d--,f++);f!=0&&console.log("debt left")},n.F._goodIndex=function(i,a){var l=0;return a[16|l]<=i&&(l|=16),a[8|l]<=i&&(l|=8),a[4|l]<=i&&(l|=4),a[2|l]<=i&&(l|=2),a[1|l]<=i&&(l|=1),l},n.F._writeLit=function(i,a,l,u){return n.F._putsF(l,u,a[i<<1]),u+a[1+(i<<1)]},n.F.inflate=function(i,a){var l=Uint8Array;if(i[0]==3&&i[1]==0)return a||new l(0);var u=n.F,d=u._bitsF,f=u._bitsE,p=u._decodeTiny,g=u.makeCodes,v=u.codes2map,b=u._get17,E=u.U,R=a==null;R&&(a=new l(i.length>>>2<<3));for(var D,k,Y=0,$=0,z=0,G=0,H=0,N=0,x=0,C=0,I=0;Y==0;)if(Y=d(i,I,1),$=d(i,I+1,2),I+=3,$!=0){if(R&&(a=n.F._check(a,C+(1<<17))),$==1&&(D=E.flmap,k=E.fdmap,N=511,x=31),$==2){z=f(i,I,5)+257,G=f(i,I+5,5)+1,H=f(i,I+10,4)+4,I+=14;for(var j=0;j<38;j+=2)E.itree[j]=0,E.itree[j+1]=0;var B=1;for(j=0;j<H;j++){var U=f(i,I+3*j,3);E.itree[1+(E.ordr[j]<<1)]=U,U>B&&(B=U)}I+=3*H,g(E.itree,B),v(E.itree,B,E.imap),D=E.lmap,k=E.dmap,I=p(E.imap,(1<<B)-1,z+G,i,I,E.ttree);var X=u._copyOut(E.ttree,0,z,E.ltree);N=(1<<X)-1;var J=u._copyOut(E.ttree,z,G,E.dtree);x=(1<<J)-1,g(E.ltree,X),v(E.ltree,X,D),g(E.dtree,J),v(E.dtree,J,k)}for(;;){var P=D[b(i,I)&N];I+=15&P;var F=P>>>4;if(!(F>>>8))a[C++]=F;else{if(F==256)break;var ee=C+F-254;if(F>264){var ne=E.ldef[F-257];ee=C+(ne>>>3)+f(i,I,7&ne),I+=7&ne}var L=k[b(i,I)&x];I+=15&L;var re=L>>>4,ae=E.ddef[re],ie=(ae>>>4)+d(i,I,15&ae);for(I+=15&ae,R&&(a=n.F._check(a,C+(1<<17)));C<ee;)a[C]=a[C++-ie],a[C]=a[C++-ie],a[C]=a[C++-ie],a[C]=a[C++-ie];C=ee}}}else{(7&I)!=0&&(I+=8-(7&I));var oe=4+(I>>>3),Z=i[oe-4]|i[oe-3]<<8;R&&(a=n.F._check(a,C+Z)),a.set(new l(i.buffer,i.byteOffset+oe,Z),C),I=oe+Z<<3,C+=Z}return a.length==C?a:a.slice(0,C)},n.F._check=function(i,a){var l=i.length;if(a<=l)return i;var u=new Uint8Array(Math.max(l<<1,a));return u.set(i,0),u},n.F._decodeTiny=function(i,a,l,u,d,f){for(var p=n.F._bitsE,g=n.F._get17,v=0;v<l;){var b=i[g(u,d)&a];d+=15&b;var E=b>>>4;if(E<=15)f[v]=E,v++;else{var R=0,D=0;E==16?(D=3+p(u,d,2),d+=2,R=f[v-1]):E==17?(D=3+p(u,d,3),d+=3):E==18&&(D=11+p(u,d,7),d+=7);for(var k=v+D;v<k;)f[v]=R,v++}}return d},n.F._copyOut=function(i,a,l,u){for(var d=0,f=0,p=u.length>>>1;f<l;){var g=i[f+a];u[f<<1]=0,u[1+(f<<1)]=g,g>d&&(d=g),f++}for(;f<p;)u[f<<1]=0,u[1+(f<<1)]=0,f++;return d},n.F.makeCodes=function(i,a){for(var l,u,d,f,p=n.F.U,g=i.length,v=p.bl_count,b=0;b<=a;b++)v[b]=0;for(b=1;b<g;b+=2)v[i[b]]++;var E=p.next_code;for(l=0,v[0]=0,u=1;u<=a;u++)l=l+v[u-1]<<1,E[u]=l;for(d=0;d<g;d+=2)(f=i[d+1])!=0&&(i[d]=E[f],E[f]++)},n.F.codes2map=function(i,a,l){for(var u=i.length,d=n.F.U.rev15,f=0;f<u;f+=2)if(i[f+1]!=0)for(var p=f>>1,g=i[f+1],v=p<<4|g,b=a-g,E=i[f]<<b,R=E+(1<<b);E!=R;)l[d[E]>>>15-a]=v,E++},n.F.revCodes=function(i,a){for(var l=n.F.U.rev15,u=15-a,d=0;d<i.length;d+=2){var f=i[d]<<a-i[d+1];i[d]=l[f]>>>u}},n.F._putsE=function(i,a,l){l<<=7&a;var u=a>>>3;i[u]|=l,i[u+1]|=l>>>8},n.F._putsF=function(i,a,l){l<<=7&a;var u=a>>>3;i[u]|=l,i[u+1]|=l>>>8,i[u+2]|=l>>>16},n.F._bitsE=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},n.F._bitsF=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},n.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},n.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},n.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,a=0;a<32768;a++){var l=a;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[a]=(l>>>16|l<<16)>>>17}function u(d,f,p){for(;f--!=0;)d.push(0,p)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];u(i.fltree,144,8),u(i.fltree,112,9),u(i.fltree,24,7),u(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),u(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),u(i.itree,19,0),u(i.ltree,286,0),u(i.dtree,30,0),u(i.ttree,320,0)}()})();var iH=tH({__proto__:null,default:Qg},[Qg]);const ha=function(){var r={nextZero(p,g){for(;p[g]!=0;)g++;return g},readUshort:(p,g)=>p[g]<<8|p[g+1],writeUshort(p,g,v){p[g]=v>>8&255,p[g+1]=255&v},readUint:(p,g)=>16777216*p[g]+(p[g+1]<<16|p[g+2]<<8|p[g+3]),writeUint(p,g,v){p[g]=v>>24&255,p[g+1]=v>>16&255,p[g+2]=v>>8&255,p[g+3]=255&v},readASCII(p,g,v){let b="";for(let E=0;E<v;E++)b+=String.fromCharCode(p[g+E]);return b},writeASCII(p,g,v){for(let b=0;b<v.length;b++)p[g+b]=v.charCodeAt(b)},readBytes(p,g,v){const b=[];for(let E=0;E<v;E++)b.push(p[g+E]);return b},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,g,v){let b,E="";for(let R=0;R<v;R++)E+=`%${r.pad(p[g+R].toString(16))}`;try{b=decodeURIComponent(E)}catch{return r.readASCII(p,g,v)}return b}};function e(p,g,v,b){const E=g*v,R=a(b),D=Math.ceil(g*R/8),k=new Uint8Array(4*E),Y=new Uint32Array(k.buffer),{ctype:$}=b,{depth:z}=b,G=r.readUshort;if($==6){const ne=E<<2;if(z==8)for(var H=0;H<ne;H+=4)k[H]=p[H],k[H+1]=p[H+1],k[H+2]=p[H+2],k[H+3]=p[H+3];if(z==16)for(H=0;H<ne;H++)k[H]=p[H<<1]}else if($==2){const ne=b.tabs.tRNS;if(ne==null){if(z==8)for(H=0;H<E;H++){var N=3*H;Y[H]=255<<24|p[N+2]<<16|p[N+1]<<8|p[N]}if(z==16)for(H=0;H<E;H++)N=6*H,Y[H]=255<<24|p[N+4]<<16|p[N+2]<<8|p[N]}else{var x=ne[0];const L=ne[1],re=ne[2];if(z==8)for(H=0;H<E;H++){var C=H<<2;N=3*H,Y[H]=255<<24|p[N+2]<<16|p[N+1]<<8|p[N],p[N]==x&&p[N+1]==L&&p[N+2]==re&&(k[C+3]=0)}if(z==16)for(H=0;H<E;H++)C=H<<2,N=6*H,Y[H]=255<<24|p[N+4]<<16|p[N+2]<<8|p[N],G(p,N)==x&&G(p,N+2)==L&&G(p,N+4)==re&&(k[C+3]=0)}}else if($==3){const ne=b.tabs.PLTE,L=b.tabs.tRNS,re=L?L.length:0;if(z==1)for(var I=0;I<v;I++){var j=I*D,B=I*g;for(H=0;H<g;H++){C=B+H<<2;var U=3*(X=p[j+(H>>3)]>>7-((7&H)<<0)&1);k[C]=ne[U],k[C+1]=ne[U+1],k[C+2]=ne[U+2],k[C+3]=X<re?L[X]:255}}if(z==2)for(I=0;I<v;I++)for(j=I*D,B=I*g,H=0;H<g;H++)C=B+H<<2,U=3*(X=p[j+(H>>2)]>>6-((3&H)<<1)&3),k[C]=ne[U],k[C+1]=ne[U+1],k[C+2]=ne[U+2],k[C+3]=X<re?L[X]:255;if(z==4)for(I=0;I<v;I++)for(j=I*D,B=I*g,H=0;H<g;H++)C=B+H<<2,U=3*(X=p[j+(H>>1)]>>4-((1&H)<<2)&15),k[C]=ne[U],k[C+1]=ne[U+1],k[C+2]=ne[U+2],k[C+3]=X<re?L[X]:255;if(z==8)for(H=0;H<E;H++){var X;C=H<<2,U=3*(X=p[H]),k[C]=ne[U],k[C+1]=ne[U+1],k[C+2]=ne[U+2],k[C+3]=X<re?L[X]:255}}else if($==4){if(z==8)for(H=0;H<E;H++){C=H<<2;var J=p[P=H<<1];k[C]=J,k[C+1]=J,k[C+2]=J,k[C+3]=p[P+1]}if(z==16)for(H=0;H<E;H++){var P;C=H<<2,J=p[P=H<<2],k[C]=J,k[C+1]=J,k[C+2]=J,k[C+3]=p[P+2]}}else if($==0)for(x=b.tabs.tRNS?b.tabs.tRNS:-1,I=0;I<v;I++){const ne=I*D,L=I*g;if(z==1)for(var F=0;F<g;F++){var ee=(J=255*(p[ne+(F>>>3)]>>>7-(7&F)&1))==255*x?0:255;Y[L+F]=ee<<24|J<<16|J<<8|J}else if(z==2)for(F=0;F<g;F++)ee=(J=85*(p[ne+(F>>>2)]>>>6-((3&F)<<1)&3))==85*x?0:255,Y[L+F]=ee<<24|J<<16|J<<8|J;else if(z==4)for(F=0;F<g;F++)ee=(J=17*(p[ne+(F>>>1)]>>>4-((1&F)<<2)&15))==17*x?0:255,Y[L+F]=ee<<24|J<<16|J<<8|J;else if(z==8)for(F=0;F<g;F++)ee=(J=p[ne+F])==x?0:255,Y[L+F]=ee<<24|J<<16|J<<8|J;else if(z==16)for(F=0;F<g;F++)J=p[ne+(F<<1)],ee=G(p,ne+(F<<1))==x?0:255,Y[L+F]=ee<<24|J<<16|J<<8|J}return k}function t(p,g,v,b){const E=a(p),R=Math.ceil(v*E/8),D=new Uint8Array((R+1+p.interlace)*b);return g=p.tabs.CgBI?i(g,D):n(g,D),p.interlace==0?g=l(g,p,0,v,b):p.interlace==1&&(g=function(Y,$){const z=$.width,G=$.height,H=a($),N=H>>3,x=Math.ceil(z*H/8),C=new Uint8Array(G*x);let I=0;const j=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],X=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const F=U[J],ee=X[J];let ne=0,L=0,re=j[J];for(;re<G;)re+=F,L++;let ae=B[J];for(;ae<z;)ae+=ee,ne++;const ie=Math.ceil(ne*H/8);l(Y,$,I,ne,L);let oe=0,Z=j[J];for(;Z<G;){let we=B[J],je=I+oe*ie<<3;for(;we<z;){var P;if(H==1&&(P=(P=Y[je>>3])>>7-(7&je)&1,C[Z*x+(we>>3)]|=P<<7-((7&we)<<0)),H==2&&(P=(P=Y[je>>3])>>6-(7&je)&3,C[Z*x+(we>>2)]|=P<<6-((3&we)<<1)),H==4&&(P=(P=Y[je>>3])>>4-(7&je)&15,C[Z*x+(we>>1)]|=P<<4-((1&we)<<2)),H>=8){const me=Z*x+we*N;for(let Fe=0;Fe<N;Fe++)C[me+Fe]=Y[(je>>3)+Fe]}je+=H,we+=ee}oe++,Z+=F}ne*L!=0&&(I+=L*(1+ie)),J+=1}return C}(g,p)),g}function n(p,g){return i(new Uint8Array(p.buffer,2,p.length-6),g)}var i=function(){const p={H:{}};return p.H.N=function(g,v){const b=Uint8Array;let E,R,D=0,k=0,Y=0,$=0,z=0,G=0,H=0,N=0,x=0;if(g[0]==3&&g[1]==0)return v||new b(0);const C=p.H,I=C.b,j=C.e,B=C.R,U=C.n,X=C.A,J=C.Z,P=C.m,F=v==null;for(F&&(v=new b(g.length>>>2<<5));D==0;)if(D=I(g,x,1),k=I(g,x+1,2),x+=3,k!=0){if(F&&(v=p.H.W(v,N+(1<<17))),k==1&&(E=P.J,R=P.h,G=511,H=31),k==2){Y=j(g,x,5)+257,$=j(g,x+5,5)+1,z=j(g,x+10,4)+4,x+=14;let ne=1;for(var ee=0;ee<38;ee+=2)P.Q[ee]=0,P.Q[ee+1]=0;for(ee=0;ee<z;ee++){const ae=j(g,x+3*ee,3);P.Q[1+(P.X[ee]<<1)]=ae,ae>ne&&(ne=ae)}x+=3*z,U(P.Q,ne),X(P.Q,ne,P.u),E=P.w,R=P.d,x=B(P.u,(1<<ne)-1,Y+$,g,x,P.v);const L=C.V(P.v,0,Y,P.C);G=(1<<L)-1;const re=C.V(P.v,Y,$,P.D);H=(1<<re)-1,U(P.C,L),X(P.C,L,E),U(P.D,re),X(P.D,re,R)}for(;;){const ne=E[J(g,x)&G];x+=15&ne;const L=ne>>>4;if(!(L>>>8))v[N++]=L;else{if(L==256)break;{let re=N+L-254;if(L>264){const we=P.q[L-257];re=N+(we>>>3)+j(g,x,7&we),x+=7&we}const ae=R[J(g,x)&H];x+=15&ae;const ie=ae>>>4,oe=P.c[ie],Z=(oe>>>4)+I(g,x,15&oe);for(x+=15&oe;N<re;)v[N]=v[N++-Z],v[N]=v[N++-Z],v[N]=v[N++-Z],v[N]=v[N++-Z];N=re}}}}else{(7&x)!=0&&(x+=8-(7&x));const ne=4+(x>>>3),L=g[ne-4]|g[ne-3]<<8;F&&(v=p.H.W(v,N+L)),v.set(new b(g.buffer,g.byteOffset+ne,L),N),x=ne+L<<3,N+=L}return v.length==N?v:v.slice(0,N)},p.H.W=function(g,v){const b=g.length;if(v<=b)return g;const E=new Uint8Array(b<<1);return E.set(g,0),E},p.H.R=function(g,v,b,E,R,D){const k=p.H.e,Y=p.H.Z;let $=0;for(;$<b;){const z=g[Y(E,R)&v];R+=15&z;const G=z>>>4;if(G<=15)D[$]=G,$++;else{let H=0,N=0;G==16?(N=3+k(E,R,2),R+=2,H=D[$-1]):G==17?(N=3+k(E,R,3),R+=3):G==18&&(N=11+k(E,R,7),R+=7);const x=$+N;for(;$<x;)D[$]=H,$++}}return R},p.H.V=function(g,v,b,E){let R=0,D=0;const k=E.length>>>1;for(;D<b;){const Y=g[D+v];E[D<<1]=0,E[1+(D<<1)]=Y,Y>R&&(R=Y),D++}for(;D<k;)E[D<<1]=0,E[1+(D<<1)]=0,D++;return R},p.H.n=function(g,v){const b=p.H.m,E=g.length;let R,D,k,Y;const $=b.j;for(var z=0;z<=v;z++)$[z]=0;for(z=1;z<E;z+=2)$[g[z]]++;const G=b.K;for(R=0,$[0]=0,D=1;D<=v;D++)R=R+$[D-1]<<1,G[D]=R;for(k=0;k<E;k+=2)Y=g[k+1],Y!=0&&(g[k]=G[Y],G[Y]++)},p.H.A=function(g,v,b){const E=g.length,R=p.H.m.r;for(let D=0;D<E;D+=2)if(g[D+1]!=0){const k=D>>1,Y=g[D+1],$=k<<4|Y,z=v-Y;let G=g[D]<<z;const H=G+(1<<z);for(;G!=H;)b[R[G]>>>15-v]=$,G++}},p.H.l=function(g,v){const b=p.H.m.r,E=15-v;for(let R=0;R<g.length;R+=2){const D=g[R]<<v-g[R+1];g[R]=b[D]>>>E}},p.H.M=function(g,v,b){b<<=7&v;const E=v>>>3;g[E]|=b,g[E+1]|=b>>>8},p.H.I=function(g,v,b){b<<=7&v;const E=v>>>3;g[E]|=b,g[E+1]|=b>>>8,g[E+2]|=b>>>16},p.H.e=function(g,v,b){return(g[v>>>3]|g[1+(v>>>3)]<<8)>>>(7&v)&(1<<b)-1},p.H.b=function(g,v,b){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)&(1<<b)-1},p.H.Z=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)},p.H.i=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16|g[3+(v>>>3)]<<24)>>>(7&v)},p.H.m=function(){const g=Uint16Array,v=Uint32Array;return{K:new g(16),j:new g(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new g(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new g(512),_:[],h:new g(32),$:[],w:new g(32768),C:[],v:[],d:new g(32768),D:[],u:new g(512),Q:[],r:new g(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new g(65536),g:new g(32768)}}(),function(){const g=p.H.m;for(var v=0;v<32768;v++){let E=v;E=(2863311530&E)>>>1|(1431655765&E)<<1,E=(3435973836&E)>>>2|(858993459&E)<<2,E=(4042322160&E)>>>4|(252645135&E)<<4,E=(4278255360&E)>>>8|(16711935&E)<<8,g.r[v]=(E>>>16|E<<16)>>>17}function b(E,R,D){for(;R--!=0;)E.push(0,D)}for(v=0;v<32;v++)g.q[v]=g.S[v]<<3|g.T[v],g.c[v]=g.p[v]<<4|g.z[v];b(g._,144,8),b(g._,112,9),b(g._,24,7),b(g._,8,8),p.H.n(g._,9),p.H.A(g._,9,g.J),p.H.l(g._,9),b(g.$,32,5),p.H.n(g.$,5),p.H.A(g.$,5,g.h),p.H.l(g.$,5),b(g.Q,19,0),b(g.C,286,0),b(g.D,30,0),b(g.v,320,0)}(),p.H.N}();function a(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function l(p,g,v,b,E){let R=a(g);const D=Math.ceil(b*R/8);let k,Y;R=Math.ceil(R/8);let $=p[v],z=0;if($>1&&(p[v]=[0,0,1][$-2]),$==3)for(z=R;z<D;z++)p[z+1]=p[z+1]+(p[z+1-R]>>>1)&255;for(let G=0;G<E;G++)if(k=v+G*D,Y=k+G+1,$=p[Y-1],z=0,$==0)for(;z<D;z++)p[k+z]=p[Y+z];else if($==1){for(;z<R;z++)p[k+z]=p[Y+z];for(;z<D;z++)p[k+z]=p[Y+z]+p[k+z-R]}else if($==2)for(;z<D;z++)p[k+z]=p[Y+z]+p[k+z-D];else if($==3){for(;z<R;z++)p[k+z]=p[Y+z]+(p[k+z-D]>>>1);for(;z<D;z++)p[k+z]=p[Y+z]+(p[k+z-D]+p[k+z-R]>>>1)}else{for(;z<R;z++)p[k+z]=p[Y+z]+u(0,p[k+z-D],0);for(;z<D;z++)p[k+z]=p[Y+z]+u(p[k+z-R],p[k+z-D],p[k+z-R-D])}return p}function u(p,g,v){const b=p+g-v,E=b-p,R=b-g,D=b-v;return E*E<=R*R&&E*E<=D*D?p:R*R<=D*D?g:v}function d(p,g,v){v.width=r.readUint(p,g),g+=4,v.height=r.readUint(p,g),g+=4,v.depth=p[g],g++,v.ctype=p[g],g++,v.compress=p[g],g++,v.filter=p[g],g++,v.interlace=p[g],g++}function f(p,g,v,b,E,R,D,k,Y){const $=Math.min(g,E),z=Math.min(v,R);let G=0,H=0;for(let J=0;J<z;J++)for(let P=0;P<$;P++)if(D>=0&&k>=0?(G=J*g+P<<2,H=(k+J)*E+D+P<<2):(G=(-k+J)*g-D+P<<2,H=J*E+P<<2),Y==0)b[H]=p[G],b[H+1]=p[G+1],b[H+2]=p[G+2],b[H+3]=p[G+3];else if(Y==1){var N=p[G+3]*.00392156862745098,x=p[G]*N,C=p[G+1]*N,I=p[G+2]*N,j=b[H+3]*(1/255),B=b[H]*j,U=b[H+1]*j,X=b[H+2]*j;const F=1-N,ee=N+j*F,ne=ee==0?0:1/ee;b[H+3]=255*ee,b[H+0]=(x+B*F)*ne,b[H+1]=(C+U*F)*ne,b[H+2]=(I+X*F)*ne}else if(Y==2)N=p[G+3],x=p[G],C=p[G+1],I=p[G+2],j=b[H+3],B=b[H],U=b[H+1],X=b[H+2],N==j&&x==B&&C==U&&I==X?(b[H]=0,b[H+1]=0,b[H+2]=0,b[H+3]=0):(b[H]=x,b[H+1]=C,b[H+2]=I,b[H+3]=N);else if(Y==3){if(N=p[G+3],x=p[G],C=p[G+1],I=p[G+2],j=b[H+3],B=b[H],U=b[H+1],X=b[H+2],N==j&&x==B&&C==U&&I==X)continue;if(N<220&&j>20)return!1}return!0}return{decode:function(g){const v=new Uint8Array(g);let b=8;const E=r,R=E.readUshort,D=E.readUint,k={tabs:{},frames:[]},Y=new Uint8Array(v.length);let $,z=0,G=0;const H=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(v[N]!=H[N])throw"The input is not a PNG file!";for(;b<v.length;){const J=E.readUint(v,b);b+=4;const P=E.readASCII(v,b,4);if(b+=4,P=="IHDR")d(v,b,k);else if(P=="iCCP"){for(var x=b;v[x]!=0;)x++;E.readASCII(v,b,x-b),v[x+1];const F=v.slice(x+2,b+J);let ee=null;try{ee=n(F)}catch{ee=i(F)}k.tabs[P]=ee}else if(P=="CgBI")k.tabs[P]=v.slice(b,b+4);else if(P=="IDAT"){for(N=0;N<J;N++)Y[z+N]=v[b+N];z+=J}else if(P=="acTL")k.tabs[P]={num_frames:D(v,b),num_plays:D(v,b+4)},$=new Uint8Array(v.length);else if(P=="fcTL"){G!=0&&((X=k.frames[k.frames.length-1]).data=t(k,$.slice(0,G),X.rect.width,X.rect.height),G=0);const F={x:D(v,b+12),y:D(v,b+16),width:D(v,b+4),height:D(v,b+8)};let ee=R(v,b+22);ee=R(v,b+20)/(ee==0?100:ee);const ne={rect:F,delay:Math.round(1e3*ee),dispose:v[b+24],blend:v[b+25]};k.frames.push(ne)}else if(P=="fdAT"){for(N=0;N<J-4;N++)$[G+N]=v[b+N+4];G+=J-4}else if(P=="pHYs")k.tabs[P]=[E.readUint(v,b),E.readUint(v,b+4),v[b+8]];else if(P=="cHRM")for(k.tabs[P]=[],N=0;N<8;N++)k.tabs[P].push(E.readUint(v,b+4*N));else if(P=="tEXt"||P=="zTXt"){k.tabs[P]==null&&(k.tabs[P]={});var C=E.nextZero(v,b),I=E.readASCII(v,b,C-b),j=b+J-C-1;if(P=="tEXt")U=E.readASCII(v,C+1,j);else{var B=n(v.slice(C+2,C+2+j));U=E.readUTF8(B,0,B.length)}k.tabs[P][I]=U}else if(P=="iTXt"){k.tabs[P]==null&&(k.tabs[P]={}),C=0,x=b,C=E.nextZero(v,x),I=E.readASCII(v,x,C-x);const F=v[x=C+1];var U;v[x+1],x+=2,C=E.nextZero(v,x),E.readASCII(v,x,C-x),x=C+1,C=E.nextZero(v,x),E.readUTF8(v,x,C-x),j=J-((x=C+1)-b),F==0?U=E.readUTF8(v,x,j):(B=n(v.slice(x,x+j)),U=E.readUTF8(B,0,B.length)),k.tabs[P][I]=U}else if(P=="PLTE")k.tabs[P]=E.readBytes(v,b,J);else if(P=="hIST"){const F=k.tabs.PLTE.length/3;for(k.tabs[P]=[],N=0;N<F;N++)k.tabs[P].push(R(v,b+2*N))}else if(P=="tRNS")k.ctype==3?k.tabs[P]=E.readBytes(v,b,J):k.ctype==0?k.tabs[P]=R(v,b):k.ctype==2&&(k.tabs[P]=[R(v,b),R(v,b+2),R(v,b+4)]);else if(P=="gAMA")k.tabs[P]=E.readUint(v,b)/1e5;else if(P=="sRGB")k.tabs[P]=v[b];else if(P=="bKGD")k.ctype==0||k.ctype==4?k.tabs[P]=[R(v,b)]:k.ctype==2||k.ctype==6?k.tabs[P]=[R(v,b),R(v,b+2),R(v,b+4)]:k.ctype==3&&(k.tabs[P]=v[b]);else if(P=="IEND")break;b+=J,E.readUint(v,b),b+=4}var X;return G!=0&&((X=k.frames[k.frames.length-1]).data=t(k,$.slice(0,G),X.rect.width,X.rect.height)),k.data=t(k,Y,k.width,k.height),delete k.compress,delete k.interlace,delete k.filter,k},toRGBA8:function(g){const v=g.width,b=g.height;if(g.tabs.acTL==null)return[e(g.data,v,b,g).buffer];const E=[];g.frames[0].data==null&&(g.frames[0].data=g.data);const R=v*b*4,D=new Uint8Array(R),k=new Uint8Array(R),Y=new Uint8Array(R);for(let z=0;z<g.frames.length;z++){const G=g.frames[z],H=G.rect.x,N=G.rect.y,x=G.rect.width,C=G.rect.height,I=e(G.data,x,C,g);if(z!=0)for(var $=0;$<R;$++)Y[$]=D[$];if(G.blend==0?f(I,x,C,D,v,b,H,N,0):G.blend==1&&f(I,x,C,D,v,b,H,N,1),E.push(D.buffer.slice(0)),G.dispose!=0){if(G.dispose==1)f(k,x,C,D,v,b,H,N,0);else if(G.dispose==2)for($=0;$<R;$++)D[$]=Y[$]}}return E},_paeth:u,_copyTile:f,_bin:r}}();(function(){const{_copyTile:r}=ha,{_bin:e}=ha,t=ha._paeth;var n={table:function(){const x=new Uint32Array(256);for(let C=0;C<256;C++){let I=C;for(let j=0;j<8;j++)1&I?I=3988292384^I>>>1:I>>>=1;x[C]=I}return x}(),update(x,C,I,j){for(let B=0;B<j;B++)x=n.table[255&(x^C[I+B])]^x>>>8;return x},crc:(x,C,I)=>4294967295^n.update(4294967295,x,C,I)};function i(x,C,I,j){C[I]+=x[0]*j>>4,C[I+1]+=x[1]*j>>4,C[I+2]+=x[2]*j>>4,C[I+3]+=x[3]*j>>4}function a(x){return Math.max(0,Math.min(255,x))}function l(x,C){const I=x[0]-C[0],j=x[1]-C[1],B=x[2]-C[2],U=x[3]-C[3];return I*I+j*j+B*B+U*U}function u(x,C,I,j,B,U,X){X==null&&(X=1);const J=j.length,P=[];for(var F=0;F<J;F++){const Z=j[F];P.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(F=0;F<J;F++){let Z=4294967295;for(var ee=0,ne=0;ne<J;ne++){var L=l(P[F],P[ne]);ne!=F&&L<Z&&(Z=L,ee=ne)}}const re=new Uint32Array(B.buffer),ae=new Int16Array(C*I*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(F=0;F<ie.length;F++)ie[F]=255*((ie[F]+.5)/16-.5);for(let Z=0;Z<I;Z++)for(let we=0;we<C;we++){var oe;F=4*(Z*C+we),X!=2?oe=[a(x[F]+ae[F]),a(x[F+1]+ae[F+1]),a(x[F+2]+ae[F+2]),a(x[F+3]+ae[F+3])]:(L=ie[4*(3&Z)+(3&we)],oe=[a(x[F]+L),a(x[F+1]+L),a(x[F+2]+L),a(x[F+3]+L)]),ee=0;let je=16777215;for(ne=0;ne<J;ne++){const Ie=l(oe,P[ne]);Ie<je&&(je=Ie,ee=ne)}const me=P[ee],Fe=[oe[0]-me[0],oe[1]-me[1],oe[2]-me[2],oe[3]-me[3]];X==1&&(we!=C-1&&i(Fe,ae,F+4,7),Z!=I-1&&(we!=0&&i(Fe,ae,F+4*C-4,3),i(Fe,ae,F+4*C,5),we!=C-1&&i(Fe,ae,F+4*C+4,1))),U[F>>2]=ee,re[F>>2]=j[ee]}}function d(x,C,I,j,B){B==null&&(B={});const{crc:U}=n,X=e.writeUint,J=e.writeUshort,P=e.writeASCII;let F=8;const ee=x.frames.length>1;let ne,L=!1,re=33+(ee?20:0);if(B.sRGB!=null&&(re+=13),B.pHYs!=null&&(re+=21),B.iCCP!=null&&(ne=pako.deflate(B.iCCP),re+=21+ne.length+4),x.ctype==3){for(var ae=x.plte.length,ie=0;ie<ae;ie++)x.plte[ie]>>>24!=255&&(L=!0);re+=8+3*ae+4+(L?8+1*ae+4:0)}for(var oe=0;oe<x.frames.length;oe++)ee&&(re+=38),re+=(me=x.frames[oe]).cimg.length+12,oe!=0&&(re+=4);re+=12;const Z=new Uint8Array(re),we=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)Z[ie]=we[ie];if(X(Z,F,13),F+=4,P(Z,F,"IHDR"),F+=4,X(Z,F,C),F+=4,X(Z,F,I),F+=4,Z[F]=x.depth,F++,Z[F]=x.ctype,F++,Z[F]=0,F++,Z[F]=0,F++,Z[F]=0,F++,X(Z,F,U(Z,F-17,17)),F+=4,B.sRGB!=null&&(X(Z,F,1),F+=4,P(Z,F,"sRGB"),F+=4,Z[F]=B.sRGB,F++,X(Z,F,U(Z,F-5,5)),F+=4),B.iCCP!=null){const Fe=13+ne.length;X(Z,F,Fe),F+=4,P(Z,F,"iCCP"),F+=4,P(Z,F,"ICC profile"),F+=11,F+=2,Z.set(ne,F),F+=ne.length,X(Z,F,U(Z,F-(Fe+4),Fe+4)),F+=4}if(B.pHYs!=null&&(X(Z,F,9),F+=4,P(Z,F,"pHYs"),F+=4,X(Z,F,B.pHYs[0]),F+=4,X(Z,F,B.pHYs[1]),F+=4,Z[F]=B.pHYs[2],F++,X(Z,F,U(Z,F-13,13)),F+=4),ee&&(X(Z,F,8),F+=4,P(Z,F,"acTL"),F+=4,X(Z,F,x.frames.length),F+=4,X(Z,F,B.loop!=null?B.loop:0),F+=4,X(Z,F,U(Z,F-12,12)),F+=4),x.ctype==3){for(X(Z,F,3*(ae=x.plte.length)),F+=4,P(Z,F,"PLTE"),F+=4,ie=0;ie<ae;ie++){const Fe=3*ie,Ie=x.plte[ie],He=255&Ie,de=Ie>>>8&255,Ce=Ie>>>16&255;Z[F+Fe+0]=He,Z[F+Fe+1]=de,Z[F+Fe+2]=Ce}if(F+=3*ae,X(Z,F,U(Z,F-3*ae-4,3*ae+4)),F+=4,L){for(X(Z,F,ae),F+=4,P(Z,F,"tRNS"),F+=4,ie=0;ie<ae;ie++)Z[F+ie]=x.plte[ie]>>>24&255;F+=ae,X(Z,F,U(Z,F-ae-4,ae+4)),F+=4}}let je=0;for(oe=0;oe<x.frames.length;oe++){var me=x.frames[oe];ee&&(X(Z,F,26),F+=4,P(Z,F,"fcTL"),F+=4,X(Z,F,je++),F+=4,X(Z,F,me.rect.width),F+=4,X(Z,F,me.rect.height),F+=4,X(Z,F,me.rect.x),F+=4,X(Z,F,me.rect.y),F+=4,J(Z,F,j[oe]),F+=2,J(Z,F,1e3),F+=2,Z[F]=me.dispose,F++,Z[F]=me.blend,F++,X(Z,F,U(Z,F-30,30)),F+=4);const Fe=me.cimg;X(Z,F,(ae=Fe.length)+(oe==0?0:4)),F+=4;const Ie=F;P(Z,F,oe==0?"IDAT":"fdAT"),F+=4,oe!=0&&(X(Z,F,je++),F+=4),Z.set(Fe,F),F+=ae,X(Z,F,U(Z,Ie,F-Ie)),F+=4}return X(Z,F,0),F+=4,P(Z,F,"IEND"),F+=4,X(Z,F,U(Z,F-4,4)),F+=4,Z.buffer}function f(x,C,I){for(let j=0;j<x.frames.length;j++){const B=x.frames[j];B.rect.width;const U=B.rect.height,X=new Uint8Array(U*B.bpl+U);B.cimg=b(B.img,U,B.bpp,B.bpl,X,C,I)}}function p(x,C,I,j,B){const U=B[0],X=B[1],J=B[2],P=B[3],F=B[4],ee=B[5];let ne=6,L=8,re=255;for(var ae=0;ae<x.length;ae++){const Ze=new Uint8Array(x[ae]);for(var ie=Ze.length,oe=0;oe<ie;oe+=4)re&=Ze[oe+3]}const Z=re!=255,we=function(Qe,lt,Kt,vn,Pt,Gn){const zt=[];for(var xt=0;xt<Qe.length;xt++){const yn=new Uint8Array(Qe[xt]),Wn=new Uint32Array(yn.buffer);var ln;let En=0,Un=0,zn=lt,kn=Kt,Xr=vn?1:0;if(xt!=0){const Or=Gn||vn||xt==1||zt[xt-2].dispose!=0?1:2;let fi=0,Nr=1e9;for(let hr=0;hr<Or;hr++){var Rt=new Uint8Array(Qe[xt-1-hr]);const br=new Uint32Array(Qe[xt-1-hr]);let Ae=lt,Pe=Kt,Ke=-1,St=-1;for(let mt=0;mt<Kt;mt++)for(let gt=0;gt<lt;gt++)Wn[Tt=mt*lt+gt]!=br[Tt]&&(gt<Ae&&(Ae=gt),gt>Ke&&(Ke=gt),mt<Pe&&(Pe=mt),mt>St&&(St=mt));Ke==-1&&(Ae=Pe=Ke=St=0),Pt&&((1&Ae)==1&&Ae--,(1&Pe)==1&&Pe--);const Gt=(Ke-Ae+1)*(St-Pe+1);Gt<Nr&&(Nr=Gt,fi=hr,En=Ae,Un=Pe,zn=Ke-Ae+1,kn=St-Pe+1)}Rt=new Uint8Array(Qe[xt-1-fi]),fi==1&&(zt[xt-1].dispose=2),ln=new Uint8Array(zn*kn*4),r(Rt,lt,Kt,ln,zn,kn,-En,-Un,0),Xr=r(yn,lt,Kt,ln,zn,kn,-En,-Un,3)?1:0,Xr==1?v(yn,lt,Kt,ln,{x:En,y:Un,width:zn,height:kn}):r(yn,lt,Kt,ln,zn,kn,-En,-Un,0)}else ln=yn.slice(0);zt.push({rect:{x:En,y:Un,width:zn,height:kn},img:ln,blend:Xr,dispose:0})}if(vn)for(xt=0;xt<zt.length;xt++){if((kt=zt[xt]).blend==1)continue;const yn=kt.rect,Wn=zt[xt-1].rect,En=Math.min(yn.x,Wn.x),Un=Math.min(yn.y,Wn.y),zn={x:En,y:Un,width:Math.max(yn.x+yn.width,Wn.x+Wn.width)-En,height:Math.max(yn.y+yn.height,Wn.y+Wn.height)-Un};zt[xt-1].dispose=1,xt-1!=0&&g(Qe,lt,Kt,zt,xt-1,zn,Pt),g(Qe,lt,Kt,zt,xt,zn,Pt)}let pt=0;if(Qe.length!=1)for(var Tt=0;Tt<zt.length;Tt++){var kt;pt+=(kt=zt[Tt]).rect.width*kt.rect.height}return zt}(x,C,I,U,X,J),je={},me=[],Fe=[];if(j!=0){const Ze=[];for(oe=0;oe<we.length;oe++)Ze.push(we[oe].img.buffer);const Qe=function(Pt){let Gn=0;for(var zt=0;zt<Pt.length;zt++)Gn+=Pt[zt].byteLength;const xt=new Uint8Array(Gn);let ln=0;for(zt=0;zt<Pt.length;zt++){const Rt=new Uint8Array(Pt[zt]),pt=Rt.length;for(let Tt=0;Tt<pt;Tt+=4){let kt=Rt[Tt],yn=Rt[Tt+1],Wn=Rt[Tt+2];const En=Rt[Tt+3];En==0&&(kt=yn=Wn=0),xt[ln+Tt]=kt,xt[ln+Tt+1]=yn,xt[ln+Tt+2]=Wn,xt[ln+Tt+3]=En}ln+=pt}return xt.buffer}(Ze),lt=R(Qe,j);for(oe=0;oe<lt.plte.length;oe++)me.push(lt.plte[oe].est.rgba);let Kt=0;for(oe=0;oe<we.length;oe++){const vn=(He=we[oe]).img.length;var Ie=new Uint8Array(lt.inds.buffer,Kt>>2,vn>>2);Fe.push(Ie);const Pt=new Uint8Array(lt.abuf,Kt,vn);ee&&u(He.img,He.rect.width,He.rect.height,me,Pt,Ie),He.img.set(Pt),Kt+=vn}}else for(ae=0;ae<we.length;ae++){var He=we[ae];const Ze=new Uint32Array(He.img.buffer);var de=He.rect.width;for(ie=Ze.length,Ie=new Uint8Array(ie),Fe.push(Ie),oe=0;oe<ie;oe++){const Qe=Ze[oe];if(oe!=0&&Qe==Ze[oe-1])Ie[oe]=Ie[oe-1];else if(oe>de&&Qe==Ze[oe-de])Ie[oe]=Ie[oe-de];else{let lt=je[Qe];if(lt==null&&(je[Qe]=lt=me.length,me.push(Qe),me.length>=300))break;Ie[oe]=lt}}}const Ce=me.length;for(Ce<=256&&F==0&&(L=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,L=Math.max(L,P)),ae=0;ae<we.length;ae++){(He=we[ae]).rect.x,He.rect.y,de=He.rect.width;const Ze=He.rect.height;let Qe=He.img;new Uint32Array(Qe.buffer);let lt=4*de,Kt=4;if(Ce<=256&&F==0){lt=Math.ceil(L*de/8);var qe=new Uint8Array(lt*Ze);const vn=Fe[ae];for(let Pt=0;Pt<Ze;Pt++){oe=Pt*lt;const Gn=Pt*de;if(L==8)for(var ke=0;ke<de;ke++)qe[oe+ke]=vn[Gn+ke];else if(L==4)for(ke=0;ke<de;ke++)qe[oe+(ke>>1)]|=vn[Gn+ke]<<4-4*(1&ke);else if(L==2)for(ke=0;ke<de;ke++)qe[oe+(ke>>2)]|=vn[Gn+ke]<<6-2*(3&ke);else if(L==1)for(ke=0;ke<de;ke++)qe[oe+(ke>>3)]|=vn[Gn+ke]<<7-1*(7&ke)}Qe=qe,ne=3,Kt=1}else if(Z==0&&we.length==1){qe=new Uint8Array(de*Ze*3);const vn=de*Ze;for(oe=0;oe<vn;oe++){const Pt=3*oe,Gn=4*oe;qe[Pt]=Qe[Gn],qe[Pt+1]=Qe[Gn+1],qe[Pt+2]=Qe[Gn+2]}Qe=qe,ne=2,Kt=3,lt=3*de}He.img=Qe,He.bpl=lt,He.bpp=Kt}return{ctype:ne,depth:L,plte:me,frames:we}}function g(x,C,I,j,B,U,X){const J=Uint8Array,P=Uint32Array,F=new J(x[B-1]),ee=new P(x[B-1]),ne=B+1<x.length?new J(x[B+1]):null,L=new J(x[B]),re=new P(L.buffer);let ae=C,ie=I,oe=-1,Z=-1;for(let je=0;je<U.height;je++)for(let me=0;me<U.width;me++){const Fe=U.x+me,Ie=U.y+je,He=Ie*C+Fe,de=re[He];de==0||j[B-1].dispose==0&&ee[He]==de&&(ne==null||ne[4*He+3]!=0)||(Fe<ae&&(ae=Fe),Fe>oe&&(oe=Fe),Ie<ie&&(ie=Ie),Ie>Z&&(Z=Ie))}oe==-1&&(ae=ie=oe=Z=0),X&&((1&ae)==1&&ae--,(1&ie)==1&&ie--),U={x:ae,y:ie,width:oe-ae+1,height:Z-ie+1};const we=j[B];we.rect=U,we.blend=1,we.img=new Uint8Array(U.width*U.height*4),j[B-1].dispose==0?(r(F,C,I,we.img,U.width,U.height,-U.x,-U.y,0),v(L,C,I,we.img,U)):r(L,C,I,we.img,U.width,U.height,-U.x,-U.y,0)}function v(x,C,I,j,B){r(x,C,I,j,B.width,B.height,-B.x,-B.y,2)}function b(x,C,I,j,B,U,X){const J=[];let P,F=[0,1,2,3,4];U!=-1?F=[U]:(C*j>5e5||I==1)&&(F=[0]),X&&(P={level:0});const ee=iH;for(var ne=0;ne<F.length;ne++){for(let ae=0;ae<C;ae++)E(B,x,ae,j,I,F[ne]);J.push(ee.deflate(B,P))}let L,re=1e9;for(ne=0;ne<J.length;ne++)J[ne].length<re&&(L=ne,re=J[ne].length);return J[L]}function E(x,C,I,j,B,U){const X=I*j;let J=X+I;if(x[J]=U,J++,U==0)if(j<500)for(var P=0;P<j;P++)x[J+P]=C[X+P];else x.set(new Uint8Array(C.buffer,X,j),J);else if(U==1){for(P=0;P<B;P++)x[J+P]=C[X+P];for(P=B;P<j;P++)x[J+P]=C[X+P]-C[X+P-B]+256&255}else if(I==0){for(P=0;P<B;P++)x[J+P]=C[X+P];if(U==2)for(P=B;P<j;P++)x[J+P]=C[X+P];if(U==3)for(P=B;P<j;P++)x[J+P]=C[X+P]-(C[X+P-B]>>1)+256&255;if(U==4)for(P=B;P<j;P++)x[J+P]=C[X+P]-t(C[X+P-B],0,0)+256&255}else{if(U==2)for(P=0;P<j;P++)x[J+P]=C[X+P]+256-C[X+P-j]&255;if(U==3){for(P=0;P<B;P++)x[J+P]=C[X+P]+256-(C[X+P-j]>>1)&255;for(P=B;P<j;P++)x[J+P]=C[X+P]+256-(C[X+P-j]+C[X+P-B]>>1)&255}if(U==4){for(P=0;P<B;P++)x[J+P]=C[X+P]+256-t(0,C[X+P-j],0)&255;for(P=B;P<j;P++)x[J+P]=C[X+P]+256-t(C[X+P-B],C[X+P-j],C[X+P-B-j])&255}}}function R(x,C){const I=new Uint8Array(x),j=I.slice(0),B=new Uint32Array(j.buffer),U=D(j,C),X=U[0],J=U[1],P=I.length,F=new Uint8Array(P>>2);let ee;if(I.length<2e7)for(var ne=0;ne<P;ne+=4)ee=k(X,L=I[ne]*(1/255),re=I[ne+1]*(1/255),ae=I[ne+2]*(1/255),ie=I[ne+3]*(1/255)),F[ne>>2]=ee.ind,B[ne>>2]=ee.est.rgba;else for(ne=0;ne<P;ne+=4){var L=I[ne]*.00392156862745098,re=I[ne+1]*(1/255),ae=I[ne+2]*(1/255),ie=I[ne+3]*(1/255);for(ee=X;ee.left;)ee=Y(ee.est,L,re,ae,ie)<=0?ee.left:ee.right;F[ne>>2]=ee.ind,B[ne>>2]=ee.est.rgba}return{abuf:j.buffer,inds:F,plte:J}}function D(x,C,I){I==null&&(I=1e-4);const j=new Uint32Array(x.buffer),B={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=G(x,B.i0,B.i1),B.est=H(B.bst);const U=[B];for(;U.length<C;){let J=0,P=0;for(var X=0;X<U.length;X++)U[X].est.L>J&&(J=U[X].est.L,P=X);if(J<I)break;const F=U[P],ee=$(x,j,F.i0,F.i1,F.est.e,F.est.eMq255);if(F.i0>=ee||F.i1<=ee){F.est.L=0;continue}const ne={i0:F.i0,i1:ee,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=G(x,ne.i0,ne.i1),ne.est=H(ne.bst);const L={i0:ee,i1:F.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:F.bst.N-ne.bst.N},X=0;X<16;X++)L.bst.R[X]=F.bst.R[X]-ne.bst.R[X];for(X=0;X<4;X++)L.bst.m[X]=F.bst.m[X]-ne.bst.m[X];L.est=H(L.bst),F.left=ne,F.right=L,U[P]=ne,U.push(L)}for(U.sort((J,P)=>P.bst.N-J.bst.N),X=0;X<U.length;X++)U[X].ind=X;return[B,U]}function k(x,C,I,j,B){if(x.left==null)return x.tdst=function(ne,L,re,ae,ie){const oe=L-ne[0],Z=re-ne[1],we=ae-ne[2],je=ie-ne[3];return oe*oe+Z*Z+we*we+je*je}(x.est.q,C,I,j,B),x;const U=Y(x.est,C,I,j,B);let X=x.left,J=x.right;U>0&&(X=x.right,J=x.left);const P=k(X,C,I,j,B);if(P.tdst<=U*U)return P;const F=k(J,C,I,j,B);return F.tdst<P.tdst?F:P}function Y(x,C,I,j,B){const{e:U}=x;return U[0]*C+U[1]*I+U[2]*j+U[3]*B-x.eMq}function $(x,C,I,j,B,U){for(j-=4;I<j;){for(;z(x,I,B)<=U;)I+=4;for(;z(x,j,B)>U;)j-=4;if(I>=j)break;const X=C[I>>2];C[I>>2]=C[j>>2],C[j>>2]=X,I+=4,j-=4}for(;z(x,I,B)>U;)I-=4;return I+4}function z(x,C,I){return x[C]*I[0]+x[C+1]*I[1]+x[C+2]*I[2]+x[C+3]*I[3]}function G(x,C,I){const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],U=I-C>>2;for(let X=C;X<I;X+=4){const J=x[X]*.00392156862745098,P=x[X+1]*(1/255),F=x[X+2]*(1/255),ee=x[X+3]*(1/255);B[0]+=J,B[1]+=P,B[2]+=F,B[3]+=ee,j[0]+=J*J,j[1]+=J*P,j[2]+=J*F,j[3]+=J*ee,j[5]+=P*P,j[6]+=P*F,j[7]+=P*ee,j[10]+=F*F,j[11]+=F*ee,j[15]+=ee*ee}return j[4]=j[1],j[8]=j[2],j[9]=j[6],j[12]=j[3],j[13]=j[7],j[14]=j[11],{R:j,m:B,N:U}}function H(x){const{R:C}=x,{m:I}=x,{N:j}=x,B=I[0],U=I[1],X=I[2],J=I[3],P=j==0?0:1/j,F=[C[0]-B*B*P,C[1]-B*U*P,C[2]-B*X*P,C[3]-B*J*P,C[4]-U*B*P,C[5]-U*U*P,C[6]-U*X*P,C[7]-U*J*P,C[8]-X*B*P,C[9]-X*U*P,C[10]-X*X*P,C[11]-X*J*P,C[12]-J*B*P,C[13]-J*U*P,C[14]-J*X*P,C[15]-J*J*P],ee=F,ne=N;let L=[Math.random(),Math.random(),Math.random(),Math.random()],re=0,ae=0;if(j!=0)for(let oe=0;oe<16&&(L=ne.multVec(ee,L),ae=Math.sqrt(ne.dot(L,L)),L=ne.sml(1/ae,L),!(oe!=0&&Math.abs(ae-re)<1e-9));oe++)re=ae;const ie=[B*P,U*P,X*P,J*P];return{Cov:F,q:ie,e:L,L:re,eMq255:ne.dot(ne.sml(255,ie),L),eMq:ne.dot(L,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var N={multVec:(x,C)=>[x[0]*C[0]+x[1]*C[1]+x[2]*C[2]+x[3]*C[3],x[4]*C[0]+x[5]*C[1]+x[6]*C[2]+x[7]*C[3],x[8]*C[0]+x[9]*C[1]+x[10]*C[2]+x[11]*C[3],x[12]*C[0]+x[13]*C[1]+x[14]*C[2]+x[15]*C[3]],dot:(x,C)=>x[0]*C[0]+x[1]*C[1]+x[2]*C[2]+x[3]*C[3],sml:(x,C)=>[x*C[0],x*C[1],x*C[2],x*C[3]]};ha.encode=function(C,I,j,B,U,X,J){B==null&&(B=0),J==null&&(J=!1);const P=p(C,I,j,B,[!1,!1,!1,0,J,!1]);return f(P,-1),d(P,I,j,U,X)},ha.encodeLL=function(C,I,j,B,U,X,J,P){const F={ctype:0+(B==1?0:2)+(U==0?0:4),depth:X,frames:[]},ee=(B+U)*X,ne=ee*I;for(let L=0;L<C.length;L++)F.frames.push({rect:{x:0,y:0,width:I,height:j},img:new Uint8Array(C[L]),blend:0,dispose:1,bpp:Math.ceil(ee/8),bpl:Math.ceil(ne/8)});return f(F,0,!0),d(F,I,j,J,P)},ha.encode.compress=p,ha.encode.dither=u,ha.quantize=R,ha.quantize.getKDtree=D,ha.quantize.getNearest=k})();const uM={toArrayBuffer(r,e){const t=r.width,n=r.height,i=t<<2,a=r.getContext("2d").getImageData(0,0,t,n),l=new Uint32Array(a.data.buffer),u=(32*t+31)/32<<2,d=u*n,f=122+d,p=new ArrayBuffer(f),g=new DataView(p),v=1<<20;let b,E,R,D,k=v,Y=0,$=0,z=0;function G(x){g.setUint16($,x,!0),$+=2}function H(x){g.setUint32($,x,!0),$+=4}function N(x){$+=x}G(19778),H(f),N(4),H(122),H(108),H(t),H(-n>>>0),G(1),G(32),H(3),H(d),H(2835),H(2835),N(8),H(16711680),H(65280),H(255),H(4278190080),H(1466527264),function x(){for(;Y<n&&k>0;){for(D=122+Y*u,b=0;b<i;)k--,E=l[z++],R=E>>>24,g.setUint32(D+b,E<<8|R),b+=4;Y++}z<l.length?(k=v,setTimeout(x,uM._dly)):e(p)}()},toBlob(r,e){this.toArrayBuffer(r,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var ts={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},sH={[ts.CHROME]:16384,[ts.FIREFOX]:11180,[ts.DESKTOP_SAFARI]:16384,[ts.IE]:8192,[ts.IOS]:4096,[ts.ETC]:8192};const sw=typeof window<"u",dM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Kg=sw&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aH=(sw||dM)&&(Kg&&Kg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),hM=(sw||dM)&&(Kg&&Kg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function aw(r,e,t=Date.now()){return new Promise(n=>{const i=r.split(","),a=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let u=l.length;const d=new Uint8Array(u);for(;u--;)d[u]=l.charCodeAt(u);const f=new Blob([d],{type:a});f.name=e,f.lastModified=t,n(f)})}function fM(r){return new Promise((e,t)=>{const n=new hM;n.onload=()=>e(n.result),n.onerror=i=>t(i),n.readAsDataURL(r)})}function pM(r){return new Promise((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>t(i),n.src=r})}function $c(){if($c.cachedResult!==void 0)return $c.cachedResult;let r=ts.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?r=ts.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?r=ts.IOS:/Safari/i.test(e)?r=ts.DESKTOP_SAFARI:/Firefox/i.test(e)?r=ts.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(r=ts.IE),$c.cachedResult=r,$c.cachedResult}function mM(r,e){const t=$c(),n=sH[t];let i=r,a=e,l=i*a;const u=i>a?a/i:i/a;for(;l>n*n;){const d=(n+i)/2,f=(n+a)/2;d<f?(a=f,i=f*u):(a=d*u,i=d),l=i*a}return{width:i,height:a}}function Fv(r,e){let t,n;try{if(t=new OffscreenCanvas(r,e),n=t.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),n=t.getContext("2d")}return t.width=r,t.height=e,[t,n]}function gM(r,e){const{width:t,height:n}=mM(r.width,r.height),[i,a]=Fv(t,n);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(r,0,0,i.width,i.height),i}function eg(){return eg.cachedResult!==void 0||(eg.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),eg.cachedResult}function Xg(r,e={}){return new Promise(function(t,n){let i,a;var l=function(){try{return a=gM(i,e.fileType||r.type),t([i,a])}catch(d){return n(d)}},u=function(d){try{var f=function(p){try{throw p}catch(g){return n(g)}};try{let p;return fM(r).then(function(g){try{return p=g,pM(p).then(function(v){try{return i=v,function(){try{return l()}catch(b){return n(b)}}()}catch(b){return f(b)}},f)}catch(v){return f(v)}},f)}catch(p){f(p)}}catch(p){return n(p)}};try{if(eg()||[ts.DESKTOP_SAFARI,ts.MOBILE_SAFARI].includes($c()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(d){try{return i=d,l()}catch{return u()}},u)}catch{u()}})}function Zg(r,e,t,n,i=1){return new Promise(function(a,l){let u;if(e==="image/png"){let g,v,b;return g=r.getContext("2d"),{data:v}=g.getImageData(0,0,r.width,r.height),b=ha.encode([v.buffer],r.width,r.height,4096*i),u=new Blob([b],{type:e}),u.name=t,u.lastModified=n,d.call(this)}{let g=function(){return d.call(this)};var f=g;if(e==="image/bmp")return new Promise(v=>uM.toBlob(r,v)).then((function(v){try{return u=v,u.name=t,u.lastModified=n,g.call(this)}catch(b){return l(b)}}).bind(this),l);{let v=function(){return g.call(this)};var p=v;if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:e,quality:i}).then((function(b){try{return u=b,u.name=t,u.lastModified=n,v.call(this)}catch(E){return l(E)}}).bind(this),l);{let b;return b=r.toDataURL(e,i),aw(b,t,n).then((function(E){try{return u=E,v.call(this)}catch(R){return l(R)}}).bind(this),l)}}}function d(){return a(u)}})}function Fa(r){r.width=0,r.height=0}function pd(){return new Promise(function(r,e){let t,n,i,a;return pd.cachedResult!==void 0?r(pd.cachedResult):aw("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return t=l,Xg(t).then(function(u){try{return n=u[1],Zg(n,t.type,t.name,t.lastModified).then(function(d){try{return i=d,Fa(n),Xg(i).then(function(f){try{return a=f[0],pd.cachedResult=a.width===1&&a.height===2,r(pd.cachedResult)}catch(p){return e(p)}},e)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)})}function vM(r){return new Promise((e,t)=>{const n=new hM;n.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const l=a.byteLength;let u=2;for(;u<l;){if(a.getUint16(u+2,!1)<=8)return e(-1);const d=a.getUint16(u,!1);if(u+=2,d==65505){if(a.getUint32(u+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(u+=6,!1)==18761;u+=a.getUint32(u+4,f);const p=a.getUint16(u,f);u+=2;for(let g=0;g<p;g++)if(a.getUint16(u+12*g,f)==274)return e(a.getUint16(u+12*g+8,f))}else{if((65280&d)!=65280)break;u+=a.getUint16(u,!1)}}return e(-1)},n.onerror=i=>t(i),n.readAsArrayBuffer(r)})}function yM(r,e){const{width:t}=r,{height:n}=r,{maxWidthOrHeight:i}=e;let a,l=r;return isFinite(i)&&(t>i||n>i)&&([l,a]=Fv(t,n),t>n?(l.width=i,l.height=n/t*i):(l.width=t/n*i,l.height=i),a.drawImage(r,0,0,l.width,l.height),Fa(r)),l}function _M(r,e){const{width:t}=r,{height:n}=r,[i,a]=Fv(t,n);switch(e>4&&e<9?(i.width=n,i.height=t):(i.width=t,i.height=n),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,n);break;case 4:a.transform(1,0,0,-1,0,n);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,n,0);break;case 7:a.transform(0,-1,-1,0,n,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(r,0,0,t,n),Fa(r),i}function Lx(r,e,t=0){return new Promise(function(n,i){let a,l,u,d,f,p,g,v,b,E,R,D,k,Y,$,z,G,H,N,x;function C(j=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=j,e.onProgress(Math.min(a,100))}function I(j){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(j,a),100),e.onProgress(a)}return a=t,l=e.maxIteration||10,u=1024*e.maxSizeMB*1024,C(),Xg(r,e).then((function(j){try{return[,d]=j,C(),f=yM(d,e),C(),new Promise(function(B,U){var X;if(!(X=e.exifOrientation))return vM(r).then((function(P){try{return X=P,J.call(this)}catch(F){return U(F)}}).bind(this),U);function J(){return B(X)}return J.call(this)}).then((function(B){try{return p=B,C(),pd().then((function(U){try{return g=U?f:_M(f,p),C(),v=e.initialQuality||1,b=e.fileType||r.type,Zg(g,b,r.name,r.lastModified,v).then((function(X){try{{let ee=function(){if(l--&&($>u||$>k)){let L,re;return L=x?.95*N.width:N.width,re=x?.95*N.height:N.height,[G,H]=Fv(L,re),H.drawImage(N,0,0,L,re),v*=b==="image/png"?.85:.95,Zg(G,b,r.name,r.lastModified,v).then(function(ae){try{return z=ae,Fa(N),N=G,$=z.size,I(Math.min(99,Math.floor((Y-$)/(Y-u)*100))),ee}catch(ie){return i(ie)}},i)}return[1]},ne=function(){return Fa(N),Fa(G),Fa(f),Fa(g),Fa(d),I(100),n(z)};var P=ee,F=ne;if(E=X,C(),R=E.size>u,D=E.size>r.size,!R&&!D)return I(100),n(E);var J;return k=r.size,Y=E.size,$=Y,N=g,x=!e.alwaysKeepResolution&&R,(J=(function(L){for(;L;){if(L.then)return void L.then(J,i);try{if(L.pop){if(L.length)return L.pop()?ne.call(this):L;L=ee}else L=L.call(this)}catch(re){return i(re)}}}).bind(this))(ee)}}catch(ee){return i(ee)}}).bind(this),i)}catch(X){return i(X)}}).bind(this),i)}catch(U){return i(U)}}).bind(this),i)}catch(B){return i(B)}}).bind(this),i)})}const oH=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let P_;function lH(r,e){return new Promise((t,n)=>{P_||(P_=function(l){const u=[];return u.push(l),URL.createObjectURL(new Blob(u))}(oH));const i=new Worker(P_);i.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return n(new Error(l.data.error)),void i.terminate();t(l.data.file),i.terminate()}else e.onProgress(l.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:r,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function _i(r,e){return new Promise(function(t,n){let i,a,l,u,d,f;if(i={...e},l=0,{onProgress:u}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=b=>{l=b,typeof u=="function"&&u(l)},!(r instanceof Blob||r instanceof aH))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return n(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||f)return Lx(r,i).then((function(b){try{return a=b,v.call(this)}catch(E){return n(E)}}).bind(this),n);var p=(function(){try{return v.call(this)}catch(b){return n(b)}}).bind(this),g=function(b){try{return Lx(r,i).then(function(E){try{return a=E,p()}catch(R){return n(R)}},n)}catch(E){return n(E)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",lH(r,i).then(function(b){try{return a=b,p()}catch{return g()}},g)}catch{g()}function v(){try{a.name=r.name,a.lastModified=r.lastModified}catch{}try{i.preserveExif&&r.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===r.type)&&(a=cM(r,a))}catch{}return t(a)}})}_i.getDataUrlFromFile=fM,_i.getFilefromDataUrl=aw,_i.loadImage=pM,_i.drawImageInCanvas=gM,_i.drawFileInCanvas=Xg,_i.canvasToFile=Zg,_i.getExifOrientation=vM,_i.handleMaxWidthOrHeight=yM,_i.followExifOrientation=_M,_i.cleanupCanvasMemory=Fa,_i.isAutoOrientationInBrowser=pd,_i.approximateBelowMaximumCanvasSizeOfBrowser=mM,_i.copyExifWithoutOrientation=cM,_i.getBrowserName=$c,_i.version="2.0.2";const j_="https://us-central1-photoshoto-a7226.cloudfunctions.net",cH=({show:r,onClose:e,eventId:t,folderName:n})=>{const[i,a]=T.useState(null),[l,u]=T.useState({contact:"",instagramHandle:"",email:"",permissions:["view"]}),d=g=>{a(g)},f=g=>{g.preventDefault();const v=`${window.location.origin}/folders/${t}/${n}`,b=`Check out these photos: ${v}`;switch(i){case"whatsapp":window.open(`https://wa.me/${l.contact}?text=${encodeURIComponent(b)}`,"_blank");break;case"sms":window.open(`sms:${l.contact}?body=${encodeURIComponent(b)}`,"_blank");break;case"email":window.open(`mailto:${l.email}?subject=Photo Share&body=${encodeURIComponent(b)}`,"_blank");break;case"instagram":navigator.clipboard.writeText(v).then(()=>alert("Link copied to clipboard! Share it on Instagram.")).catch(()=>alert("Failed to copy link."));break}e()},p=g=>{u(v=>({...v,permissions:v.permissions.includes(g)?v.permissions.filter(b=>b!==g):[...v.permissions,g]}))};return r?S.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:S.jsx("div",{className:"modal-dialog modal-dialog-centered",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:"Share Photos"}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsx("div",{className:"modal-body",children:i?S.jsxs("form",{onSubmit:f,children:[i==="whatsapp"&&S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"WhatsApp Number"}),S.jsx("input",{type:"tel",className:"form-control",placeholder:"Enter WhatsApp number",value:l.contact,onChange:g=>u(v=>({...v,contact:g.target.value})),required:!0})]}),i==="sms"&&S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Phone Number"}),S.jsx("input",{type:"tel",className:"form-control",placeholder:"Enter phone number",value:l.contact,onChange:g=>u(v=>({...v,contact:g.target.value})),required:!0})]}),i==="email"&&S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Email Address"}),S.jsx("input",{type:"email",className:"form-control",placeholder:"Enter email address",value:l.email,onChange:g=>u(v=>({...v,email:g.target.value})),required:!0})]}),i==="instagram"&&S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Instagram Handle"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Instagram handle",value:l.instagramHandle,onChange:g=>u(v=>({...v,instagramHandle:g.target.value})),required:!0})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Permissions"}),S.jsxs("div",{className:"form-check",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("view"),onChange:()=>p("view")}),S.jsx("label",{className:"form-check-label",children:"Just View"})]}),S.jsxs("div",{className:"form-check",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("select"),onChange:()=>p("select")}),S.jsx("label",{className:"form-check-label",children:"View and Select"})]}),S.jsxs("div",{className:"form-check",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("write"),onChange:()=>p("write")}),S.jsx("label",{className:"form-check-label",children:"Write"})]})]}),S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(null),children:"Back"}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"Share"})]})]}):S.jsxs("div",{className:"share-methods",children:[S.jsxs("button",{className:"btn btn-outline-success w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("whatsapp"),children:[S.jsx(DS,{className:"me-2"}),"WhatsApp"]}),S.jsxs("button",{className:"btn btn-outline-primary w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("sms"),children:[S.jsx(DS,{className:"me-2"}),"SMS"]}),S.jsxs("button",{className:"btn btn-outline-danger w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("email"),children:[S.jsx(g6,{className:"me-2"}),"Email"]}),S.jsxs("button",{className:"btn btn-outline-info w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("instagram"),children:[S.jsx(Bb,{className:"me-2"}),"Instagram"]})]})})]})})}):null},uH=({show:r,onClose:e,results:t})=>!r||!t?null:S.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:S.jsx("div",{className:"modal-dialog modal-xl",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsxs("h5",{className:"modal-title",children:["Face Detection Results - ",t.fileName]}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsx("div",{className:"modal-body",children:t.results.length===0?S.jsx("p",{children:"No face detection results found for this image."}):S.jsx("div",{className:"table-responsive",children:S.jsxs("table",{className:"table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Collection ID"}),S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Processed At"}),S.jsx("th",{children:"Details"})]})}),S.jsx("tbody",{children:t.results.map((n,i)=>{var a;return S.jsxs("tr",{children:[S.jsx("td",{children:n.collectionId}),S.jsx("td",{children:n.message?S.jsx("span",{className:"badge bg-warning",children:n.message}):S.jsx("span",{className:`badge ${n.faceIndexed?"bg-success":"bg-danger"}`,children:n.faceIndexed?`${n.faceCount||1} Face${n.faceCount>1?"s":""} Detected`:"No Face Detected"})}),S.jsx("td",{children:new Date(n.processedAt).toLocaleString()}),S.jsx("td",{children:n.faceDetails?S.jsx("div",{children:Array.isArray(n.faceDetails.faces)?S.jsxs("div",{children:[S.jsxs("div",{className:"alert alert-info mb-3",children:[S.jsxs("p",{className:"mb-1",children:[S.jsx("strong",{children:"Total Faces Detected:"})," ",n.faceDetails.metadata.totalFacesDetected]}),n.faceDetails.metadata.hasMoreFaces&&S.jsxs("p",{className:"mb-0 text-warning",children:[S.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"Maximum face limit reached (",n.faceDetails.metadata.maxFacesAllowed,"). Some faces may not have been detected."]})]}),S.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3",children:n.faceDetails.faces.map((l,u)=>{var d,f,p,g,v,b,E,R;return S.jsx("div",{className:"col",children:S.jsxs("div",{className:"card h-100",children:[S.jsx("div",{className:"card-header",children:S.jsxs("h6",{className:"mb-0",children:["Face ",u+1]})}),S.jsxs("div",{className:"card-body",children:[S.jsxs("div",{className:"mb-2",children:[S.jsx("strong",{children:"Confidence:"})," ",(d=l.confidence)==null?void 0:d.toFixed(2),"%"]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("strong",{children:"Face ID:"})," ",l.faceId]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("strong",{children:"Bounding Box:"}),S.jsxs("ul",{className:"list-unstyled mb-0",children:[S.jsxs("li",{children:["Width: ",(((f=l.boundingBox)==null?void 0:f.Width)*100).toFixed(1),"%"]}),S.jsxs("li",{children:["Height: ",(((p=l.boundingBox)==null?void 0:p.Height)*100).toFixed(1),"%"]}),S.jsxs("li",{children:["Left: ",(((g=l.boundingBox)==null?void 0:g.Left)*100).toFixed(1),"%"]}),S.jsxs("li",{children:["Top: ",(((v=l.boundingBox)==null?void 0:v.Top)*100).toFixed(1),"%"]})]})]}),l.pose&&S.jsxs("div",{children:[S.jsx("strong",{children:"Pose:"}),S.jsxs("ul",{className:"list-unstyled mb-0",children:[S.jsxs("li",{children:["Pitch: ",(b=l.pose.Pitch)==null?void 0:b.toFixed(1),""]}),S.jsxs("li",{children:["Roll: ",(E=l.pose.Roll)==null?void 0:E.toFixed(1),""]}),S.jsxs("li",{children:["Yaw: ",(R=l.pose.Yaw)==null?void 0:R.toFixed(1),""]})]})]})]})]})},l.faceId)})})]}):S.jsxs("div",{children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Confidence:"})," ",(a=n.faceDetails.confidence)==null?void 0:a.toFixed(2),"%"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Face ID:"})," ",n.faceDetails.faceId]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Bounding Box:"})," ",JSON.stringify(n.faceDetails.boundingBox)]}),n.faceDetails.pose&&S.jsxs("p",{children:[S.jsx("strong",{children:"Pose:"})," ",JSON.stringify(n.faceDetails.pose)]})]})}):S.jsx("span",{className:"text-muted",children:n.message||"No face details available"})})]},n.id||i)})})]})})}),S.jsx("div",{className:"modal-footer",children:S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Close"})})]})})});function dH(){const{eventId:r,folderName:e}=yI(),[t,n]=T.useState(null),[i,a]=T.useState(!0),[l,u]=T.useState(!1),[d,f]=T.useState([]),[p,g]=T.useState([]),[v,b]=T.useState(null),[E,R]=T.useState(!1),[D,k]=T.useState(1),[Y,$]=T.useState({}),[z,G]=T.useState(!1),[H,N]=T.useState([]),[x,C]=T.useState(!1),[I,j]=T.useState(!0),[B,U]=T.useState({}),[X,J]=T.useState(!1),[P,F]=T.useState(1),[ee,ne]=T.useState(0),[L,re]=T.useState(null),[ae,ie]=T.useState(!0),[oe,Z]=T.useState(!1),[we,je]=T.useState(null),[me,Fe]=T.useState(""),[Ie,He]=T.useState(null),[de,Ce]=T.useState(!1),[qe,ke]=T.useState(!1),[Ze,Qe]=T.useState(null),lt=12,Kt={maxSizeMB:.1,maxWidthOrHeight:400,useWebWorker:!0};T.useEffect(()=>{(async()=>{try{a(!0);const Pe=await d0(Yc(ci,"events",r));Pe.exists()&&n({id:Pe.id,...Pe.data()})}catch(Pe){console.error("Error fetching event:",Pe)}finally{a(!1)}})()},[r]);const vn=async Ae=>{const Pe=Hs(ci,"files"),Ke=Us(Vs,`${Ae}/photos`),St=Us(Vs,`${Ae}/videos`),[Gt,mt]=await Promise.all([Cm(Ke).catch(()=>({items:[]})),Cm(St).catch(()=>({items:[]}))]),gt=[...Gt.items.map(tt=>({ref:tt,type:"photos"})),...mt.items.map(tt=>({ref:tt,type:"videos"}))];for(const{ref:tt,type:We}of gt)try{const Le=fa(Pe,Zi("path","==",tt.fullPath));if((await pa(Le)).empty){const pn=parseInt(tt.name.split("_")[0]),wr={name:tt.name,path:tt.fullPath,type:We,uploadedAt:pn,eventId:r,folderName:e,userId:t.event_host,thumbnailPath:We==="photos"?tt.fullPath.replace(`/${We}/`,"/thumbnails/"):null};await h0(Pe,wr),console.log(`Migrated file: ${tt.name}`)}}catch(Le){console.error(`Error migrating file ${tt.name}:`,Le)}};T.useEffect(()=>{(async()=>{if(!(!t||!t.event_host)){j(!0);try{const Pe=`users/${t.event_host}/event_folders/${t.event_name}/${e}`;P===1&&await vn(Pe);const Ke=Hs(ci,"files");let St=fa(Ke,Zi("eventId","==",r),Zi("folderName","==",e),Eg("uploadedAt","desc"),fS(lt));P>1&&L&&(St=fa(Ke,Zi("eventId","==",r),Zi("folderName","==",e),Eg("uploadedAt","desc"),mU(L),fS(lt)));try{const Gt=await pa(St),mt=Gt.docs[Gt.docs.length-1];re(mt),ie(Gt.docs.length===lt);const gt=await Promise.all(Gt.docs.map(async tt=>{const We=tt.data();try{const Le=Us(Vs,We.path),It=await Fc(Le);let pn=null;if(We.type==="photos"){const wr=We.path.replace(`/${We.type}/`,"/thumbnails/"),Pr=Us(Vs,wr);try{pn=await Fc(Pr)}catch{console.log("No thumbnail found, using original:",We.name),pn=It}}return{id:tt.id,name:We.name,url:It,type:We.type,path:We.path,thumbnailUrl:pn||It,uploadedAt:We.uploadedAt}}catch(Le){return console.error(`Error fetching file details for ${We.name}:`,Le),null}}));if(g(gt.filter(tt=>tt!==null)),P===1){const tt=fa(Ke,Zi("eventId","==",r),Zi("folderName","==",e)),We=await pa(tt);ne(We.size)}}catch{console.log("Falling back to Storage for file listing");const mt=Us(Vs,`${Pe}/photos`),gt=Us(Vs,`${Pe}/videos`),[tt,We]=await Promise.all([Cm(mt).catch(()=>({items:[]})),Cm(gt).catch(()=>({items:[]}))]),Le=[...tt.items.map(cn=>({ref:cn,type:"photos"})),...We.items.map(cn=>({ref:cn,type:"videos"}))].sort((cn,xr)=>{const Qn=parseInt(cn.ref.name.split("_")[0]);return parseInt(xr.ref.name.split("_")[0])-Qn}),It=(P-1)*lt,pn=It+lt,wr=Le.slice(It,pn),Pr=await Promise.all(wr.map(async({ref:cn,type:xr})=>{try{const Qn=await Fc(cn);let jr=null;if(xr==="photos"){const rs=cn.fullPath.replace(`/${xr}/`,"/thumbnails/"),Ar=Us(Vs,rs);try{jr=await Fc(Ar)}catch{jr=Qn}}return{name:cn.name,url:Qn,type:xr,path:cn.fullPath,thumbnailUrl:jr||Qn,uploadedAt:parseInt(cn.name.split("_")[0])}}catch(Qn){return console.error(`Error fetching file details for ${cn.name}:`,Qn),null}}));g(Pr.filter(cn=>cn!==null)),ie(pn<Le.length),P===1&&ne(Le.length)}j(!1)}catch(Pe){console.error("Error fetching files:",Pe),j(!1)}}})()},[t,e,P,L]);const Pt=()=>{ae&&F(Ae=>Ae+1)},Gn=()=>{P>1&&F(Ae=>Ae-1)};T.useEffect(()=>{F(1),re(null),ie(!0)},[e]);const zt=()=>{u(!0)},xt=()=>{u(!1)},ln=async Ae=>{if(!Ae.type.startsWith("image/"))return null;try{const Pe=await _i(Ae,Kt);return new File([Pe],Ae.name,{type:Pe.type})}catch(Pe){return console.error("Error creating thumbnail:",Pe),null}},Rt=async(Ae,Pe)=>{if(!Ae||Ae.length===0){console.log("No files selected");return}if(!t||!t.event_host){console.error("Event or event host not found");return}G(!0);const Ke=[];try{const St=`users/${t.event_host}/event_folders/${t.event_name}/${e}`,Gt=Hs(ci,"files");for(const mt of Ae){const gt=Date.now(),tt=`${gt}_${mt.name}`,We=`${St}/${Pe}/${tt}`;U(Le=>({...Le,[tt]:0}));try{const Le=Us(Vs,We),It=UV(Le,mt);It.on("state_changed",pn=>{const wr=pn.bytesTransferred/pn.totalBytes*100;U(Pr=>({...Pr,[tt]:wr}))},pn=>{console.error(`Error uploading ${tt}:`,pn)},async()=>{const pn=await Fc(It.snapshot.ref);let wr=null;if(Pe==="photos"){const xr=await ln(mt);if(xr){const Qn=`${St}/thumbnails/${tt}`,jr=Us(Vs,Qn);await zR(jr,xr),wr=await Fc(jr)}}const Pr={name:tt,path:We,type:Pe,uploadedAt:gt,eventId:r,folderName:e,userId:t.event_host,thumbnailPath:Pe==="photos"?`${St}/thumbnails/${tt}`:null};await h0(Gt,Pr);const cn={name:tt,url:pn,type:Pe,path:We,thumbnailUrl:wr||pn,uploadedAt:gt};Ke.push(cn),g(xr=>[...xr,cn]),U(xr=>{const Qn={...xr};return delete Qn[tt],Qn})})}catch(Le){console.error(`Error uploading ${tt}:`,Le)}}}catch(St){console.error("Upload error:",St)}finally{G(!1)}},pt=Ae=>{b(Ae),R(!0),k(1)},Tt=()=>{const Ae=p.findIndex(Pe=>Pe.url===v.url);Ae>0&&(b(p[Ae-1]),k(1))},kt=()=>{const Ae=p.findIndex(Pe=>Pe.url===v.url);Ae<p.length-1&&(b(p[Ae+1]),k(1))},yn=()=>{k(Ae=>Math.min(Ae+.5,3))},Wn=()=>{k(Ae=>Math.max(Ae-.5,.5))},En=(Ae,Pe)=>{N(Ke=>Pe?[...Ke,Ae.path]:Ke.filter(St=>St!==Ae.path))},Un=()=>{H.length===p.length?N([]):N(p.map(Ae=>Ae.path))},zn=async()=>{if(H.length&&window.confirm(`Are you sure you want to delete ${H.length} files?`))try{const Ae=Hs(ci,"files");for(const Pe of H){const Ke=p.find(tt=>tt.path===Pe);if(!Ke)continue;const St=Us(Vs,Ke.path);if(await TS(St),Ke.type==="photos"&&Ke.thumbnailUrl){const tt=Ke.path.replace(`/${Ke.type}/`,"/thumbnails/"),We=Us(Vs,tt);await TS(We).catch(Le=>console.log("No thumbnail found:",Le))}const Gt=fa(Ae,Zi("path","==",Ke.path)),gt=(await pa(Gt)).docs.map(tt=>bU(tt.ref));await Promise.all(gt)}g(Pe=>Pe.filter(Ke=>!H.includes(Ke.path))),N([])}catch(Ae){console.error("Error deleting files:",Ae),alert("Failed to delete some files. Please try again.")}},kn=()=>{J(!0)},Xr=async()=>{if(!(!t||!t.event_host)){Z(!0);try{const Ae=`users/${t.event_host}/event_folders/${t.event_name}/${e}`;await vn(Ae),F(1),re(null),ie(!0),alert("All files have been indexed successfully!")}catch(Ae){console.error("Error indexing files:",Ae),alert("Error indexing files. Please try again.")}finally{Z(!1)}}},Or=async()=>{try{if(!t||!t.event_host)throw new Error("Event or event host not found");if(!confirm("Are you sure you want to process all images in this folder with AWS Rekognition?"))return;G(!0),je({status:"starting",message:"Initializing batch processing..."});const Ae=`users/${t.event_host}/event_folders/${t.event_name}/${e}`,Pe=`${r}_${e}`;console.log("Starting batch process with:",{basePath:Ae,collectionId:Pe,eventId:r,folderName:e,userId:t.event_host,eventName:t.event_name});const Ke=Yc(ci,"processingStatus",Pe),St=await d0(Ke);let Gt=!1;if(St.exists()){const We=St.data();console.log("Existing processing status:",We),We.status==="in_progress"&&(Gt=confirm("A previous processing session was interrupted. Would you like to resume?"))}console.log("Initializing processing status..."),await v_(Ke,{status:"in_progress",totalFiles:0,processedFiles:0,failedFiles:0,lastUpdated:af(),startTime:af(),results:[],resumeToken:!!Gt},{merge:!0}),je({status:"processing",message:"Processing images..."}),console.log("Calling cloud function at:",`${j_}/batchProcessImages`);const mt={folder_path:Ae,eventId:r,folderName:e,collectionId:Pe,userId:t.event_host,eventName:t.event_name,resumeToken:Gt,processOptions:{includeThumbnails:!0,fileTypes:["photos"],includePaths:["/thumbnails/"],excludePaths:["/photos/"]}};console.log("Request body:",mt);const gt=await fetch(`${j_}/batchProcessImages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mt)});if(console.log("Cloud function response status:",gt.status),!gt.ok){const We=await gt.json().catch(()=>({}));throw console.error("Cloud function error response:",We),new Error(We.error||`HTTP error! status: ${gt.status}`)}const tt=await gt.json();console.log("Cloud function result:",tt),await v_(Ke,{status:"completed",totalFiles:tt.totalFiles,processedFiles:tt.processedFiles,failedFiles:tt.failedFiles,lastUpdated:af(),endTime:af(),results:tt.results},{merge:!0}),je({status:"completed",message:`Processing completed. Processed ${tt.processedFiles} files successfully. ${tt.failedFiles} files failed.`}),F(1),re(null),ie(!0)}catch(Ae){console.error("Error in batch processing:",Ae),console.error("Error stack:",Ae.stack),je({status:"error",message:`Error processing images: ${Ae.message}`});try{const Pe=`${r}_${e}`,Ke=Yc(ci,"processingStatus",Pe);await v_(Ke,{status:"failed",lastUpdated:af(),error:Ae.message},{merge:!0})}catch(Pe){console.error("Error updating processing status:",Pe)}}finally{G(!1)}},fi=async()=>{if(!(!t||!e))try{Ce(!0),Fe("Recreating thumbnails...");const Ae=`users/${t.event_host}/event_folders/${t.event_name}/${e}`,Pe=await fetch(`${j_}/recreateThumbnails`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folder_path:Ae,eventId:r,folderName:e,quality:85,maxSize:5*1024*1024,dimensions:{width:1920,height:1080}})});if(!Pe.ok){const St=await Pe.json().catch(()=>({}));throw new Error(St.error||`HTTP error! status: ${Pe.status}`)}const Ke=await Pe.json();console.log("Thumbnail recreation result:",Ke),Fe(`Successfully recreated ${Ke.processedFiles} thumbnails. ${Ke.failedFiles} failed.`),window.location.reload()}catch(Ae){console.error("Error recreating thumbnails:",Ae),Fe(`Error recreating thumbnails: ${Ae.message}`)}finally{Ce(!1)}},Nr=async Ae=>{try{console.log("Fetching face results for file:",Ae.path);const Pe=Hs(ci,"files"),Ke=fa(Pe,Zi("path","==",Ae.path)),St=await pa(Ke);if(St.empty)console.log("No file document found for path:",Ae.path),Qe({fileName:Ae.name,results:[{id:"not_found",collectionId:`${r}_${e}`,faceIndexed:!1,processedAt:new Date().toISOString(),faceDetails:null,message:"File not found in database"}]}),ke(!0);else{const Gt=St.docs[0].ref,mt=St.docs[0].data();console.log("Found file document:",Gt.id,"with data:",mt);const gt=Hs(Gt,"faceIndexing"),tt=await pa(gt);console.log("Face results count:",tt.size);const We=tt.docs.map(Le=>{const It=Le.data();return console.log("Face result data:",It),{id:Le.id,...It}});if(We.length===0)if(mt.hasFaceIndexing){const Le=mt.faceDetectionStatus||"no_face_detected",It=Le==="face_detected"?"Face was detected but details are not available":"No faces detected in this image";Qe({fileName:Ae.name,results:[{id:"current",collectionId:`${r}_${e}`,faceIndexed:Le==="face_detected",processedAt:mt.lastProcessed||new Date().toISOString(),faceDetails:null,message:It}]})}else Qe({fileName:Ae.name,results:[{id:"not_processed",collectionId:`${r}_${e}`,faceIndexed:!1,processedAt:new Date().toISOString(),faceDetails:null,message:"This image has not been processed for face detection yet"}]});else Qe({fileName:Ae.name,results:We});ke(!0)}}catch(Pe){console.error("Error fetching face results:",Pe),alert("Error fetching face detection results: "+Pe.message)}},hr=()=>I?S.jsx("div",{className:"row g-4",children:Array.from({length:lt}).map((Ae,Pe)=>S.jsx("div",{className:"col-md-3 col-sm-6",children:S.jsxs("div",{className:"media-card",children:[S.jsx("div",{className:"media-thumbnail skeleton",style:{height:200}}),S.jsxs("div",{className:"media-info mt-2",children:[S.jsx("div",{className:"skeleton",style:{height:16,width:"80%"}}),S.jsx("div",{className:"skeleton mt-2",style:{height:12,width:"60%"}})]})]})},Pe))}):S.jsx("div",{className:"row g-4",children:p.map((Ae,Pe)=>S.jsx("div",{className:"col-md-3 col-sm-6",children:S.jsxs("div",{className:"media-card",onClick:()=>!x&&Ae.type==="photos"&&pt(Ae),style:{cursor:x?"default":Ae.type==="photos"?"pointer":"default"},children:[S.jsx("div",{className:"media-thumbnail",children:Ae.type==="photos"?S.jsx("img",{src:Ae.thumbnailUrl||Ae.url,alt:Ae.name,loading:"lazy",onError:Ke=>{console.log("Thumbnail load error, falling back to original:",Ae.name),Ke.target.src=Ae.url}}):S.jsx("div",{className:"video-thumbnail",children:S.jsx(LS,{className:"display-4"})})}),S.jsx("div",{className:"media-info",children:S.jsxs("div",{className:"d-flex flex-column",children:[S.jsx("small",{className:"text-muted text-truncate mb-2",children:Ae.name.split("_").slice(1).join("_")}),x?S.jsxs("div",{className:"form-check",children:[S.jsx("input",{type:"checkbox",className:"form-check-input",checked:H.includes(Ae.path),onChange:Ke=>En(Ae,Ke.target.checked),onClick:Ke=>Ke.stopPropagation()}),S.jsx("label",{className:"form-check-label",children:"Select"})]}):S.jsxs("div",{className:"d-flex gap-2",children:[Ae.type==="photos"&&S.jsx("button",{className:"btn btn-sm btn-info",onClick:Ke=>{Ke.stopPropagation(),Nr(Ae)},children:"View Faces"}),Ae.type==="videos"&&S.jsx("a",{href:Ae.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-primary",onClick:Ke=>Ke.stopPropagation(),children:"Play Video"})]})]})})]})},`uploaded-${Pe}`))}),br=Math.ceil(ee/lt);return i?S.jsx("div",{className:"container-fluid",children:S.jsx("div",{className:"text-center py-5",children:S.jsx("div",{className:"spinner-border text-primary",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):t?S.jsxs("div",{className:"container-fluid",children:[S.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(WR,{className:"me-2",style:{fontSize:"2rem",color:"var(--primary)"}}),S.jsxs("h2",{className:"mb-0",children:[t.event_name," / ",e]})]})}),S.jsxs("div",{className:"d-flex gap-2 mb-4",children:[p.length>0&&S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"btn btn-outline-primary d-flex align-items-center",onClick:()=>C(!x),children:x?"Cancel":"Select"}),x&&S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"btn btn-outline-secondary d-flex align-items-center",onClick:Un,children:H.length===p.length?"Deselect All":"Select All"}),S.jsxs("button",{className:"btn btn-danger d-flex align-items-center",onClick:zn,disabled:H.length===0,children:["Delete Selected (",H.length,")"]})]})]}),S.jsx("button",{className:"btn btn-outline-info d-flex align-items-center",onClick:Xr,disabled:oe,children:oe?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Indexing..."]}):S.jsxs(S.Fragment,{children:[S.jsx(IS,{className:"me-2"}),"Index"]})}),S.jsx("button",{className:"btn btn-outline-info d-flex align-items-center",onClick:Or,disabled:z,children:z?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Processing..."]}):S.jsxs(S.Fragment,{children:[S.jsx(f6,{className:"me-2"}),"Process Images"]})}),S.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:zt,children:[S.jsx(IS,{className:"me-2"}),"Upload"]}),S.jsxs("button",{className:"btn btn-outline-primary d-flex align-items-center",onClick:kn,children:[S.jsx(_6,{className:"me-2"}),"Share"]}),S.jsx("button",{onClick:fi,disabled:de,className:`px-4 py-2 rounded-lg ${de?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:de?"Recreating...":"Recreate Thumbnails"})]}),we&&S.jsx("div",{className:`alert alert-${we.status==="error"?"danger":we.status==="completed"?"success":"info"} mb-4`,children:we.message}),S.jsx("div",{className:"card",children:S.jsx("div",{className:"card-body",children:I?S.jsxs("div",{className:"text-center py-5",children:[S.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading media..."})}),S.jsx("p",{className:"text-muted mb-0",children:"Loading media files..."})]}):p.length===0?S.jsx("div",{className:"text-center py-5",children:S.jsx("p",{className:"empty-state-message mb-0",children:'No media files uploaded yet. Click "Upload Media" to add files.'})}):hr()})}),p.length>0&&S.jsxs("div",{className:"d-flex justify-content-center align-items-center my-3 gap-3",children:[S.jsx("button",{className:"btn btn-outline-secondary",onClick:Gn,disabled:P===1,children:"Previous"}),S.jsxs("span",{children:["Page ",P," of ",br]}),S.jsx("button",{className:"btn btn-outline-secondary",onClick:Pt,disabled:P===br,children:"Next"})]}),S.jsx("div",{className:`modal fade ${l?"show":""}`,style:{display:l?"block":"none"},tabIndex:"-1","aria-labelledby":"uploadModalLabel","aria-hidden":!l,children:S.jsx("div",{className:"modal-dialog modal-dialog-centered",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",id:"uploadModalLabel",children:"Upload Media"}),S.jsx("button",{type:"button",className:"btn-close",onClick:xt})]}),S.jsxs("div",{className:"modal-body",children:[S.jsxs("div",{className:"row g-4",children:[S.jsx("div",{className:"col-6",children:S.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("photoInput").click(),children:[S.jsx(Bb,{className:"display-4 mb-2"}),S.jsx("h5",{children:"Upload Photos"}),S.jsx("p",{className:"text-muted small mb-0",children:"JPG, PNG, GIF"}),S.jsx("input",{type:"file",id:"photoInput",accept:"image/*",multiple:!0,className:"d-none",onChange:Ae=>Rt(Ae.target.files,"photos")})]})}),S.jsx("div",{className:"col-6",children:S.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("videoInput").click(),children:[S.jsx(LS,{className:"display-4 mb-2"}),S.jsx("h5",{children:"Upload Videos"}),S.jsx("p",{className:"text-muted small mb-0",children:"MP4, MOV, AVI"}),S.jsx("input",{type:"file",id:"videoInput",accept:"video/*",multiple:!0,className:"d-none",onChange:Ae=>Rt(Ae.target.files,"videos")})]})})]}),Object.entries(B).map(([Ae,Pe])=>S.jsxs("div",{className:"mt-3",children:[S.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[S.jsx("small",{children:Ae}),S.jsxs("small",{children:[Math.round(Pe),"%"]})]}),S.jsx("div",{className:"progress",children:S.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Pe}%`},"aria-valuenow":Pe,"aria-valuemin":"0","aria-valuemax":"100"})})]},Ae))]})]})})}),E&&v&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:S.jsx("div",{className:"modal-dialog modal-xl modal-dialog-centered",children:S.jsxs("div",{className:"modal-content image-viewer-modal",children:[S.jsxs("div",{className:"modal-header border-0",children:[S.jsx("h5",{className:"modal-title",children:v.name}),S.jsx("button",{type:"button",className:"btn-close",onClick:()=>{R(!1),b(null),k(1)}})]}),S.jsxs("div",{className:"modal-body text-center position-relative p-0",children:[S.jsx("div",{className:"image-container",children:S.jsx("img",{src:v.url,alt:v.name,style:{transform:`scale(${D})`,transition:"transform 0.3s ease"}})}),S.jsxs("div",{className:"viewer-controls",children:[S.jsx("button",{className:"btn btn-light me-2",onClick:Wn,disabled:D<=.5,children:S.jsx(C6,{})}),S.jsx("button",{className:"btn btn-light",onClick:yn,disabled:D>=3,children:S.jsx(S6,{})})]}),p.findIndex(Ae=>Ae.url===v.url)>0&&S.jsx("button",{className:"btn btn-light navigation-button left",onClick:Tt,children:S.jsx(u6,{})}),p.findIndex(Ae=>Ae.url===v.url)<p.length-1&&S.jsx("button",{className:"btn btn-light navigation-button right",onClick:kt,children:S.jsx(d6,{})})]})]})})}),S.jsx("div",{className:"modal-backdrop fade show"})]}),S.jsx(cH,{show:X,onClose:()=>J(!1),eventId:r,folderName:e}),S.jsx(uH,{show:qe,onClose:()=>ke(!1),results:Ze})]}):S.jsx("div",{className:"container-fluid",children:S.jsx("div",{className:"alert alert-danger",children:"Event not found"})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function hH(r,e,t,n){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(n.next(p))}catch(g){l(g)}}function d(p){try{f(n.throw(p))}catch(g){l(g)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((n=n.apply(r,[])).next())})}function fH(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var md=function(){return md=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},md.apply(this,arguments)},bM=function(r){return{loading:r==null,value:r}},pH=function(){return function(r,e){switch(e.type){case"error":return md(md({},r),{error:e.error,loading:!1,value:void 0});case"reset":return bM(e.defaultValue);case"value":return md(md({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},mH=function(r){var e=r?r():void 0,t=T.useReducer(pH(),bM(e)),n=t[0],i=t[1],a=T.useCallback(function(){var d=r?r():void 0;i({type:"reset",defaultValue:d})},[r]),l=T.useCallback(function(d){i({type:"error",error:d})},[]),u=T.useCallback(function(d){i({type:"value",value:d})},[]);return T.useMemo(function(){return{error:n.error,loading:n.loading,reset:a,setError:l,setValue:u,value:n.value}},[n.error,n.loading,a,l,u,n.value])},gH=function(r,e){var t=mH(function(){return r.currentUser}),n=t.error,i=t.loading,a=t.setError,l=t.setValue,u=t.value;return T.useEffect(function(){var d=LA(r,function(f){return hH(void 0,void 0,void 0,function(){var p;return fH(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return g.sent(),[3,4];case 3:return p=g.sent(),a(p),[3,4];case 4:return l(f),[2]}})})},a);return function(){d()}},[r]),[u,i,n]};const vH=({show:r,onClose:e,attendee:t,eventId:n,onShare:i})=>{const[a,l]=T.useState(0),[u,d]=T.useState([]),[f,p]=T.useState(null),[g,v]=T.useState(!1),b=[{id:1,title:"Processing Selfie",description:"Analyzing your selfie for face detection"},{id:2,title:"Finding Matches",description:"Searching through event photos for matches"},{id:3,title:"Preparing Results",description:"Organizing matching photos for you"}];T.useEffect(()=>{r&&t&&E()},[r,t]);const E=async()=>{v(!0),p(null),l(0);try{await new Promise(k=>setTimeout(k,1500)),l(1),await new Promise(k=>setTimeout(k,2e3)),l(2);const R=await i(t,n);console.log("Match results:",R);const D=R.matches.map(k=>{console.log("Processing match:",k);const Y=`https://firebasestorage.googleapis.com/v0/b/photoshoto-a7226.appspot.com/o/${encodeURIComponent(k.filePath)}?alt=media`;return console.log("Constructed image URL:",Y),{...k,imageUrl:Y,similarity:k.similarity||0}});console.log("Processed matches:",D),d(D),l(3)}catch(R){console.error("Error in handleAIShare:",R),p(R.message)}finally{v(!1)}};return r?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"modal-backdrop fade show"}),S.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:S.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:S.jsxs("div",{className:"modal-content",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title",children:"AI Photo Share"}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsxs("div",{className:"modal-body",children:[S.jsx("div",{className:"timeline-progress mb-4",children:b.map((R,D)=>S.jsxs("div",{className:"timeline-step",children:[S.jsx("div",{className:`timeline-icon ${D<=a?"active":""}`,children:D<a?S.jsx(c6,{className:"text-white"}):D===a?S.jsx(h6,{className:"text-white"}):S.jsx("span",{className:"step-number",children:R.id})}),S.jsxs("div",{className:"timeline-content",children:[S.jsx("h6",{className:"mb-1",children:R.title}),S.jsx("p",{className:"text-muted mb-0",children:R.description})]}),D<b.length-1&&S.jsx("div",{className:`timeline-line ${D<a?"active":""}`})]},R.id))}),f&&S.jsx("div",{className:"alert alert-danger",role:"alert",children:f}),a===3&&u.length>0&&S.jsxs("div",{className:"matches-section",children:[S.jsxs("h6",{className:"mb-3",children:["Found ",u.length," matching photos"]}),S.jsx("div",{className:"row g-3",children:u.map((R,D)=>(console.log("Rendering match:",R),S.jsx("div",{className:"col-md-4",children:S.jsxs("div",{className:"card h-100",children:[S.jsx("img",{src:R.imageUrl,className:"card-img-top",alt:`Match ${D+1}`,style:{height:"200px",objectFit:"cover"},onError:k=>{console.error("Image failed to load:",R.imageUrl),k.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}}),S.jsx("div",{className:"card-body",children:S.jsx("p",{className:"card-text",children:S.jsxs("small",{className:"text-muted",children:["Similarity: ",Math.round(R.similarity),"%"]})})})]})},D)))})]}),a===3&&u.length===0&&!f&&S.jsxs("div",{className:"text-center py-4",children:[S.jsx(Bb,{className:"display-4 text-muted mb-3"}),S.jsx("h5",{children:"No matching photos found"}),S.jsx("p",{className:"text-muted",children:"Try adjusting the similarity threshold or ensure the selfie is clear and well-lit."})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:g,children:"Close"}),a===3&&u.length>0&&S.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{e()},children:"Share Photos"})]})]})})})]}):null},yH="https://us-central1-photoshoto-a7226.cloudfunctions.net",_H=()=>{const[r,e]=T.useState([]),[t,n]=T.useState(!0),[i,a]=T.useState(null),[l]=gH(oi),[u,d]=T.useState(!1),[f,p]=T.useState(null),[g,v]=T.useState(null);T.useEffect(()=>{(async()=>{if(l)try{a(null);const R=Hs(ci,"events"),D=fa(R,Zi("event_host","==",l.uid)),Y=(await pa(D)).docs.map(z=>({id:z.id,...z.data(),attendees:[]})),$=await Promise.all(Y.map(async z=>{try{const G=Hs(ci,"eventsregistry"),H=fa(G,Zi("eventId","==",z.id)),x=(await pa(H)).docs.map(C=>{const I=C.data();return console.log("Attendee data:",{id:C.id,name:I.name,selfieUrl:I.selfieUrl,rawData:I}),{id:C.id,...I,registrationDate:I.timestamp||new Date}});return{...z,attendees:x}}catch(G){return console.error(`Error fetching attendees for event ${z.id}:`,G),{...z,attendees:[]}}}));console.log("Events with attendees:",$),e($)}catch(R){console.error("Error fetching events and attendees:",R),a("Failed to load events and attendees. Please try again later.")}finally{n(!1)}})()},[l]);const b=async(E,R)=>{var D;if(!(E!=null&&E.id)||!R){a("Invalid attendee or event data");return}try{a(null);const k=Yc(ci,"eventsregistry",E.id);if(!E.selfieUrl){a("No selfie found for this attendee");return}await Gm(k,{matchStatus:"processing",lastMatchAttempt:new Date().toISOString()});const Y=Yc(ci,"events",R),$=await d0(Y);if(!$.exists())throw new Error("Event not found");let z=(D=$.data())==null?void 0:D.collectionId;z||(z=`${R}_groupphotos`,await Gm(Y,{collectionId:z}));const G=await fetch(`${yH}/matchFacesWithCollection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selfie_url:E.selfieUrl,collectionId:z,similarityThreshold:80})});if(!G.ok)throw new Error("Failed to match faces");const H=await G.json();return console.log("Match results:",H),await Gm(k,{matchStatus:"completed",lastMatchAttempt:new Date().toISOString(),aiMatches:H.matches,totalMatches:H.matches.length}),H}catch(k){throw console.error("Error in handleAIShare:",k),a(k.message||"Failed to process AI share request"),k}};return t?S.jsx("div",{className:"d-flex justify-content-center align-items-center h-100",children:S.jsx("div",{className:"spinner-border text-primary",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):i?S.jsx("div",{className:"alert alert-danger m-3",role:"alert",children:i}):r.length===0?S.jsxs("div",{className:"text-center mt-5",children:[S.jsx("h3",{children:"No events found"}),S.jsx("p",{children:"Create an event to see attendee information"})]}):S.jsxs("div",{className:"container py-4",children:[S.jsx("h2",{className:"mb-4",children:"Events & Attendees"}),S.jsx("div",{className:"row g-4",children:r.map(E=>{var R,D;return S.jsx("div",{className:"col-12",children:S.jsx("div",{className:"card event-card",children:S.jsxs("div",{className:"card-body",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[S.jsx("h5",{className:"card-title mb-0",children:E.event_name}),S.jsxs("span",{className:"badge bg-primary",children:[((R=E.attendees)==null?void 0:R.length)||0," Attendees"]})]}),S.jsxs("div",{className:"card-text mb-3",children:[S.jsxs("div",{className:"d-flex align-items-center mb-2",children:[S.jsx(GR,{className:"me-2"}),S.jsx("span",{children:(D=E.date)!=null&&D.toDate?new Date(E.date.toDate()).toLocaleDateString():"Date not available"})]}),S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(QR,{className:"me-2"}),S.jsx("span",{children:E.event_location_name||"Location not available"})]})]}),E.attendees&&E.attendees.length>0?S.jsx("div",{className:"table-responsive mt-3",children:S.jsxs("table",{className:"table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Selfie"}),S.jsx("th",{children:"Name"}),S.jsx("th",{children:"Phone"}),S.jsx("th",{children:"Registration Date"}),S.jsx("th",{children:"Status"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:E.attendees.map((k,Y)=>{var $;return S.jsxs("tr",{children:[S.jsx("td",{children:k.selfieUrl?S.jsx("img",{src:k.selfieUrl,alt:`${k.name||"Attendee"}'s selfie`,className:"img-thumbnail",style:{width:"50px",height:"50px",objectFit:"cover"},onError:z=>{console.error("Failed to load image:",{attendeeId:k.id,attendeeName:k.name,selfieUrl:k.selfieUrl,eventId:E.id}),z.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNFNUU1RTUiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzY2NiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=="},onLoad:z=>{console.log("Successfully loaded image:",{attendeeId:k.id,attendeeName:k.name,selfieUrl:k.selfieUrl,eventId:E.id})}}):S.jsx("div",{className:"img-thumbnail d-flex align-items-center justify-content-center bg-light",style:{width:"50px",height:"50px"},children:S.jsx(E6,{className:"text-muted"})})}),S.jsx("td",{children:k.name||"N/A"}),S.jsx("td",{children:k.phone||"N/A"}),S.jsx("td",{children:($=k.registrationDate)!=null&&$.toDate?new Date(k.registrationDate.toDate()).toLocaleDateString():"N/A"}),S.jsx("td",{children:k.matchStatus||"Not processed"}),S.jsx("td",{children:S.jsx("button",{className:"btn btn-primary",onClick:()=>{p(k),v(E.id),d(!0)},disabled:!k.selfieUrl,children:"Share"})})]},k.id||Y)})})]})}):S.jsx("div",{className:"text-center py-3",children:S.jsx("p",{className:"text-muted mb-0",children:"No attendees registered yet"})})]})})},E.id)})}),u&&f&&g&&S.jsx(vH,{show:u,onClose:()=>d(!1),onShare:b,attendee:f,eventId:g})]})};function bH(){return S.jsx(JV,{children:S.jsx(mL,{children:S.jsx(Kz,{children:S.jsx(rL,{children:S.jsxs(OI,{children:[S.jsx(Pa,{path:"/login",element:S.jsx(M6,{})}),S.jsxs(Pa,{path:"/",element:S.jsx(e6,{children:S.jsx(R6,{})}),children:[S.jsx(Pa,{index:!0,element:S.jsx(k6,{})}),S.jsx(Pa,{path:"events",element:S.jsx(Zz,{})}),S.jsx(Pa,{path:"analytics",element:S.jsx(Jz,{})}),S.jsx(Pa,{path:"attendees",element:S.jsx(_H,{})}),S.jsx(Pa,{path:"folders",element:S.jsx(eH,{})}),S.jsx(Pa,{path:"folders/:eventId/:folderName",element:S.jsx(dH,{})})]}),S.jsx(Pa,{path:"*",element:S.jsx($x,{to:"/",replace:!0})})]})})})})})}var tg={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wH=tg.exports,Ox;function EH(){return Ox||(Ox=1,function(r,e){(function(t,n){r.exports=n()})(wH,function(){const t=new Map,n={set(q,_,M){t.has(q)||t.set(q,new Map);const Q=t.get(q);Q.has(_)||Q.size===0?Q.set(_,M):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Q.keys())[0]}.`)},get:(q,_)=>t.has(q)&&t.get(q).get(_)||null,remove(q,_){if(!t.has(q))return;const M=t.get(q);M.delete(_),M.size===0&&t.delete(q)}},i="transitionend",a=q=>(q&&window.CSS&&window.CSS.escape&&(q=q.replace(/#([^\s"#']+)/g,(_,M)=>`#${CSS.escape(M)}`)),q),l=q=>{q.dispatchEvent(new Event(i))},u=q=>!(!q||typeof q!="object")&&(q.jquery!==void 0&&(q=q[0]),q.nodeType!==void 0),d=q=>u(q)?q.jquery?q[0]:q:typeof q=="string"&&q.length>0?document.querySelector(a(q)):null,f=q=>{if(!u(q)||q.getClientRects().length===0)return!1;const _=getComputedStyle(q).getPropertyValue("visibility")==="visible",M=q.closest("details:not([open])");if(!M)return _;if(M!==q){const Q=q.closest("summary");if(Q&&Q.parentNode!==M||Q===null)return!1}return _},p=q=>!q||q.nodeType!==Node.ELEMENT_NODE||!!q.classList.contains("disabled")||(q.disabled!==void 0?q.disabled:q.hasAttribute("disabled")&&q.getAttribute("disabled")!=="false"),g=q=>{if(!document.documentElement.attachShadow)return null;if(typeof q.getRootNode=="function"){const _=q.getRootNode();return _ instanceof ShadowRoot?_:null}return q instanceof ShadowRoot?q:q.parentNode?g(q.parentNode):null},v=()=>{},b=q=>{q.offsetHeight},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,R=[],D=()=>document.documentElement.dir==="rtl",k=q=>{var _;_=()=>{const M=E();if(M){const Q=q.NAME,le=M.fn[Q];M.fn[Q]=q.jQueryInterface,M.fn[Q].Constructor=q,M.fn[Q].noConflict=()=>(M.fn[Q]=le,q.jQueryInterface)}},document.readyState==="loading"?(R.length||document.addEventListener("DOMContentLoaded",()=>{for(const M of R)M()}),R.push(_)):_()},Y=(q,_=[],M=q)=>typeof q=="function"?q(..._):M,$=(q,_,M=!0)=>{if(!M)return void Y(q);const Q=(be=>{if(!be)return 0;let{transitionDuration:De,transitionDelay:Ne}=window.getComputedStyle(be);const $e=Number.parseFloat(De),Be=Number.parseFloat(Ne);return $e||Be?(De=De.split(",")[0],Ne=Ne.split(",")[0],1e3*(Number.parseFloat(De)+Number.parseFloat(Ne))):0})(_)+5;let le=!1;const ce=({target:be})=>{be===_&&(le=!0,_.removeEventListener(i,ce),Y(q))};_.addEventListener(i,ce),setTimeout(()=>{le||l(_)},Q)},z=(q,_,M,Q)=>{const le=q.length;let ce=q.indexOf(_);return ce===-1?!M&&Q?q[le-1]:q[0]:(ce+=M?1:-1,Q&&(ce=(ce+le)%le),q[Math.max(0,Math.min(ce,le-1))])},G=/[^.]*(?=\..*)\.|.*/,H=/\..*/,N=/::\d+$/,x={};let C=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},j=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function B(q,_){return _&&`${_}::${C++}`||q.uidEvent||C++}function U(q){const _=B(q);return q.uidEvent=_,x[_]=x[_]||{},x[_]}function X(q,_,M=null){return Object.values(q).find(Q=>Q.callable===_&&Q.delegationSelector===M)}function J(q,_,M){const Q=typeof _=="string",le=Q?M:_||M;let ce=ne(q);return j.has(ce)||(ce=q),[Q,le,ce]}function P(q,_,M,Q,le){if(typeof _!="string"||!q)return;let[ce,be,De]=J(_,M,Q);_ in I&&(be=(it=>function(st){if(!st.relatedTarget||st.relatedTarget!==st.delegateTarget&&!st.delegateTarget.contains(st.relatedTarget))return it.call(this,st)})(be));const Ne=U(q),$e=Ne[De]||(Ne[De]={}),Be=X($e,be,ce?M:null);if(Be)return void(Be.oneOff=Be.oneOff&&le);const Ue=B(be,_.replace(G,"")),vt=ce?function(et,it,st){return function dt(un){const dn=et.querySelectorAll(it);for(let{target:_t}=un;_t&&_t!==this;_t=_t.parentNode)for(const Zt of dn)if(Zt===_t)return re(un,{delegateTarget:_t}),dt.oneOff&&L.off(et,un.type,it,st),st.apply(_t,[un])}}(q,M,be):function(et,it){return function st(dt){return re(dt,{delegateTarget:et}),st.oneOff&&L.off(et,dt.type,it),it.apply(et,[dt])}}(q,be);vt.delegationSelector=ce?M:null,vt.callable=be,vt.oneOff=le,vt.uidEvent=Ue,$e[Ue]=vt,q.addEventListener(De,vt,ce)}function F(q,_,M,Q,le){const ce=X(_[M],Q,le);ce&&(q.removeEventListener(M,ce,!!le),delete _[M][ce.uidEvent])}function ee(q,_,M,Q){const le=_[M]||{};for(const[ce,be]of Object.entries(le))ce.includes(Q)&&F(q,_,M,be.callable,be.delegationSelector)}function ne(q){return q=q.replace(H,""),I[q]||q}const L={on(q,_,M,Q){P(q,_,M,Q,!1)},one(q,_,M,Q){P(q,_,M,Q,!0)},off(q,_,M,Q){if(typeof _!="string"||!q)return;const[le,ce,be]=J(_,M,Q),De=be!==_,Ne=U(q),$e=Ne[be]||{},Be=_.startsWith(".");if(ce===void 0){if(Be)for(const Ue of Object.keys(Ne))ee(q,Ne,Ue,_.slice(1));for(const[Ue,vt]of Object.entries($e)){const et=Ue.replace(N,"");De&&!_.includes(et)||F(q,Ne,be,vt.callable,vt.delegationSelector)}}else{if(!Object.keys($e).length)return;F(q,Ne,be,ce,le?M:null)}},trigger(q,_,M){if(typeof _!="string"||!q)return null;const Q=E();let le=null,ce=!0,be=!0,De=!1;_!==ne(_)&&Q&&(le=Q.Event(_,M),Q(q).trigger(le),ce=!le.isPropagationStopped(),be=!le.isImmediatePropagationStopped(),De=le.isDefaultPrevented());const Ne=re(new Event(_,{bubbles:ce,cancelable:!0}),M);return De&&Ne.preventDefault(),be&&q.dispatchEvent(Ne),Ne.defaultPrevented&&le&&le.preventDefault(),Ne}};function re(q,_={}){for(const[M,Q]of Object.entries(_))try{q[M]=Q}catch{Object.defineProperty(q,M,{configurable:!0,get:()=>Q})}return q}function ae(q){if(q==="true")return!0;if(q==="false")return!1;if(q===Number(q).toString())return Number(q);if(q===""||q==="null")return null;if(typeof q!="string")return q;try{return JSON.parse(decodeURIComponent(q))}catch{return q}}function ie(q){return q.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const oe={setDataAttribute(q,_,M){q.setAttribute(`data-bs-${ie(_)}`,M)},removeDataAttribute(q,_){q.removeAttribute(`data-bs-${ie(_)}`)},getDataAttributes(q){if(!q)return{};const _={},M=Object.keys(q.dataset).filter(Q=>Q.startsWith("bs")&&!Q.startsWith("bsConfig"));for(const Q of M){let le=Q.replace(/^bs/,"");le=le.charAt(0).toLowerCase()+le.slice(1,le.length),_[le]=ae(q.dataset[Q])}return _},getDataAttribute:(q,_)=>ae(q.getAttribute(`data-bs-${ie(_)}`))};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,M){const Q=u(M)?oe.getDataAttribute(M,"config"):{};return{...this.constructor.Default,...typeof Q=="object"?Q:{},...u(M)?oe.getDataAttributes(M):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,M=this.constructor.DefaultType){for(const[le,ce]of Object.entries(M)){const be=_[le],De=u(be)?"element":(Q=be)==null?`${Q}`:Object.prototype.toString.call(Q).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ce).test(De))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${le}" provided type "${De}" but expected type "${ce}".`)}var Q}}class we extends Z{constructor(_,M){super(),(_=d(_))&&(this._element=_,this._config=this._getConfig(M),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,M,Q=!0){$(_,M,Q)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return n.get(d(_),this.DATA_KEY)}static getOrCreateInstance(_,M={}){return this.getInstance(_)||new this(_,typeof M=="object"?M:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const je=q=>{let _=q.getAttribute("data-bs-target");if(!_||_==="#"){let M=q.getAttribute("href");if(!M||!M.includes("#")&&!M.startsWith("."))return null;M.includes("#")&&!M.startsWith("#")&&(M=`#${M.split("#")[1]}`),_=M&&M!=="#"?M.trim():null}return _?_.split(",").map(M=>a(M)).join(","):null},me={find:(q,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,q)),findOne:(q,_=document.documentElement)=>Element.prototype.querySelector.call(_,q),children:(q,_)=>[].concat(...q.children).filter(M=>M.matches(_)),parents(q,_){const M=[];let Q=q.parentNode.closest(_);for(;Q;)M.push(Q),Q=Q.parentNode.closest(_);return M},prev(q,_){let M=q.previousElementSibling;for(;M;){if(M.matches(_))return[M];M=M.previousElementSibling}return[]},next(q,_){let M=q.nextElementSibling;for(;M;){if(M.matches(_))return[M];M=M.nextElementSibling}return[]},focusableChildren(q){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(M=>`${M}:not([tabindex^="-"])`).join(",");return this.find(_,q).filter(M=>!p(M)&&f(M))},getSelectorFromElement(q){const _=je(q);return _&&me.findOne(_)?_:null},getElementFromSelector(q){const _=je(q);return _?me.findOne(_):null},getMultipleElementsFromSelector(q){const _=je(q);return _?me.find(_):[]}},Fe=(q,_="hide")=>{const M=`click.dismiss${q.EVENT_KEY}`,Q=q.NAME;L.on(document,M,`[data-bs-dismiss="${Q}"]`,function(le){if(["A","AREA"].includes(this.tagName)&&le.preventDefault(),p(this))return;const ce=me.getElementFromSelector(this)||this.closest(`.${Q}`);q.getOrCreateInstance(ce)[_]()})},Ie=".bs.alert",He=`close${Ie}`,de=`closed${Ie}`;class Ce extends we{static get NAME(){return"alert"}close(){if(L.trigger(this._element,He).defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),L.trigger(this._element,de),this.dispose()}static jQueryInterface(_){return this.each(function(){const M=Ce.getOrCreateInstance(this);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_](this)}})}}Fe(Ce,"close"),k(Ce);const qe='[data-bs-toggle="button"]';class ke extends we{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const M=ke.getOrCreateInstance(this);_==="toggle"&&M[_]()})}}L.on(document,"click.bs.button.data-api",qe,q=>{q.preventDefault();const _=q.target.closest(qe);ke.getOrCreateInstance(_).toggle()}),k(ke);const Ze=".bs.swipe",Qe=`touchstart${Ze}`,lt=`touchmove${Ze}`,Kt=`touchend${Ze}`,vn=`pointerdown${Ze}`,Pt=`pointerup${Ze}`,Gn={endCallback:null,leftCallback:null,rightCallback:null},zt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xt extends Z{constructor(_,M){super(),this._element=_,_&&xt.isSupported()&&(this._config=this._getConfig(M),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Gn}static get DefaultType(){return zt}static get NAME(){return"swipe"}dispose(){L.off(this._element,Ze)}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),Y(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const M=_/this._deltaX;this._deltaX=0,M&&Y(M>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,vn,_=>this._start(_)),L.on(this._element,Pt,_=>this._end(_)),this._element.classList.add("pointer-event")):(L.on(this._element,Qe,_=>this._start(_)),L.on(this._element,lt,_=>this._move(_)),L.on(this._element,Kt,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ln=".bs.carousel",Rt=".data-api",pt="next",Tt="prev",kt="left",yn="right",Wn=`slide${ln}`,En=`slid${ln}`,Un=`keydown${ln}`,zn=`mouseenter${ln}`,kn=`mouseleave${ln}`,Xr=`dragstart${ln}`,Or=`load${ln}${Rt}`,fi=`click${ln}${Rt}`,Nr="carousel",hr="active",br=".active",Ae=".carousel-item",Pe=br+Ae,Ke={ArrowLeft:yn,ArrowRight:kt},St={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Gt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mt extends we{constructor(_,M){super(_,M),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Nr&&this.cycle()}static get Default(){return St}static get DefaultType(){return Gt}static get NAME(){return"carousel"}next(){this._slide(pt)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Tt)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,En,()=>this.cycle()):this.cycle())}to(_){const M=this._getItems();if(_>M.length-1||_<0)return;if(this._isSliding)return void L.one(this._element,En,()=>this.to(_));const Q=this._getItemIndex(this._getActive());if(Q===_)return;const le=_>Q?pt:Tt;this._slide(le,M[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&L.on(this._element,Un,_=>this._keydown(_)),this._config.pause==="hover"&&(L.on(this._element,zn,()=>this.pause()),L.on(this._element,kn,()=>this._maybeEnableCycle())),this._config.touch&&xt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const M of me.find(".carousel-item img",this._element))L.on(M,Xr,Q=>Q.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(kt)),rightCallback:()=>this._slide(this._directionToOrder(yn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new xt(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const M=Ke[_.key];M&&(_.preventDefault(),this._slide(this._directionToOrder(M)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const M=me.findOne(br,this._indicatorsElement);M.classList.remove(hr),M.removeAttribute("aria-current");const Q=me.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);Q&&(Q.classList.add(hr),Q.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const M=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=M||this._config.defaultInterval}_slide(_,M=null){if(this._isSliding)return;const Q=this._getActive(),le=_===pt,ce=M||z(this._getItems(),Q,le,this._config.wrap);if(ce===Q)return;const be=this._getItemIndex(ce),De=Ue=>L.trigger(this._element,Ue,{relatedTarget:ce,direction:this._orderToDirection(_),from:this._getItemIndex(Q),to:be});if(De(Wn).defaultPrevented||!Q||!ce)return;const Ne=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(be),this._activeElement=ce;const $e=le?"carousel-item-start":"carousel-item-end",Be=le?"carousel-item-next":"carousel-item-prev";ce.classList.add(Be),b(ce),Q.classList.add($e),ce.classList.add($e),this._queueCallback(()=>{ce.classList.remove($e,Be),ce.classList.add(hr),Q.classList.remove(hr,Be,$e),this._isSliding=!1,De(En)},Q,this._isAnimated()),Ne&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return me.findOne(Pe,this._element)}_getItems(){return me.find(Ae,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return D()?_===kt?Tt:pt:_===kt?pt:Tt}_orderToDirection(_){return D()?_===Tt?kt:yn:_===Tt?yn:kt}static jQueryInterface(_){return this.each(function(){const M=mt.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}}else M.to(_)})}}L.on(document,fi,"[data-bs-slide], [data-bs-slide-to]",function(q){const _=me.getElementFromSelector(this);if(!_||!_.classList.contains(Nr))return;q.preventDefault();const M=mt.getOrCreateInstance(_),Q=this.getAttribute("data-bs-slide-to");return Q?(M.to(Q),void M._maybeEnableCycle()):oe.getDataAttribute(this,"slide")==="next"?(M.next(),void M._maybeEnableCycle()):(M.prev(),void M._maybeEnableCycle())}),L.on(window,Or,()=>{const q=me.find('[data-bs-ride="carousel"]');for(const _ of q)mt.getOrCreateInstance(_)}),k(mt);const gt=".bs.collapse",tt=`show${gt}`,We=`shown${gt}`,Le=`hide${gt}`,It=`hidden${gt}`,pn=`click${gt}.data-api`,wr="show",Pr="collapse",cn="collapsing",xr=`:scope .${Pr} .${Pr}`,Qn='[data-bs-toggle="collapse"]',jr={parent:null,toggle:!0},rs={parent:"(null|element)",toggle:"boolean"};class Ar extends we{constructor(_,M){super(_,M),this._isTransitioning=!1,this._triggerArray=[];const Q=me.find(Qn);for(const le of Q){const ce=me.getSelectorFromElement(le),be=me.find(ce).filter(De=>De===this._element);ce!==null&&be.length&&this._triggerArray.push(le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jr}static get DefaultType(){return rs}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(le=>le!==this._element).map(le=>Ar.getOrCreateInstance(le,{toggle:!1}))),_.length&&_[0]._isTransitioning||L.trigger(this._element,tt).defaultPrevented)return;for(const le of _)le.hide();const M=this._getDimension();this._element.classList.remove(Pr),this._element.classList.add(cn),this._element.style[M]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Q=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(cn),this._element.classList.add(Pr,wr),this._element.style[M]="",L.trigger(this._element,We)},this._element,!0),this._element.style[M]=`${this._element[Q]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,Le).defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,b(this._element),this._element.classList.add(cn),this._element.classList.remove(Pr,wr);for(const M of this._triggerArray){const Q=me.getElementFromSelector(M);Q&&!this._isShown(Q)&&this._addAriaAndCollapsedClass([M],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(cn),this._element.classList.add(Pr),L.trigger(this._element,It)},this._element,!0)}_isShown(_=this._element){return _.classList.contains(wr)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=d(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Qn);for(const M of _){const Q=me.getElementFromSelector(M);Q&&this._addAriaAndCollapsedClass([M],this._isShown(Q))}}_getFirstLevelChildren(_){const M=me.find(xr,this._config.parent);return me.find(_,this._config.parent).filter(Q=>!M.includes(Q))}_addAriaAndCollapsedClass(_,M){if(_.length)for(const Q of _)Q.classList.toggle("collapsed",!M),Q.setAttribute("aria-expanded",M)}static jQueryInterface(_){const M={};return typeof _=="string"&&/show|hide/.test(_)&&(M.toggle=!1),this.each(function(){const Q=Ar.getOrCreateInstance(this,M);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_]()}})}}L.on(document,pn,Qn,function(q){(q.target.tagName==="A"||q.delegateTarget&&q.delegateTarget.tagName==="A")&&q.preventDefault();for(const _ of me.getMultipleElementsFromSelector(this))Ar.getOrCreateInstance(_,{toggle:!1}).toggle()}),k(Ar);var Pn="top",Tn="bottom",Wt="right",fr="left",Qs="auto",Ur=[Pn,Tn,Wt,fr],Zr="start",Ks="end",hc="clippingParents",Xs="viewport",Zs="popper",Js="reference",Vi=Ur.reduce(function(q,_){return q.concat([_+"-"+Zr,_+"-"+Ks])},[]),pr=[].concat(Ur,[Qs]).reduce(function(q,_){return q.concat([_,_+"-"+Zr,_+"-"+Ks])},[]),Ta="beforeRead",fc="read",bs="afterRead",to="beforeMain",no="main",Xo="afterMain",ro="beforeWrite",Vr="write",Zo="afterWrite",pu=[Ta,fc,bs,to,no,Xo,ro,Vr,Zo];function Jr(q){return q?(q.nodeName||"").toLowerCase():null}function Dr(q){if(q==null)return window;if(q.toString()!=="[object Window]"){var _=q.ownerDocument;return _&&_.defaultView||window}return q}function Ti(q){return q instanceof Dr(q).Element||q instanceof Element}function pi(q){return q instanceof Dr(q).HTMLElement||q instanceof HTMLElement}function Kn(q){return typeof ShadowRoot<"u"&&(q instanceof Dr(q).ShadowRoot||q instanceof ShadowRoot)}const ei={name:"applyStyles",enabled:!0,phase:"write",fn:function(q){var _=q.state;Object.keys(_.elements).forEach(function(M){var Q=_.styles[M]||{},le=_.attributes[M]||{},ce=_.elements[M];pi(ce)&&Jr(ce)&&(Object.assign(ce.style,Q),Object.keys(le).forEach(function(be){var De=le[be];De===!1?ce.removeAttribute(be):ce.setAttribute(be,De===!0?"":De)}))})},effect:function(q){var _=q.state,M={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,M.popper),_.styles=M,_.elements.arrow&&Object.assign(_.elements.arrow.style,M.arrow),function(){Object.keys(_.elements).forEach(function(Q){var le=_.elements[Q],ce=_.attributes[Q]||{},be=Object.keys(_.styles.hasOwnProperty(Q)?_.styles[Q]:M[Q]).reduce(function(De,Ne){return De[Ne]="",De},{});pi(le)&&Jr(le)&&(Object.assign(le.style,be),Object.keys(ce).forEach(function(De){le.removeAttribute(De)}))})}},requires:["computeStyles"]};function Fr(q){return q.split("-")[0]}var mi=Math.max,Fi=Math.min,Qt=Math.round;function ea(){var q=navigator.userAgentData;return q!=null&&q.brands&&Array.isArray(q.brands)?q.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function Si(){return!/^((?!chrome|android).)*safari/i.test(ea())}function Bi(q,_,M){_===void 0&&(_=!1),M===void 0&&(M=!1);var Q=q.getBoundingClientRect(),le=1,ce=1;_&&pi(q)&&(le=q.offsetWidth>0&&Qt(Q.width)/q.offsetWidth||1,ce=q.offsetHeight>0&&Qt(Q.height)/q.offsetHeight||1);var be=(Ti(q)?Dr(q):window).visualViewport,De=!Si()&&M,Ne=(Q.left+(De&&be?be.offsetLeft:0))/le,$e=(Q.top+(De&&be?be.offsetTop:0))/ce,Be=Q.width/le,Ue=Q.height/ce;return{width:Be,height:Ue,top:$e,right:Ne+Be,bottom:$e+Ue,left:Ne,x:Ne,y:$e}}function Jo(q){var _=Bi(q),M=q.offsetWidth,Q=q.offsetHeight;return Math.abs(_.width-M)<=1&&(M=_.width),Math.abs(_.height-Q)<=1&&(Q=_.height),{x:q.offsetLeft,y:q.offsetTop,width:M,height:Q}}function el(q,_){var M=_.getRootNode&&_.getRootNode();if(q.contains(_))return!0;if(M&&Kn(M)){var Q=_;do{if(Q&&q.isSameNode(Q))return!0;Q=Q.parentNode||Q.host}while(Q)}return!1}function Ci(q){return Dr(q).getComputedStyle(q)}function Zd(q){return["table","td","th"].indexOf(Jr(q))>=0}function ws(q){return((Ti(q)?q.ownerDocument:q.document)||window.document).documentElement}function ta(q){return Jr(q)==="html"?q:q.assignedSlot||q.parentNode||(Kn(q)?q.host:null)||ws(q)}function Es(q){return pi(q)&&Ci(q).position!=="fixed"?q.offsetParent:null}function Br(q){for(var _=Dr(q),M=Es(q);M&&Zd(M)&&Ci(M).position==="static";)M=Es(M);return M&&(Jr(M)==="html"||Jr(M)==="body"&&Ci(M).position==="static")?_:M||function(Q){var le=/firefox/i.test(ea());if(/Trident/i.test(ea())&&pi(Q)&&Ci(Q).position==="fixed")return null;var ce=ta(Q);for(Kn(ce)&&(ce=ce.host);pi(ce)&&["html","body"].indexOf(Jr(ce))<0;){var be=Ci(ce);if(be.transform!=="none"||be.perspective!=="none"||be.contain==="paint"||["transform","perspective"].indexOf(be.willChange)!==-1||le&&be.willChange==="filter"||le&&be.filter&&be.filter!=="none")return ce;ce=ce.parentNode}return null}(q)||_}function is(q){return["top","bottom"].indexOf(q)>=0?"x":"y"}function xi(q,_,M){return mi(q,Fi(_,M))}function tl(q){return Object.assign({},{top:0,right:0,bottom:0,left:0},q)}function ss(q,_){return _.reduce(function(M,Q){return M[Q]=q,M},{})}const pc={name:"arrow",enabled:!0,phase:"main",fn:function(q){var _,M=q.state,Q=q.name,le=q.options,ce=M.elements.arrow,be=M.modifiersData.popperOffsets,De=Fr(M.placement),Ne=is(De),$e=[fr,Wt].indexOf(De)>=0?"height":"width";if(ce&&be){var Be=function(mn,rn){return tl(typeof(mn=typeof mn=="function"?mn(Object.assign({},rn.rects,{placement:rn.placement})):mn)!="number"?mn:ss(mn,Ur))}(le.padding,M),Ue=Jo(ce),vt=Ne==="y"?Pn:fr,et=Ne==="y"?Tn:Wt,it=M.rects.reference[$e]+M.rects.reference[Ne]-be[Ne]-M.rects.popper[$e],st=be[Ne]-M.rects.reference[Ne],dt=Br(ce),un=dt?Ne==="y"?dt.clientHeight||0:dt.clientWidth||0:0,dn=it/2-st/2,_t=Be[vt],Zt=un-Ue[$e]-Be[et],Et=un/2-Ue[$e]/2+dn,Ct=xi(_t,Et,Zt),Jt=Ne;M.modifiersData[Q]=((_={})[Jt]=Ct,_.centerOffset=Ct-Et,_)}},effect:function(q){var _=q.state,M=q.options.element,Q=M===void 0?"[data-popper-arrow]":M;Q!=null&&(typeof Q!="string"||(Q=_.elements.popper.querySelector(Q)))&&el(_.elements.popper,Q)&&(_.elements.arrow=Q)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zi(q){return q.split("-")[1]}var as={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ai(q){var _,M=q.popper,Q=q.popperRect,le=q.placement,ce=q.variation,be=q.offsets,De=q.position,Ne=q.gpuAcceleration,$e=q.adaptive,Be=q.roundOffsets,Ue=q.isFixed,vt=be.x,et=vt===void 0?0:vt,it=be.y,st=it===void 0?0:it,dt=typeof Be=="function"?Be({x:et,y:st}):{x:et,y:st};et=dt.x,st=dt.y;var un=be.hasOwnProperty("x"),dn=be.hasOwnProperty("y"),_t=fr,Zt=Pn,Et=window;if($e){var Ct=Br(M),Jt="clientHeight",mn="clientWidth";Ct===Dr(M)&&Ci(Ct=ws(M)).position!=="static"&&De==="absolute"&&(Jt="scrollHeight",mn="scrollWidth"),(le===Pn||(le===fr||le===Wt)&&ce===Ks)&&(Zt=Tn,st-=(Ue&&Ct===Et&&Et.visualViewport?Et.visualViewport.height:Ct[Jt])-Q.height,st*=Ne?1:-1),le!==fr&&(le!==Pn&&le!==Tn||ce!==Ks)||(_t=Wt,et-=(Ue&&Ct===Et&&Et.visualViewport?Et.visualViewport.width:Ct[mn])-Q.width,et*=Ne?1:-1)}var rn,qn=Object.assign({position:De},$e&&as),ar=Be===!0?function(at,bt){var sn=at.x,ri=at.y,Sn=bt.devicePixelRatio||1;return{x:Qt(sn*Sn)/Sn||0,y:Qt(ri*Sn)/Sn||0}}({x:et,y:st},Dr(M)):{x:et,y:st};return et=ar.x,st=ar.y,Ne?Object.assign({},qn,((rn={})[Zt]=dn?"0":"",rn[_t]=un?"0":"",rn.transform=(Et.devicePixelRatio||1)<=1?"translate("+et+"px, "+st+"px)":"translate3d("+et+"px, "+st+"px, 0)",rn)):Object.assign({},qn,((_={})[Zt]=dn?st+"px":"",_[_t]=un?et+"px":"",_.transform="",_))}const na={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(q){var _=q.state,M=q.options,Q=M.gpuAcceleration,le=Q===void 0||Q,ce=M.adaptive,be=ce===void 0||ce,De=M.roundOffsets,Ne=De===void 0||De,$e={placement:Fr(_.placement),variation:zi(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:le,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,Ai(Object.assign({},$e,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:be,roundOffsets:Ne})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,Ai(Object.assign({},$e,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ne})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var Di={passive:!0};const Ts={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(q){var _=q.state,M=q.instance,Q=q.options,le=Q.scroll,ce=le===void 0||le,be=Q.resize,De=be===void 0||be,Ne=Dr(_.elements.popper),$e=[].concat(_.scrollParents.reference,_.scrollParents.popper);return ce&&$e.forEach(function(Be){Be.addEventListener("scroll",M.update,Di)}),De&&Ne.addEventListener("resize",M.update,Di),function(){ce&&$e.forEach(function(Be){Be.removeEventListener("scroll",M.update,Di)}),De&&Ne.removeEventListener("resize",M.update,Di)}},data:{}};var ra={left:"right",right:"left",bottom:"top",top:"bottom"};function Sa(q){return q.replace(/left|right|bottom|top/g,function(_){return ra[_]})}var Ss={start:"end",end:"start"};function os(q){return q.replace(/start|end/g,function(_){return Ss[_]})}function io(q){var _=Dr(q);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function ir(q){return Bi(ws(q)).left+io(q).scrollLeft}function Xt(q){var _=Ci(q),M=_.overflow,Q=_.overflowX,le=_.overflowY;return/auto|scroll|overlay|hidden/.test(M+le+Q)}function so(q){return["html","body","#document"].indexOf(Jr(q))>=0?q.ownerDocument.body:pi(q)&&Xt(q)?q:so(ta(q))}function ls(q,_){var M;_===void 0&&(_=[]);var Q=so(q),le=Q===((M=q.ownerDocument)==null?void 0:M.body),ce=Dr(Q),be=le?[ce].concat(ce.visualViewport||[],Xt(Q)?Q:[]):Q,De=_.concat(be);return le?De:De.concat(ls(ta(be)))}function nl(q){return Object.assign({},q,{left:q.x,top:q.y,right:q.x+q.width,bottom:q.y+q.height})}function ao(q,_,M){return _===Xs?nl(function(Q,le){var ce=Dr(Q),be=ws(Q),De=ce.visualViewport,Ne=be.clientWidth,$e=be.clientHeight,Be=0,Ue=0;if(De){Ne=De.width,$e=De.height;var vt=Si();(vt||!vt&&le==="fixed")&&(Be=De.offsetLeft,Ue=De.offsetTop)}return{width:Ne,height:$e,x:Be+ir(Q),y:Ue}}(q,M)):Ti(_)?function(Q,le){var ce=Bi(Q,!1,le==="fixed");return ce.top=ce.top+Q.clientTop,ce.left=ce.left+Q.clientLeft,ce.bottom=ce.top+Q.clientHeight,ce.right=ce.left+Q.clientWidth,ce.width=Q.clientWidth,ce.height=Q.clientHeight,ce.x=ce.left,ce.y=ce.top,ce}(_,M):nl(function(Q){var le,ce=ws(Q),be=io(Q),De=(le=Q.ownerDocument)==null?void 0:le.body,Ne=mi(ce.scrollWidth,ce.clientWidth,De?De.scrollWidth:0,De?De.clientWidth:0),$e=mi(ce.scrollHeight,ce.clientHeight,De?De.scrollHeight:0,De?De.clientHeight:0),Be=-be.scrollLeft+ir(Q),Ue=-be.scrollTop;return Ci(De||ce).direction==="rtl"&&(Be+=mi(ce.clientWidth,De?De.clientWidth:0)-Ne),{width:Ne,height:$e,x:Be,y:Ue}}(ws(q)))}function oo(q){var _,M=q.reference,Q=q.element,le=q.placement,ce=le?Fr(le):null,be=le?zi(le):null,De=M.x+M.width/2-Q.width/2,Ne=M.y+M.height/2-Q.height/2;switch(ce){case Pn:_={x:De,y:M.y-Q.height};break;case Tn:_={x:De,y:M.y+M.height};break;case Wt:_={x:M.x+M.width,y:Ne};break;case fr:_={x:M.x-Q.width,y:Ne};break;default:_={x:M.x,y:M.y}}var $e=ce?is(ce):null;if($e!=null){var Be=$e==="y"?"height":"width";switch(be){case Zr:_[$e]=_[$e]-(M[Be]/2-Q[Be]/2);break;case Ks:_[$e]=_[$e]+(M[Be]/2-Q[Be]/2)}}return _}function ti(q,_){_===void 0&&(_={});var M=_,Q=M.placement,le=Q===void 0?q.placement:Q,ce=M.strategy,be=ce===void 0?q.strategy:ce,De=M.boundary,Ne=De===void 0?hc:De,$e=M.rootBoundary,Be=$e===void 0?Xs:$e,Ue=M.elementContext,vt=Ue===void 0?Zs:Ue,et=M.altBoundary,it=et!==void 0&&et,st=M.padding,dt=st===void 0?0:st,un=tl(typeof dt!="number"?dt:ss(dt,Ur)),dn=vt===Zs?Js:Zs,_t=q.rects.popper,Zt=q.elements[it?dn:vt],Et=function(bt,sn,ri,Sn){var qr=sn==="clippingParents"?function(Cn){var jt=ls(ta(Cn)),gi=["absolute","fixed"].indexOf(Ci(Cn).position)>=0&&pi(Cn)?Br(Cn):Cn;return Ti(gi)?jt.filter(function(Os){return Ti(Os)&&el(Os,gi)&&Jr(Os)!=="body"}):[]}(bt):[].concat(sn),Ii=[].concat(qr,[ri]),Ls=Ii[0],$n=Ii.reduce(function(Cn,jt){var gi=ao(bt,jt,Sn);return Cn.top=mi(gi.top,Cn.top),Cn.right=Fi(gi.right,Cn.right),Cn.bottom=Fi(gi.bottom,Cn.bottom),Cn.left=mi(gi.left,Cn.left),Cn},ao(bt,Ls,Sn));return $n.width=$n.right-$n.left,$n.height=$n.bottom-$n.top,$n.x=$n.left,$n.y=$n.top,$n}(Ti(Zt)?Zt:Zt.contextElement||ws(q.elements.popper),Ne,Be,be),Ct=Bi(q.elements.reference),Jt=oo({reference:Ct,element:_t,placement:le}),mn=nl(Object.assign({},_t,Jt)),rn=vt===Zs?mn:Ct,qn={top:Et.top-rn.top+un.top,bottom:rn.bottom-Et.bottom+un.bottom,left:Et.left-rn.left+un.left,right:rn.right-Et.right+un.right},ar=q.modifiersData.offset;if(vt===Zs&&ar){var at=ar[le];Object.keys(qn).forEach(function(bt){var sn=[Wt,Tn].indexOf(bt)>=0?1:-1,ri=[Pn,Tn].indexOf(bt)>=0?"y":"x";qn[bt]+=at[ri]*sn})}return qn}function lo(q,_){_===void 0&&(_={});var M=_,Q=M.placement,le=M.boundary,ce=M.rootBoundary,be=M.padding,De=M.flipVariations,Ne=M.allowedAutoPlacements,$e=Ne===void 0?pr:Ne,Be=zi(Q),Ue=Be?De?Vi:Vi.filter(function(it){return zi(it)===Be}):Ur,vt=Ue.filter(function(it){return $e.indexOf(it)>=0});vt.length===0&&(vt=Ue);var et=vt.reduce(function(it,st){return it[st]=ti(q,{placement:st,boundary:le,rootBoundary:ce,padding:be})[Fr(st)],it},{});return Object.keys(et).sort(function(it,st){return et[it]-et[st]})}const Ri={name:"flip",enabled:!0,phase:"main",fn:function(q){var _=q.state,M=q.options,Q=q.name;if(!_.modifiersData[Q]._skip){for(var le=M.mainAxis,ce=le===void 0||le,be=M.altAxis,De=be===void 0||be,Ne=M.fallbackPlacements,$e=M.padding,Be=M.boundary,Ue=M.rootBoundary,vt=M.altBoundary,et=M.flipVariations,it=et===void 0||et,st=M.allowedAutoPlacements,dt=_.options.placement,un=Fr(dt),dn=Ne||(un!==dt&&it?function(Cn){if(Fr(Cn)===Qs)return[];var jt=Sa(Cn);return[os(Cn),jt,os(jt)]}(dt):[Sa(dt)]),_t=[dt].concat(dn).reduce(function(Cn,jt){return Cn.concat(Fr(jt)===Qs?lo(_,{placement:jt,boundary:Be,rootBoundary:Ue,padding:$e,flipVariations:it,allowedAutoPlacements:st}):jt)},[]),Zt=_.rects.reference,Et=_.rects.popper,Ct=new Map,Jt=!0,mn=_t[0],rn=0;rn<_t.length;rn++){var qn=_t[rn],ar=Fr(qn),at=zi(qn)===Zr,bt=[Pn,Tn].indexOf(ar)>=0,sn=bt?"width":"height",ri=ti(_,{placement:qn,boundary:Be,rootBoundary:Ue,altBoundary:vt,padding:$e}),Sn=bt?at?Wt:fr:at?Tn:Pn;Zt[sn]>Et[sn]&&(Sn=Sa(Sn));var qr=Sa(Sn),Ii=[];if(ce&&Ii.push(ri[ar]<=0),De&&Ii.push(ri[Sn]<=0,ri[qr]<=0),Ii.every(function(Cn){return Cn})){mn=qn,Jt=!1;break}Ct.set(qn,Ii)}if(Jt)for(var Ls=function(Cn){var jt=_t.find(function(gi){var Os=Ct.get(gi);if(Os)return Os.slice(0,Cn).every(function(kc){return kc})});if(jt)return mn=jt,"break"},$n=it?3:1;$n>0&&Ls($n)!=="break";$n--);_.placement!==mn&&(_.modifiersData[Q]._skip=!0,_.placement=mn,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mc(q,_,M){return M===void 0&&(M={x:0,y:0}),{top:q.top-_.height-M.y,right:q.right-_.width+M.x,bottom:q.bottom-_.height+M.y,left:q.left-_.width-M.x}}function mu(q){return[Pn,Wt,Tn,fr].some(function(_){return q[_]>=0})}const Ca={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(q){var _=q.state,M=q.name,Q=_.rects.reference,le=_.rects.popper,ce=_.modifiersData.preventOverflow,be=ti(_,{elementContext:"reference"}),De=ti(_,{altBoundary:!0}),Ne=mc(be,Q),$e=mc(De,le,ce),Be=mu(Ne),Ue=mu($e);_.modifiersData[M]={referenceClippingOffsets:Ne,popperEscapeOffsets:$e,isReferenceHidden:Be,hasPopperEscaped:Ue},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":Be,"data-popper-escaped":Ue})}},co={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(q){var _=q.state,M=q.options,Q=q.name,le=M.offset,ce=le===void 0?[0,0]:le,be=pr.reduce(function(Be,Ue){return Be[Ue]=function(vt,et,it){var st=Fr(vt),dt=[fr,Pn].indexOf(st)>=0?-1:1,un=typeof it=="function"?it(Object.assign({},et,{placement:vt})):it,dn=un[0],_t=un[1];return dn=dn||0,_t=(_t||0)*dt,[fr,Wt].indexOf(st)>=0?{x:_t,y:dn}:{x:dn,y:_t}}(Ue,_.rects,ce),Be},{}),De=be[_.placement],Ne=De.x,$e=De.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=Ne,_.modifiersData.popperOffsets.y+=$e),_.modifiersData[Q]=be}},uo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(q){var _=q.state,M=q.name;_.modifiersData[M]=oo({reference:_.rects.reference,element:_.rects.popper,placement:_.placement})},data:{}},ho={name:"preventOverflow",enabled:!0,phase:"main",fn:function(q){var _=q.state,M=q.options,Q=q.name,le=M.mainAxis,ce=le===void 0||le,be=M.altAxis,De=be!==void 0&&be,Ne=M.boundary,$e=M.rootBoundary,Be=M.altBoundary,Ue=M.padding,vt=M.tether,et=vt===void 0||vt,it=M.tetherOffset,st=it===void 0?0:it,dt=ti(_,{boundary:Ne,rootBoundary:$e,padding:Ue,altBoundary:Be}),un=Fr(_.placement),dn=zi(_.placement),_t=!dn,Zt=is(un),Et=Zt==="x"?"y":"x",Ct=_.modifiersData.popperOffsets,Jt=_.rects.reference,mn=_.rects.popper,rn=typeof st=="function"?st(Object.assign({},_.rects,{placement:_.placement})):st,qn=typeof rn=="number"?{mainAxis:rn,altAxis:rn}:Object.assign({mainAxis:0,altAxis:0},rn),ar=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,at={x:0,y:0};if(Ct){if(ce){var bt,sn=Zt==="y"?Pn:fr,ri=Zt==="y"?Tn:Wt,Sn=Zt==="y"?"height":"width",qr=Ct[Zt],Ii=qr+dt[sn],Ls=qr-dt[ri],$n=et?-mn[Sn]/2:0,Cn=dn===Zr?Jt[Sn]:mn[Sn],jt=dn===Zr?-mn[Sn]:-Jt[Sn],gi=_.elements.arrow,Os=et&&gi?Jo(gi):{width:0,height:0},kc=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Eh=kc[sn],kp=kc[ri],gl=xi(0,Jt[Sn],Os[Sn]),Th=_t?Jt[Sn]/2-$n-gl-Eh-qn.mainAxis:Cn-gl-Eh-qn.mainAxis,Sh=_t?-Jt[Sn]/2+$n+gl+kp+qn.mainAxis:jt+gl+kp+qn.mainAxis,$r=_.elements.arrow&&Br(_.elements.arrow),or=$r?Zt==="y"?$r.clientTop||0:$r.clientLeft||0:0,ju=(bt=ar==null?void 0:ar[Zt])!=null?bt:0,Ic=qr+Sh-ju,Lc=xi(et?Fi(Ii,qr+Th-ju-or):Ii,qr,et?mi(Ls,Ic):Ls);Ct[Zt]=Lc,at[Zt]=Lc-qr}if(De){var Uu,la=Zt==="x"?Pn:fr,Vu=Zt==="x"?Tn:Wt,ca=Ct[Et],vl=Et==="y"?"height":"width",Ch=ca+dt[la],xh=ca-dt[Vu],Fu=[Pn,fr].indexOf(un)!==-1,Ah=(Uu=ar==null?void 0:ar[Et])!=null?Uu:0,Dh=Fu?Ch:ca-Jt[vl]-mn[vl]-Ah+qn.altAxis,Rh=Fu?ca+Jt[vl]+mn[vl]-Ah-qn.altAxis:xh,Bu=et&&Fu?function(Ip,$v,zu){var Mh=xi(Ip,$v,zu);return Mh>zu?zu:Mh}(Dh,ca,Rh):xi(et?Dh:Ch,ca,et?Rh:xh);Ct[Et]=Bu,at[Et]=Bu-ca}_.modifiersData[Q]=at}},requiresIfExists:["offset"]};function gu(q,_,M){M===void 0&&(M=!1);var Q,le,ce=pi(_),be=pi(_)&&function(Ue){var vt=Ue.getBoundingClientRect(),et=Qt(vt.width)/Ue.offsetWidth||1,it=Qt(vt.height)/Ue.offsetHeight||1;return et!==1||it!==1}(_),De=ws(_),Ne=Bi(q,be,M),$e={scrollLeft:0,scrollTop:0},Be={x:0,y:0};return(ce||!ce&&!M)&&((Jr(_)!=="body"||Xt(De))&&($e=(Q=_)!==Dr(Q)&&pi(Q)?{scrollLeft:(le=Q).scrollLeft,scrollTop:le.scrollTop}:io(Q)),pi(_)?((Be=Bi(_,!0)).x+=_.clientLeft,Be.y+=_.clientTop):De&&(Be.x=ir(De))),{x:Ne.left+$e.scrollLeft-Be.x,y:Ne.top+$e.scrollTop-Be.y,width:Ne.width,height:Ne.height}}function rl(q){var _=new Map,M=new Set,Q=[];function le(ce){M.add(ce.name),[].concat(ce.requires||[],ce.requiresIfExists||[]).forEach(function(be){if(!M.has(be)){var De=_.get(be);De&&le(De)}}),Q.push(ce)}return q.forEach(function(ce){_.set(ce.name,ce)}),q.forEach(function(ce){M.has(ce.name)||le(ce)}),Q}var vu={placement:"bottom",modifiers:[],strategy:"absolute"};function il(){for(var q=arguments.length,_=new Array(q),M=0;M<q;M++)_[M]=arguments[M];return!_.some(function(Q){return!(Q&&typeof Q.getBoundingClientRect=="function")})}function Cs(q){q===void 0&&(q={});var _=q,M=_.defaultModifiers,Q=M===void 0?[]:M,le=_.defaultOptions,ce=le===void 0?vu:le;return function(be,De,Ne){Ne===void 0&&(Ne=ce);var $e,Be,Ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},vu,ce),modifiersData:{},elements:{reference:be,popper:De},attributes:{},styles:{}},vt=[],et=!1,it={state:Ue,setOptions:function(dt){var un=typeof dt=="function"?dt(Ue.options):dt;st(),Ue.options=Object.assign({},ce,Ue.options,un),Ue.scrollParents={reference:Ti(be)?ls(be):be.contextElement?ls(be.contextElement):[],popper:ls(De)};var dn,_t,Zt=function(Et){var Ct=rl(Et);return pu.reduce(function(Jt,mn){return Jt.concat(Ct.filter(function(rn){return rn.phase===mn}))},[])}((dn=[].concat(Q,Ue.options.modifiers),_t=dn.reduce(function(Et,Ct){var Jt=Et[Ct.name];return Et[Ct.name]=Jt?Object.assign({},Jt,Ct,{options:Object.assign({},Jt.options,Ct.options),data:Object.assign({},Jt.data,Ct.data)}):Ct,Et},{}),Object.keys(_t).map(function(Et){return _t[Et]})));return Ue.orderedModifiers=Zt.filter(function(Et){return Et.enabled}),Ue.orderedModifiers.forEach(function(Et){var Ct=Et.name,Jt=Et.options,mn=Jt===void 0?{}:Jt,rn=Et.effect;if(typeof rn=="function"){var qn=rn({state:Ue,name:Ct,instance:it,options:mn});vt.push(qn||function(){})}}),it.update()},forceUpdate:function(){if(!et){var dt=Ue.elements,un=dt.reference,dn=dt.popper;if(il(un,dn)){Ue.rects={reference:gu(un,Br(dn),Ue.options.strategy==="fixed"),popper:Jo(dn)},Ue.reset=!1,Ue.placement=Ue.options.placement,Ue.orderedModifiers.forEach(function(rn){return Ue.modifiersData[rn.name]=Object.assign({},rn.data)});for(var _t=0;_t<Ue.orderedModifiers.length;_t++)if(Ue.reset!==!0){var Zt=Ue.orderedModifiers[_t],Et=Zt.fn,Ct=Zt.options,Jt=Ct===void 0?{}:Ct,mn=Zt.name;typeof Et=="function"&&(Ue=Et({state:Ue,options:Jt,name:mn,instance:it})||Ue)}else Ue.reset=!1,_t=-1}}},update:($e=function(){return new Promise(function(dt){it.forceUpdate(),dt(Ue)})},function(){return Be||(Be=new Promise(function(dt){Promise.resolve().then(function(){Be=void 0,dt($e())})})),Be}),destroy:function(){st(),et=!0}};if(!il(be,De))return it;function st(){vt.forEach(function(dt){return dt()}),vt=[]}return it.setOptions(Ne).then(function(dt){!et&&Ne.onFirstUpdate&&Ne.onFirstUpdate(dt)}),it}}var yu=Cs(),_u=Cs({defaultModifiers:[Ts,uo,na,ei]}),fo=Cs({defaultModifiers:[Ts,uo,na,ei,co,Ri,ho,pc,Ca]});const xa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Xo,afterRead:bs,afterWrite:Zo,applyStyles:ei,arrow:pc,auto:Qs,basePlacements:Ur,beforeMain:to,beforeRead:Ta,beforeWrite:ro,bottom:Tn,clippingParents:hc,computeStyles:na,createPopper:fo,createPopperBase:yu,createPopperLite:_u,detectOverflow:ti,end:Ks,eventListeners:Ts,flip:Ri,hide:Ca,left:fr,main:no,modifierPhases:pu,offset:co,placements:pr,popper:Zs,popperGenerator:Cs,popperOffsets:uo,preventOverflow:ho,read:fc,reference:Js,right:Wt,start:Zr,top:Pn,variationPlacements:Vi,viewport:Xs,write:Vr},Symbol.toStringTag,{value:"Module"})),gc="dropdown",Hi=".bs.dropdown",sl=".data-api",vc="ArrowUp",xs="ArrowDown",bu=`hide${Hi}`,wu=`hidden${Hi}`,Eu=`show${Hi}`,Tu=`shown${Hi}`,po=`click${Hi}${sl}`,zr=`keydown${Hi}${sl}`,Su=`keyup${Hi}${sl}`,ia="show",Hr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${Hr}.${ia}`,A=".dropdown-menu",O=D()?"top-end":"top-start",K=D()?"top-start":"top-end",he=D()?"bottom-end":"bottom-start",_e=D()?"bottom-start":"bottom-end",Oe=D()?"left-start":"right-start",Ht=D()?"right-start":"left-start",mr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _n extends we{constructor(_,M){super(_,M),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,A)[0]||me.prev(this._element,A)[0]||me.findOne(A,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mr}static get DefaultType(){return qt}static get NAME(){return gc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!L.trigger(this._element,Eu,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const M of[].concat(...document.body.children))L.on(M,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ia),this._element.classList.add(ia),L.trigger(this._element,Tu,_)}}hide(){if(p(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!L.trigger(this._element,bu,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))L.off(M,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(ia),this._element.classList.remove(ia),this._element.setAttribute("aria-expanded","false"),oe.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,wu,_)}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!u(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${gc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(xa===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:u(this._config.reference)?_=d(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const M=this._getPopperConfig();this._popper=fo(_,this._menu,M)}_isShown(){return this._menu.classList.contains(ia)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return Oe;if(_.classList.contains("dropstart"))return Ht;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const M=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?M?K:O:M?_e:he}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(M=>Number.parseInt(M,10)):typeof _=="function"?M=>_(M,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(oe.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...Y(this._config.popperConfig,[_])}}_selectMenuItem({key:_,target:M}){const Q=me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(le=>f(le));Q.length&&z(Q,M,_===xs,!Q.includes(M)).focus()}static jQueryInterface(_){return this.each(function(){const M=_n.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0)throw new TypeError(`No method named "${_}"`);M[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const M=me.find(m);for(const Q of M){const le=_n.getInstance(Q);if(!le||le._config.autoClose===!1)continue;const ce=_.composedPath(),be=ce.includes(le._menu);if(ce.includes(le._element)||le._config.autoClose==="inside"&&!be||le._config.autoClose==="outside"&&be||le._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const De={relatedTarget:le._element};_.type==="click"&&(De.clickEvent=_),le._completeHide(De)}}static dataApiKeydownHandler(_){const M=/input|textarea/i.test(_.target.tagName),Q=_.key==="Escape",le=[vc,xs].includes(_.key);if(!le&&!Q||M&&!Q)return;_.preventDefault();const ce=this.matches(Hr)?this:me.prev(this,Hr)[0]||me.next(this,Hr)[0]||me.findOne(Hr,_.delegateTarget.parentNode),be=_n.getOrCreateInstance(ce);if(le)return _.stopPropagation(),be.show(),void be._selectMenuItem(_);be._isShown()&&(_.stopPropagation(),be.hide(),ce.focus())}}L.on(document,zr,Hr,_n.dataApiKeydownHandler),L.on(document,zr,A,_n.dataApiKeydownHandler),L.on(document,po,_n.clearMenus),L.on(document,Su,_n.clearMenus),L.on(document,po,Hr,function(q){q.preventDefault(),_n.getOrCreateInstance(this).toggle()}),k(_n);const sr="backdrop",As="show",Er=`mousedown.bs.${sr}`,Ds={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},yc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _c extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return Ds}static get DefaultType(){return yc}static get NAME(){return sr}show(_){if(!this._config.isVisible)return void Y(_);this._append();const M=this._getElement();this._config.isAnimated&&b(M),M.classList.add(As),this._emulateAnimation(()=>{Y(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(As),this._emulateAnimation(()=>{this.dispose(),Y(_)})):Y(_)}dispose(){this._isAppended&&(L.off(this._element,Er),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=d(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),L.on(_,Er,()=>{Y(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){$(_,this._getElement(),this._config.isAnimated)}}const bc=".bs.focustrap",dp=`focusin${bc}`,Jd=`keydown.tab${bc}`,Cu="backward",hp={autofocus:!0,trapElement:null},fp={autofocus:"boolean",trapElement:"element"};class eh extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hp}static get DefaultType(){return fp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,bc),L.on(document,dp,_=>this._handleFocusin(_)),L.on(document,Jd,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,bc))}_handleFocusin(_){const{trapElement:M}=this._config;if(_.target===document||_.target===M||M.contains(_.target))return;const Q=me.focusableChildren(M);Q.length===0?M.focus():this._lastTabNavDirection===Cu?Q[Q.length-1].focus():Q[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?Cu:"forward")}}const pp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mp=".sticky-top",xu="padding-right",gp="margin-right";class th{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xu,M=>M+_),this._setElementAttributes(pp,xu,M=>M+_),this._setElementAttributes(mp,gp,M=>M-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xu),this._resetElementAttributes(pp,xu),this._resetElementAttributes(mp,gp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,M,Q){const le=this.getWidth();this._applyManipulationCallback(_,ce=>{if(ce!==this._element&&window.innerWidth>ce.clientWidth+le)return;this._saveInitialAttribute(ce,M);const be=window.getComputedStyle(ce).getPropertyValue(M);ce.style.setProperty(M,`${Q(Number.parseFloat(be))}px`)})}_saveInitialAttribute(_,M){const Q=_.style.getPropertyValue(M);Q&&oe.setDataAttribute(_,M,Q)}_resetElementAttributes(_,M){this._applyManipulationCallback(_,Q=>{const le=oe.getDataAttribute(Q,M);le!==null?(oe.removeDataAttribute(Q,M),Q.style.setProperty(M,le)):Q.style.removeProperty(M)})}_applyManipulationCallback(_,M){if(u(_))M(_);else for(const Q of me.find(_,this._element))M(Q)}}const Vn=".bs.modal",wc=`hide${Vn}`,vp=`hidePrevented${Vn}`,nh=`hidden${Vn}`,rh=`show${Vn}`,yp=`shown${Vn}`,ih=`resize${Vn}`,Bv=`click.dismiss${Vn}`,al=`mousedown.dismiss${Vn}`,sh=`keydown.dismiss${Vn}`,Ec=`click${Vn}.data-api`,Au="modal-open",ah="show",sa="modal-static",ol={backdrop:!0,focus:!0,keyboard:!0},oh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Aa extends we{constructor(_,M){super(_,M),this._dialog=me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new th,this._addEventListeners()}static get Default(){return ol}static get DefaultType(){return oh}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||L.trigger(this._element,rh,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Au),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,wc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ah),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){L.off(window,Vn),L.off(this._dialog,Vn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _c({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new eh({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const M=me.findOne(".modal-body",this._dialog);M&&(M.scrollTop=0),b(this._element),this._element.classList.add(ah),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,yp,{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,sh,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),L.on(window,ih,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,al,_=>{L.one(this._element,Bv,M=>{this._element===_.target&&this._element===M.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Au),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,nh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,vp).defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;M==="hidden"||this._element.classList.contains(sa)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(sa),this._queueCallback(()=>{this._element.classList.remove(sa),this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),Q=M>0;if(Q&&!_){const le=D()?"paddingLeft":"paddingRight";this._element.style[le]=`${M}px`}if(!Q&&_){const le=D()?"paddingRight":"paddingLeft";this._element.style[le]=`${M}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,M){return this.each(function(){const Q=Aa.getOrCreateInstance(this,_);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_](M)}})}}L.on(document,Ec,'[data-bs-toggle="modal"]',function(q){const _=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&q.preventDefault(),L.one(_,rh,Q=>{Q.defaultPrevented||L.one(_,nh,()=>{f(this)&&this.focus()})});const M=me.findOne(".modal.show");M&&Aa.getInstance(M).hide(),Aa.getOrCreateInstance(_).toggle(this)}),Fe(Aa),k(Aa);const ni=".bs.offcanvas",lh=".data-api",_p=`load${ni}${lh}`,ch="show",bp="showing",wp="hiding",Ep=".offcanvas.show",Tp=`show${ni}`,Sp=`shown${ni}`,uh=`hide${ni}`,qi=`hidePrevented${ni}`,dh=`hidden${ni}`,$i=`resize${ni}`,Yi=`click${ni}${lh}`,ll=`keydown.dismiss${ni}`,hh={backdrop:!0,keyboard:!0,scroll:!1},Du={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gi extends we{constructor(_,M){super(_,M),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hh}static get DefaultType(){return Du}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||L.trigger(this._element,Tp,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new th().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(bp),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ch),this._element.classList.remove(bp),L.trigger(this._element,Sp,{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,uh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wp),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ch,wp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new th().reset(),L.trigger(this._element,dh)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new _c({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():L.trigger(this._element,qi)}:null})}_initializeFocusTrap(){return new eh({trapElement:this._element})}_addEventListeners(){L.on(this._element,ll,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():L.trigger(this._element,qi))})}static jQueryInterface(_){return this.each(function(){const M=Gi.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_](this)}})}}L.on(document,Yi,'[data-bs-toggle="offcanvas"]',function(q){const _=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),p(this))return;L.one(_,dh,()=>{f(this)&&this.focus()});const M=me.findOne(Ep);M&&M!==_&&Gi.getInstance(M).hide(),Gi.getOrCreateInstance(_).toggle(this)}),L.on(window,_p,()=>{for(const q of me.find(Ep))Gi.getOrCreateInstance(q).show()}),L.on(window,$i,()=>{for(const q of me.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(q).position!=="fixed"&&Gi.getOrCreateInstance(q).hide()}),Fe(Gi),k(Gi);const Ru={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Cp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Mu=(q,_)=>{const M=q.nodeName.toLowerCase();return _.includes(M)?!cl.has(M)||!!Cp.test(q.nodeValue):_.filter(Q=>Q instanceof RegExp).some(Q=>Q.test(M))},ul={allowList:Ru,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},zv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Mi={entry:"(string|element|function|null)",selector:"(string|element)"};class fh extends Z{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return ul}static get DefaultType(){return zv}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[le,ce]of Object.entries(this._config.content))this._setContent(_,ce,le);const M=_.children[0],Q=this._resolvePossibleFunction(this._config.extraClass);return Q&&M.classList.add(...Q.split(" ")),M}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[M,Q]of Object.entries(_))super._typeCheckConfig({selector:M,entry:Q},Mi)}_setContent(_,M,Q){const le=me.findOne(Q,_);le&&((M=this._resolvePossibleFunction(M))?u(M)?this._putElementInTemplate(d(M),le):this._config.html?le.innerHTML=this._maybeSanitize(M):le.textContent=M:le.remove())}_maybeSanitize(_){return this._config.sanitize?function(M,Q,le){if(!M.length)return M;if(le&&typeof le=="function")return le(M);const ce=new window.DOMParser().parseFromString(M,"text/html"),be=[].concat(...ce.body.querySelectorAll("*"));for(const De of be){const Ne=De.nodeName.toLowerCase();if(!Object.keys(Q).includes(Ne)){De.remove();continue}const $e=[].concat(...De.attributes),Be=[].concat(Q["*"]||[],Q[Ne]||[]);for(const Ue of $e)Mu(Ue,Be)||De.removeAttribute(Ue.nodeName)}return ce.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return Y(_,[this])}_putElementInTemplate(_,M){if(this._config.html)return M.innerHTML="",void M.append(_);M.textContent=_.textContent}}const aa=new Set(["sanitize","allowList","sanitizeFn"]),ku="fade",mo="show",Da=".modal",Iu="hide.bs.modal",go="hover",Ra="focus",dl={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Lu={allowList:Ru,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ou={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tr extends we{constructor(_,M){if(xa===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,M),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Lu}static get DefaultType(){return Ou}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(Da),Iu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=L.trigger(this._element,this.constructor.eventName("show")),M=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!M)return;this._disposePopper();const Q=this._getTipElement();this._element.setAttribute("aria-describedby",Q.getAttribute("id"));const{container:le}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(le.append(Q),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Q),Q.classList.add(mo),"ontouchstart"in document.documentElement)for(const ce of[].concat(...document.body.children))L.on(ce,"mouseover",v);this._queueCallback(()=>{L.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(mo),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))L.off(_,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[Ra]=!1,this._activeTrigger[go]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const M=this._getTemplateFactory(_).toHtml();if(!M)return null;M.classList.remove(ku,mo),M.classList.add(`bs-${this.constructor.NAME}-auto`);const Q=(le=>{do le+=Math.floor(1e6*Math.random());while(document.getElementById(le));return le})(this.constructor.NAME).toString();return M.setAttribute("id",Q),this._isAnimated()&&M.classList.add(ku),M}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new fh({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ku)}_isShown(){return this.tip&&this.tip.classList.contains(mo)}_createPopper(_){const M=Y(this._config.placement,[this,_,this._element]),Q=dl[M.toUpperCase()];return fo(this._element,_,this._getPopperConfig(Q))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(M=>Number.parseInt(M,10)):typeof _=="function"?M=>_(M,this._element):_}_resolvePossibleFunction(_){return Y(_,[this._element])}_getPopperConfig(_){const M={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Q=>{this._getTipElement().setAttribute("data-popper-placement",Q.state.placement)}}]};return{...M,...Y(this._config.popperConfig,[M])}}_setListeners(){const _=this._config.trigger.split(" ");for(const M of _)if(M==="click")L.on(this._element,this.constructor.eventName("click"),this._config.selector,Q=>{this._initializeOnDelegatedTarget(Q).toggle()});else if(M!=="manual"){const Q=M===go?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),le=M===go?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,Q,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusin"?Ra:go]=!0,be._enter()}),L.on(this._element,le,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusout"?Ra:go]=be._element.contains(ce.relatedTarget),be._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(Da),Iu,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,M){clearTimeout(this._timeout),this._timeout=setTimeout(_,M)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const M=oe.getDataAttributes(this._element);for(const Q of Object.keys(M))aa.has(Q)&&delete M[Q];return _={...M,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:d(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[M,Q]of Object.entries(this._config))this.constructor.Default[M]!==Q&&(_[M]=Q);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const M=Tr.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0)throw new TypeError(`No method named "${_}"`);M[_]()}})}}k(Tr);const Wi={...Tr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vo={...Tr.DefaultType,content:"(null|string|element|function)"};class Qi extends Tr{static get Default(){return Wi}static get DefaultType(){return vo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const M=Qi.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0)throw new TypeError(`No method named "${_}"`);M[_]()}})}}k(Qi);const cs=".bs.scrollspy",yo=`activate${cs}`,ph=`click${cs}`,mh=`load${cs}.data-api`,Ma="active",Rr="[href]",Hn=".nav-link",nn=`${Hn}, .nav-item > ${Hn}, .list-group-item`,_o={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class bo extends we{constructor(_,M){super(_,M),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return _o}static get DefaultType(){return Rs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=d(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(M=>Number.parseFloat(M))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,ph),L.on(this._config.target,ph,Rr,_=>{const M=this._observableSections.get(_.target.hash);if(M){_.preventDefault();const Q=this._rootElement||window,le=M.offsetTop-this._element.offsetTop;if(Q.scrollTo)return void Q.scrollTo({top:le,behavior:"smooth"});Q.scrollTop=le}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(M=>this._observerCallback(M),_)}_observerCallback(_){const M=be=>this._targetLinks.get(`#${be.target.id}`),Q=be=>{this._previousScrollData.visibleEntryTop=be.target.offsetTop,this._process(M(be))},le=(this._rootElement||document.documentElement).scrollTop,ce=le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=le;for(const be of _){if(!be.isIntersecting){this._activeTarget=null,this._clearActiveClass(M(be));continue}const De=be.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ce&&De){if(Q(be),!le)return}else ce||De||Q(be)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=me.find(Rr,this._config.target);for(const M of _){if(!M.hash||p(M))continue;const Q=me.findOne(decodeURI(M.hash),this._element);f(Q)&&(this._targetLinks.set(decodeURI(M.hash),M),this._observableSections.set(M.hash,Q))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(Ma),this._activateParents(_),L.trigger(this._element,yo,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))me.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(Ma);else for(const M of me.parents(_,".nav, .list-group"))for(const Q of me.prev(M,nn))Q.classList.add(Ma)}_clearActiveClass(_){_.classList.remove(Ma);const M=me.find(`${Rr}.${Ma}`,_);for(const Q of M)Q.classList.remove(Ma)}static jQueryInterface(_){return this.each(function(){const M=bo.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}})}}L.on(window,mh,()=>{for(const q of me.find('[data-bs-spy="scroll"]'))bo.getOrCreateInstance(q)}),k(bo);const ki=".bs.tab",xp=`hide${ki}`,Ap=`hidden${ki}`,Tc=`show${ki}`,Sc=`shown${ki}`,Dp=`click${ki}`,Cc=`keydown${ki}`,gh=`load${ki}`,wo="ArrowLeft",Ms="ArrowRight",ka="ArrowUp",ks="ArrowDown",xc="Home",Nu="End",us="active",Ac="fade",oa="show",Mr=".dropdown-toggle",hl=`:not(${Mr})`,vh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',yh=`.nav-link${hl}, .list-group-item${hl}, [role="tab"]${hl}, ${vh}`,Hv=`.${us}[data-bs-toggle="tab"], .${us}[data-bs-toggle="pill"], .${us}[data-bs-toggle="list"]`;class Eo extends we{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,Cc,M=>this._keydown(M)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const M=this._getActiveElem(),Q=M?L.trigger(M,xp,{relatedTarget:_}):null;L.trigger(_,Tc,{relatedTarget:M}).defaultPrevented||Q&&Q.defaultPrevented||(this._deactivate(M,_),this._activate(_,M))}_activate(_,M){_&&(_.classList.add(us),this._activate(me.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),L.trigger(_,Sc,{relatedTarget:M})):_.classList.add(oa)},_,_.classList.contains(Ac)))}_deactivate(_,M){_&&(_.classList.remove(us),_.blur(),this._deactivate(me.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),L.trigger(_,Ap,{relatedTarget:M})):_.classList.remove(oa)},_,_.classList.contains(Ac)))}_keydown(_){if(![wo,Ms,ka,ks,xc,Nu].includes(_.key))return;_.stopPropagation(),_.preventDefault();const M=this._getChildren().filter(le=>!p(le));let Q;if([xc,Nu].includes(_.key))Q=M[_.key===xc?0:M.length-1];else{const le=[Ms,ks].includes(_.key);Q=z(M,_.target,le,!0)}Q&&(Q.focus({preventScroll:!0}),Eo.getOrCreateInstance(Q).show())}_getChildren(){return me.find(yh,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,M){this._setAttributeIfNotExists(_,"role","tablist");for(const Q of M)this._setInitialAttributesOnChild(Q)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const M=this._elemIsActive(_),Q=this._getOuterElement(_);_.setAttribute("aria-selected",M),Q!==_&&this._setAttributeIfNotExists(Q,"role","presentation"),M||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const M=me.getElementFromSelector(_);M&&(this._setAttributeIfNotExists(M,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(M,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,M){const Q=this._getOuterElement(_);if(!Q.classList.contains("dropdown"))return;const le=(ce,be)=>{const De=me.findOne(ce,Q);De&&De.classList.toggle(be,M)};le(Mr,us),le(".dropdown-menu",oa),Q.setAttribute("aria-expanded",M)}_setAttributeIfNotExists(_,M,Q){_.hasAttribute(M)||_.setAttribute(M,Q)}_elemIsActive(_){return _.classList.contains(us)}_getInnerElement(_){return _.matches(yh)?_:me.findOne(yh,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const M=Eo.getOrCreateInstance(this);if(typeof _=="string"){if(M[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);M[_]()}})}}L.on(document,Dp,vh,function(q){["A","AREA"].includes(this.tagName)&&q.preventDefault(),p(this)||Eo.getOrCreateInstance(this).show()}),L.on(window,gh,()=>{for(const q of me.find(Hv))Eo.getOrCreateInstance(q)}),k(Eo);const In=".bs.toast",_h=`mouseover${In}`,Dc=`mouseout${In}`,Rc=`focusin${In}`,bh=`focusout${In}`,fl=`hide${In}`,pl=`hidden${In}`,qv=`show${In}`,Rp=`shown${In}`,Mp="hide",Mc="show",Is="showing",wh={animation:"boolean",autohide:"boolean",delay:"number"},Pu={animation:!0,autohide:!0,delay:5e3};class ml extends we{constructor(_,M){super(_,M),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pu}static get DefaultType(){return wh}static get NAME(){return"toast"}show(){L.trigger(this._element,qv).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Mp),b(this._element),this._element.classList.add(Mc,Is),this._queueCallback(()=>{this._element.classList.remove(Is),L.trigger(this._element,Rp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,fl).defaultPrevented||(this._element.classList.add(Is),this._queueCallback(()=>{this._element.classList.add(Mp),this._element.classList.remove(Is,Mc),L.trigger(this._element,pl)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Mc),super.dispose()}isShown(){return this._element.classList.contains(Mc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,M){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=M;break;case"focusin":case"focusout":this._hasKeyboardInteraction=M}if(M)return void this._clearTimeout();const Q=_.relatedTarget;this._element===Q||this._element.contains(Q)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,_h,_=>this._onInteraction(_,!0)),L.on(this._element,Dc,_=>this._onInteraction(_,!1)),L.on(this._element,Rc,_=>this._onInteraction(_,!0)),L.on(this._element,bh,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const M=ml.getOrCreateInstance(this,_);if(typeof _=="string"){if(M[_]===void 0)throw new TypeError(`No method named "${_}"`);M[_](this)}})}}return Fe(ml),k(ml),{Alert:Ce,Button:ke,Carousel:mt,Collapse:Ar,Dropdown:_n,Modal:Aa,Offcanvas:Gi,Popover:Qi,ScrollSpy:bo,Tab:Eo,Toast:ml,Tooltip:Tr}})}(tg)),tg.exports}EH();Fk.createRoot(document.getElementById("root")).render(S.jsx(ve.StrictMode,{children:S.jsx(bH,{})}));
