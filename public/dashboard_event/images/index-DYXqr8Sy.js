var mk=Object.defineProperty;var gk=(r,e,t)=>e in r?mk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var He=(r,e,t)=>gk(r,typeof e!="symbol"?e+"":e,t);function vk(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function m0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zy={exports:{}},Zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function yk(){if(h1)return Zh;h1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:a}}return Zh.Fragment=e,Zh.jsx=t,Zh.jsxs=t,Zh}var f1;function _k(){return f1||(f1=1,zy.exports=yk()),zy.exports}var x=_k(),Hy={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function bk(){if(p1)return Tt;p1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function D(O,re,oe){this.props=O,this.context=re,this.refs=M,this.updater=oe||b}D.prototype.isReactComponent={},D.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=D.prototype;function $(O,re,oe){this.props=O,this.context=re,this.refs=M,this.updater=oe||b}var Y=$.prototype=new L;Y.constructor=$,E(Y,D.prototype),Y.isPureReactComponent=!0;var z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function I(O,re,oe,ie,ue,Z){return oe=Z.ref,{$$typeof:r,type:O,key:re,ref:oe!==void 0?oe:null,props:Z}}function C(O,re){return I(O.type,re,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return re[oe]})}var P=/\/+/g;function F(O,re){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):re.toString(36)}function j(){}function X(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(j,j):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function J(O,re,oe,ie,ue){var Z=typeof O;(Z==="undefined"||Z==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Z){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case p:return we=O._init,J(we(O._payload),re,oe,ie,ue)}}if(we)return ue=ue(O),we=ie===""?"."+F(O,0):ie,z(ue)?(oe="",we!=null&&(oe=we.replace(P,"$&/")+"/"),J(ue,re,oe,"",function(Be){return Be})):ue!=null&&(S(ue)&&(ue=C(ue,oe+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+we)),re.push(ue)),1;we=0;var Pe=ie===""?".":ie+":";if(z(O))for(var me=0;me<O.length;me++)ie=O[me],Z=Pe+F(ie,me),we+=J(ie,re,oe,Z,ue);else if(me=v(O),typeof me=="function")for(O=me.call(O),me=0;!(ie=O.next()).done;)ie=ie.value,Z=Pe+F(ie,me++),we+=J(ie,re,oe,Z,ue);else if(Z==="object"){if(typeof O.then=="function")return J(X(O),re,oe,ie,ue);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function U(O,re,oe){if(O==null)return O;var ie=[],ue=0;return J(O,ie,"","",function(Z){return re.call(oe,Z,ue++)}),ie}function B(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ne(){}return Tt.Children={map:U,forEach:function(O,re,oe){U(O,function(){re.apply(this,arguments)},oe)},count:function(O){var re=0;return U(O,function(){re++}),re},toArray:function(O){return U(O,function(re){return re})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Tt.Component=D,Tt.Fragment=t,Tt.Profiler=i,Tt.PureComponent=$,Tt.StrictMode=n,Tt.Suspense=d,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return W.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cloneElement=function(O,re,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=E({},O.props),ue=O.key,Z=void 0;if(re!=null)for(we in re.ref!==void 0&&(Z=void 0),re.key!==void 0&&(ue=""+re.key),re)!H.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ie[we]=re[we]);var we=arguments.length-2;if(we===1)ie.children=oe;else if(1<we){for(var Pe=Array(we),me=0;me<we;me++)Pe[me]=arguments[me+2];ie.children=Pe}return I(O.type,ue,void 0,void 0,Z,ie)},Tt.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},Tt.createElement=function(O,re,oe){var ie,ue={},Z=null;if(re!=null)for(ie in re.key!==void 0&&(Z=""+re.key),re)H.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=re[ie]);var we=arguments.length-2;if(we===1)ue.children=oe;else if(1<we){for(var Pe=Array(we),me=0;me<we;me++)Pe[me]=arguments[me+2];ue.children=Pe}if(O&&O.defaultProps)for(ie in we=O.defaultProps,we)ue[ie]===void 0&&(ue[ie]=we[ie]);return I(O,Z,void 0,void 0,null,ue)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:c,render:O}},Tt.isValidElement=S,Tt.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:B}},Tt.memo=function(O,re){return{$$typeof:f,type:O,compare:re===void 0?null:re}},Tt.startTransition=function(O){var re=W.T,oe={};W.T=oe;try{var ie=O(),ue=W.S;ue!==null&&ue(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ne,ee)}catch(Z){ee(Z)}finally{W.T=re}},Tt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Tt.use=function(O){return W.H.use(O)},Tt.useActionState=function(O,re,oe){return W.H.useActionState(O,re,oe)},Tt.useCallback=function(O,re){return W.H.useCallback(O,re)},Tt.useContext=function(O){return W.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,re){return W.H.useDeferredValue(O,re)},Tt.useEffect=function(O,re,oe){var ie=W.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,re)},Tt.useId=function(){return W.H.useId()},Tt.useImperativeHandle=function(O,re,oe){return W.H.useImperativeHandle(O,re,oe)},Tt.useInsertionEffect=function(O,re){return W.H.useInsertionEffect(O,re)},Tt.useLayoutEffect=function(O,re){return W.H.useLayoutEffect(O,re)},Tt.useMemo=function(O,re){return W.H.useMemo(O,re)},Tt.useOptimistic=function(O,re){return W.H.useOptimistic(O,re)},Tt.useReducer=function(O,re,oe){return W.H.useReducer(O,re,oe)},Tt.useRef=function(O){return W.H.useRef(O)},Tt.useState=function(O){return W.H.useState(O)},Tt.useSyncExternalStore=function(O,re,oe){return W.H.useSyncExternalStore(O,re,oe)},Tt.useTransition=function(){return W.H.useTransition()},Tt.version="19.1.0",Tt}var m1;function g0(){return m1||(m1=1,Hy.exports=bk()),Hy.exports}var T=g0();const ve=m0(T),wk=vk({__proto__:null,default:ve},[T]);var qy={exports:{}},Jh={},Yy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function Ek(){return g1||(g1=1,function(r){function e(U,B){var ee=U.length;U.push(B);e:for(;0<ee;){var ne=ee-1>>>1,O=U[ne];if(0<i(O,B))U[ne]=B,U[ee]=O,ee=ne;else break e}}function t(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var B=U[0],ee=U.pop();if(ee!==B){U[0]=ee;e:for(var ne=0,O=U.length,re=O>>>1;ne<re;){var oe=2*(ne+1)-1,ie=U[oe],ue=oe+1,Z=U[ue];if(0>i(ie,ee))ue<O&&0>i(Z,ie)?(U[ne]=Z,U[ue]=ee,ne=ue):(U[ne]=ie,U[oe]=ee,ne=oe);else if(ue<O&&0>i(Z,ee))U[ne]=Z,U[ue]=ee,ne=ue;else break e}}return B}function i(U,B){var ee=U.sortIndex-B.sortIndex;return ee!==0?ee:U.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,b=!1,E=!1,M=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(U){for(var B=t(f);B!==null;){if(B.callback===null)n(f);else if(B.startTime<=U)n(f),B.sortIndex=B.expirationTime,e(d,B);else break;B=t(f)}}function W(U){if(M=!1,z(U),!E)if(t(d)!==null)E=!0,H||(H=!0,F());else{var B=t(f);B!==null&&J(W,B.startTime-U)}}var H=!1,I=-1,C=5,S=-1;function k(){return D?!0:!(r.unstable_now()-S<C)}function P(){if(D=!1,H){var U=r.unstable_now();S=U;var B=!0;try{e:{E=!1,M&&(M=!1,$(I),I=-1),b=!0;var ee=v;try{t:{for(z(U),m=t(d);m!==null&&!(m.expirationTime>U&&k());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,v=m.priorityLevel;var O=ne(m.expirationTime<=U);if(U=r.unstable_now(),typeof O=="function"){m.callback=O,z(U),B=!0;break t}m===t(d)&&n(d),z(U)}else n(d);m=t(d)}if(m!==null)B=!0;else{var re=t(f);re!==null&&J(W,re.startTime-U),B=!1}}break e}finally{m=null,v=ee,b=!1}B=void 0}}finally{B?F():H=!1}}}var F;if(typeof Y=="function")F=function(){Y(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=P,F=function(){X.postMessage(null)}}else F=function(){L(P,0)};function J(U,B){I=L(function(){U(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(U){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var ee=v;v=B;try{return U()}finally{v=ee}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=v;v=U;try{return B()}finally{v=ee}},r.unstable_scheduleCallback=function(U,B,ee){var ne=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ee+O,U={id:p++,callback:B,priorityLevel:U,startTime:ee,expirationTime:O,sortIndex:-1},ee>ne?(U.sortIndex=ee,e(f,U),t(d)===null&&U===t(f)&&(M?($(I),I=-1):M=!0,J(W,ee-ne))):(U.sortIndex=O,e(d,U),E||b||(E=!0,H||(H=!0,F()))),U},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(U){var B=v;return function(){var ee=v;v=B;try{return U.apply(this,arguments)}finally{v=ee}}}}($y)),$y}var v1;function Tk(){return v1||(v1=1,Yy.exports=Ek()),Yy.exports}var Wy={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function Sk(){if(y1)return ai;y1=1;var r=g0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ai.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},ai.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},ai.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},ai.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ai.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ai.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},ai.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ai.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},ai.requestFormReset=function(d){n.d.r(d)},ai.unstable_batchedUpdates=function(d,f){return d(f)},ai.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ai.useFormStatus=function(){return l.H.useHostTransitionStatus()},ai.version="19.1.0",ai}var _1;function wx(){if(_1)return Wy.exports;_1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wy.exports=Sk(),Wy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function Ck(){if(b1)return Jh;b1=1;var r=Tk(),e=g0(),t=wx();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,h=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return c(y),s;if(w===h)return c(y),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=y,h=w;else{for(var V=!1,G=y.child;G;){if(G===u){V=!0,u=y,h=w;break}if(G===h){V=!0,h=y,u=w;break}G=G.sibling}if(!V){for(G=w.child;G;){if(G===u){V=!0,u=w,h=y;break}if(G===h){V=!0,h=w,u=y;break}G=G.sibling}if(!V)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case W:return"Suspense";case H:return"SuspenseList";case S:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case Y:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return o=s.displayName||null,o!==null?o:X(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return X(s(o))}catch{}}return null}var J=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],O=-1;function re(s){return{current:s}}function oe(s){0>O||(s.current=ne[O],ne[O]=null,O--)}function ie(s,o){O++,ne[O]=s.current,s.current=o}var ue=re(null),Z=re(null),we=re(null),Pe=re(null);function me(s,o){switch(ie(we,o),ie(Z,s),ie(ue,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?BE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=BE(o),s=FE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(ue),ie(ue,s)}function Be(){oe(ue),oe(Z),oe(we)}function Le(s){s.memoizedState!==null&&ie(Pe,s);var o=ue.current,u=FE(o,s.type);o!==u&&(ie(Z,s),ie(ue,u))}function Te(s){Z.current===s&&(oe(ue),oe(Z)),Pe.current===s&&(oe(Pe),Wh._currentValue=ee)}var se=Object.prototype.hasOwnProperty,Ee=r.unstable_scheduleCallback,Ne=r.unstable_cancelCallback,ke=r.unstable_shouldYield,$e=r.unstable_requestPaint,Fe=r.unstable_now,ut=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,Wt=r.unstable_UserBlockingPriority,ct=r.unstable_NormalPriority,cn=r.unstable_LowPriority,Et=r.unstable_IdlePriority,We=r.log,bt=r.unstable_setDisableYieldValue,dt=null,ht=null;function Ct(s){if(typeof We=="function"&&bt(s),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(dt,s)}catch{}}var Nt=Math.clz32?Math.clz32:En,yn=Math.log,Gn=Math.LN2;function En(s){return s>>>=0,s===0?32:31-(yn(s)/Gn|0)|0}var Un=256,Hn=4194304;function Cn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hi(s,o,u){var h=s.pendingLanes;if(h===0)return 0;var y=0,w=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var G=h&134217727;return G!==0?(h=G&~w,h!==0?y=Cn(h):(V&=G,V!==0?y=Cn(V):u||(u=G&~s,u!==0&&(y=Cn(u))))):(G=h&~w,G!==0?y=Cn(G):V!==0?y=Cn(V):u||(u=h&~s,u!==0&&(y=Cn(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function ei(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ri(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var s=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),s}function vr(){var s=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),s}function jr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function jn(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sr(s,o,u,h,y,w){var V=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(u=V&~u;0<u;){var Ce=31-Nt(u),De=1<<Ce;G[Ce]=0,te[Ce]=-1;var ge=pe[Ce];if(ge!==null)for(pe[Ce]=null,Ce=0;Ce<ge.length;Ce++){var ye=ge[Ce];ye!==null&&(ye.lane&=-536870913)}u&=~De}h!==0&&Qn(s,h,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(V&~o))}function Qn(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Nt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function Sr(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-Nt(u),y=1<<h;y&o|s[h]&o&&(s[h]|=o),u&=~y}}function ni(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kn(){var s=B.p;return s!==0?s:(s=window.event,s===void 0?32:a1(s.type))}function Fo(s,o){var u=B.p;try{return B.p=s,o()}finally{B.p=u}}var Jt=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Jt,Kn="__reactProps$"+Jt,Mi="__reactContainer$"+Jt,Wa="__reactEvents$"+Jt,da="__reactListeners$"+Jt,Gi="__reactHandles$"+Jt,cc="__reactResources$"+Jt,Ps="__reactMarker$"+Jt;function ha(s){delete s[Ge],delete s[Kn],delete s[Wa],delete s[da],delete s[Gi]}function Us(s){var o=s[Ge];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Mi]||u[Ge]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=YE(s);s!==null;){if(u=s[Ge])return u;s=YE(s)}return o}s=u,u=s.parentNode}return null}function Vr(s){if(s=s[Ge]||s[Mi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function An(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function dn(s){var o=s[cc];return o||(o=s[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bt(s){s[Ps]=!0}var ar=new Set,js={};function Cr(s,o){Br(s,o),Br(s+"Capture",o)}function Br(s,o){for(js[s]=o,s=0;s<o.length;s++)ar.add(o[s])}var Vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Bs={};function Fs(s){return se.call(Bs,s)?!0:se.call(ou,s)?!1:Vs.test(s)?Bs[s]=!0:(ou[s]=!0,!1)}function zs(s,o,u){if(Fs(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function ki(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function or(s,o,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+h)}}var fa,lu;function cs(s){if(fa===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);fa=o&&o[1]||"",lu=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+s+lu}var Ga=!1;function Qa(s,o){if(!s||Ga)return"";Ga=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(ye){var ge=ye}Reflect.construct(s,[],De)}else{try{De.call()}catch(ye){ge=ye}s.call(De.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(De=s())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),V=w[0],G=w[1];if(V&&G){var te=V.split(`
`),pe=G.split(`
`);for(y=h=0;h<te.length&&!te[h].includes("DetermineComponentFrameRoot");)h++;for(;y<pe.length&&!pe[y].includes("DetermineComponentFrameRoot");)y++;if(h===te.length||y===pe.length)for(h=te.length-1,y=pe.length-1;1<=h&&0<=y&&te[h]!==pe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(te[h]!==pe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||te[h]!==pe[y]){var Ce=`
`+te[h].replace(" at new "," at ");return s.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",s.displayName)),Ce}while(1<=h&&0<=y);break}}}finally{Ga=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?cs(u):""}function zo(s){switch(s.tag){case 26:case 27:case 5:return cs(s.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return Qa(s.type,!1);case 11:return Qa(s.type.render,!1);case 1:return Qa(s.type,!0);case 31:return cs("Activity");default:return""}}function Ka(s){try{var o="";do o+=zo(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function xr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ho(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dc(s){var o=Ho(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(V){h=""+V,w.call(this,V)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(V){h=""+V},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fr(s){s._valueTracker||(s._valueTracker=dc(s))}function yr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Ho(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ri=/[\n"\\]/g;function Vn(s){return s.replace(ri,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zr(s,o,u,h,y,w,V,G){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),o!=null?V==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+xr(o)):s.value!==""+xr(o)&&(s.value=""+xr(o)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),o!=null?ii(s,V,xr(o)):u!=null?ii(s,V,xr(u)):h!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+xr(G):s.removeAttribute("name")}function Ar(s,o,u,h,y,w,V,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+xr(u):"",o=o!=null?""+xr(o):u,G||o===s.value||(s.value=o),s.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=G?s.checked:!!h,s.defaultChecked=!!h,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function ii(s,o,u){o==="number"&&fi(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Li(s,o,u,h){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&h&&(s[u].defaultSelected=!0)}else{for(u=""+xr(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Ft(s,o,u){if(o!=null&&(o=""+xr(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+xr(u):""}function Hs(s,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=xr(o),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function pi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(s,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,u):typeof u!="number"||u===0||Oi.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Yo(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&qo(s,y,h)}else for(var w in o)o.hasOwnProperty(w)&&qo(s,w,o[w])}function mi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(s){return ds.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var hs=null;function Dr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qi=null,gi=null;function $o(s){var o=Vr(s);if(o&&(s=o.stateNode)){var u=s[Kn]||null;e:switch(s=o.stateNode,o.type){case"input":if(zr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var y=h[Kn]||null;if(!y)throw Error(n(90));zr(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===s.form&&yr(h)}break e;case"textarea":Ft(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Li(s,!!u.multiple,o,!1)}}}var Ki=!1;function uu(s,o,u){if(Ki)return s(o,u);Ki=!0;try{var h=s(o);return h}finally{if(Ki=!1,(Qi!==null||gi!==null)&&(qp(),Qi&&(o=Qi,s=gi,gi=Qi=null,$o(o),s)))for(o=0;o<s.length;o++)$o(s[o])}}function Ii(s,o){var u=s.stateNode;if(u===null)return null;var h=u[Kn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=!1;if(Xi)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){vi=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{vi=!1}var yi=null,fs=null,$s=null;function pa(){if($s)return $s;var s,o=fs,u=o.length,h,y="value"in yi?yi.value:yi.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var V=u-s;for(h=1;h<=V&&o[u-h]===y[w-h];h++);return $s=y.slice(s,1<h?1-h:void 0)}function ps(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function Xa(){return!1}function Xn(s){function o(u,h,y,w,V){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(u=s[G],this[G]=u?u(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zi:Xa,this.isPropagationStopped=Xa,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Xn(zt),Ji=p({},zt,{view:0,detail:0}),Wo=Xn(Ji),Ja,eo,Hr,to=p({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hr&&(Hr&&s.type==="mousemove"?(Ja=s.screenX-Hr.screenX,eo=s.screenY-Hr.screenY):eo=Ja=0,Hr=s),Ja)},movementY:function(s){return"movementY"in s?s.movementY:eo}}),_i=Xn(to),cu=p({},to,{dataTransfer:0}),hc=Xn(cu),ma=p({},Ji,{relatedTarget:0}),no=Xn(ma),ro=p({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),io=Xn(ro),fc=p({},zt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Go=Xn(fc),pc=p({},zt,{data:0}),Qo=Xn(pc),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function so(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=gc[s])?!!o[s]:!1}function ga(){return so}var du=p({},Ji,{key:function(s){if(s.key){var o=ms[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ps(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(s){return s.type==="keypress"?ps(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ps(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ni=Xn(du),Ko=p({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=Xn(Ko),gs=p({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),vc=Xn(gs),yc=p({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=Xn(yc),bc=p({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Xn(bc),Rr=p({},zt,{newState:0,oldState:0}),wc=Xn(Rr),Ws=[9,13,27,32],Mr=Xi&&"CompositionEvent"in window,g=null;Xi&&"documentMode"in document&&(g=document.documentMode);var A=Xi&&"TextEvent"in window&&!g,N=Xi&&(!Mr||g&&8<g&&11>=g),K=" ",he=!1;function _e(s,o){switch(s){case"keyup":return Ws.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pt=!1;function lr(s,o){switch(s){case"compositionend":return Oe(o);case"keypress":return o.which!==32?null:(he=!0,K);case"textInput":return s=o.data,s===K&&he?null:s;default:return null}}function Ut(s,o){if(Pt)return s==="compositionend"||!Mr&&_e(s,o)?(s=pa(),$s=fs=yi=null,Pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return N&&o.locale!=="ko"?null:o.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!on[s.type]:o==="textarea"}function vs(s,o,u,h){Qi?gi?gi.push(h):gi=[h]:Qi=h,o=Kp(o,"onChange"),0<o.length&&(u=new Za("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var fr=null,ys=null;function fu(s){NE(s,0)}function pu(s){var o=An(s);if(yr(o))return s}function mu(s,o){if(s==="change")return o}var ap=!1;if(Xi){var Kd;if(Xi){var Ec="oninput"in document;if(!Ec){var op=document.createElement("div");op.setAttribute("oninput","return;"),Ec=typeof op.oninput=="function"}Kd=Ec}else Kd=!1;ap=Kd&&(!document.documentMode||9<document.documentMode)}function lp(){fr&&(fr.detachEvent("onpropertychange",Xd),ys=fr=null)}function Xd(s){if(s.propertyName==="value"&&pu(ys)){var o=[];vs(o,ys,s,Dr(s)),uu(fu,o)}}function up(s,o,u){s==="focusin"?(lp(),fr=o,ys=u,fr.attachEvent("onpropertychange",Xd)):s==="focusout"&&lp()}function cp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pu(ys)}function Tc(s,o){if(s==="click")return pu(o)}function dp(s,o){if(s==="input"||s==="change")return pu(o)}function Zd(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Dn=typeof Object.is=="function"?Object.is:Zd;function gu(s,o){if(Dn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!se.call(o,y)||!Dn(s[y],o[y]))return!1}return!0}function hp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Jd(s,o){var u=hp(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hp(u)}}function eh(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?eh(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function fp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=fi(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=fi(s.document)}return o}function th(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var kv=Xi&&"documentMode"in document&&11>=document.documentMode,Xo=null,nh=null,vu=null,Sc=!1;function rh(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sc||Xo==null||Xo!==fi(h)||(h=Xo,"selectionStart"in h&&th(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),vu&&gu(vu,h)||(vu=h,h=Kp(nh,"onSelect"),0<h.length&&(o=new Za("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Xo)))}function Gs(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Zo={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},ih={},va={};Xi&&(va=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function qr(s){if(ih[s])return ih[s];if(!Zo[s])return s;var o=Zo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in va)return ih[s]=o[u];return s}var sh=qr("animationend"),pp=qr("animationiteration"),ah=qr("animationstart"),mp=qr("transitionrun"),gp=qr("transitionstart"),vp=qr("transitioncancel"),yp=qr("transitionend"),_p=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Pi(s,o){_p.set(s,o),Cr(o,[s])}var lh=new WeakMap;function Ui(s,o){if(typeof s=="object"&&s!==null){var u=lh.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ka(o)},lh.set(s,o),o)}return{value:s,source:o,stack:Ka(o)}}var ji=[],Jo=0,uh=0;function Cc(){for(var s=Jo,o=uh=Jo=0;o<s;){var u=ji[o];ji[o++]=null;var h=ji[o];ji[o++]=null;var y=ji[o];ji[o++]=null;var w=ji[o];if(ji[o++]=null,h!==null&&y!==null){var V=h.pending;V===null?y.next=y:(y.next=V.next,V.next=y),h.pending=y}w!==0&&bp(u,y,w)}}function Vi(s,o,u,h){ji[Jo++]=s,ji[Jo++]=o,ji[Jo++]=u,ji[Jo++]=h,uh|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function xc(s,o,u,h){return Vi(s,o,u,h),Ac(s)}function el(s,o){return Vi(s,null,null,o),Ac(s)}function bp(s,o,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var y=!1,w=s.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&o!==null&&(y=31-Nt(u),s=w.hiddenUpdates,h=s[y],h===null?s[y]=[o]:h.push(o),o.lane=u|536870912),w):null}function Ac(s){if(50<Vh)throw Vh=0,hy=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var tl={};function Lv(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,o,u,h){return new Lv(s,o,u,h)}function ch(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qs(s,o){var u=s.alternate;return u===null?(u=bi(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Dc(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function oo(s,o,u,h,y,w){var V=0;if(h=s,typeof s=="function")ch(s)&&(V=1);else if(typeof s=="string")V=nk(s,u,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case S:return s=bi(31,u,o,y),s.elementType=S,s.lanes=w,s;case E:return ya(u.children,y,w,o);case M:V=8,y|=24;break;case D:return s=bi(12,u,o,y|2),s.elementType=D,s.lanes=w,s;case W:return s=bi(13,u,o,y),s.elementType=W,s.lanes=w,s;case H:return s=bi(19,u,o,y),s.elementType=H,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case Y:V=10;break e;case $:V=9;break e;case z:V=11;break e;case I:V=14;break e;case C:V=16,h=null;break e}V=29,u=Error(n(130,s===null?"null":typeof s,"")),h=null}return o=bi(V,u,o,y),o.elementType=s,o.type=h,o.lanes=w,o}function ya(s,o,u,h){return s=bi(7,s,h,o),s.lanes=u,s}function Rc(s,o,u){return s=bi(6,s,null,o),s.lanes=u,s}function lo(s,o,u){return o=bi(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var _a=[],nl=0,Mc=null,kc=0,pr=[],Bi=0,uo=null,Fi=1,es="";function co(s,o){_a[nl++]=kc,_a[nl++]=Mc,Mc=s,kc=o}function dh(s,o,u){pr[Bi++]=Fi,pr[Bi++]=es,pr[Bi++]=uo,uo=s;var h=Fi;s=es;var y=32-Nt(h)-1;h&=~(1<<y),u+=1;var w=32-Nt(o)+y;if(30<w){var V=y-y%5;w=(h&(1<<V)-1).toString(32),h>>=V,y-=V,Fi=1<<32-Nt(o)+y|u<<y|h,es=w+s}else Fi=1<<w|u<<y|h,es=s}function hh(s){s.return!==null&&(co(s,1),dh(s,1,0))}function ba(s){for(;s===Mc;)Mc=_a[--nl],_a[nl]=null,kc=_a[--nl],_a[nl]=null;for(;s===uo;)uo=pr[--Bi],pr[Bi]=null,es=pr[--Bi],pr[Bi]=null,Fi=pr[--Bi],pr[Bi]=null}var _r=null,Ln=null,Gt=!1,ho=null,_s=!1,fo=Error(n(519));function wi(s){var o=Error(n(418,""));throw bu(Ui(o,s)),fo}function wp(s){var o=s.stateNode,u=s.type,h=s.memoizedProps;switch(o[Ge]=s,o[Kn]=h,u){case"dialog":Lt("cancel",o),Lt("close",o);break;case"iframe":case"object":case"embed":Lt("load",o);break;case"video":case"audio":for(u=0;u<Fh.length;u++)Lt(Fh[u],o);break;case"source":Lt("error",o);break;case"img":case"image":case"link":Lt("error",o),Lt("load",o);break;case"details":Lt("toggle",o);break;case"input":Lt("invalid",o),Ar(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Fr(o);break;case"select":Lt("invalid",o);break;case"textarea":Lt("invalid",o),Hs(o,h.value,h.defaultValue,h.children),Fr(o)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||VE(o.textContent,u)?(h.popover!=null&&(Lt("beforetoggle",o),Lt("toggle",o)),h.onScroll!=null&&Lt("scroll",o),h.onScrollEnd!=null&&Lt("scrollend",o),h.onClick!=null&&(o.onclick=Xp),o=!0):o=!1,o||wi(s)}function Ep(s){for(_r=s.return;_r;)switch(_r.tag){case 5:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:_r=_r.return}}function yu(s){if(s!==_r)return!1;if(!Gt)return Ep(s),Gt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Dy(s.type,s.memoizedProps)),u=!u),u&&Ln&&wi(s),Ep(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Ln=ea(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Ln=null}}else o===27?(o=Ln,_l(s.type)?(s=Ly,Ly=null,Ln=s):Ln=o):Ln=_r?ea(s.stateNode.nextSibling):null;return!0}function _u(){Ln=_r=null,Gt=!1}function Tp(){var s=ho;return s!==null&&(Hi===null?Hi=s:Hi.push.apply(Hi,s),ho=null),s}function bu(s){ho===null?ho=[s]:ho.push(s)}var fh=re(null),po=null,bs=null;function wa(s,o,u){ie(fh,o._currentValue),o._currentValue=u}function ws(s){s._currentValue=fh.current,oe(fh)}function wu(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function Lc(s,o,u,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var V=y.child;w=w.firstContext;e:for(;w!==null;){var G=w;w=y;for(var te=0;te<o.length;te++)if(G.context===o[te]){w.lanes|=u,G=w.alternate,G!==null&&(G.lanes|=u),wu(w.return,u,s),h||(V=null);break e}w=G.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(n(341));V.lanes|=u,w=V.alternate,w!==null&&(w.lanes|=u),wu(V,u,s),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===s){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function ts(s,o,u,h){s=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var G=y.type;Dn(y.pendingProps.value,V.value)||(s!==null?s.push(G):s=[G])}}else if(y===Pe.current){if(V=y.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Wh):s=[Wh])}y=y.return}s!==null&&Lc(o,s,u,h),o.flags|=262144}function Eu(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ks(s){po=s,bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function br(s){return ph(po,s)}function rl(s,o){return po===null&&Ks(s),ph(s,o)}function ph(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},bs===null){if(s===null)throw Error(n(308));bs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else bs=bs.next=o;return u}var mh=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},Ov=r.unstable_scheduleCallback,mo=r.unstable_NormalPriority,_n={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new mh,data:new Map,refCount:0}}function Tu(s){s.refCount--,s.refCount===0&&Ov(mo,function(){s.controller.abort()})}var Su=null,vh=0,il=0,sl=null;function Iv(s,o){if(Su===null){var u=Su=[];vh=0,il=_y(),sl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return vh++,o.then(Sp,Sp),o}function Sp(){if(--vh===0&&Su!==null){sl!==null&&(sl.status="fulfilled");var s=Su;Su=null,il=0,sl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Cp(s,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var Cu=U.S;U.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Iv(s,o),Cu!==null&&Cu(s,o)};var Es=re(null);function yh(){var s=Es.current;return s!==null?s:Rn.pooledCache}function Oc(s,o){o===null?ie(Es,Es.current):ie(Es,o.pool)}function al(){var s=yh();return s===null?null:{parent:_n._currentValue,pool:s}}var q=Error(n(460)),_=Error(n(474)),R=Error(n(542)),Q={then:function(){}};function le(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ce(){}function be(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(ce,ce),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ze(s),s;default:if(typeof o.status=="string")o.then(ce,ce);else{if(s=Rn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ze(s),s}throw Ae=o,q}}var Ae=null;function Ie(){if(Ae===null)throw Error(n(459));var s=Ae;return Ae=null,s}function ze(s){if(s===q||s===R)throw Error(n(483))}var je=!1;function Ue(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ft(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xe(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function et(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(pn&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Ac(s),bp(s,null,u),o}return Vi(s,h,o,u),Ac(s)}function tt(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Sr(s,u)}}function at(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=V:w=w.next=V,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var en=!1;function tn(){if(en){var s=sl;if(s!==null)throw s}}function mt(s,o,u,h){en=!1;var y=s.updateQueue;je=!1;var w=y.firstBaseUpdate,V=y.lastBaseUpdate,G=y.shared.pending;if(G!==null){y.shared.pending=null;var te=G,pe=te.next;te.next=null,V===null?w=pe:V.next=pe,V=te;var Ce=s.alternate;Ce!==null&&(Ce=Ce.updateQueue,G=Ce.lastBaseUpdate,G!==V&&(G===null?Ce.firstBaseUpdate=pe:G.next=pe,Ce.lastBaseUpdate=te))}if(w!==null){var De=y.baseState;V=0,Ce=pe=te=null,G=w;do{var ge=G.lane&-536870913,ye=ge!==G.lane;if(ye?(Yt&ge)===ge:(h&ge)===ge){ge!==0&&ge===il&&(en=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ot=s,rt=G;ge=o;var wn=u;switch(rt.tag){case 1:if(ot=rt.payload,typeof ot=="function"){De=ot.call(wn,De,ge);break e}De=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=rt.payload,ge=typeof ot=="function"?ot.call(wn,De,ge):ot,ge==null)break e;De=p({},De,ge);break e;case 2:je=!0}}ge=G.callback,ge!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ce===null?(pe=Ce=ye,te=De):Ce=Ce.next=ye,V|=ge;if(G=G.next,G===null){if(G=y.shared.pending,G===null)break;ye=G,G=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Ce===null&&(te=De),y.baseState=te,y.firstBaseUpdate=pe,y.lastBaseUpdate=Ce,w===null&&(y.shared.lanes=0),ml|=V,s.lanes=V,s.memoizedState=De}}function Ht(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function yt(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Ht(u[s],o)}var wt=re(null),qt=re(0);function sn(s,o){s=wo,ie(qt,s),ie(wt,o),wo=s|o.baseLanes}function Qt(){ie(qt,wo),ie(wt,wt.current)}function On(){wo=qt.current,oe(wt),oe(qt)}var Jn=0,nt=null,gt=null,Kt=null,Yr=!1,hn=!1,kr=!1,Ei=0,Ts=0,In=null,fn=0;function Mt(){throw Error(n(321))}function si(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Dn(s[u],o[u]))return!1;return!0}function Ss(s,o,u,h,y,w){return Jn=w,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=s===null||s.memoizedState===null?_w:bw,kr=!1,w=u(h,y),kr=!1,hn&&(w=_h(o,u,h,y)),xu(s),w}function xu(s){U.H=kp;var o=gt!==null&&gt.next!==null;if(Jn=0,Kt=gt=nt=null,Yr=!1,Ts=0,In=null,o)throw Error(n(300));s===null||Or||(s=s.dependencies,s!==null&&Eu(s)&&(Or=!0))}function _h(s,o,u,h){nt=s;var y=0;do{if(hn&&(In=null),Ts=0,hn=!1,25<=y)throw Error(n(301));if(y+=1,Kt=gt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=f2,w=o(u,h)}while(hn);return w}function xp(){var s=U.H,o=s.useState()[0];return o=typeof o.then=="function"?Au(o):o,s=s.useState()[0],(gt!==null?gt.memoizedState:null)!==s&&(nt.flags|=1024),o}function ol(){var s=Ei!==0;return Ei=0,s}function bh(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function wh(s){if(Yr){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Yr=!1}Jn=0,Kt=gt=nt=null,hn=!1,Ts=Ei=0,In=null}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?nt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function er(){if(gt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=gt.next;var o=Kt===null?nt.memoizedState:Kt.next;if(o!==null)Kt=o,gt=s;else{if(s===null)throw nt.alternate===null?Error(n(467)):Error(n(310));gt=s,s={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Kt===null?nt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(s){var o=Ts;return Ts+=1,In===null&&(In=[]),s=be(In,s,o),o=nt,(Kt===null?o.memoizedState:Kt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?_w:bw),s}function Du(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Au(s);if(s.$$typeof===Y)return br(s)}throw Error(n(438,String(s)))}function Nc(s){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ic(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),h=0;h<s;h++)u[h]=k;return o.index++,u}function Xs(s,o){return typeof o=="function"?o(s):o}function Pc(s){var o=er();return Zs(o,gt,s)}function Zs(s,o,u){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var y=s.baseQueue,w=h.pending;if(w!==null){if(y!==null){var V=y.next;y.next=w.next,w.next=V}o.baseQueue=y=w,h.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{o=y.next;var G=V=null,te=null,pe=o,Ce=!1;do{var De=pe.lane&-536870913;if(De!==pe.lane?(Yt&De)===De:(Jn&De)===De){var ge=pe.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),De===il&&(Ce=!0);else if((Jn&ge)===ge){pe=pe.next,ge===il&&(Ce=!0);continue}else De={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=De,V=w):te=te.next=De,nt.lanes|=ge,ml|=ge;De=pe.action,kr&&u(w,De),w=pe.hasEagerState?pe.eagerState:u(w,De)}else ge={lane:De,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=ge,V=w):te=te.next=ge,nt.lanes|=De,ml|=De;pe=pe.next}while(pe!==null&&pe!==o);if(te===null?V=w:te.next=G,!Dn(w,s.memoizedState)&&(Or=!0,Ce&&(u=sl,u!==null)))throw u;s.memoizedState=w,s.baseState=V,s.baseQueue=te,h.lastRenderedState=w}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function ll(s){var o=er(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var V=y=y.next;do w=s(w,V.action),V=V.next;while(V!==y);Dn(w,o.memoizedState)||(Or=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function Eh(s,o,u){var h=nt,y=er(),w=Gt;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var V=!Dn((gt||y).memoizedState,u);V&&(y.memoizedState=u,Or=!0),y=y.queue;var G=Sh.bind(null,h,y,s);if(Dh(2048,8,G,[s]),y.getSnapshot!==o||V||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Bc(9,Dp(),Uc.bind(null,h,y,u,o),null),Rn===null)throw Error(n(349));w||(Jn&124)!==0||Th(h,o,u)}return u}function Th(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=Ic(),nt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Uc(s,o,u,h){o.value=u,o.getSnapshot=h,Ch(o)&&xh(s)}function Sh(s,o,u){return u(function(){Ch(o)&&xh(s)})}function Ch(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Dn(s,u)}catch{return!0}}function xh(s){var o=el(s,2);o!==null&&as(o,s,2)}function jc(s){var o=Lr();if(typeof s=="function"){var u=s;if(s=u(),kr){Ct(!0);try{u()}finally{Ct(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:s},o}function Ap(s,o,u,h){return s.baseState=u,Zs(s,gt,typeof h=="function"?h:Xs)}function Nv(s,o,u,h,y){if(Mp(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};U.T!==null?u(!0):w.isTransition=!1,h(w),u=o.pending,u===null?(w.next=o.pending=w,Vc(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Vc(s,o){var u=o.action,h=o.payload,y=s.state;if(o.isTransition){var w=U.T,V={};U.T=V;try{var G=u(y,h),te=U.S;te!==null&&te(V,G),Ah(s,o,G)}catch(pe){Pv(s,o,pe)}finally{U.T=w}}else try{w=u(y,h),Ah(s,o,w)}catch(pe){Pv(s,o,pe)}}function Ah(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Gb(s,o,h)},function(h){return Pv(s,o,h)}):Gb(s,o,u)}function Gb(s,o,u){o.status="fulfilled",o.value=u,Qb(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Vc(s,u)))}function Pv(s,o,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Qb(o),o=o.next;while(o!==h)}s.action=null}function Qb(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Kb(s,o){return o}function Xb(s,o){if(Gt){var u=Rn.formState;if(u!==null){e:{var h=nt;if(Gt){if(Ln){t:{for(var y=Ln,w=_s;y.nodeType!==8;){if(!w){y=null;break t}if(y=ea(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Ln=ea(y.nextSibling),h=y.data==="F!";break e}}wi(h)}h=!1}h&&(o=u[0])}}return u=Lr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kb,lastRenderedState:o},u.queue=h,u=gw.bind(null,nt,h),h.dispatch=u,h=jc(!1),w=Fv.bind(null,nt,!1,h.queue),h=Lr(),y={state:o,dispatch:null,action:s,pending:null},h.queue=y,u=Nv.bind(null,nt,y,w,u),y.dispatch=u,h.memoizedState=s,[o,u,!1]}function Zb(s){var o=er();return Jb(o,gt,s)}function Jb(s,o,u){if(o=Zs(s,o,Kb)[0],s=Pc(Xs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Au(o)}catch(V){throw V===q?R:V}else h=o;o=er();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,Bc(9,Dp(),u2.bind(null,y,u),null)),[h,w,s]}function u2(s,o){s.action=o}function ew(s){var o=er(),u=gt;if(u!==null)return Jb(o,u,s);er(),o=o.memoizedState,u=er();var h=u.queue.dispatch;return u.memoizedState=s,[o,h,!1]}function Bc(s,o,u,h){return s={tag:s,create:u,deps:h,inst:o,next:null},o=nt.updateQueue,o===null&&(o=Ic(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s),s}function Dp(){return{destroy:void 0,resource:void 0}}function tw(){return er().memoizedState}function Rp(s,o,u,h){var y=Lr();h=h===void 0?null:h,nt.flags|=s,y.memoizedState=Bc(1|o,Dp(),u,h)}function Dh(s,o,u,h){var y=er();h=h===void 0?null:h;var w=y.memoizedState.inst;gt!==null&&h!==null&&si(h,gt.memoizedState.deps)?y.memoizedState=Bc(o,w,u,h):(nt.flags|=s,y.memoizedState=Bc(1|o,w,u,h))}function nw(s,o){Rp(8390656,8,s,o)}function rw(s,o){Dh(2048,8,s,o)}function iw(s,o){return Dh(4,2,s,o)}function sw(s,o){return Dh(4,4,s,o)}function aw(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function ow(s,o,u){u=u!=null?u.concat([s]):null,Dh(4,4,aw.bind(null,o,s),u)}function Uv(){}function lw(s,o){var u=er();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&si(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function uw(s,o){var u=er();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&si(o,h[1]))return h[0];if(h=s(),kr){Ct(!0);try{s()}finally{Ct(!1)}}return u.memoizedState=[h,o],h}function jv(s,o,u){return u===void 0||(Jn&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=hE(),nt.lanes|=s,ml|=s,u)}function cw(s,o,u,h){return Dn(u,o)?u:wt.current!==null?(s=jv(s,u,h),Dn(s,o)||(Or=!0),s):(Jn&42)===0?(Or=!0,s.memoizedState=u):(s=hE(),nt.lanes|=s,ml|=s,o)}function dw(s,o,u,h,y){var w=B.p;B.p=w!==0&&8>w?w:8;var V=U.T,G={};U.T=G,Fv(s,!1,o,u);try{var te=y(),pe=U.S;if(pe!==null&&pe(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ce=Cp(te,h);Rh(s,o,Ce,ss(s))}else Rh(s,o,h,ss(s))}catch(De){Rh(s,o,{then:function(){},status:"rejected",reason:De},ss())}finally{B.p=w,U.T=V}}function c2(){}function Vv(s,o,u,h){if(s.tag!==5)throw Error(n(476));var y=hw(s).queue;dw(s,y,o,ee,u===null?c2:function(){return fw(s),u(h)})}function hw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function fw(s){var o=hw(s).next.queue;Rh(s,o,{},ss())}function Bv(){return br(Wh)}function pw(){return er().memoizedState}function mw(){return er().memoizedState}function d2(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=ss();s=Xe(u);var h=et(o,s,u);h!==null&&(as(h,o,u),tt(h,o,u)),o={cache:gh()},s.payload=o;return}o=o.return}}function h2(s,o,u){var h=ss();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Mp(s)?vw(o,u):(u=xc(s,o,u,h),u!==null&&(as(u,s,h),yw(u,o,h)))}function gw(s,o,u){var h=ss();Rh(s,o,u,h)}function Rh(s,o,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mp(s))vw(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var V=o.lastRenderedState,G=w(V,u);if(y.hasEagerState=!0,y.eagerState=G,Dn(G,V))return Vi(s,o,y,0),Rn===null&&Cc(),!1}catch{}finally{}if(u=xc(s,o,y,h),u!==null)return as(u,s,h),yw(u,o,h),!0}return!1}function Fv(s,o,u,h){if(h={lane:2,revertLane:_y(),action:h,hasEagerState:!1,eagerState:null,next:null},Mp(s)){if(o)throw Error(n(479))}else o=xc(s,u,h,2),o!==null&&as(o,s,2)}function Mp(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function vw(s,o){hn=Yr=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function yw(s,o,u){if((u&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Sr(s,u)}}var kp={readContext:br,use:Du,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},_w={readContext:br,use:Du,useCallback:function(s,o){return Lr().memoizedState=[s,o===void 0?null:o],s},useContext:br,useEffect:nw,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Rp(4194308,4,aw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Rp(4194308,4,s,o)},useInsertionEffect:function(s,o){Rp(4,2,s,o)},useMemo:function(s,o){var u=Lr();o=o===void 0?null:o;var h=s();if(kr){Ct(!0);try{s()}finally{Ct(!1)}}return u.memoizedState=[h,o],h},useReducer:function(s,o,u){var h=Lr();if(u!==void 0){var y=u(o);if(kr){Ct(!0);try{u(o)}finally{Ct(!1)}}}else y=o;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=h2.bind(null,nt,s),[h.memoizedState,s]},useRef:function(s){var o=Lr();return s={current:s},o.memoizedState=s},useState:function(s){s=jc(s);var o=s.queue,u=gw.bind(null,nt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:Uv,useDeferredValue:function(s,o){var u=Lr();return jv(u,s,o)},useTransition:function(){var s=jc(!1);return s=dw.bind(null,nt,s.queue,!0,!1),Lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var h=nt,y=Lr();if(Gt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Rn===null)throw Error(n(349));(Yt&124)!==0||Th(h,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,nw(Sh.bind(null,h,w,s),[s]),h.flags|=2048,Bc(9,Dp(),Uc.bind(null,h,w,u,o),null),u},useId:function(){var s=Lr(),o=Rn.identifierPrefix;if(Gt){var u=es,h=Fi;u=(h&~(1<<32-Nt(h)-1)).toString(32)+u,o="«"+o+"R"+u,u=Ei++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=fn++,o="«"+o+"r"+u.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Bv,useFormState:Xb,useActionState:Xb,useOptimistic:function(s){var o=Lr();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Fv.bind(null,nt,!0,u),u.dispatch=o,[s,o]},useMemoCache:Nc,useCacheRefresh:function(){return Lr().memoizedState=d2.bind(null,nt)}},bw={readContext:br,use:Du,useCallback:lw,useContext:br,useEffect:rw,useImperativeHandle:ow,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:Pc,useRef:tw,useState:function(){return Pc(Xs)},useDebugValue:Uv,useDeferredValue:function(s,o){var u=er();return cw(u,gt.memoizedState,s,o)},useTransition:function(){var s=Pc(Xs)[0],o=er().memoizedState;return[typeof s=="boolean"?s:Au(s),o]},useSyncExternalStore:Eh,useId:pw,useHostTransitionStatus:Bv,useFormState:Zb,useActionState:Zb,useOptimistic:function(s,o){var u=er();return Ap(u,gt,s,o)},useMemoCache:Nc,useCacheRefresh:mw},f2={readContext:br,use:Du,useCallback:lw,useContext:br,useEffect:rw,useImperativeHandle:ow,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:ll,useRef:tw,useState:function(){return ll(Xs)},useDebugValue:Uv,useDeferredValue:function(s,o){var u=er();return gt===null?jv(u,s,o):cw(u,gt.memoizedState,s,o)},useTransition:function(){var s=ll(Xs)[0],o=er().memoizedState;return[typeof s=="boolean"?s:Au(s),o]},useSyncExternalStore:Eh,useId:pw,useHostTransitionStatus:Bv,useFormState:ew,useActionState:ew,useOptimistic:function(s,o){var u=er();return gt!==null?Ap(u,gt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:mw},Fc=null,Mh=0;function Lp(s){var o=Mh;return Mh+=1,Fc===null&&(Fc=[]),be(Fc,s,o)}function kh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Op(s,o){throw o.$$typeof===m?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function ww(s){var o=s._init;return o(s._payload)}function Ew(s){function o(de,ae){if(s){var fe=de.deletions;fe===null?(de.deletions=[ae],de.flags|=16):fe.push(ae)}}function u(de,ae){if(!s)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function h(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function y(de,ae){return de=Qs(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,fe){return de.index=fe,s?(fe=de.alternate,fe!==null?(fe=fe.index,fe<ae?(de.flags|=67108866,ae):fe):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function V(de){return s&&de.alternate===null&&(de.flags|=67108866),de}function G(de,ae,fe,xe){return ae===null||ae.tag!==6?(ae=Rc(fe,de.mode,xe),ae.return=de,ae):(ae=y(ae,fe),ae.return=de,ae)}function te(de,ae,fe,xe){var Qe=fe.type;return Qe===E?Ce(de,ae,fe.props.children,xe,fe.key):ae!==null&&(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===C&&ww(Qe)===ae.type)?(ae=y(ae,fe.props),kh(ae,fe),ae.return=de,ae):(ae=oo(fe.type,fe.key,fe.props,null,de.mode,xe),kh(ae,fe),ae.return=de,ae)}function pe(de,ae,fe,xe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=lo(fe,de.mode,xe),ae.return=de,ae):(ae=y(ae,fe.children||[]),ae.return=de,ae)}function Ce(de,ae,fe,xe,Qe){return ae===null||ae.tag!==7?(ae=ya(fe,de.mode,xe,Qe),ae.return=de,ae):(ae=y(ae,fe),ae.return=de,ae)}function De(de,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Rc(""+ae,de.mode,fe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return fe=oo(ae.type,ae.key,ae.props,null,de.mode,fe),kh(fe,ae),fe.return=de,fe;case b:return ae=lo(ae,de.mode,fe),ae.return=de,ae;case C:var xe=ae._init;return ae=xe(ae._payload),De(de,ae,fe)}if(J(ae)||F(ae))return ae=ya(ae,de.mode,fe,null),ae.return=de,ae;if(typeof ae.then=="function")return De(de,Lp(ae),fe);if(ae.$$typeof===Y)return De(de,rl(de,ae),fe);Op(de,ae)}return null}function ge(de,ae,fe,xe){var Qe=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Qe!==null?null:G(de,ae,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return fe.key===Qe?te(de,ae,fe,xe):null;case b:return fe.key===Qe?pe(de,ae,fe,xe):null;case C:return Qe=fe._init,fe=Qe(fe._payload),ge(de,ae,fe,xe)}if(J(fe)||F(fe))return Qe!==null?null:Ce(de,ae,fe,xe,null);if(typeof fe.then=="function")return ge(de,ae,Lp(fe),xe);if(fe.$$typeof===Y)return ge(de,ae,rl(de,fe),xe);Op(de,fe)}return null}function ye(de,ae,fe,xe,Qe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return de=de.get(fe)||null,G(ae,de,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case v:return de=de.get(xe.key===null?fe:xe.key)||null,te(ae,de,xe,Qe);case b:return de=de.get(xe.key===null?fe:xe.key)||null,pe(ae,de,xe,Qe);case C:var At=xe._init;return xe=At(xe._payload),ye(de,ae,fe,xe,Qe)}if(J(xe)||F(xe))return de=de.get(fe)||null,Ce(ae,de,xe,Qe,null);if(typeof xe.then=="function")return ye(de,ae,fe,Lp(xe),Qe);if(xe.$$typeof===Y)return ye(de,ae,fe,rl(ae,xe),Qe);Op(ae,xe)}return null}function ot(de,ae,fe,xe){for(var Qe=null,At=null,Ze=ae,it=ae=0,Nr=null;Ze!==null&&it<fe.length;it++){Ze.index>it?(Nr=Ze,Ze=null):Nr=Ze.sibling;var nn=ge(de,Ze,fe[it],xe);if(nn===null){Ze===null&&(Ze=Nr);break}s&&Ze&&nn.alternate===null&&o(de,Ze),ae=w(nn,ae,it),At===null?Qe=nn:At.sibling=nn,At=nn,Ze=Nr}if(it===fe.length)return u(de,Ze),Gt&&co(de,it),Qe;if(Ze===null){for(;it<fe.length;it++)Ze=De(de,fe[it],xe),Ze!==null&&(ae=w(Ze,ae,it),At===null?Qe=Ze:At.sibling=Ze,At=Ze);return Gt&&co(de,it),Qe}for(Ze=h(Ze);it<fe.length;it++)Nr=ye(Ze,de,it,fe[it],xe),Nr!==null&&(s&&Nr.alternate!==null&&Ze.delete(Nr.key===null?it:Nr.key),ae=w(Nr,ae,it),At===null?Qe=Nr:At.sibling=Nr,At=Nr);return s&&Ze.forEach(function(Sl){return o(de,Sl)}),Gt&&co(de,it),Qe}function rt(de,ae,fe,xe){if(fe==null)throw Error(n(151));for(var Qe=null,At=null,Ze=ae,it=ae=0,Nr=null,nn=fe.next();Ze!==null&&!nn.done;it++,nn=fe.next()){Ze.index>it?(Nr=Ze,Ze=null):Nr=Ze.sibling;var Sl=ge(de,Ze,nn.value,xe);if(Sl===null){Ze===null&&(Ze=Nr);break}s&&Ze&&Sl.alternate===null&&o(de,Ze),ae=w(Sl,ae,it),At===null?Qe=Sl:At.sibling=Sl,At=Sl,Ze=Nr}if(nn.done)return u(de,Ze),Gt&&co(de,it),Qe;if(Ze===null){for(;!nn.done;it++,nn=fe.next())nn=De(de,nn.value,xe),nn!==null&&(ae=w(nn,ae,it),At===null?Qe=nn:At.sibling=nn,At=nn);return Gt&&co(de,it),Qe}for(Ze=h(Ze);!nn.done;it++,nn=fe.next())nn=ye(Ze,de,it,nn.value,xe),nn!==null&&(s&&nn.alternate!==null&&Ze.delete(nn.key===null?it:nn.key),ae=w(nn,ae,it),At===null?Qe=nn:At.sibling=nn,At=nn);return s&&Ze.forEach(function(pk){return o(de,pk)}),Gt&&co(de,it),Qe}function wn(de,ae,fe,xe){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:e:{for(var Qe=fe.key;ae!==null;){if(ae.key===Qe){if(Qe=fe.type,Qe===E){if(ae.tag===7){u(de,ae.sibling),xe=y(ae,fe.props.children),xe.return=de,de=xe;break e}}else if(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===C&&ww(Qe)===ae.type){u(de,ae.sibling),xe=y(ae,fe.props),kh(xe,fe),xe.return=de,de=xe;break e}u(de,ae);break}else o(de,ae);ae=ae.sibling}fe.type===E?(xe=ya(fe.props.children,de.mode,xe,fe.key),xe.return=de,de=xe):(xe=oo(fe.type,fe.key,fe.props,null,de.mode,xe),kh(xe,fe),xe.return=de,de=xe)}return V(de);case b:e:{for(Qe=fe.key;ae!==null;){if(ae.key===Qe)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){u(de,ae.sibling),xe=y(ae,fe.children||[]),xe.return=de,de=xe;break e}else{u(de,ae);break}else o(de,ae);ae=ae.sibling}xe=lo(fe,de.mode,xe),xe.return=de,de=xe}return V(de);case C:return Qe=fe._init,fe=Qe(fe._payload),wn(de,ae,fe,xe)}if(J(fe))return ot(de,ae,fe,xe);if(F(fe)){if(Qe=F(fe),typeof Qe!="function")throw Error(n(150));return fe=Qe.call(fe),rt(de,ae,fe,xe)}if(typeof fe.then=="function")return wn(de,ae,Lp(fe),xe);if(fe.$$typeof===Y)return wn(de,ae,rl(de,fe),xe);Op(de,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(u(de,ae.sibling),xe=y(ae,fe),xe.return=de,de=xe):(u(de,ae),xe=Rc(fe,de.mode,xe),xe.return=de,de=xe),V(de)):u(de,ae)}return function(de,ae,fe,xe){try{Mh=0;var Qe=wn(de,ae,fe,xe);return Fc=null,Qe}catch(Ze){if(Ze===q||Ze===R)throw Ze;var At=bi(29,Ze,null,de.mode);return At.lanes=xe,At.return=de,At}finally{}}}var zc=Ew(!0),Tw=Ew(!1),Cs=re(null),Ea=null;function ul(s){var o=s.alternate;ie(wr,wr.current&1),ie(Cs,s),Ea===null&&(o===null||wt.current!==null||o.memoizedState!==null)&&(Ea=s)}function Sw(s){if(s.tag===22){if(ie(wr,wr.current),ie(Cs,s),Ea===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Ea=s)}}else cl()}function cl(){ie(wr,wr.current),ie(Cs,Cs.current)}function go(s){oe(Cs),Ea===s&&(Ea=null),oe(wr)}var wr=re(0);function Ip(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ky(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function zv(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Hv={enqueueSetState:function(s,o,u){s=s._reactInternals;var h=ss(),y=Xe(h);y.payload=o,u!=null&&(y.callback=u),o=et(s,y,h),o!==null&&(as(o,s,h),tt(o,s,h))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=ss(),y=Xe(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=et(s,y,h),o!==null&&(as(o,s,h),tt(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=ss(),h=Xe(u);h.tag=2,o!=null&&(h.callback=o),o=et(s,h,u),o!==null&&(as(o,s,u),tt(o,s,u))}};function Cw(s,o,u,h,y,w,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,V):o.prototype&&o.prototype.isPureReactComponent?!gu(u,h)||!gu(y,w):!0}function xw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Hv.enqueueReplaceState(o,o.state,null)}function Ru(s,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var Np=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Aw(s){Np(s)}function Dw(s){console.error(s)}function Rw(s){Np(s)}function Pp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Mw(s,o,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function qv(s,o,u){return u=Xe(u),u.tag=3,u.payload={element:null},u.callback=function(){Pp(s,o)},u}function kw(s){return s=Xe(s),s.tag=3,s}function Lw(s,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;s.payload=function(){return y(w)},s.callback=function(){Mw(o,u,h)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){Mw(o,u,h),typeof y!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var G=h.stack;this.componentDidCatch(h.value,{componentStack:G!==null?G:""})})}function p2(s,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&ts(o,u,y,!0),u=Cs.current,u!==null){switch(u.tag){case 13:return Ea===null?py():u.alternate===null&&tr===0&&(tr=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Q?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),gy(s,h,y)),!1;case 22:return u.flags|=65536,h===Q?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),gy(s,h,y)),!1}throw Error(n(435,u.tag))}return gy(s,h,y),py(),!1}if(Gt)return o=Cs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==fo&&(s=Error(n(422),{cause:h}),bu(Ui(s,u)))):(h!==fo&&(o=Error(n(423),{cause:h}),bu(Ui(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=Ui(h,u),y=qv(s.stateNode,h,y),at(s,y),tr!==4&&(tr=2)),!1;var w=Error(n(520),{cause:h});if(w=Ui(w,u),jh===null?jh=[w]:jh.push(w),tr!==4&&(tr=2),o===null)return!0;h=Ui(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=qv(u.stateNode,h,s),at(u,s),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gl===null||!gl.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=kw(y),Lw(y,s,u,h),at(u,y),!1}u=u.return}while(u!==null);return!1}var Ow=Error(n(461)),Or=!1;function $r(s,o,u,h){o.child=s===null?Tw(o,null,u,h):zc(o,s.child,u,h)}function Iw(s,o,u,h,y){u=u.render;var w=o.ref;if("ref"in h){var V={};for(var G in h)G!=="ref"&&(V[G]=h[G])}else V=h;return Ks(o),h=Ss(s,o,u,V,w,y),G=ol(),s!==null&&!Or?(bh(s,o,y),vo(s,o,y)):(Gt&&G&&hh(o),o.flags|=1,$r(s,o,h,y),o.child)}function Nw(s,o,u,h,y){if(s===null){var w=u.type;return typeof w=="function"&&!ch(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,Pw(s,o,w,h,y)):(s=oo(u.type,null,h,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!Zv(s,y)){var V=w.memoizedProps;if(u=u.compare,u=u!==null?u:gu,u(V,h)&&s.ref===o.ref)return vo(s,o,y)}return o.flags|=1,s=Qs(w,h),s.ref=o.ref,s.return=o,o.child=s}function Pw(s,o,u,h,y){if(s!==null){var w=s.memoizedProps;if(gu(w,h)&&s.ref===o.ref)if(Or=!1,o.pendingProps=h=w,Zv(s,y))(s.flags&131072)!==0&&(Or=!0);else return o.lanes=s.lanes,vo(s,o,y)}return Yv(s,o,u,h,y)}function Uw(s,o,u){var h=o.pendingProps,y=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=w!==null?w.baseLanes|u:u,s!==null){for(y=o.child=s.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~h}else o.childLanes=0,o.child=null;return jw(s,o,h,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Oc(o,w!==null?w.cachePool:null),w!==null?sn(o,w):Qt(),Sw(o);else return o.lanes=o.childLanes=536870912,jw(s,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Oc(o,w.cachePool),sn(o,w),cl(),o.memoizedState=null):(s!==null&&Oc(o,null),Qt(),cl());return $r(s,o,y,u),o.child}function jw(s,o,u,h){var y=yh();return y=y===null?null:{parent:_n._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&Oc(o,null),Qt(),Sw(o),s!==null&&ts(s,o,h,!0),null}function Up(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Yv(s,o,u,h,y){return Ks(o),u=Ss(s,o,u,h,void 0,y),h=ol(),s!==null&&!Or?(bh(s,o,y),vo(s,o,y)):(Gt&&h&&hh(o),o.flags|=1,$r(s,o,u,y),o.child)}function Vw(s,o,u,h,y,w){return Ks(o),o.updateQueue=null,u=_h(o,h,u,y),xu(s),h=ol(),s!==null&&!Or?(bh(s,o,w),vo(s,o,w)):(Gt&&h&&hh(o),o.flags|=1,$r(s,o,u,w),o.child)}function Bw(s,o,u,h,y){if(Ks(o),o.stateNode===null){var w=tl,V=u.contextType;typeof V=="object"&&V!==null&&(w=br(V)),w=new u(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Hv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Ue(o),V=u.contextType,w.context=typeof V=="object"&&V!==null?br(V):tl,w.state=o.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(zv(o,u,V,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&Hv.enqueueReplaceState(w,w.state,null),mt(o,h,w,y),tn(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){w=o.stateNode;var G=o.memoizedProps,te=Ru(u,G);w.props=te;var pe=w.context,Ce=u.contextType;V=tl,typeof Ce=="object"&&Ce!==null&&(V=br(Ce));var De=u.getDerivedStateFromProps;Ce=typeof De=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,Ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||pe!==V)&&xw(o,w,h,V),je=!1;var ge=o.memoizedState;w.state=ge,mt(o,h,w,y),tn(),pe=o.memoizedState,G||ge!==pe||je?(typeof De=="function"&&(zv(o,u,De,h),pe=o.memoizedState),(te=je||Cw(o,u,te,h,ge,pe,V))?(Ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=pe),w.props=h,w.state=pe,w.context=V,h=te):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,ft(s,o),V=o.memoizedProps,Ce=Ru(u,V),w.props=Ce,De=o.pendingProps,ge=w.context,pe=u.contextType,te=tl,typeof pe=="object"&&pe!==null&&(te=br(pe)),G=u.getDerivedStateFromProps,(pe=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==De||ge!==te)&&xw(o,w,h,te),je=!1,ge=o.memoizedState,w.state=ge,mt(o,h,w,y),tn();var ye=o.memoizedState;V!==De||ge!==ye||je||s!==null&&s.dependencies!==null&&Eu(s.dependencies)?(typeof G=="function"&&(zv(o,u,G,h),ye=o.memoizedState),(Ce=je||Cw(o,u,Ce,h,ge,ye,te)||s!==null&&s.dependencies!==null&&Eu(s.dependencies))?(pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ye,te),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ye,te)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),w.props=h,w.state=ye,w.context=te,h=Ce):(typeof w.componentDidUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),h=!1)}return w=h,Up(s,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&h?(o.child=zc(o,s.child,null,y),o.child=zc(o,null,u,y)):$r(s,o,u,y),o.memoizedState=w.state,s=o.child):s=vo(s,o,y),s}function Fw(s,o,u,h){return _u(),o.flags|=256,$r(s,o,u,h),o.child}var $v={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wv(s){return{baseLanes:s,cachePool:al()}}function Gv(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=xs),s}function zw(s,o,u){var h=o.pendingProps,y=!1,w=(o.flags&128)!==0,V;if((V=w)||(V=s!==null&&s.memoizedState===null?!1:(wr.current&2)!==0),V&&(y=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,s===null){if(Gt){if(y?ul(o):cl(),Gt){var G=Ln,te;if(te=G){e:{for(te=G,G=_s;te.nodeType!==8;){if(!G){G=null;break e}if(te=ea(te.nextSibling),te===null){G=null;break e}}G=te}G!==null?(o.memoizedState={dehydrated:G,treeContext:uo!==null?{id:Fi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},te=bi(18,null,null,0),te.stateNode=G,te.return=o,o.child=te,_r=o,Ln=null,te=!0):te=!1}te||wi(o)}if(G=o.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return ky(G)?o.lanes=32:o.lanes=536870912,null;go(o)}return G=h.children,h=h.fallback,y?(cl(),y=o.mode,G=jp({mode:"hidden",children:G},y),h=ya(h,y,u,null),G.return=o,h.return=o,G.sibling=h,o.child=G,y=o.child,y.memoizedState=Wv(u),y.childLanes=Gv(s,V,u),o.memoizedState=$v,h):(ul(o),Qv(o,G))}if(te=s.memoizedState,te!==null&&(G=te.dehydrated,G!==null)){if(w)o.flags&256?(ul(o),o.flags&=-257,o=Kv(s,o,u)):o.memoizedState!==null?(cl(),o.child=s.child,o.flags|=128,o=null):(cl(),y=h.fallback,G=o.mode,h=jp({mode:"visible",children:h.children},G),y=ya(y,G,u,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,zc(o,s.child,null,u),h=o.child,h.memoizedState=Wv(u),h.childLanes=Gv(s,V,u),o.memoizedState=$v,o=y);else if(ul(o),ky(G)){if(V=G.nextSibling&&G.nextSibling.dataset,V)var pe=V.dgst;V=pe,h=Error(n(419)),h.stack="",h.digest=V,bu({value:h,source:null,stack:null}),o=Kv(s,o,u)}else if(Or||ts(s,o,u,!1),V=(u&s.childLanes)!==0,Or||V){if(V=Rn,V!==null&&(h=u&-u,h=(h&42)!==0?1:ni(h),h=(h&(V.suspendedLanes|u))!==0?0:h,h!==0&&h!==te.retryLane))throw te.retryLane=h,el(s,h),as(V,s,h),Ow;G.data==="$?"||py(),o=Kv(s,o,u)}else G.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=te.treeContext,Ln=ea(G.nextSibling),_r=o,Gt=!0,ho=null,_s=!1,s!==null&&(pr[Bi++]=Fi,pr[Bi++]=es,pr[Bi++]=uo,Fi=s.id,es=s.overflow,uo=o),o=Qv(o,h.children),o.flags|=4096);return o}return y?(cl(),y=h.fallback,G=o.mode,te=s.child,pe=te.sibling,h=Qs(te,{mode:"hidden",children:h.children}),h.subtreeFlags=te.subtreeFlags&65011712,pe!==null?y=Qs(pe,y):(y=ya(y,G,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,G=s.child.memoizedState,G===null?G=Wv(u):(te=G.cachePool,te!==null?(pe=_n._currentValue,te=te.parent!==pe?{parent:pe,pool:pe}:te):te=al(),G={baseLanes:G.baseLanes|u,cachePool:te}),y.memoizedState=G,y.childLanes=Gv(s,V,u),o.memoizedState=$v,h):(ul(o),u=s.child,s=u.sibling,u=Qs(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,s!==null&&(V=o.deletions,V===null?(o.deletions=[s],o.flags|=16):V.push(s)),o.child=u,o.memoizedState=null,u)}function Qv(s,o){return o=jp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function jp(s,o){return s=bi(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Kv(s,o,u){return zc(o,s.child,null,u),s=Qv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Hw(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),wu(s.return,o,u)}function Xv(s,o,u,h,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=y)}function qw(s,o,u){var h=o.pendingProps,y=h.revealOrder,w=h.tail;if($r(s,o,h.children,u),h=wr.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hw(s,u,o);else if(s.tag===19)Hw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ie(wr,h),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&Ip(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Xv(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Ip(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Xv(o,!0,u,null,w);break;case"together":Xv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function vo(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ml|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ts(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Qs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Qs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Zv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Eu(s)))}function m2(s,o,u){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),wa(o,_n,s.memoizedState.cache),_u();break;case 27:case 5:Le(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:wa(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ul(o),o.flags|=128,null):(u&o.child.childLanes)!==0?zw(s,o,u):(ul(o),s=vo(s,o,u),s!==null?s.sibling:null);ul(o);break;case 19:var y=(s.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(ts(s,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return qw(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(wr,wr.current),h)break;return null;case 22:case 23:return o.lanes=0,Uw(s,o,u);case 24:wa(o,_n,s.memoizedState.cache)}return vo(s,o,u)}function Yw(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Or=!0;else{if(!Zv(s,u)&&(o.flags&128)===0)return Or=!1,m2(s,o,u);Or=(s.flags&131072)!==0}else Or=!1,Gt&&(o.flags&1048576)!==0&&dh(o,kc,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")ch(h)?(s=Ru(h,s),o.tag=1,o=Bw(null,o,h,s,u)):(o.tag=0,o=Yv(null,o,h,s,u));else{if(h!=null){if(y=h.$$typeof,y===z){o.tag=11,o=Iw(null,o,h,s,u);break e}else if(y===I){o.tag=14,o=Nw(null,o,h,s,u);break e}}throw o=X(h)||h,Error(n(306,o,""))}}return o;case 0:return Yv(s,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=Ru(h,o.pendingProps),Bw(s,o,h,y,u);case 3:e:{if(me(o,o.stateNode.containerInfo),s===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;y=w.element,ft(s,o),mt(o,h,null,u);var V=o.memoizedState;if(h=V.cache,wa(o,_n,h),h!==w.cache&&Lc(o,[_n],u,!0),tn(),h=V.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Fw(s,o,h,u);break e}else if(h!==y){y=Ui(Error(n(424)),o),bu(y),o=Fw(s,o,h,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ln=ea(s.firstChild),_r=o,Gt=!0,ho=null,_s=!0,u=Tw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(_u(),h===y){o=vo(s,o,u);break e}$r(s,o,h,u)}o=o.child}return o;case 26:return Up(s,o),s===null?(u=QE(o.type,null,o.pendingProps,null))?o.memoizedState=u:Gt||(u=o.type,s=o.pendingProps,h=Zp(we.current).createElement(u),h[Ge]=o,h[Kn]=s,Gr(h,u,s),Bt(h),o.stateNode=h):o.memoizedState=QE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Le(o),s===null&&Gt&&(h=o.stateNode=$E(o.type,o.pendingProps,we.current),_r=o,_s=!0,y=Ln,_l(o.type)?(Ly=y,Ln=ea(h.firstChild)):Ln=y),$r(s,o,o.pendingProps.children,u),Up(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Gt&&((y=h=Ln)&&(h=H2(h,o.type,o.pendingProps,_s),h!==null?(o.stateNode=h,_r=o,Ln=ea(h.firstChild),_s=!1,y=!0):y=!1),y||wi(o)),Le(o),y=o.type,w=o.pendingProps,V=s!==null?s.memoizedProps:null,h=w.children,Dy(y,w)?h=null:V!==null&&Dy(y,V)&&(o.flags|=32),o.memoizedState!==null&&(y=Ss(s,o,xp,null,null,u),Wh._currentValue=y),Up(s,o),$r(s,o,h,u),o.child;case 6:return s===null&&Gt&&((s=u=Ln)&&(u=q2(u,o.pendingProps,_s),u!==null?(o.stateNode=u,_r=o,Ln=null,s=!0):s=!1),s||wi(o)),null;case 13:return zw(s,o,u);case 4:return me(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=zc(o,null,h,u):$r(s,o,h,u),o.child;case 11:return Iw(s,o,o.type,o.pendingProps,u);case 7:return $r(s,o,o.pendingProps,u),o.child;case 8:return $r(s,o,o.pendingProps.children,u),o.child;case 12:return $r(s,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,wa(o,o.type,h.value),$r(s,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Ks(o),y=br(y),h=h(y),o.flags|=1,$r(s,o,h,u),o.child;case 14:return Nw(s,o,o.type,o.pendingProps,u);case 15:return Pw(s,o,o.type,o.pendingProps,u);case 19:return qw(s,o,u);case 31:return h=o.pendingProps,u=o.mode,h={mode:h.mode,children:h.children},s===null?(u=jp(h,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Qs(s.child,h),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Uw(s,o,u);case 24:return Ks(o),h=br(_n),s===null?(y=yh(),y===null&&(y=Rn,w=gh(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:h,cache:y},Ue(o),wa(o,_n,y)):((s.lanes&u)!==0&&(ft(s,o),mt(o,null,null,u),tn()),y=s.memoizedState,w=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),wa(o,_n,h)):(h=w.cache,wa(o,_n,h),h!==y.cache&&Lc(o,[_n],u,!0))),$r(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function yo(s){s.flags|=4}function $w(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e1(o)){if(o=Cs.current,o!==null&&((Yt&4194048)===Yt?Ea!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||o!==Ea))throw Ae=Q,_;s.flags|=8192}}function Vp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?vr():536870912,s.lanes|=o,$c|=o)}function Lh(s,o){if(!Gt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function qn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function g2(s,o,u){var h=o.pendingProps;switch(ba(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(o),null;case 1:return qn(o),null;case 3:return u=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ws(_n),Be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(yu(o)?yo(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tp())),qn(o),null;case 26:return u=o.memoizedState,s===null?(yo(o),u!==null?(qn(o),$w(o,u)):(qn(o),o.flags&=-16777217)):u?u!==s.memoizedState?(yo(o),qn(o),$w(o,u)):(qn(o),o.flags&=-16777217):(s.memoizedProps!==h&&yo(o),qn(o),o.flags&=-16777217),null;case 27:Te(o),u=we.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&yo(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return qn(o),null}s=ue.current,yu(o)?wp(o):(s=$E(y,h,u),o.stateNode=s,yo(o))}return qn(o),null;case 5:if(Te(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&yo(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return qn(o),null}if(s=ue.current,yu(o))wp(o);else{switch(y=Zp(we.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}s[Ge]=o,s[Kn]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Gr(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&yo(o)}}return qn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&yo(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(s=we.current,yu(o)){if(s=o.stateNode,u=o.memoizedProps,h=null,y=_r,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[Ge]=o,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||VE(s.nodeValue,u)),s||wi(o)}else s=Zp(s).createTextNode(h),s[Ge]=o,o.stateNode=s}return qn(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=yu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Ge]=o}else _u(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qn(o),y=!1}else y=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(go(o),o):(go(o),null)}if(go(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),Vp(o,o.updateQueue),qn(o),null;case 4:return Be(),s===null&&Ty(o.stateNode.containerInfo),qn(o),null;case 10:return ws(o.type),qn(o),null;case 19:if(oe(wr),y=o.memoizedState,y===null)return qn(o),null;if(h=(o.flags&128)!==0,w=y.rendering,w===null)if(h)Lh(y,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=Ip(s),w!==null){for(o.flags|=128,Lh(y,!1),s=w.updateQueue,o.updateQueue=s,Vp(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Dc(u,s),u=u.sibling;return ie(wr,wr.current&1|2),o.child}s=s.sibling}y.tail!==null&&Fe()>zp&&(o.flags|=128,h=!0,Lh(y,!1),o.lanes=4194304)}else{if(!h)if(s=Ip(w),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,Vp(o,s),Lh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Gt)return qn(o),null}else 2*Fe()-y.renderingStartTime>zp&&u!==536870912&&(o.flags|=128,h=!0,Lh(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(s=y.last,s!==null?s.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Fe(),o.sibling=null,s=wr.current,ie(wr,h?s&1|2:s&1),o):(qn(o),null);case 22:case 23:return go(o),On(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(qn(o),o.subtreeFlags&6&&(o.flags|=8192)):qn(o),u=o.updateQueue,u!==null&&Vp(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),s!==null&&oe(Es),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ws(_n),qn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function v2(s,o){switch(ba(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ws(_n),Be(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Te(o),null;case 13:if(go(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));_u()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return oe(wr),null;case 4:return Be(),null;case 10:return ws(o.type),null;case 22:case 23:return go(o),On(),s!==null&&oe(Es),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ws(_n),null;case 25:return null;default:return null}}function Ww(s,o){switch(ba(o),o.tag){case 3:ws(_n),Be();break;case 26:case 27:case 5:Te(o);break;case 4:Be();break;case 13:go(o);break;case 19:oe(wr);break;case 10:ws(o.type);break;case 22:case 23:go(o),On(),s!==null&&oe(Es);break;case 24:ws(_n)}}function Oh(s,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&s)===s){h=void 0;var w=u.create,V=u.inst;h=w(),V.destroy=h}u=u.next}while(u!==y)}}catch(G){Tn(o,o.return,G)}}function dl(s,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&s)===s){var V=h.inst,G=V.destroy;if(G!==void 0){V.destroy=void 0,y=o;var te=u,pe=G;try{pe()}catch(Ce){Tn(y,te,Ce)}}}h=h.next}while(h!==w)}}catch(Ce){Tn(o,o.return,Ce)}}function Gw(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{yt(o,u)}catch(h){Tn(s,s.return,h)}}}function Qw(s,o,u){u.props=Ru(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Tn(s,o,h)}}function Ih(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(y){Tn(s,o,y)}}function Ta(s,o){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){Tn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Tn(s,o,y)}else u.current=null}function Kw(s){var o=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){Tn(s,s.return,y)}}function Jv(s,o,u){try{var h=s.stateNode;j2(h,s.type,u,o),h[Kn]=o}catch(y){Tn(s,s.return,y)}}function Xw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_l(s.type)||s.tag===4}function ey(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Xw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_l(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ty(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xp));else if(h!==4&&(h===27&&_l(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(ty(s,o,u),s=s.sibling;s!==null;)ty(s,o,u),s=s.sibling}function Bp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(h===27&&_l(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Bp(s,o,u),s=s.sibling;s!==null;)Bp(s,o,u),s=s.sibling}function Zw(s){var o=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Gr(o,h,u),o[Ge]=s,o[Kn]=u}catch(w){Tn(s,s.return,w)}}var _o=!1,ur=!1,ny=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function y2(s,o){if(s=s.containerInfo,xy=im,s=fp(s),th(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var V=0,G=-1,te=-1,pe=0,Ce=0,De=s,ge=null;t:for(;;){for(var ye;De!==u||y!==0&&De.nodeType!==3||(G=V+y),De!==w||h!==0&&De.nodeType!==3||(te=V+h),De.nodeType===3&&(V+=De.nodeValue.length),(ye=De.firstChild)!==null;)ge=De,De=ye;for(;;){if(De===s)break t;if(ge===u&&++pe===y&&(G=V),ge===w&&++Ce===h&&(te=V),(ye=De.nextSibling)!==null)break;De=ge,ge=De.parentNode}De=ye}u=G===-1||te===-1?null:{start:G,end:te}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ay={focusedElem:s,selectionRange:u},im=!1,Ir=o;Ir!==null;)if(o=Ir,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Ir=s;else for(;Ir!==null;){switch(o=Ir,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var ot=Ru(u.type,y,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(ot,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(rt){Tn(u,u.return,rt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)My(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":My(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Ir=s;break}Ir=o.return}}function eE(s,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:hl(s,u),h&4&&Oh(5,u);break;case 1:if(hl(s,u),h&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(V){Tn(u,u.return,V)}else{var y=Ru(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(V){Tn(u,u.return,V)}}h&64&&Gw(u),h&512&&Ih(u,u.return);break;case 3:if(hl(s,u),h&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{yt(s,o)}catch(V){Tn(u,u.return,V)}}break;case 27:o===null&&h&4&&Zw(u);case 26:case 5:hl(s,u),o===null&&h&4&&Kw(u),h&512&&Ih(u,u.return);break;case 12:hl(s,u);break;case 13:hl(s,u),h&4&&rE(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=A2.bind(null,u),Y2(s,u))));break;case 22:if(h=u.memoizedState!==null||_o,!h){o=o!==null&&o.memoizedState!==null||ur,y=_o;var w=ur;_o=h,(ur=o)&&!w?fl(s,u,(u.subtreeFlags&8772)!==0):hl(s,u),_o=y,ur=w}break;case 30:break;default:hl(s,u)}}function tE(s){var o=s.alternate;o!==null&&(s.alternate=null,tE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ha(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Bn=null,zi=!1;function bo(s,o,u){for(u=u.child;u!==null;)nE(s,o,u),u=u.sibling}function nE(s,o,u){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(dt,u)}catch{}switch(u.tag){case 26:ur||Ta(u,o),bo(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ur||Ta(u,o);var h=Bn,y=zi;_l(u.type)&&(Bn=u.stateNode,zi=!1),bo(s,o,u),Hh(u.stateNode),Bn=h,zi=y;break;case 5:ur||Ta(u,o);case 6:if(h=Bn,y=zi,Bn=null,bo(s,o,u),Bn=h,zi=y,Bn!==null)if(zi)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(u.stateNode)}catch(w){Tn(u,o,w)}else try{Bn.removeChild(u.stateNode)}catch(w){Tn(u,o,w)}break;case 18:Bn!==null&&(zi?(s=Bn,qE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Xh(s)):qE(Bn,u.stateNode));break;case 4:h=Bn,y=zi,Bn=u.stateNode.containerInfo,zi=!0,bo(s,o,u),Bn=h,zi=y;break;case 0:case 11:case 14:case 15:ur||dl(2,u,o),ur||dl(4,u,o),bo(s,o,u);break;case 1:ur||(Ta(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Qw(u,o,h)),bo(s,o,u);break;case 21:bo(s,o,u);break;case 22:ur=(h=ur)||u.memoizedState!==null,bo(s,o,u),ur=h;break;default:bo(s,o,u)}}function rE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xh(s)}catch(u){Tn(o,o.return,u)}}function _2(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Jw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Jw),o;default:throw Error(n(435,s.tag))}}function ry(s,o){var u=_2(s);o.forEach(function(h){var y=D2.bind(null,s,h);u.has(h)||(u.add(h),h.then(y,y))})}function ns(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],w=s,V=o,G=V;e:for(;G!==null;){switch(G.tag){case 27:if(_l(G.type)){Bn=G.stateNode,zi=!1;break e}break;case 5:Bn=G.stateNode,zi=!1;break e;case 3:case 4:Bn=G.stateNode.containerInfo,zi=!0;break e}G=G.return}if(Bn===null)throw Error(n(160));nE(w,V,y),Bn=null,zi=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)iE(o,s),o=o.sibling}var Js=null;function iE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ns(o,s),rs(s),h&4&&(dl(3,s,s.return),Oh(3,s),dl(5,s,s.return));break;case 1:ns(o,s),rs(s),h&512&&(ur||u===null||Ta(u,u.return)),h&64&&_o&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Js;if(ns(o,s),rs(s),h&512&&(ur||u===null||Ta(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Ps]||w[Ge]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),Gr(w,h,u),w[Ge]=s,Bt(w),h=w;break e;case"link":var V=ZE("link","href",y).get(h+(u.href||""));if(V){for(var G=0;G<V.length;G++)if(w=V[G],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(G,1);break t}}w=y.createElement(h),Gr(w,h,u),y.head.appendChild(w);break;case"meta":if(V=ZE("meta","content",y).get(h+(u.content||""))){for(G=0;G<V.length;G++)if(w=V[G],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(G,1);break t}}w=y.createElement(h),Gr(w,h,u),y.head.appendChild(w);break;default:throw Error(n(468,h))}w[Ge]=s,Bt(w),h=w}s.stateNode=h}else JE(y,s.type,s.stateNode);else s.stateNode=XE(y,h,s.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?JE(y,s.type,s.stateNode):XE(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Jv(s,s.memoizedProps,u.memoizedProps)}break;case 27:ns(o,s),rs(s),h&512&&(ur||u===null||Ta(u,u.return)),u!==null&&h&4&&Jv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ns(o,s),rs(s),h&512&&(ur||u===null||Ta(u,u.return)),s.flags&32){y=s.stateNode;try{pi(y,"")}catch(ye){Tn(s,s.return,ye)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,Jv(s,y,u!==null?u.memoizedProps:y)),h&1024&&(ny=!0);break;case 6:if(ns(o,s),rs(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(ye){Tn(s,s.return,ye)}}break;case 3:if(tm=null,y=Js,Js=Jp(o.containerInfo),ns(o,s),Js=y,rs(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xh(o.containerInfo)}catch(ye){Tn(s,s.return,ye)}ny&&(ny=!1,sE(s));break;case 4:h=Js,Js=Jp(s.stateNode.containerInfo),ns(o,s),rs(s),Js=h;break;case 12:ns(o,s),rs(s);break;case 13:ns(o,s),rs(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(uy=Fe()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,ry(s,h)));break;case 22:y=s.memoizedState!==null;var te=u!==null&&u.memoizedState!==null,pe=_o,Ce=ur;if(_o=pe||y,ur=Ce||te,ns(o,s),ur=Ce,_o=pe,rs(s),h&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||te||_o||ur||Mu(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){te=u=o;try{if(w=te.stateNode,y)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{G=te.stateNode;var De=te.memoizedProps.style,ge=De!=null&&De.hasOwnProperty("display")?De.display:null;G.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ye){Tn(te,te.return,ye)}}}else if(o.tag===6){if(u===null){te=o;try{te.stateNode.nodeValue=y?"":te.memoizedProps}catch(ye){Tn(te,te.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ry(s,u))));break;case 19:ns(o,s),rs(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,ry(s,h)));break;case 30:break;case 21:break;default:ns(o,s),rs(s)}}function rs(s){var o=s.flags;if(o&2){try{for(var u,h=s.return;h!==null;){if(Xw(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,w=ey(s);Bp(s,w,y);break;case 5:var V=u.stateNode;u.flags&32&&(pi(V,""),u.flags&=-33);var G=ey(s);Bp(s,G,V);break;case 3:case 4:var te=u.stateNode.containerInfo,pe=ey(s);ty(s,pe,te);break;default:throw Error(n(161))}}catch(Ce){Tn(s,s.return,Ce)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function sE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;sE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function hl(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)eE(s,o.alternate,o),o=o.sibling}function Mu(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:dl(4,o,o.return),Mu(o);break;case 1:Ta(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Qw(o,o.return,u),Mu(o);break;case 27:Hh(o.stateNode);case 26:case 5:Ta(o,o.return),Mu(o);break;case 22:o.memoizedState===null&&Mu(o);break;case 30:Mu(o);break;default:Mu(o)}s=s.sibling}}function fl(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=s,w=o,V=w.flags;switch(w.tag){case 0:case 11:case 15:fl(y,w,u),Oh(4,w);break;case 1:if(fl(y,w,u),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(pe){Tn(h,h.return,pe)}if(h=w,y=h.updateQueue,y!==null){var G=h.stateNode;try{var te=y.shared.hiddenCallbacks;if(te!==null)for(y.shared.hiddenCallbacks=null,y=0;y<te.length;y++)Ht(te[y],G)}catch(pe){Tn(h,h.return,pe)}}u&&V&64&&Gw(w),Ih(w,w.return);break;case 27:Zw(w);case 26:case 5:fl(y,w,u),u&&h===null&&V&4&&Kw(w),Ih(w,w.return);break;case 12:fl(y,w,u);break;case 13:fl(y,w,u),u&&V&4&&rE(y,w);break;case 22:w.memoizedState===null&&fl(y,w,u),Ih(w,w.return);break;case 30:break;default:fl(y,w,u)}o=o.sibling}}function iy(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Tu(u))}function sy(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tu(s))}function Sa(s,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)aE(s,o,u,h),o=o.sibling}function aE(s,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(s,o,u,h),y&2048&&Oh(9,o);break;case 1:Sa(s,o,u,h);break;case 3:Sa(s,o,u,h),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tu(s)));break;case 12:if(y&2048){Sa(s,o,u,h),s=o.stateNode;try{var w=o.memoizedProps,V=w.id,G=w.onPostCommit;typeof G=="function"&&G(V,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Tn(o,o.return,te)}}else Sa(s,o,u,h);break;case 13:Sa(s,o,u,h);break;case 23:break;case 22:w=o.stateNode,V=o.alternate,o.memoizedState!==null?w._visibility&2?Sa(s,o,u,h):Nh(s,o):w._visibility&2?Sa(s,o,u,h):(w._visibility|=2,Hc(s,o,u,h,(o.subtreeFlags&10256)!==0)),y&2048&&iy(V,o);break;case 24:Sa(s,o,u,h),y&2048&&sy(o.alternate,o);break;default:Sa(s,o,u,h)}}function Hc(s,o,u,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,V=o,G=u,te=h,pe=V.flags;switch(V.tag){case 0:case 11:case 15:Hc(w,V,G,te,y),Oh(8,V);break;case 23:break;case 22:var Ce=V.stateNode;V.memoizedState!==null?Ce._visibility&2?Hc(w,V,G,te,y):Nh(w,V):(Ce._visibility|=2,Hc(w,V,G,te,y)),y&&pe&2048&&iy(V.alternate,V);break;case 24:Hc(w,V,G,te,y),y&&pe&2048&&sy(V.alternate,V);break;default:Hc(w,V,G,te,y)}o=o.sibling}}function Nh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,h=o,y=h.flags;switch(h.tag){case 22:Nh(u,h),y&2048&&iy(h.alternate,h);break;case 24:Nh(u,h),y&2048&&sy(h.alternate,h);break;default:Nh(u,h)}o=o.sibling}}var Ph=8192;function qc(s){if(s.subtreeFlags&Ph)for(s=s.child;s!==null;)oE(s),s=s.sibling}function oE(s){switch(s.tag){case 26:qc(s),s.flags&Ph&&s.memoizedState!==null&&ik(Js,s.memoizedState,s.memoizedProps);break;case 5:qc(s);break;case 3:case 4:var o=Js;Js=Jp(s.stateNode.containerInfo),qc(s),Js=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Ph,Ph=16777216,qc(s),Ph=o):qc(s));break;default:qc(s)}}function lE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Uh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,cE(h,s)}lE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uE(s),s=s.sibling}function uE(s){switch(s.tag){case 0:case 11:case 15:Uh(s),s.flags&2048&&dl(9,s,s.return);break;case 3:Uh(s);break;case 12:Uh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Fp(s)):Uh(s);break;default:Uh(s)}}function Fp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ir=h,cE(h,s)}lE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:dl(8,o,o.return),Fp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Fp(o));break;default:Fp(o)}s=s.sibling}}function cE(s,o){for(;Ir!==null;){var u=Ir;switch(u.tag){case 0:case 11:case 15:dl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Tu(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ir=h;else e:for(u=s;Ir!==null;){h=Ir;var y=h.sibling,w=h.return;if(tE(h),h===u){Ir=null;break e}if(y!==null){y.return=w,Ir=y;break e}Ir=w}}}var b2={getCacheForType:function(s){var o=br(_n),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},w2=typeof WeakMap=="function"?WeakMap:Map,pn=0,Rn=null,kt=null,Yt=0,mn=0,is=null,pl=!1,Yc=!1,ay=!1,wo=0,tr=0,ml=0,ku=0,oy=0,xs=0,$c=0,jh=null,Hi=null,ly=!1,uy=0,zp=1/0,Hp=null,gl=null,Wr=0,vl=null,Wc=null,Gc=0,cy=0,dy=null,dE=null,Vh=0,hy=null;function ss(){if((pn&2)!==0&&Yt!==0)return Yt&-Yt;if(U.T!==null){var s=il;return s!==0?s:_y()}return kn()}function hE(){xs===0&&(xs=(Yt&536870912)===0||Gt?ti():536870912);var s=Cs.current;return s!==null&&(s.flags|=32),xs}function as(s,o,u){(s===Rn&&(mn===2||mn===9)||s.cancelPendingCommit!==null)&&(Qc(s,0),yl(s,Yt,xs,!1)),jn(s,u),((pn&2)===0||s!==Rn)&&(s===Rn&&((pn&2)===0&&(ku|=u),tr===4&&yl(s,Yt,xs,!1)),Ca(s))}function fE(s,o,u){if((pn&6)!==0)throw Error(n(327));var h=!u&&(o&124)===0&&(o&s.expiredLanes)===0||ei(s,o),y=h?S2(s,o):my(s,o,!0),w=h;do{if(y===0){Yc&&!h&&yl(s,o,0,!1);break}else{if(u=s.current.alternate,w&&!E2(u)){y=my(s,o,!1),w=!1;continue}if(y===2){if(w=o,s.errorRecoveryDisabledLanes&w)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;e:{var G=s;y=jh;var te=G.current.memoizedState.isDehydrated;if(te&&(Qc(G,V).flags|=256),V=my(G,V,!1),V!==2){if(ay&&!te){G.errorRecoveryDisabledLanes|=w,ku|=w,y=4;break e}w=Hi,Hi=y,w!==null&&(Hi===null?Hi=w:Hi.push.apply(Hi,w))}y=V}if(w=!1,y!==2)continue}}if(y===1){Qc(s,0),yl(s,o,0,!0);break}e:{switch(h=s,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:yl(h,o,xs,!pl);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=uy+300-Fe(),10<y)){if(yl(h,o,xs,!pl),hi(h,0,!0)!==0)break e;h.timeoutHandle=zE(pE.bind(null,h,u,Hi,Hp,ly,o,xs,ku,$c,pl,w,2,-0,0),y);break e}pE(h,u,Hi,Hp,ly,o,xs,ku,$c,pl,w,0,-0,0)}}break}while(!0);Ca(s)}function pE(s,o,u,h,y,w,V,G,te,pe,Ce,De,ge,ye){if(s.timeoutHandle=-1,De=o.subtreeFlags,(De&8192||(De&16785408)===16785408)&&($h={stylesheets:null,count:0,unsuspend:rk},oE(o),De=sk(),De!==null)){s.cancelPendingCommit=De(wE.bind(null,s,o,w,u,h,y,V,G,te,Ce,1,ge,ye)),yl(s,w,V,!pe);return}wE(s,o,w,u,h,y,V,G,te)}function E2(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],w=y.getSnapshot;y=y.value;try{if(!Dn(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function yl(s,o,u,h){o&=~oy,o&=~ku,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var y=o;0<y;){var w=31-Nt(y),V=1<<w;h[w]=-1,y&=~V}u!==0&&Qn(s,u,o)}function qp(){return(pn&6)===0?(Bh(0),!1):!0}function fy(){if(kt!==null){if(mn===0)var s=kt.return;else s=kt,bs=po=null,wh(s),Fc=null,Mh=0,s=kt;for(;s!==null;)Ww(s.alternate,s),s=s.return;kt=null}}function Qc(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,B2(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),fy(),Rn=s,kt=u=Qs(s.current,null),Yt=o,mn=0,is=null,pl=!1,Yc=ei(s,o),ay=!1,$c=xs=oy=ku=ml=tr=0,Hi=jh=null,ly=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var y=31-Nt(h),w=1<<y;o|=s[y],h&=~w}return wo=o,Cc(),u}function mE(s,o){nt=null,U.H=kp,o===q||o===R?(o=Ie(),mn=3):o===_?(o=Ie(),mn=4):mn=o===Ow?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,is=o,kt===null&&(tr=1,Pp(s,Ui(o,s.current)))}function gE(){var s=U.H;return U.H=kp,s===null?kp:s}function vE(){var s=U.A;return U.A=b2,s}function py(){tr=4,pl||(Yt&4194048)!==Yt&&Cs.current!==null||(Yc=!0),(ml&134217727)===0&&(ku&134217727)===0||Rn===null||yl(Rn,Yt,xs,!1)}function my(s,o,u){var h=pn;pn|=2;var y=gE(),w=vE();(Rn!==s||Yt!==o)&&(Hp=null,Qc(s,o)),o=!1;var V=tr;e:do try{if(mn!==0&&kt!==null){var G=kt,te=is;switch(mn){case 8:fy(),V=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(o=!0);var pe=mn;if(mn=0,is=null,Kc(s,G,te,pe),u&&Yc){V=0;break e}break;default:pe=mn,mn=0,is=null,Kc(s,G,te,pe)}}T2(),V=tr;break}catch(Ce){mE(s,Ce)}while(!0);return o&&s.shellSuspendCounter++,bs=po=null,pn=h,U.H=y,U.A=w,kt===null&&(Rn=null,Yt=0,Cc()),V}function T2(){for(;kt!==null;)yE(kt)}function S2(s,o){var u=pn;pn|=2;var h=gE(),y=vE();Rn!==s||Yt!==o?(Hp=null,zp=Fe()+500,Qc(s,o)):Yc=ei(s,o);e:do try{if(mn!==0&&kt!==null){o=kt;var w=is;t:switch(mn){case 1:mn=0,is=null,Kc(s,o,w,1);break;case 2:case 9:if(le(w)){mn=0,is=null,_E(o);break}o=function(){mn!==2&&mn!==9||Rn!==s||(mn=7),Ca(s)},w.then(o,o);break e;case 3:mn=7;break e;case 4:mn=5;break e;case 7:le(w)?(mn=0,is=null,_E(o)):(mn=0,is=null,Kc(s,o,w,7));break;case 5:var V=null;switch(kt.tag){case 26:V=kt.memoizedState;case 5:case 27:var G=kt;if(!V||e1(V)){mn=0,is=null;var te=G.sibling;if(te!==null)kt=te;else{var pe=G.return;pe!==null?(kt=pe,Yp(pe)):kt=null}break t}}mn=0,is=null,Kc(s,o,w,5);break;case 6:mn=0,is=null,Kc(s,o,w,6);break;case 8:fy(),tr=6;break e;default:throw Error(n(462))}}C2();break}catch(Ce){mE(s,Ce)}while(!0);return bs=po=null,U.H=h,U.A=y,pn=u,kt!==null?0:(Rn=null,Yt=0,Cc(),tr)}function C2(){for(;kt!==null&&!ke();)yE(kt)}function yE(s){var o=Yw(s.alternate,s,wo);s.memoizedProps=s.pendingProps,o===null?Yp(s):kt=o}function _E(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Vw(u,o,o.pendingProps,o.type,void 0,Yt);break;case 11:o=Vw(u,o,o.pendingProps,o.type.render,o.ref,Yt);break;case 5:wh(o);default:Ww(u,o),o=kt=Dc(o,wo),o=Yw(u,o,wo)}s.memoizedProps=s.pendingProps,o===null?Yp(s):kt=o}function Kc(s,o,u,h){bs=po=null,wh(o),Fc=null,Mh=0;var y=o.return;try{if(p2(s,y,o,u,Yt)){tr=1,Pp(s,Ui(u,s.current)),kt=null;return}}catch(w){if(y!==null)throw kt=y,w;tr=1,Pp(s,Ui(u,s.current)),kt=null;return}o.flags&32768?(Gt||h===1?s=!0:Yc||(Yt&536870912)!==0?s=!1:(pl=s=!0,(h===2||h===9||h===3||h===6)&&(h=Cs.current,h!==null&&h.tag===13&&(h.flags|=16384))),bE(o,s)):Yp(o)}function Yp(s){var o=s;do{if((o.flags&32768)!==0){bE(o,pl);return}s=o.return;var u=g2(o.alternate,o,wo);if(u!==null){kt=u;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=s}while(o!==null);tr===0&&(tr=5)}function bE(s,o){do{var u=v2(s.alternate,s);if(u!==null){u.flags&=32767,kt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){kt=s;return}kt=s=u}while(s!==null);tr=6,kt=null}function wE(s,o,u,h,y,w,V,G,te){s.cancelPendingCommit=null;do $p();while(Wr!==0);if((pn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=uh,sr(s,u,w,V,G,te),s===Rn&&(kt=Rn=null,Yt=0),Wc=o,vl=s,Gc=u,cy=w,dy=y,dE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,R2(ct,function(){return xE(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,y=B.p,B.p=2,V=pn,pn|=4;try{y2(s,o,u)}finally{pn=V,B.p=y,U.T=h}}Wr=1,EE(),TE(),SE()}}function EE(){if(Wr===1){Wr=0;var s=vl,o=Wc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var h=B.p;B.p=2;var y=pn;pn|=4;try{iE(o,s);var w=Ay,V=fp(s.containerInfo),G=w.focusedElem,te=w.selectionRange;if(V!==G&&G&&G.ownerDocument&&eh(G.ownerDocument.documentElement,G)){if(te!==null&&th(G)){var pe=te.start,Ce=te.end;if(Ce===void 0&&(Ce=pe),"selectionStart"in G)G.selectionStart=pe,G.selectionEnd=Math.min(Ce,G.value.length);else{var De=G.ownerDocument||document,ge=De&&De.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),ot=G.textContent.length,rt=Math.min(te.start,ot),wn=te.end===void 0?rt:Math.min(te.end,ot);!ye.extend&&rt>wn&&(V=wn,wn=rt,rt=V);var de=Jd(G,rt),ae=Jd(G,wn);if(de&&ae&&(ye.rangeCount!==1||ye.anchorNode!==de.node||ye.anchorOffset!==de.offset||ye.focusNode!==ae.node||ye.focusOffset!==ae.offset)){var fe=De.createRange();fe.setStart(de.node,de.offset),ye.removeAllRanges(),rt>wn?(ye.addRange(fe),ye.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),ye.addRange(fe))}}}}for(De=[],ye=G;ye=ye.parentNode;)ye.nodeType===1&&De.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<De.length;G++){var xe=De[G];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}im=!!xy,Ay=xy=null}finally{pn=y,B.p=h,U.T=u}}s.current=o,Wr=2}}function TE(){if(Wr===2){Wr=0;var s=vl,o=Wc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var h=B.p;B.p=2;var y=pn;pn|=4;try{eE(s,o.alternate,o)}finally{pn=y,B.p=h,U.T=u}}Wr=3}}function SE(){if(Wr===4||Wr===3){Wr=0,$e();var s=vl,o=Wc,u=Gc,h=dE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Wr=5:(Wr=0,Wc=vl=null,CE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(gl=null),xn(u),o=o.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(dt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=U.T,y=B.p,B.p=2,U.T=null;try{for(var w=s.onRecoverableError,V=0;V<h.length;V++){var G=h[V];w(G.value,{componentStack:G.stack})}}finally{U.T=o,B.p=y}}(Gc&3)!==0&&$p(),Ca(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===hy?Vh++:(Vh=0,hy=s):Vh=0,Bh(0)}}function CE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Tu(o)))}function $p(s){return EE(),TE(),SE(),xE()}function xE(){if(Wr!==5)return!1;var s=vl,o=cy;cy=0;var u=xn(Gc),h=U.T,y=B.p;try{B.p=32>u?32:u,U.T=null,u=dy,dy=null;var w=vl,V=Gc;if(Wr=0,Wc=vl=null,Gc=0,(pn&6)!==0)throw Error(n(331));var G=pn;if(pn|=4,uE(w.current),aE(w,w.current,V,u),pn=G,Bh(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(dt,w)}catch{}return!0}finally{B.p=y,U.T=h,CE(s,o)}}function AE(s,o,u){o=Ui(u,o),o=qv(s.stateNode,o,2),s=et(s,o,2),s!==null&&(jn(s,2),Ca(s))}function Tn(s,o,u){if(s.tag===3)AE(s,s,u);else for(;o!==null;){if(o.tag===3){AE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gl===null||!gl.has(h))){s=Ui(u,s),u=kw(2),h=et(o,u,2),h!==null&&(Lw(u,h,o,s),jn(h,2),Ca(h));break}}o=o.return}}function gy(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new w2;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(ay=!0,y.add(u),s=x2.bind(null,s,o,u),o.then(s,s))}function x2(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Rn===s&&(Yt&u)===u&&(tr===4||tr===3&&(Yt&62914560)===Yt&&300>Fe()-uy?(pn&2)===0&&Qc(s,0):oy|=u,$c===Yt&&($c=0)),Ca(s)}function DE(s,o){o===0&&(o=vr()),s=el(s,o),s!==null&&(jn(s,o),Ca(s))}function A2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),DE(s,u)}function D2(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),DE(s,u)}function R2(s,o){return Ee(s,o)}var Wp=null,Xc=null,vy=!1,Gp=!1,yy=!1,Lu=0;function Ca(s){s!==Xc&&s.next===null&&(Xc===null?Wp=Xc=s:Xc=Xc.next=s),Gp=!0,vy||(vy=!0,k2())}function Bh(s,o){if(!yy&&Gp){yy=!0;do for(var u=!1,h=Wp;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var V=h.suspendedLanes,G=h.pingedLanes;w=(1<<31-Nt(42|s)+1)-1,w&=y&~(V&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,LE(h,w))}else w=Yt,w=hi(h,h===Rn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||ei(h,w)||(u=!0,LE(h,w));h=h.next}while(u);yy=!1}}function M2(){RE()}function RE(){Gp=vy=!1;var s=0;Lu!==0&&(V2()&&(s=Lu),Lu=0);for(var o=Fe(),u=null,h=Wp;h!==null;){var y=h.next,w=ME(h,o);w===0?(h.next=null,u===null?Wp=y:u.next=y,y===null&&(Xc=u)):(u=h,(s!==0||(w&3)!==0)&&(Gp=!0)),h=y}Bh(s)}function ME(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var V=31-Nt(w),G=1<<V,te=y[V];te===-1?((G&u)===0||(G&h)!==0)&&(y[V]=Ri(G,o)):te<=o&&(s.expiredLanes|=G),w&=~G}if(o=Rn,u=Yt,u=hi(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===o&&(mn===2||mn===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ne(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ei(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(h!==null&&Ne(h),xn(u)){case 2:case 8:u=Wt;break;case 32:u=ct;break;case 268435456:u=Et;break;default:u=ct}return h=kE.bind(null,s),u=Ee(u,h),s.callbackPriority=o,s.callbackNode=u,o}return h!==null&&h!==null&&Ne(h),s.callbackPriority=2,s.callbackNode=null,2}function kE(s,o){if(Wr!==0&&Wr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if($p()&&s.callbackNode!==u)return null;var h=Yt;return h=hi(s,s===Rn?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(fE(s,h,o),ME(s,Fe()),s.callbackNode!=null&&s.callbackNode===u?kE.bind(null,s):null)}function LE(s,o){if($p())return null;fE(s,o,!0)}function k2(){F2(function(){(pn&6)!==0?Ee(_t,M2):RE()})}function _y(){return Lu===0&&(Lu=ti()),Lu}function OE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:qs(""+s)}function IE(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function L2(s,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var w=OE((y[Kn]||null).action),V=h.submitter;V&&(o=(o=V[Kn]||null)?OE(o.formAction):V.getAttribute("formAction"),o!==null&&(w=o,V=null));var G=new Za("action","action",null,h,y);s.push({event:G,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Lu!==0){var te=V?IE(y,V):new FormData(y);Vv(u,{pending:!0,data:te,method:y.method,action:w},null,te)}}else typeof w=="function"&&(G.preventDefault(),te=V?IE(y,V):new FormData(y),Vv(u,{pending:!0,data:te,method:y.method,action:w},w,te))},currentTarget:y}]})}}for(var by=0;by<oh.length;by++){var wy=oh[by],O2=wy.toLowerCase(),I2=wy[0].toUpperCase()+wy.slice(1);Pi(O2,"on"+I2)}Pi(sh,"onAnimationEnd"),Pi(pp,"onAnimationIteration"),Pi(ah,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(mp,"onTransitionRun"),Pi(gp,"onTransitionStart"),Pi(vp,"onTransitionCancel"),Pi(yp,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function NE(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],y=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var V=h.length-1;0<=V;V--){var G=h[V],te=G.instance,pe=G.currentTarget;if(G=G.listener,te!==w&&y.isPropagationStopped())break e;w=G,y.currentTarget=pe;try{w(y)}catch(Ce){Np(Ce)}y.currentTarget=null,w=te}else for(V=0;V<h.length;V++){if(G=h[V],te=G.instance,pe=G.currentTarget,G=G.listener,te!==w&&y.isPropagationStopped())break e;w=G,y.currentTarget=pe;try{w(y)}catch(Ce){Np(Ce)}y.currentTarget=null,w=te}}}}function Lt(s,o){var u=o[Wa];u===void 0&&(u=o[Wa]=new Set);var h=s+"__bubble";u.has(h)||(PE(o,s,2,!1),u.add(h))}function Ey(s,o,u){var h=0;o&&(h|=4),PE(u,s,h,o)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function Ty(s){if(!s[Qp]){s[Qp]=!0,ar.forEach(function(u){u!=="selectionchange"&&(N2.has(u)||Ey(u,!1,s),Ey(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Qp]||(o[Qp]=!0,Ey("selectionchange",!1,o))}}function PE(s,o,u,h){switch(a1(o)){case 2:var y=lk;break;case 8:y=uk;break;default:y=Uy}u=y.bind(null,o,u,s),y=void 0,!vi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Sy(s,o,u,h,y){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var V=h.tag;if(V===3||V===4){var G=h.stateNode.containerInfo;if(G===y)break;if(V===4)for(V=h.return;V!==null;){var te=V.tag;if((te===3||te===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;G!==null;){if(V=Us(G),V===null)return;if(te=V.tag,te===5||te===6||te===26||te===27){h=w=V;continue e}G=G.parentNode}}h=h.return}uu(function(){var pe=w,Ce=Dr(u),De=[];e:{var ge=_p.get(s);if(ge!==void 0){var ye=Za,ot=s;switch(s){case"keypress":if(ps(u)===0)break e;case"keydown":case"keyup":ye=Ni;break;case"focusin":ot="focus",ye=no;break;case"focusout":ot="blur",ye=no;break;case"beforeblur":case"afterblur":ye=no;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=_i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=vc;break;case sh:case pp:case ah:ye=io;break;case yp:ye=_c;break;case"scroll":case"scrollend":ye=Wo;break;case"wheel":ye=ao;break;case"copy":case"cut":case"paste":ye=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=hu;break;case"toggle":case"beforetoggle":ye=wc}var rt=(o&4)!==0,wn=!rt&&(s==="scroll"||s==="scrollend"),de=rt?ge!==null?ge+"Capture":null:ge;rt=[];for(var ae=pe,fe;ae!==null;){var xe=ae;if(fe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||fe===null||de===null||(xe=Ii(ae,de),xe!=null&&rt.push(zh(ae,xe,fe))),wn)break;ae=ae.return}0<rt.length&&(ge=new ye(ge,ot,null,u,Ce),De.push({event:ge,listeners:rt}))}}if((o&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ge&&u!==hs&&(ot=u.relatedTarget||u.fromElement)&&(Us(ot)||ot[Mi]))break e;if((ye||ge)&&(ge=Ce.window===Ce?Ce:(ge=Ce.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(ot=u.relatedTarget||u.toElement,ye=pe,ot=ot?Us(ot):null,ot!==null&&(wn=a(ot),rt=ot.tag,ot!==wn||rt!==5&&rt!==27&&rt!==6)&&(ot=null)):(ye=null,ot=pe),ye!==ot)){if(rt=_i,xe="onMouseLeave",de="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(rt=hu,xe="onPointerLeave",de="onPointerEnter",ae="pointer"),wn=ye==null?ge:An(ye),fe=ot==null?ge:An(ot),ge=new rt(xe,ae+"leave",ye,u,Ce),ge.target=wn,ge.relatedTarget=fe,xe=null,Us(Ce)===pe&&(rt=new rt(de,ae+"enter",ot,u,Ce),rt.target=fe,rt.relatedTarget=wn,xe=rt),wn=xe,ye&&ot)t:{for(rt=ye,de=ot,ae=0,fe=rt;fe;fe=Zc(fe))ae++;for(fe=0,xe=de;xe;xe=Zc(xe))fe++;for(;0<ae-fe;)rt=Zc(rt),ae--;for(;0<fe-ae;)de=Zc(de),fe--;for(;ae--;){if(rt===de||de!==null&&rt===de.alternate)break t;rt=Zc(rt),de=Zc(de)}rt=null}else rt=null;ye!==null&&UE(De,ge,ye,rt,!1),ot!==null&&wn!==null&&UE(De,wn,ot,rt,!0)}}e:{if(ge=pe?An(pe):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var Qe=mu;else if(Zn(ge))if(ap)Qe=dp;else{Qe=cp;var At=up}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&mi(pe.elementType)&&(Qe=mu):Qe=Tc;if(Qe&&(Qe=Qe(s,pe))){vs(De,Qe,u,Ce);break e}At&&At(s,ge,pe),s==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&ii(ge,"number",ge.value)}switch(At=pe?An(pe):window,s){case"focusin":(Zn(At)||At.contentEditable==="true")&&(Xo=At,nh=pe,vu=null);break;case"focusout":vu=nh=Xo=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,rh(De,u,Ce);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":rh(De,u,Ce)}var Ze;if(Mr)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Pt?_e(s,u)&&(it="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(it="onCompositionStart");it&&(N&&u.locale!=="ko"&&(Pt||it!=="onCompositionStart"?it==="onCompositionEnd"&&Pt&&(Ze=pa()):(yi=Ce,fs="value"in yi?yi.value:yi.textContent,Pt=!0)),At=Kp(pe,it),0<At.length&&(it=new Qo(it,s,null,u,Ce),De.push({event:it,listeners:At}),Ze?it.data=Ze:(Ze=Oe(u),Ze!==null&&(it.data=Ze)))),(Ze=A?lr(s,u):Ut(s,u))&&(it=Kp(pe,"onBeforeInput"),0<it.length&&(At=new Qo("onBeforeInput","beforeinput",null,u,Ce),De.push({event:At,listeners:it}),At.data=Ze)),L2(De,s,pe,u,Ce)}NE(De,o)})}function zh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Kp(s,o){for(var u=o+"Capture",h=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ii(s,u),y!=null&&h.unshift(zh(s,y,w)),y=Ii(s,o),y!=null&&h.push(zh(s,y,w))),s.tag===3)return h;s=s.return}return[]}function Zc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function UE(s,o,u,h,y){for(var w=o._reactName,V=[];u!==null&&u!==h;){var G=u,te=G.alternate,pe=G.stateNode;if(G=G.tag,te!==null&&te===h)break;G!==5&&G!==26&&G!==27||pe===null||(te=pe,y?(pe=Ii(u,w),pe!=null&&V.unshift(zh(u,pe,te))):y||(pe=Ii(u,w),pe!=null&&V.push(zh(u,pe,te)))),u=u.return}V.length!==0&&s.push({event:o,listeners:V})}var P2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function jE(s){return(typeof s=="string"?s:""+s).replace(P2,`
`).replace(U2,"")}function VE(s,o){return o=jE(o),jE(s)===o}function Xp(){}function bn(s,o,u,h,y,w){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||pi(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&pi(s,""+h);break;case"className":ki(s,"class",h);break;case"tabIndex":ki(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(s,u,h);break;case"style":Yo(s,h,w);break;case"data":if(o!=="object"){ki(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=qs(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&bn(s,o,"name",y.name,y,null),bn(s,o,"formEncType",y.formEncType,y,null),bn(s,o,"formMethod",y.formMethod,y,null),bn(s,o,"formTarget",y.formTarget,y,null)):(bn(s,o,"encType",y.encType,y,null),bn(s,o,"method",y.method,y,null),bn(s,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=qs(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Xp);break;case"onScroll":h!=null&&Lt("scroll",s);break;case"onScrollEnd":h!=null&&Lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=qs(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Lt("beforetoggle",s),Lt("toggle",s),zs(s,"popover",h);break;case"xlinkActuate":or(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":or(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":or(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":or(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":or(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":or(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":or(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":or(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":or(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zs(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Qd.get(u)||u,zs(s,u,h))}}function Cy(s,o,u,h,y,w){switch(u){case"style":Yo(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof h=="string"?pi(s,h):(typeof h=="number"||typeof h=="bigint")&&pi(s,""+h);break;case"onScroll":h!=null&&Lt("scroll",s);break;case"onScrollEnd":h!=null&&Lt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=s[Kn]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(o,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,h,y);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):zs(s,u,h)}}}function Gr(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",s),Lt("load",s);var h=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var V=u[w];if(V!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bn(s,o,w,V,u,null)}}y&&bn(s,o,"srcSet",u.srcSet,u,null),h&&bn(s,o,"src",u.src,u,null);return;case"input":Lt("invalid",s);var G=w=V=y=null,te=null,pe=null;for(h in u)if(u.hasOwnProperty(h)){var Ce=u[h];if(Ce!=null)switch(h){case"name":y=Ce;break;case"type":V=Ce;break;case"checked":te=Ce;break;case"defaultChecked":pe=Ce;break;case"value":w=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,o));break;default:bn(s,o,h,Ce,u,null)}}Ar(s,w,G,te,pe,V,y,!1),Fr(s);return;case"select":Lt("invalid",s),h=V=w=null;for(y in u)if(u.hasOwnProperty(y)&&(G=u[y],G!=null))switch(y){case"value":w=G;break;case"defaultValue":V=G;break;case"multiple":h=G;default:bn(s,o,y,G,u,null)}o=w,u=V,s.multiple=!!h,o!=null?Li(s,!!h,o,!1):u!=null&&Li(s,!!h,u,!0);return;case"textarea":Lt("invalid",s),w=y=h=null;for(V in u)if(u.hasOwnProperty(V)&&(G=u[V],G!=null))switch(V){case"value":h=G;break;case"defaultValue":y=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:bn(s,o,V,G,u,null)}Hs(s,h,y,w),Fr(s);return;case"option":for(te in u)if(u.hasOwnProperty(te)&&(h=u[te],h!=null))switch(te){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:bn(s,o,te,h,u,null)}return;case"dialog":Lt("beforetoggle",s),Lt("toggle",s),Lt("cancel",s),Lt("close",s);break;case"iframe":case"object":Lt("load",s);break;case"video":case"audio":for(h=0;h<Fh.length;h++)Lt(Fh[h],s);break;case"image":Lt("error",s),Lt("load",s);break;case"details":Lt("toggle",s);break;case"embed":case"source":case"link":Lt("error",s),Lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in u)if(u.hasOwnProperty(pe)&&(h=u[pe],h!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bn(s,o,pe,h,u,null)}return;default:if(mi(o)){for(Ce in u)u.hasOwnProperty(Ce)&&(h=u[Ce],h!==void 0&&Cy(s,o,Ce,h,u,void 0));return}}for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null&&bn(s,o,G,h,u,null))}function j2(s,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,V=null,G=null,te=null,pe=null,Ce=null;for(ye in u){var De=u[ye];if(u.hasOwnProperty(ye)&&De!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=De;default:h.hasOwnProperty(ye)||bn(s,o,ye,null,h,De)}}for(var ge in h){var ye=h[ge];if(De=u[ge],h.hasOwnProperty(ge)&&(ye!=null||De!=null))switch(ge){case"type":w=ye;break;case"name":y=ye;break;case"checked":pe=ye;break;case"defaultChecked":Ce=ye;break;case"value":V=ye;break;case"defaultValue":G=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==De&&bn(s,o,ge,ye,h,De)}}zr(s,V,G,te,pe,Ce,w,y);return;case"select":ye=V=G=ge=null;for(w in u)if(te=u[w],u.hasOwnProperty(w)&&te!=null)switch(w){case"value":break;case"multiple":ye=te;default:h.hasOwnProperty(w)||bn(s,o,w,null,h,te)}for(y in h)if(w=h[y],te=u[y],h.hasOwnProperty(y)&&(w!=null||te!=null))switch(y){case"value":ge=w;break;case"defaultValue":G=w;break;case"multiple":V=w;default:w!==te&&bn(s,o,y,w,h,te)}o=G,u=V,h=ye,ge!=null?Li(s,!!u,ge,!1):!!h!=!!u&&(o!=null?Li(s,!!u,o,!0):Li(s,!!u,u?[]:"",!1));return;case"textarea":ye=ge=null;for(G in u)if(y=u[G],u.hasOwnProperty(G)&&y!=null&&!h.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:bn(s,o,G,null,h,y)}for(V in h)if(y=h[V],w=u[V],h.hasOwnProperty(V)&&(y!=null||w!=null))switch(V){case"value":ge=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&bn(s,o,V,y,h,w)}Ft(s,ge,ye);return;case"option":for(var ot in u)if(ge=u[ot],u.hasOwnProperty(ot)&&ge!=null&&!h.hasOwnProperty(ot))switch(ot){case"selected":s.selected=!1;break;default:bn(s,o,ot,null,h,ge)}for(te in h)if(ge=h[te],ye=u[te],h.hasOwnProperty(te)&&ge!==ye&&(ge!=null||ye!=null))switch(te){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:bn(s,o,te,ge,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in u)ge=u[rt],u.hasOwnProperty(rt)&&ge!=null&&!h.hasOwnProperty(rt)&&bn(s,o,rt,null,h,ge);for(pe in h)if(ge=h[pe],ye=u[pe],h.hasOwnProperty(pe)&&ge!==ye&&(ge!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:bn(s,o,pe,ge,h,ye)}return;default:if(mi(o)){for(var wn in u)ge=u[wn],u.hasOwnProperty(wn)&&ge!==void 0&&!h.hasOwnProperty(wn)&&Cy(s,o,wn,void 0,h,ge);for(Ce in h)ge=h[Ce],ye=u[Ce],!h.hasOwnProperty(Ce)||ge===ye||ge===void 0&&ye===void 0||Cy(s,o,Ce,ge,h,ye);return}}for(var de in u)ge=u[de],u.hasOwnProperty(de)&&ge!=null&&!h.hasOwnProperty(de)&&bn(s,o,de,null,h,ge);for(De in h)ge=h[De],ye=u[De],!h.hasOwnProperty(De)||ge===ye||ge==null&&ye==null||bn(s,o,De,ge,h,ye)}var xy=null,Ay=null;function Zp(s){return s.nodeType===9?s:s.ownerDocument}function BE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Dy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ry=null;function V2(){var s=window.event;return s&&s.type==="popstate"?s===Ry?!1:(Ry=s,!0):(Ry=null,!1)}var zE=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,HE=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof HE<"u"?function(s){return HE.resolve(null).then(s).catch(z2)}:zE;function z2(s){setTimeout(function(){throw s})}function _l(s){return s==="head"}function qE(s,o){var u=o,h=0,y=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<h&&8>h){u=h;var V=s.ownerDocument;if(u&1&&Hh(V.documentElement),u&2&&Hh(V.body),u&4)for(u=V.head,Hh(u),V=u.firstChild;V;){var G=V.nextSibling,te=V.nodeName;V[Ps]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=G}}if(y===0){s.removeChild(w),Xh(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:h=u.charCodeAt(0)-48;else h=0;u=w}while(u);Xh(o)}function My(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":My(u),ha(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function H2(s,o,u,h){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ps])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=ea(s.nextSibling),s===null)break}return null}function q2(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=ea(s.nextSibling),s===null))return null;return s}function ky(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Y2(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ea(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Ly=null;function YE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function $E(s,o,u){switch(o=Zp(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Hh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ha(s)}var As=new Map,WE=new Set;function Jp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Eo=B.d;B.d={f:$2,r:W2,D:G2,C:Q2,L:K2,m:X2,X:J2,S:Z2,M:ek};function $2(){var s=Eo.f(),o=qp();return s||o}function W2(s){var o=Vr(s);o!==null&&o.tag===5&&o.type==="form"?fw(o):Eo.r(s)}var Jc=typeof document>"u"?null:document;function GE(s,o,u){var h=Jc;if(h&&typeof o=="string"&&o){var y=Vn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),WE.has(y)||(WE.add(y),s={rel:s,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Gr(o,"link",s),Bt(o),h.head.appendChild(o)))}}function G2(s){Eo.D(s),GE("dns-prefetch",s,null)}function Q2(s,o){Eo.C(s,o),GE("preconnect",s,o)}function K2(s,o,u){Eo.L(s,o,u);var h=Jc;if(h&&s&&o){var y='link[rel="preload"][as="'+Vn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Vn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Vn(u.imageSizes)+'"]')):y+='[href="'+Vn(s)+'"]';var w=y;switch(o){case"style":w=ed(s);break;case"script":w=td(s)}As.has(w)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),As.set(w,s),h.querySelector(y)!==null||o==="style"&&h.querySelector(qh(w))||o==="script"&&h.querySelector(Yh(w))||(o=h.createElement("link"),Gr(o,"link",s),Bt(o),h.head.appendChild(o)))}}function X2(s,o){Eo.m(s,o);var u=Jc;if(u&&s){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Vn(h)+'"][href="'+Vn(s)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=td(s)}if(!As.has(w)&&(s=p({rel:"modulepreload",href:s},o),As.set(w,s),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yh(w)))return}h=u.createElement("link"),Gr(h,"link",s),Bt(h),u.head.appendChild(h)}}}function Z2(s,o,u){Eo.S(s,o,u);var h=Jc;if(h&&s){var y=dn(h).hoistableStyles,w=ed(s);o=o||"default";var V=y.get(w);if(!V){var G={loading:0,preload:null};if(V=h.querySelector(qh(w)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=As.get(w))&&Oy(s,u);var te=V=h.createElement("link");Bt(te),Gr(te,"link",s),te._p=new Promise(function(pe,Ce){te.onload=pe,te.onerror=Ce}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,em(V,o,h)}V={type:"stylesheet",instance:V,count:1,state:G},y.set(w,V)}}}function J2(s,o){Eo.X(s,o);var u=Jc;if(u&&s){var h=dn(u).hoistableScripts,y=td(s),w=h.get(y);w||(w=u.querySelector(Yh(y)),w||(s=p({src:s,async:!0},o),(o=As.get(y))&&Iy(s,o),w=u.createElement("script"),Bt(w),Gr(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function ek(s,o){Eo.M(s,o);var u=Jc;if(u&&s){var h=dn(u).hoistableScripts,y=td(s),w=h.get(y);w||(w=u.querySelector(Yh(y)),w||(s=p({src:s,async:!0,type:"module"},o),(o=As.get(y))&&Iy(s,o),w=u.createElement("script"),Bt(w),Gr(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function QE(s,o,u,h){var y=(y=we.current)?Jp(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ed(u.href),u=dn(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=ed(u.href);var w=dn(y).hoistableStyles,V=w.get(s);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,V),(w=y.querySelector(qh(s)))&&!w._p&&(V.instance=w,V.state.loading=5),As.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},As.set(s,u),w||tk(y,s,u,V.state))),o&&h===null)throw Error(n(528,""));return V}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=td(u),u=dn(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function ed(s){return'href="'+Vn(s)+'"'}function qh(s){return'link[rel="stylesheet"]['+s+"]"}function KE(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function tk(s,o,u,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Gr(o,"link",u),Bt(o),s.head.appendChild(o))}function td(s){return'[src="'+Vn(s)+'"]'}function Yh(s){return"script[async]"+s}function XE(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Vn(u.href)+'"]');if(h)return o.instance=h,Bt(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Bt(h),Gr(h,"style",y),em(h,u.precedence,s),o.instance=h;case"stylesheet":y=ed(u.href);var w=s.querySelector(qh(y));if(w)return o.state.loading|=4,o.instance=w,Bt(w),w;h=KE(u),(y=As.get(y))&&Oy(h,y),w=(s.ownerDocument||s).createElement("link"),Bt(w);var V=w;return V._p=new Promise(function(G,te){V.onload=G,V.onerror=te}),Gr(w,"link",h),o.state.loading|=4,em(w,u.precedence,s),o.instance=w;case"script":return w=td(u.src),(y=s.querySelector(Yh(w)))?(o.instance=y,Bt(y),y):(h=u,(y=As.get(w))&&(h=p({},u),Iy(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),Bt(y),Gr(y,"link",h),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,em(h,u.precedence,s));return o.instance}function em(s,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,V=0;V<h.length;V++){var G=h[V];if(G.dataset.precedence===o)w=G;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Oy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Iy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var tm=null;function ZE(s,o,u){if(tm===null){var h=new Map,y=tm=new Map;y.set(u,h)}else y=tm,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var w=u[y];if(!(w[Ps]||w[Ge]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(o)||"";V=s+V;var G=h.get(V);G?G.push(w):h.set(V,[w])}}return h}function JE(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function nk(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function e1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var $h=null;function rk(){}function ik(s,o,u){if($h===null)throw Error(n(475));var h=$h;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=ed(u.href),w=s.querySelector(qh(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=nm.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=w,Bt(w);return}w=s.ownerDocument||s,u=KE(u),(y=As.get(y))&&Oy(u,y),w=w.createElement("link"),Bt(w);var V=w;V._p=new Promise(function(G,te){V.onload=G,V.onerror=te}),Gr(w,"link",u),o.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=nm.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function sk(){if($h===null)throw Error(n(475));var s=$h;return s.stylesheets&&s.count===0&&Ny(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&Ny(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function nm(){if(this.count--,this.count===0){if(this.stylesheets)Ny(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rm=null;function Ny(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rm=new Map,o.forEach(ak,s),rm=null,nm.call(s))}function ak(s,o){if(!(o.state.loading&4)){var u=rm.get(s);if(u)var h=u.get(null);else{u=new Map,rm.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var V=y[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),h=V)}h&&u.set(null,h)}y=o.instance,V=y.getAttribute("data-precedence"),w=u.get(V)||h,w===h&&u.set(null,y),u.set(V,y),this.count++,h=nm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Wh={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function ok(s,o,u,h,y,w,V,G){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function t1(s,o,u,h,y,w,V,G,te,pe,Ce,De){return s=new ok(s,o,u,V,G,te,pe,De),o=1,w===!0&&(o|=24),w=bi(3,null,null,o),s.current=w,w.stateNode=s,o=gh(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:o},Ue(w),s}function n1(s){return s?(s=tl,s):tl}function r1(s,o,u,h,y,w){y=n1(y),h.context===null?h.context=y:h.pendingContext=y,h=Xe(o),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=et(s,h,o),u!==null&&(as(u,s,o),tt(u,s,o))}function i1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Py(s,o){i1(s,o),(s=s.alternate)&&i1(s,o)}function s1(s){if(s.tag===13){var o=el(s,67108864);o!==null&&as(o,s,67108864),Py(s,67108864)}}var im=!0;function lk(s,o,u,h){var y=U.T;U.T=null;var w=B.p;try{B.p=2,Uy(s,o,u,h)}finally{B.p=w,U.T=y}}function uk(s,o,u,h){var y=U.T;U.T=null;var w=B.p;try{B.p=8,Uy(s,o,u,h)}finally{B.p=w,U.T=y}}function Uy(s,o,u,h){if(im){var y=jy(h);if(y===null)Sy(s,o,h,sm,u),o1(s,h);else if(dk(y,s,o,u,h))h.stopPropagation();else if(o1(s,h),o&4&&-1<ck.indexOf(s)){for(;y!==null;){var w=Vr(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=Cn(w.pendingLanes);if(V!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;V;){var te=1<<31-Nt(V);G.entanglements[1]|=te,V&=~te}Ca(w),(pn&6)===0&&(zp=Fe()+500,Bh(0))}}break;case 13:G=el(w,2),G!==null&&as(G,w,2),qp(),Py(w,2)}if(w=jy(h),w===null&&Sy(s,o,h,sm,u),w===y)break;y=w}y!==null&&h.stopPropagation()}else Sy(s,o,h,null,u)}}function jy(s){return s=Dr(s),Vy(s)}var sm=null;function Vy(s){if(sm=null,s=Us(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return sm=s,null}function a1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case _t:return 2;case Wt:return 8;case ct:case cn:return 32;case Et:return 268435456;default:return 32}default:return 32}}var By=!1,bl=null,wl=null,El=null,Gh=new Map,Qh=new Map,Tl=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o1(s,o){switch(s){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Gh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(o.pointerId)}}function Kh(s,o,u,h,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Vr(o),o!==null&&s1(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function dk(s,o,u,h,y){switch(o){case"focusin":return bl=Kh(bl,s,o,u,h,y),!0;case"dragenter":return wl=Kh(wl,s,o,u,h,y),!0;case"mouseover":return El=Kh(El,s,o,u,h,y),!0;case"pointerover":var w=y.pointerId;return Gh.set(w,Kh(Gh.get(w)||null,s,o,u,h,y)),!0;case"gotpointercapture":return w=y.pointerId,Qh.set(w,Kh(Qh.get(w)||null,s,o,u,h,y)),!0}return!1}function l1(s){var o=Us(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Fo(s.priority,function(){if(u.tag===13){var h=ss();h=ni(h);var y=el(u,h);y!==null&&as(y,u,h),Py(u,h)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function am(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=jy(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);hs=h,u.target.dispatchEvent(h),hs=null}else return o=Vr(u),o!==null&&s1(o),s.blockedOn=u,!1;o.shift()}return!0}function u1(s,o,u){am(s)&&u.delete(o)}function hk(){By=!1,bl!==null&&am(bl)&&(bl=null),wl!==null&&am(wl)&&(wl=null),El!==null&&am(El)&&(El=null),Gh.forEach(u1),Qh.forEach(u1)}function om(s,o){s.blockedOn===o&&(s.blockedOn=null,By||(By=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hk)))}var lm=null;function c1(s){lm!==s&&(lm=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lm===s&&(lm=null);for(var o=0;o<s.length;o+=3){var u=s[o],h=s[o+1],y=s[o+2];if(typeof h!="function"){if(Vy(h||u)===null)continue;break}var w=Vr(u);w!==null&&(s.splice(o,3),o-=3,Vv(w,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Xh(s){function o(te){return om(te,s)}bl!==null&&om(bl,s),wl!==null&&om(wl,s),El!==null&&om(El,s),Gh.forEach(o),Qh.forEach(o);for(var u=0;u<Tl.length;u++){var h=Tl[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Tl.length&&(u=Tl[0],u.blockedOn===null);)l1(u),u.blockedOn===null&&Tl.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],w=u[h+1],V=y[Kn]||null;if(typeof w=="function")V||c1(u);else if(V){var G=null;if(w&&w.hasAttribute("formAction")){if(y=w,V=w[Kn]||null)G=V.formAction;else if(Vy(y)!==null)continue}else G=V.action;typeof G=="function"?u[h+1]=G:(u.splice(h,3),h-=3),c1(u)}}}function Fy(s){this._internalRoot=s}um.prototype.render=Fy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,h=ss();r1(u,h,s,o,null,null)},um.prototype.unmount=Fy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;r1(s.current,2,null,s,null,null),qp(),o[Mi]=null}};function um(s){this._internalRoot=s}um.prototype.unstable_scheduleHydration=function(s){if(s){var o=kn();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Tl.length&&o!==0&&o<Tl[u].priority;u++);Tl.splice(u,0,s),u===0&&l1(s)}};var d1=e.version;if(d1!=="19.1.0")throw Error(n(527,d1,"19.1.0"));B.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var fk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{dt=cm.inject(fk),ht=cm}catch{}}return Jh.createRoot=function(s,o){if(!i(s))throw Error(n(299));var u=!1,h="",y=Aw,w=Dw,V=Rw,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(G=o.unstable_transitionCallbacks)),o=t1(s,1,!1,null,null,u,h,y,w,V,G,null),s[Mi]=o.current,Ty(s),new Fy(o)},Jh.hydrateRoot=function(s,o,u){if(!i(s))throw Error(n(299));var h=!1,y="",w=Aw,V=Dw,G=Rw,te=null,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(te=u.unstable_transitionCallbacks),u.formState!==void 0&&(pe=u.formState)),o=t1(s,1,!0,o,u??null,h,y,w,V,G,te,pe),o.context=n1(null),u=o.current,h=ss(),h=ni(h),y=Xe(h),y.callback=null,et(u,y,h),u=h,o.current.lanes=u,jn(o,u),Ca(o),s[Mi]=o.current,Ty(s),new um(o)},Jh.version="19.1.0",Jh}var w1;function xk(){if(w1)return qy.exports;w1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qy.exports=Ck(),qy.exports}var Ak=xk();const Dk=m0(Ak);var ef={},E1;function Rk(){if(E1)return ef;E1=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.parse=l,ef.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const E=new a,M=v.length;if(M<2)return E;const D=(b==null?void 0:b.decode)||p;let L=0;do{const $=v.indexOf("=",L);if($===-1)break;const Y=v.indexOf(";",L),z=Y===-1?M:Y;if($>z){L=v.lastIndexOf(";",$-1)+1;continue}const W=c(v,L,$),H=d(v,$,W),I=v.slice(W,H);if(E[I]===void 0){let C=c(v,$+1,z),S=d(v,z,C);const k=D(v.slice(C,S));E[I]=k}L=z+1}while(L<M);return E}function c(v,b,E){do{const M=v.charCodeAt(b);if(M!==32&&M!==9)return b}while(++b<E);return E}function d(v,b,E){for(;b>E;){const M=v.charCodeAt(--b);if(M!==32&&M!==9)return b+1}return E}function f(v,b,E){const M=(E==null?void 0:E.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const D=M(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let L=v+"="+D;if(!E)return L;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);L+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);L+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);L+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);L+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(L+="; HttpOnly"),E.secure&&(L+="; Secure"),E.partitioned&&(L+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return L}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return i.call(v)==="[object Date]"}return ef}Rk();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T1="popstate";function Mk(r={}){function e(n,i){let{pathname:a,search:l,hash:c}=n.location;return A_("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Af(i)}return Lk(e,t,null,r)}function zn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function aa(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kk(){return Math.random().toString(36).substring(2,10)}function S1(r,e){return{usr:r.state,key:r.key,idx:e}}function A_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Pd(e):e,state:t,key:e&&e.key||n||kk()}}function Af({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Pd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Lk(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let D=p(),L=D==null?null:D-f;f=D,d&&d({action:c,location:M.location,delta:L})}function v(D,L){c="PUSH";let $=A_(M.location,D,L);f=p()+1;let Y=S1($,f),z=M.createHref($);try{l.pushState(Y,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}a&&d&&d({action:c,location:M.location,delta:1})}function b(D,L){c="REPLACE";let $=A_(M.location,D,L);f=p();let Y=S1($,f),z=M.createHref($);l.replaceState(Y,"",z),a&&d&&d({action:c,location:M.location,delta:0})}function E(D){let L=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof D=="string"?D:Af(D);return $=$.replace(/ $/,"%20"),zn(L,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,L)}let M={get action(){return c},get location(){return r(i,l)},listen(D){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(T1,m),d=D,()=>{i.removeEventListener(T1,m),d=null}},createHref(D){return e(i,D)},createURL:E,encodeLocation(D){let L=E(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:b,go(D){return l.go(D)}};return M}function Ex(r,e,t="/"){return Ok(r,e,t,!1)}function Ok(r,e,t,n){let i=typeof e=="string"?Pd(e):e,a=Io(i.pathname||"/",t);if(a==null)return null;let l=Tx(r);Ik(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Yk(a);c=Hk(l[d],f,n)}return c}function Tx(r,e=[],t=[],n=""){let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(zn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Ao([n,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(zn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Tx(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Fk(f,a.index),routesMeta:p})};return r.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of Sx(a.path))i(a,l,d)}),e}function Sx(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Sx(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function Ik(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zk(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Nk=/^:[\w-]+$/,Pk=3,Uk=2,jk=1,Vk=10,Bk=-2,C1=r=>r==="*";function Fk(r,e){let t=r.split("/"),n=t.length;return t.some(C1)&&(n+=Bk),e&&(n+=Uk),t.filter(i=>!C1(i)).reduce((i,a)=>i+(Nk.test(a)?Pk:a===""?jk:Vk),n)}function zk(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Hk(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=Qm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=Qm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ao([a,m.pathname]),pathnameBase:Qk(Ao([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Ao([a,m.pathnameBase]))}return l}function Qm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=qk(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let E=c[v]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:r}}function qk(r,e=!1,t=!0){aa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yk(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Io(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function $k(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Pd(r):r;return{pathname:t?t.startsWith("/")?t:Wk(t,e):e,search:Kk(n),hash:Xk(i)}}function Wk(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Gy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gk(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v0(r){let e=Gk(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function y0(r,e,t,n=!1){let i;typeof r=="string"?i=Pd(r):(i={...r},zn(!i.pathname||!i.pathname.includes("?"),Gy("?","pathname","search",i)),zn(!i.pathname||!i.pathname.includes("#"),Gy("#","pathname","hash",i)),zn(!i.search||!i.search.includes("#"),Gy("#","search","hash",i)));let a=r===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=$k(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ao=r=>r.join("/").replace(/\/\/+/g,"/"),Qk=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kk=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xk=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zk(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cx=["POST","PUT","PATCH","DELETE"];new Set(Cx);var Jk=["GET",...Cx];new Set(Jk);var Ud=T.createContext(null);Ud.displayName="DataRouter";var $g=T.createContext(null);$g.displayName="DataRouterState";var xx=T.createContext({isTransitioning:!1});xx.displayName="ViewTransition";var eL=T.createContext(new Map);eL.displayName="Fetchers";var tL=T.createContext(null);tL.displayName="Await";var ca=T.createContext(null);ca.displayName="Navigation";var Hf=T.createContext(null);Hf.displayName="Location";var Ns=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var _0=T.createContext(null);_0.displayName="RouteError";function nL(r,{relative:e}={}){zn(jd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(ca),{hash:i,pathname:a,search:l}=qf(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ao([t,a])),n.createHref({pathname:c,search:l,hash:i})}function jd(){return T.useContext(Hf)!=null}function qa(){return zn(jd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Hf).location}var Ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dx(r){T.useContext(ca).static||T.useLayoutEffect(r)}function rc(){let{isDataRoute:r}=T.useContext(Ns);return r?yL():rL()}function rL(){zn(jd(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Ud),{basename:e,navigator:t}=T.useContext(ca),{matches:n}=T.useContext(Ns),{pathname:i}=qa(),a=JSON.stringify(v0(n)),l=T.useRef(!1);return Dx(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(aa(l.current,Ax),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=y0(d,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ao([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,r])}var iL=T.createContext(null);function sL(r){let e=T.useContext(Ns).outlet;return e&&T.createElement(iL.Provider,{value:r},e)}function aL(){let{matches:r}=T.useContext(Ns),e=r[r.length-1];return e?e.params:{}}function qf(r,{relative:e}={}){let{matches:t}=T.useContext(Ns),{pathname:n}=qa(),i=JSON.stringify(v0(t));return T.useMemo(()=>y0(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function oL(r,e){return Rx(r,e)}function Rx(r,e,t,n){var $;zn(jd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=T.useContext(ca),{matches:l}=T.useContext(Ns),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let Y=m&&m.path||"";Mx(f,!m||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let v=qa(),b;if(e){let Y=typeof e=="string"?Pd(e):e;zn(p==="/"||(($=Y.pathname)==null?void 0:$.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),b=Y}else b=v;let E=b.pathname||"/",M=E;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");M="/"+E.replace(/^\//,"").split("/").slice(Y.length).join("/")}let D=!a&&t&&t.matches&&t.matches.length>0?t.matches:Ex(r,{pathname:M});aa(m||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),aa(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=hL(D&&D.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:Ao([p,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:Ao([p,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,t,n);return e&&L?T.createElement(Hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function lL(){let r=vL(),e=Zk(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var uL=T.createElement(lL,null),cL=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?T.createElement(Ns.Provider,{value:this.props.routeContext},T.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dL({routeContext:r,match:e,children:t}){let n=T.useContext(Ud);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ns.Provider,{value:r},t)}function hL(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);zn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,v=!1,b=null,E=null;t&&(m=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||uL,l&&(c<0&&p===0?(Mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):c===p&&(v=!0,E=f.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,p+1)),D=()=>{let L;return m?L=b:v?L=E:f.route.Component?L=T.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,T.createElement(dL,{match:f,routeContext:{outlet:d,matches:M,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(cL,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function b0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fL(r){let e=T.useContext(Ud);return zn(e,b0(r)),e}function pL(r){let e=T.useContext($g);return zn(e,b0(r)),e}function mL(r){let e=T.useContext(Ns);return zn(e,b0(r)),e}function w0(r){let e=mL(r),t=e.matches[e.matches.length-1];return zn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function gL(){return w0("useRouteId")}function vL(){var n;let r=T.useContext(_0),e=pL("useRouteError"),t=w0("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function yL(){let{router:r}=fL("useNavigate"),e=w0("useNavigate"),t=T.useRef(!1);return Dx(()=>{t.current=!0}),T.useCallback(async(i,a={})=>{aa(t.current,Ax),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var x1={};function Mx(r,e,t){!e&&!x1[r]&&(x1[r]=!0,aa(!1,t))}T.memo(_L);function _L({routes:r,future:e,state:t}){return Rx(r,void 0,t,e)}function kx({to:r,replace:e,state:t,relative:n}){zn(jd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ca);aa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Ns),{pathname:l}=qa(),c=rc(),d=y0(r,v0(a),l,n==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:n})},[c,f,n,e,t]),null}function bL(r){return sL(r.context)}function ta(r){zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wL({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){zn(!jd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Pd(t));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=t,b=T.useMemo(()=>{let E=Io(d,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:m,key:v},navigationType:n}},[l,d,f,p,m,v,n]);return aa(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(ca.Provider,{value:c},T.createElement(Hf.Provider,{children:e,value:b}))}function EL({children:r,location:e}){return oL(D_(r),e)}function D_(r,e=[]){let t=[];return T.Children.forEach(r,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){t.push.apply(t,D_(n.props.children,a));return}zn(n.type===ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=D_(n.props.children,a)),t.push(l)}),t}var Rm="get",Mm="application/x-www-form-urlencoded";function Wg(r){return r!=null&&typeof r.tagName=="string"}function TL(r){return Wg(r)&&r.tagName.toLowerCase()==="button"}function SL(r){return Wg(r)&&r.tagName.toLowerCase()==="form"}function CL(r){return Wg(r)&&r.tagName.toLowerCase()==="input"}function xL(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AL(r,e){return r.button===0&&(!e||e==="_self")&&!xL(r)}var dm=null;function DL(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var RL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qy(r){return r!=null&&!RL.has(r)?(aa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mm}"`),null):r}function ML(r,e){let t,n,i,a,l;if(SL(r)){let c=r.getAttribute("action");n=c?Io(c,e):null,t=r.getAttribute("method")||Rm,i=Qy(r.getAttribute("enctype"))||Mm,a=new FormData(r)}else if(TL(r)||CL(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Io(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Rm,i=Qy(r.getAttribute("formenctype"))||Qy(c.getAttribute("enctype"))||Mm,a=new FormData(c,r),!DL()){let{name:f,type:p,value:m}=r;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(Wg(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rm,n=null,i=Mm,l=r}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:l}}function E0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function kL(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LL(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function OL(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await kL(a,t);return l.links?l.links():[]}return[]}));return UL(n.flat(1).filter(LL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function A1(r,e,t,n,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var m;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function IL(r,e,{includeHydrateFallback:t}={}){return NL(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function NL(r){return[...new Set(r)]}function PL(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function UL(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(PL(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function jL(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Io(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Lx(){let r=T.useContext(Ud);return E0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VL(){let r=T.useContext($g);return E0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var T0=T.createContext(void 0);T0.displayName="FrameworkContext";function Ox(){let r=T.useContext(T0);return E0(r,"You must render this element inside a <HydratedRouter> element"),r}function BL(r,e){let t=T.useContext(T0),[n,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=T.useRef(null);T.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let M=L=>{L.forEach($=>{l($.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return v.current&&D.observe(v.current),()=>{D.disconnect()}}},[r]),T.useEffect(()=>{if(n){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[n]);let b=()=>{i(!0)},E=()=>{i(!1),l(!1)};return t?r!=="intent"?[a,v,{}]:[a,v,{onFocus:tf(c,b),onBlur:tf(d,E),onMouseEnter:tf(f,b),onMouseLeave:tf(p,E),onTouchStart:tf(m,b)}]:[!1,v,{}]}function tf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function FL({page:r,...e}){let{router:t}=Lx(),n=T.useMemo(()=>Ex(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?T.createElement(HL,{page:r,matches:n,...e}):null}function zL(r){let{manifest:e,routeModules:t}=Ox(),[n,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return OL(r,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[r,e,t]),n}function HL({page:r,matches:e,...t}){let n=qa(),{manifest:i,routeModules:a}=Ox(),{basename:l}=Lx(),{loaderData:c,matches:d}=VL(),f=T.useMemo(()=>A1(r,e,d,i,n,"data"),[r,e,d,i,n]),p=T.useMemo(()=>A1(r,e,d,i,n,"assets"),[r,e,d,i,n]),m=T.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let E=new Set,M=!1;if(e.forEach(L=>{var Y;let $=i.routes[L.route.id];!$||!$.hasLoader||(!f.some(z=>z.route.id===L.route.id)&&L.route.id in c&&((Y=a[L.route.id])!=null&&Y.shouldRevalidate)||$.hasClientLoader?M=!0:E.add(L.route.id))}),E.size===0)return[];let D=jL(r,l);return M&&E.size>0&&D.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[l,c,n,i,f,e,r,a]),v=T.useMemo(()=>IL(p,i),[p,i]),b=zL(p);return T.createElement(T.Fragment,null,m.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:M})=>T.createElement("link",{key:E,...M})))}function qL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ix&&(window.__reactRouterVersion="7.4.1")}catch{}function YL({basename:r,children:e,window:t}){let n=T.useRef();n.current==null&&(n.current=Mk({window:t,v5Compat:!0}));let i=n.current,[a,l]=T.useState({action:i.action,location:i.location}),c=T.useCallback(d=>{T.startTransition(()=>l(d))},[l]);return T.useLayoutEffect(()=>i.listen(c),[i,c]),T.createElement(wL,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ml=T.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},b){let{basename:E}=T.useContext(ca),M=typeof f=="string"&&Nx.test(f),D,L=!1;if(typeof f=="string"&&M&&(D=f,Ix))try{let S=new URL(window.location.href),k=f.startsWith("//")?new URL(S.protocol+f):new URL(f),P=Io(k.pathname,E);k.origin===S.origin&&P!=null?f=P+k.search+k.hash:L=!0}catch{aa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=nL(f,{relative:i}),[Y,z,W]=BL(n,v),H=QL(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m});function I(S){e&&e(S),S.defaultPrevented||H(S)}let C=T.createElement("a",{...v,...W,href:D||$,onClick:L||a?e:I,ref:qL(b,z),target:d,"data-discover":!M&&t==="render"?"true":void 0});return Y&&!M?T.createElement(T.Fragment,null,C,T.createElement(FL,{page:$})):C});Ml.displayName="Link";var $L=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let m=qf(l,{relative:f.relative}),v=qa(),b=T.useContext($g),{navigator:E,basename:M}=T.useContext(ca),D=b!=null&&eO(m)&&c===!0,L=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,$=v.pathname,Y=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||($=$.toLowerCase(),Y=Y?Y.toLowerCase():null,L=L.toLowerCase()),Y&&M&&(Y=Io(Y,M)||Y);const z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let W=$===L||!i&&$.startsWith(L)&&$.charAt(z)==="/",H=Y!=null&&(Y===L||!i&&Y.startsWith(L)&&Y.charAt(L.length)==="/"),I={isActive:W,isPending:H,isTransitioning:D},C=W?e:void 0,S;typeof n=="function"?S=n(I):S=[n,W?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(I):a;return T.createElement(Ml,{...f,"aria-current":C,className:S,ref:p,style:k,to:l,viewTransition:c},typeof d=="function"?d(I):d)});$L.displayName="NavLink";var WL=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:l=Rm,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},b)=>{let E=ZL(),M=JL(c,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&Nx.test(c),$=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let z=Y.nativeEvent.submitter,W=(z==null?void 0:z.getAttribute("formmethod"))||l;E(z||Y.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:m})};return T.createElement("form",{ref:b,method:D,action:M,onSubmit:n?d:$,...v,"data-discover":!L&&r==="render"?"true":void 0})});WL.displayName="Form";function GL(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Px(r){let e=T.useContext(Ud);return zn(e,GL(r)),e}function QL(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=rc(),d=qa(),f=qf(r,{relative:a});return T.useCallback(p=>{if(AL(p,e)){p.preventDefault();let m=t!==void 0?t:Af(d)===Af(f);c(r,{replace:m,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,t,n,e,r,i,a,l])}var KL=0,XL=()=>`__${String(++KL)}__`;function ZL(){let{router:r}=Px("useSubmit"),{basename:e}=T.useContext(ca),t=gL();return T.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=ML(n,e);if(i.navigate===!1){let p=i.fetcherKey||XL();await r.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function JL(r,{relative:e}={}){let{basename:t}=T.useContext(ca),n=T.useContext(Ns);zn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...qf(r||".",{relative:e})},l=qa();if(r==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ao([t,a.pathname])),Af(a)}function eO(r,e={}){let t=T.useContext(xx);zn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Px("useViewTransitionState"),i=qf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Io(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Io(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Qm(i.pathname,l)!=null||Qm(i.pathname,a)!=null}new TextEncoder;var tu=wx();const tO=m0(tu),Ux=T.createContext();function nO(){return T.useContext(Ux)}function rO({children:r}){const[e,t]=T.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const n=()=>{t(!e)};return x.jsx(Ux.Provider,{value:{darkMode:e,toggleTheme:n},children:r})}const iO=()=>{};var D1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sO=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,f=d?r[i+2]:0,p=a>>2,m=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;d||(b=64,l||(v=64)),n.push(t[p],t[m],t[v],t[b])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sO(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const f=i<r.length?t[r.charAt(i)]:64;++i;const m=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||f==null||m==null)throw new aO;const v=a<<2|c>>4;if(n.push(v),f!==64){const b=c<<4&240|f>>2;if(n.push(b),m!==64){const E=f<<6&192|m;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oO=function(r){const e=jx(r);return Vx.encodeByteArray(e,!0)},Km=function(r){return oO(r).replace(/\./g,"")},Bx=function(r){try{return Vx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=()=>lO().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof D1>"u")return;const r=D1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dO=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Bx(r[1]);return e&&JSON.parse(e)},Gg=()=>{try{return iO()||uO()||cO()||dO()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Fx=r=>{var e,t;return(t=(e=Gg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},zx=r=>{const e=Fx(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Hx=()=>{var r;return(r=Gg())===null||r===void 0?void 0:r.config},qx=r=>{var e;return(e=Gg())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Km(JSON.stringify(t)),Km(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function pO(){var r;const e=(r=Gg())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yO(){const r=di();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _O(){return!pO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="FirebaseError";class Ya extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=EO,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yf.prototype.create)}}class Yf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?TO(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ya(i,c,n)}}function TO(r,e){return r.replace(SO,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const SO=/\{\$([^}]+)}/g;function CO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $u(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],l=e[i];if(R1(a)&&R1(l)){if(!$u(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function R1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function df(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function hf(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function xO(r,e){const t=new AO(r,e);return t.subscribe.bind(t)}class AO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Ky),i.error===void 0&&(i.error=Ky),i.complete===void 0&&(i.complete=Ky);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ky(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new hO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kO(e))try{this.getOrInitializeService({instanceIdentifier:Iu})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Iu){return this.instances.has(e)}getOptions(e=Iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Iu){return this.component?this.component.multipleInstances?e:Iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MO(r){return r===Iu?void 0:r}function kO(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const OO={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},IO=jt.INFO,NO={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},PO=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=NO[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S0{constructor(e){this.name=e,this._logLevel=IO,this._logHandler=PO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const UO=(r,e)=>e.some(t=>r instanceof t);let M1,k1;function jO(){return M1||(M1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,R_=new WeakMap,Wx=new WeakMap,Xy=new WeakMap,C0=new WeakMap;function BO(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(Vl(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&$x.set(t,r)}).catch(()=>{}),C0.set(e,r),e}function FO(r){if(R_.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});R_.set(r,e)}let M_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return R_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Wx.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zO(r){M_=r(M_)}function HO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Zy(this),e,...t);return Wx.set(n,e.sort?e.sort():[e]),Vl(n)}:VO().includes(r)?function(...e){return r.apply(Zy(this),e),Vl($x.get(this))}:function(...e){return Vl(r.apply(Zy(this),e))}}function qO(r){return typeof r=="function"?HO(r):(r instanceof IDBTransaction&&FO(r),UO(r,jO())?new Proxy(r,M_):r)}function Vl(r){if(r instanceof IDBRequest)return BO(r);if(Xy.has(r))return Xy.get(r);const e=qO(r);return e!==r&&(Xy.set(r,e),C0.set(e,r)),e}const Zy=r=>C0.get(r);function YO(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(r,e),c=Vl(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Vl(l.result),d.oldVersion,d.newVersion,Vl(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const $O=["get","getKey","getAll","getAllKeys","count"],WO=["put","add","delete","clear"],Jy=new Map;function L1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=WO.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$O.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return Jy.set(e,a),a}zO(r=>({...r,get:(e,t,n)=>L1(e,t)||r.get(e,t,n),has:(e,t)=>!!L1(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QO(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function QO(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k_="@firebase/app",O1="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new S0("@firebase/app"),KO="@firebase/app-compat",XO="@firebase/analytics-compat",ZO="@firebase/analytics",JO="@firebase/app-check-compat",eI="@firebase/app-check",tI="@firebase/auth",nI="@firebase/auth-compat",rI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",aI="@firebase/functions",oI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",dI="@firebase/messaging-compat",hI="@firebase/performance",fI="@firebase/performance-compat",pI="@firebase/remote-config",mI="@firebase/remote-config-compat",gI="@firebase/storage",vI="@firebase/storage-compat",yI="@firebase/firestore",_I="@firebase/vertexai",bI="@firebase/firestore-compat",wI="firebase",EI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="[DEFAULT]",TI={[k_]:"fire-core",[KO]:"fire-core-compat",[ZO]:"fire-analytics",[XO]:"fire-analytics-compat",[eI]:"fire-app-check",[JO]:"fire-app-check-compat",[tI]:"fire-auth",[nI]:"fire-auth-compat",[rI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[aI]:"fire-fn",[oI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[dI]:"fire-fcm-compat",[hI]:"fire-perf",[fI]:"fire-perf-compat",[pI]:"fire-rc",[mI]:"fire-rc-compat",[gI]:"fire-gcs",[vI]:"fire-gcs-compat",[yI]:"fire-fst",[bI]:"fire-fst-compat",[_I]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map,SI=new Map,O_=new Map;function I1(r,e){try{r.container.addComponent(e)}catch(t){No.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wu(r){const e=r.name;if(O_.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;O_.set(e,r);for(const t of Xm.values())I1(t,r);for(const t of SI.values())I1(t,r);return!0}function Qg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ls(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new Yf("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=EI;function Gx(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:L_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Bl.create("bad-app-name",{appName:String(i)});if(t||(t=Hx()),!t)throw Bl.create("no-options");const a=Xm.get(i);if(a){if($u(t,a.options)&&$u(n,a.config))return a;throw Bl.create("duplicate-app",{appName:i})}const l=new LO(i);for(const d of O_.values())l.addComponent(d);const c=new xI(t,n,l);return Xm.set(i,c),c}function x0(r=L_){const e=Xm.get(r);if(!e&&r===L_&&Hx())return Gx();if(!e)throw Bl.create("no-app",{appName:r});return e}function Ia(r,e,t){var n;let i=(n=TI[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),No.warn(c.join(" "));return}Wu(new $l(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",DI=1,Df="firebase-heartbeat-store";let e_=null;function Qx(){return e_||(e_=YO(AI,DI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Df)}catch(t){console.warn(t)}}}}).catch(r=>{throw Bl.create("idb-open",{originalErrorMessage:r.message})})),e_}async function RI(r){try{const t=(await Qx()).transaction(Df),n=await t.objectStore(Df).get(Kx(r));return await t.done,n}catch(e){if(e instanceof Ya)No.warn(e.message);else{const t=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});No.warn(t.message)}}}async function N1(r,e){try{const n=(await Qx()).transaction(Df,"readwrite");await n.objectStore(Df).put(e,Kx(r)),await n.done}catch(t){if(t instanceof Ya)No.warn(t.message);else{const n=Bl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});No.warn(n.message)}}}function Kx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1024,kI=30;class LI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new II(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kI){const l=NI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){No.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P1(),{heartbeatsToSend:n,unsentEntries:i}=OI(this._heartbeatsCache.heartbeats),a=Km(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return No.warn(t),""}}}function P1(){return new Date().toISOString().substring(0,10)}function OI(r,e=MI){const t=[];let n=r.slice();for(const i of r){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),U1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),U1(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class II{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return N1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return N1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U1(r){return Km(JSON.stringify({version:2,heartbeats:r})).length}function NI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){Wu(new $l("platform-logger",e=>new GO(e),"PRIVATE")),Wu(new $l("heartbeat",e=>new LI(e),"PRIVATE")),Ia(k_,O1,r),Ia(k_,O1,"esm2017"),Ia("fire-js","")}PI("");var UI="firebase",jI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(UI,jI,"app");function A0(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=Xx,Zx=new Yf("auth","Firebase",Xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new S0("@firebase/auth");function BI(r,...e){Zm.logLevel<=jt.WARN&&Zm.warn(`Auth (${ic}): ${r}`,...e)}function km(r,...e){Zm.logLevel<=jt.ERROR&&Zm.error(`Auth (${ic}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(r,...e){throw D0(r,...e)}function Na(r,...e){return D0(r,...e)}function Jx(r,e,t){const n=Object.assign(Object.assign({},VI()),{[e]:t});return new Yf("auth","Firebase",n).create(e,{appName:r.name})}function Fl(r){return Jx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Zx.create(r,...e)}function st(r,e,...t){if(!r)throw D0(e,...t)}function Co(r){const e="INTERNAL ASSERTION FAILED: "+r;throw km(e),new Error(e)}function Po(r,e){r||Co(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function FI(){return j1()==="http:"||j1()==="https:"}function j1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||gO()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Po(t>e,"Short delay should be less than long delay!"),this.isMobile=fO()||vO()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e){Po(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$I=new Wf(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function nu(r,e,t,n,i={}){return tA(r,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=$f(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const f=Object.assign({method:e,headers:d},a);return mO()||(f.referrerPolicy="no-referrer"),eA.fetch()(await nA(r,r.config.apiHost,t,c),f)})}async function tA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},qI),e);try{const i=new GI(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw hm(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hm(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw hm(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw hm(r,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Jx(r,p,f);oa(r,p)}}catch(i){if(i instanceof Ya)throw i;oa(r,"network-request-failed",{message:String(i)})}}async function Kg(r,e,t,n,i={}){const a=await nu(r,e,t,n,i);return"mfaPendingCredential"in a&&oa(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function nA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,l=a.config.emulator?R0(r.config,i):`${r.config.apiScheme}://${i}`;return YI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function WI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Na(this.auth,"network-request-failed")),$I.get())})}}function hm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Na(r,e,n);return i.customData._tokenResponse=t,i}function V1(r){return r!==void 0&&r.enterprise!==void 0}class QI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KI(r,e){return nu(r,"GET","/v2/recaptchaConfig",sc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e){return nu(r,"POST","/v1/accounts:delete",e)}async function Jm(r,e){return nu(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZI(r,e=!1){const t=Mn(r),n=await t.getIdToken(e),i=M0(n);st(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:bf(t_(i.auth_time)),issuedAtTime:bf(t_(i.iat)),expirationTime:bf(t_(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function t_(r){return Number(r)*1e3}function M0(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return km("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bx(t);return i?JSON.parse(i):(km("Failed to decode base64 JWT payload"),null)}catch(i){return km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function B1(r){const e=M0(r);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ya&&JI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function JI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bf(this.lastLoginAt),this.creationTime=bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Rf(r,Jm(t,{idToken:n}));st(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rA(a.providerUserInfo):[],c=nN(r.providerData,l),d=r.isAnonymous,f=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new N_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,m)}async function tN(r){const e=Mn(r);await eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nN(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function rA(r){return r.map(e=>{var{providerId:t}=e,n=A0(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e){const t=await tA(r,{},async()=>{const n=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,l=await nA(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",eA.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iN(r,e){return nu(r,"POST","/v2/accounts:revokeToken",sc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");const t=B1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await rN(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,l=new fd;return n&&(st(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(st(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(st(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fd,this.toJSON())}_performRefresh(){return Co("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r,e){st(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=A0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Rf(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZI(this,e)}reload(){return tN(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await eg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(Fl(this.auth));const e=await this.getIdToken();return await Rf(this,XI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,l,c,d,f,p;const m=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=t.photoURL)!==null&&l!==void 0?l:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,$=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Y,emailVerified:z,isAnonymous:W,providerData:H,stsTokenManager:I}=t;st(Y&&I,e,"internal-error");const C=fd.fromJSON(this.name,I);st(typeof Y=="string",e,"internal-error"),Cl(m,e.name),Cl(v,e.name),st(typeof z=="boolean",e,"internal-error"),st(typeof W=="boolean",e,"internal-error"),Cl(b,e.name),Cl(E,e.name),Cl(M,e.name),Cl(D,e.name),Cl(L,e.name),Cl($,e.name);const S=new ra({uid:Y,auth:e,email:v,emailVerified:z,displayName:m,isAnonymous:W,photoURL:E,phoneNumber:b,tenantId:M,stsTokenManager:C,createdAt:L,lastLoginAt:$});return H&&Array.isArray(H)&&(S.providerData=H.map(k=>Object.assign({},k))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,t,n=!1){const i=new fd;i.updateFromServerResponse(t);const a=new ra({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await eg(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];st(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?rA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new fd;c.updateFromIdToken(n);const d=new ra({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new N_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;function xo(r){Po(r instanceof Function,"Expected a class definition");let e=F1.get(r);return e?(Po(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,F1.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iA.type="NONE";const z1=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e,t){return`firebase:${r}:${e}:${t}`}class pd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Lm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Lm("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jm(this.auth,{idToken:e}).catch(()=>{});return t?ra._fromGetAccountInfoResponse(this.auth,t,e):null}return ra._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new pd(xo(z1),e,n);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||xo(z1);const l=Lm(n,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const v=await Jm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ra._fromGetAccountInfoResponse(e,v,p)}else m=ra._fromJSON(e,p);f!==a&&(c=m),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new pd(a,e,n):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new pd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cA(e))return"Blackberry";if(dA(e))return"Webos";if(aA(e))return"Safari";if((e.includes("chrome/")||oA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function sA(r=di()){return/firefox\//i.test(r)}function aA(r=di()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oA(r=di()){return/crios\//i.test(r)}function lA(r=di()){return/iemobile/i.test(r)}function uA(r=di()){return/android/i.test(r)}function cA(r=di()){return/blackberry/i.test(r)}function dA(r=di()){return/webos/i.test(r)}function k0(r=di()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sN(r=di()){var e;return k0(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aN(){return yO()&&document.documentMode===10}function hA(r=di()){return k0(r)||uA(r)||dA(r)||cA(r)||/windows phone/i.test(r)||lA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r,e=[]){let t;switch(r){case"Browser":t=H1(di());break;case"Worker":t=`${H1(di())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ic}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r,e={}){return nu(r,"GET","/v2/passwordPolicy",sc(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=6;class cN{constructor(e){var t,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:uN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q1(this),this.idTokenSubscription=new q1(this),this.beforeStateQueue=new oN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xo(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await pd.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jm(this,{idToken:e}),n=await ra._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ls(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(Fl(this));const t=e?Mn(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(Fl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(Fl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lN(this),t=new cN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await iN(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xo(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=await pd.create(this,[xo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vd(r){return Mn(r)}class q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=xO(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hN(r){Xg=r}function pA(r){return Xg.loadJS(r)}function fN(){return Xg.recaptchaEnterpriseScript}function pN(){return Xg.gapiScript}function mN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class gN{constructor(){this.enterprise=new vN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yN="recaptcha-enterprise",mA="NO_RECAPTCHA";class _N{constructor(e){this.type=yN,this.auth=Vd(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{KI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new QI(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;V1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(mA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(c=>{if(!t&&V1(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fN();d.length!==0&&(d+=c),pA(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Y1(r,e,t,n=!1,i=!1){const a=new _N(r);let l;if(i)l=mA;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function $1(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Y1(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Y1(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){const t=Qg(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if($u(a,e??{}))return i;oa(i,"already-initialized")}return t.initialize({options:e})}function wN(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(xo);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function EN(r,e,t){const n=Vd(r);st(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=gA(e),{host:l,port:c}=TN(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){st(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),st($u(f,n.config.emulator)&&$u(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,SN()}function gA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TN(r){const e=gA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:W1(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:W1(l)}}}function W1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function SN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Co("not implemented")}_getIdTokenResponse(e){return Co("not implemented")}_linkToIdToken(e,t){return Co("not implemented")}_getReauthenticationResolver(e){return Co("not implemented")}}async function CN(r,e){return nu(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e){return Kg(r,"POST","/v1/accounts:signInWithPassword",sc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e){return Kg(r,"POST","/v1/accounts:signInWithEmailLink",sc(r,e))}async function DN(r,e){return Kg(r,"POST","/v1/accounts:signInWithEmailLink",sc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends L0{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Mf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,t,"signInWithPassword",xN);case"emailLink":return AN(e,{email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,n,"signUpPassword",CN);case"emailLink":return DN(e,{idToken:t,email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(r,e){return Kg(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="http://localhost";class Gu extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=A0(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Gu(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return md(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,md(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,md(e,t)}buildRequest(){const e={requestUri:RN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$f(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kN(r){const e=df(hf(r)).link,t=e?df(hf(e)).deep_link_id:null,n=df(hf(r)).deep_link_id;return(n?df(hf(n)).link:null)||n||t||e||r}class O0{constructor(e){var t,n,i,a,l,c;const d=df(hf(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=MN((i=d.mode)!==null&&i!==void 0?i:null);st(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=kN(e);try{return new O0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.providerId=Bd.PROVIDER_ID}static credential(e,t){return Mf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=O0.parseLink(t);return st(n,"argument-error"),Mf._fromEmailAndCode(e,n.code,n.tenantId)}}Bd.PROVIDER_ID="password";Bd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Gf{constructor(){super("facebook.com")}static credential(e){return Gu._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ll.credential(e.oauthAccessToken)}catch{return null}}}Ll.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ll.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gu._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ol.credentialFromTaggedObject(e)}static credentialFromError(e){return Ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ol.credential(t,n)}catch{return null}}}Ol.GOOGLE_SIGN_IN_METHOD="google.com";Ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Gf{constructor(){super("github.com")}static credential(e){return Gu._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Il.credential(e.oauthAccessToken)}catch{return null}}}Il.GITHUB_SIGN_IN_METHOD="github.com";Il.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Gf{constructor(){super("twitter.com")}static credential(e,t){return Gu._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Nl.credential(t,n)}catch{return null}}}Nl.TWITTER_SIGN_IN_METHOD="twitter.com";Nl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await ra._fromIdTokenResponse(e,n,i),l=G1(n);return new wd({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=G1(n);return new wd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function G1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Ya{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new tg(e,t,n,i)}}function yA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tg._fromErrorAndOperation(r,a,e,n):a})}async function LN(r,e,t=!1){const n=await Rf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r,e,t=!1){const{auth:n}=r;if(Ls(n.app))return Promise.reject(Fl(n));const i="reauthenticate";try{const a=await Rf(r,yA(n,i,e,r),t);st(a.idToken,n,"internal-error");const l=M0(a.idToken);st(l,n,"internal-error");const{sub:c}=l;return st(r.uid===c,n,"user-mismatch"),wd._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(r,e,t=!1){if(Ls(r.app))return Promise.reject(Fl(r));const n="signIn",i=await yA(r,n,e),a=await wd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function IN(r,e){return _A(Vd(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(r){const e=Vd(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function PN(r,e,t){return Ls(r.app)?Promise.reject(Fl(r)):IN(Mn(r),Bd.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&NN(r),n})}function UN(r,e,t,n){return Mn(r).onIdTokenChanged(e,t,n)}function jN(r,e,t){return Mn(r).beforeAuthStateChanged(e,t)}function bA(r,e,t,n){return Mn(r).onAuthStateChanged(e,t,n)}function VN(r){return Mn(r).signOut()}const ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ng,"1"),this.storage.removeItem(ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1e3,FN=10;class EA extends wA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);aN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FN):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const zN=EA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends wA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TA.type="SESSION";const SA=TA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Zg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),d=await HN(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=I0("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return window}function YN(r){Pa().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}async function $N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GN(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebaseLocalStorageDb",QN=1,rg="firebaseLocalStorage",AA="fbase_key";class Qf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jg(r,e){return r.transaction([rg],e?"readwrite":"readonly").objectStore(rg)}function KN(){const r=indexedDB.deleteDatabase(xA);return new Qf(r).toPromise()}function P_(){const r=indexedDB.open(xA,QN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(rg,{keyPath:AA})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(rg)?e(n):(n.close(),await KN(),e(await P_()))})})}async function Q1(r,e,t){const n=Jg(r,!0).put({[AA]:e,value:t});return new Qf(n).toPromise()}async function XN(r,e){const t=Jg(r,!1).get(e),n=await new Qf(t).toPromise();return n===void 0?null:n.value}function K1(r,e){const t=Jg(r,!0).delete(e);return new Qf(t).toPromise()}const ZN=800,JN=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>JN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zg._getInstance(GN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $N(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await Q1(e,ng,"1"),await K1(e,ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>XN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jg(i,!1).getAll();return new Qf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const eP=DA;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(r,e){return e?xo(e):(st(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return md(e,this._buildIdpRequest())}_linkToIdToken(e,t){return md(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return md(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nP(r){return _A(r.auth,new N0(r),r.bypassAuthState)}function rP(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),ON(t,new N0(r),r.bypassAuthState)}async function iP(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),LN(t,new N0(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nP;case"linkViaPopup":case"linkViaRedirect":return iP;case"reauthViaPopup":case"reauthViaRedirect":return rP;default:oa(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Wf(2e3,1e4);class ud extends RA{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ud.currentPopupAction&&ud.currentPopupAction.cancel(),ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){Po(this.filter.length===1,"Popup operations only handle one event");const e=I0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sP.get())};e()}}ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="pendingRedirect",Om=new Map;class oP extends RA{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Om.get(this.auth._key());if(!e){try{const n=await lP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lP(r,e){const t=dP(e),n=cP(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function uP(r,e){Om.set(r._key(),e)}function cP(r){return xo(r._redirectPersistence)}function dP(r){return Lm(aP,r.config.apiKey,r.name)}async function hP(r,e,t=!1){if(Ls(r.app))return Promise.reject(Fl(r));const n=Vd(r),i=tP(n,e),l=await new oP(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=10*60*1e3;class pP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!MA(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Na(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fP&&this.cachedEventUids.clear(),this.cachedEventUids.has(X1(e))}saveEventToCache(e){this.cachedEventUids.add(X1(e)),this.lastProcessedEventTime=Date.now()}}function X1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(r,e={}){return nu(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function _P(r){if(r.config.emulator)return;const{authorizedDomains:e}=await gP(r);for(const t of e)try{if(bP(t))return}catch{}oa(r,"unauthorized-domain")}function bP(r){const e=I_(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!yP.test(t))return!1;if(vP.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Wf(3e4,6e4);function Z1(){const r=Pa().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function EP(r){return new Promise((e,t)=>{var n,i,a;function l(){Z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z1(),t(Na(r,"network-request-failed"))},timeout:wP.get()})}if(!((i=(n=Pa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Pa().gapi)===null||a===void 0)&&a.load)l();else{const c=mN("iframefcb");return Pa()[c]=()=>{gapi.load?l():t(Na(r,"network-request-failed"))},pA(`${pN()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Im=null,e})}let Im=null;function TP(r){return Im=Im||EP(r),Im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Wf(5e3,15e3),CP="__/auth/iframe",xP="emulator/auth/iframe",AP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RP(r){const e=r.config;st(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?R0(e,xP):`https://${r.config.authDomain}/${CP}`,n={apiKey:e.apiKey,appName:r.name,v:ic},i=DP.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${$f(n).slice(1)}`}async function MP(r){const e=await TP(r),t=Pa().gapi;return st(t,r,"internal-error"),e.open({where:document.body,url:RP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AP,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=Na(r,"network-request-failed"),c=Pa().setTimeout(()=>{a(l)},SP.get());function d(){Pa().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LP=500,OP=600,IP="_blank",NP="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PP(r,e,t,n=LP,i=OP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},kP),{width:n.toString(),height:i.toString(),top:a,left:l}),f=di().toLowerCase();t&&(c=oA(f)?IP:t),sA(f)&&(e=e||NP,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(sN(f)&&c!=="_self")return UP(e||"",c),new J1(null);const m=window.open(e||"",c,p);st(m,r,"popup-blocked");try{m.focus()}catch{}return new J1(m)}function UP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="__/auth/handler",VP="emulator/auth/handler",BP=encodeURIComponent("fac");async function eT(r,e,t,n,i,a){st(r.config.authDomain,r,"auth-domain-config-required"),st(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ic,eventId:i};if(e instanceof vA){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",CO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Gf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await r._getAppCheckToken(),f=d?`#${BP}=${encodeURIComponent(d)}`:"";return`${FP(r)}?${$f(c).slice(1)}${f}`}function FP({config:r}){return r.emulator?R0(r,VP):`https://${r.authDomain}/${jP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=hP,this._overrideRedirectResult=uP}async _openPopup(e,t,n,i){var a;Po((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await eT(e,t,n,I_(),i);return PP(e,l,I0())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await eT(e,t,n,I_(),i);return YN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Po(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await MP(e),n=new pP(e);return t.register("authEvent",i=>(st(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n_,{type:n_},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[n_];l!==void 0&&t(!!l),oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_P(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hA()||aA()||k0()}}const HP=zP;var tT="@firebase/auth",nT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $P(r){Wu(new $l("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;st(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(r)},f=new dN(n,i,a,d);return wN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wu(new $l("auth-internal",e=>{const t=Vd(e.getProvider("auth").getImmediate());return(n=>new qP(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(tT,nT,YP(r)),Ia(tT,nT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=5*60,GP=qx("authIdTokenMaxAge")||WP;let rT=null;const QP=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>GP)return;const i=t==null?void 0:t.token;rT!==i&&(rT=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KP(r=x0()){const e=Qg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(r,{popupRedirectResolver:HP,persistence:[eP,zN,SA]}),n=qx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=QP(a.toString());jN(t,l,()=>l(t.currentUser)),UN(t,c=>l(c))}}const i=Fx("auth");return i&&EN(t,`http://${i}`),t}function XP(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}hN({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Na("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",XP().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$P("Browser");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zl,kA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function S(){}S.prototype=C.prototype,I.D=C.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(k,P,F){for(var j=Array(arguments.length-2),X=2;X<arguments.length;X++)j[X-2]=arguments[X];return C.prototype[P].apply(k,j)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,S){S||(S=0);var k=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)k[P]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(P=0;16>P;++P)k[P]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=I.g[0],S=I.g[1],P=I.g[2];var F=I.g[3],j=C+(F^S&(P^F))+k[0]+3614090360&4294967295;C=S+(j<<7&4294967295|j>>>25),j=F+(P^C&(S^P))+k[1]+3905402710&4294967295,F=C+(j<<12&4294967295|j>>>20),j=P+(S^F&(C^S))+k[2]+606105819&4294967295,P=F+(j<<17&4294967295|j>>>15),j=S+(C^P&(F^C))+k[3]+3250441966&4294967295,S=P+(j<<22&4294967295|j>>>10),j=C+(F^S&(P^F))+k[4]+4118548399&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(P^C&(S^P))+k[5]+1200080426&4294967295,F=C+(j<<12&4294967295|j>>>20),j=P+(S^F&(C^S))+k[6]+2821735955&4294967295,P=F+(j<<17&4294967295|j>>>15),j=S+(C^P&(F^C))+k[7]+4249261313&4294967295,S=P+(j<<22&4294967295|j>>>10),j=C+(F^S&(P^F))+k[8]+1770035416&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(P^C&(S^P))+k[9]+2336552879&4294967295,F=C+(j<<12&4294967295|j>>>20),j=P+(S^F&(C^S))+k[10]+4294925233&4294967295,P=F+(j<<17&4294967295|j>>>15),j=S+(C^P&(F^C))+k[11]+2304563134&4294967295,S=P+(j<<22&4294967295|j>>>10),j=C+(F^S&(P^F))+k[12]+1804603682&4294967295,C=S+(j<<7&4294967295|j>>>25),j=F+(P^C&(S^P))+k[13]+4254626195&4294967295,F=C+(j<<12&4294967295|j>>>20),j=P+(S^F&(C^S))+k[14]+2792965006&4294967295,P=F+(j<<17&4294967295|j>>>15),j=S+(C^P&(F^C))+k[15]+1236535329&4294967295,S=P+(j<<22&4294967295|j>>>10),j=C+(P^F&(S^P))+k[1]+4129170786&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^P&(C^S))+k[6]+3225465664&4294967295,F=C+(j<<9&4294967295|j>>>23),j=P+(C^S&(F^C))+k[11]+643717713&4294967295,P=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(P^F))+k[0]+3921069994&4294967295,S=P+(j<<20&4294967295|j>>>12),j=C+(P^F&(S^P))+k[5]+3593408605&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^P&(C^S))+k[10]+38016083&4294967295,F=C+(j<<9&4294967295|j>>>23),j=P+(C^S&(F^C))+k[15]+3634488961&4294967295,P=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(P^F))+k[4]+3889429448&4294967295,S=P+(j<<20&4294967295|j>>>12),j=C+(P^F&(S^P))+k[9]+568446438&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^P&(C^S))+k[14]+3275163606&4294967295,F=C+(j<<9&4294967295|j>>>23),j=P+(C^S&(F^C))+k[3]+4107603335&4294967295,P=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(P^F))+k[8]+1163531501&4294967295,S=P+(j<<20&4294967295|j>>>12),j=C+(P^F&(S^P))+k[13]+2850285829&4294967295,C=S+(j<<5&4294967295|j>>>27),j=F+(S^P&(C^S))+k[2]+4243563512&4294967295,F=C+(j<<9&4294967295|j>>>23),j=P+(C^S&(F^C))+k[7]+1735328473&4294967295,P=F+(j<<14&4294967295|j>>>18),j=S+(F^C&(P^F))+k[12]+2368359562&4294967295,S=P+(j<<20&4294967295|j>>>12),j=C+(S^P^F)+k[5]+4294588738&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^P)+k[8]+2272392833&4294967295,F=C+(j<<11&4294967295|j>>>21),j=P+(F^C^S)+k[11]+1839030562&4294967295,P=F+(j<<16&4294967295|j>>>16),j=S+(P^F^C)+k[14]+4259657740&4294967295,S=P+(j<<23&4294967295|j>>>9),j=C+(S^P^F)+k[1]+2763975236&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^P)+k[4]+1272893353&4294967295,F=C+(j<<11&4294967295|j>>>21),j=P+(F^C^S)+k[7]+4139469664&4294967295,P=F+(j<<16&4294967295|j>>>16),j=S+(P^F^C)+k[10]+3200236656&4294967295,S=P+(j<<23&4294967295|j>>>9),j=C+(S^P^F)+k[13]+681279174&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^P)+k[0]+3936430074&4294967295,F=C+(j<<11&4294967295|j>>>21),j=P+(F^C^S)+k[3]+3572445317&4294967295,P=F+(j<<16&4294967295|j>>>16),j=S+(P^F^C)+k[6]+76029189&4294967295,S=P+(j<<23&4294967295|j>>>9),j=C+(S^P^F)+k[9]+3654602809&4294967295,C=S+(j<<4&4294967295|j>>>28),j=F+(C^S^P)+k[12]+3873151461&4294967295,F=C+(j<<11&4294967295|j>>>21),j=P+(F^C^S)+k[15]+530742520&4294967295,P=F+(j<<16&4294967295|j>>>16),j=S+(P^F^C)+k[2]+3299628645&4294967295,S=P+(j<<23&4294967295|j>>>9),j=C+(P^(S|~F))+k[0]+4096336452&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~P))+k[7]+1126891415&4294967295,F=C+(j<<10&4294967295|j>>>22),j=P+(C^(F|~S))+k[14]+2878612391&4294967295,P=F+(j<<15&4294967295|j>>>17),j=S+(F^(P|~C))+k[5]+4237533241&4294967295,S=P+(j<<21&4294967295|j>>>11),j=C+(P^(S|~F))+k[12]+1700485571&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~P))+k[3]+2399980690&4294967295,F=C+(j<<10&4294967295|j>>>22),j=P+(C^(F|~S))+k[10]+4293915773&4294967295,P=F+(j<<15&4294967295|j>>>17),j=S+(F^(P|~C))+k[1]+2240044497&4294967295,S=P+(j<<21&4294967295|j>>>11),j=C+(P^(S|~F))+k[8]+1873313359&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~P))+k[15]+4264355552&4294967295,F=C+(j<<10&4294967295|j>>>22),j=P+(C^(F|~S))+k[6]+2734768916&4294967295,P=F+(j<<15&4294967295|j>>>17),j=S+(F^(P|~C))+k[13]+1309151649&4294967295,S=P+(j<<21&4294967295|j>>>11),j=C+(P^(S|~F))+k[4]+4149444226&4294967295,C=S+(j<<6&4294967295|j>>>26),j=F+(S^(C|~P))+k[11]+3174756917&4294967295,F=C+(j<<10&4294967295|j>>>22),j=P+(C^(F|~S))+k[2]+718787259&4294967295,P=F+(j<<15&4294967295|j>>>17),j=S+(F^(P|~C))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+F&4294967295}n.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var S=C-this.blockSize,k=this.B,P=this.h,F=0;F<C;){if(P==0)for(;F<=S;)i(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<C;)if(k[P++]=I.charCodeAt(F++),P==this.blockSize){i(this,k),P=0;break}}else for(;F<C;)if(k[P++]=I[F++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=C},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var S=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.u(I),I=Array(16),C=S=0;4>C;++C)for(var k=0;32>k;k+=8)I[S++]=this.g[C]>>>k&255;return I};function a(I,C){var S=c;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=C(I)}function l(I,C){this.h=C;for(var S=[],k=!0,P=I.length-1;0<=P;P--){var F=I[P]|0;k&&F==C||(S[P]=F,k=!1)}this.g=S}var c={};function d(I){return-128<=I&&128>I?a(I,function(C){return new l([C|0],0>C?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return D(f(-I));for(var C=[],S=1,k=0;I>=S;k++)C[k]=I/S|0,S*=4294967296;return new l(C,0)}function p(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return D(p(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=f(Math.pow(C,8)),k=m,P=0;P<I.length;P+=8){var F=Math.min(8,I.length-P),j=parseInt(I.substring(P,P+F),C);8>F?(F=f(Math.pow(C,F)),k=k.j(F).add(f(j))):(k=k.j(S),k=k.add(f(j)))}return k}var m=d(0),v=d(1),b=d(16777216);r=l.prototype,r.m=function(){if(M(this))return-D(this).m();for(var I=0,C=1,S=0;S<this.g.length;S++){var k=this.i(S);I+=(0<=k?k:4294967296+k)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(M(this))return"-"+D(this).toString(I);for(var C=f(Math.pow(I,6)),S=this,k="";;){var P=z(S,C).g;S=L(S,P.j(C));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=P,E(S))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function M(I){return I.h==-1}r.l=function(I){return I=L(this,I),M(I)?-1:E(I)?0:1};function D(I){for(var C=I.g.length,S=[],k=0;k<C;k++)S[k]=~I.g[k];return new l(S,~I.h).add(v)}r.abs=function(){return M(this)?D(this):this},r.add=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],k=0,P=0;P<=C;P++){var F=k+(this.i(P)&65535)+(I.i(P)&65535),j=(F>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);k=j>>>16,F&=65535,j&=65535,S[P]=j<<16|F}return new l(S,S[S.length-1]&-2147483648?-1:0)};function L(I,C){return I.add(D(C))}r.j=function(I){if(E(this)||E(I))return m;if(M(this))return M(I)?D(this).j(D(I)):D(D(this).j(I));if(M(I))return D(this.j(D(I)));if(0>this.l(b)&&0>I.l(b))return f(this.m()*I.m());for(var C=this.g.length+I.g.length,S=[],k=0;k<2*C;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<I.g.length;P++){var F=this.i(k)>>>16,j=this.i(k)&65535,X=I.i(P)>>>16,J=I.i(P)&65535;S[2*k+2*P]+=j*J,$(S,2*k+2*P),S[2*k+2*P+1]+=F*J,$(S,2*k+2*P+1),S[2*k+2*P+1]+=j*X,$(S,2*k+2*P+1),S[2*k+2*P+2]+=F*X,$(S,2*k+2*P+2)}for(k=0;k<C;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=C;k<2*C;k++)S[k]=0;return new l(S,0)};function $(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function Y(I,C){this.g=I,this.h=C}function z(I,C){if(E(C))throw Error("division by zero");if(E(I))return new Y(m,m);if(M(I))return C=z(D(I),C),new Y(D(C.g),D(C.h));if(M(C))return C=z(I,D(C)),new Y(D(C.g),C.h);if(30<I.g.length){if(M(I)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var S=v,k=C;0>=k.l(I);)S=W(S),k=W(k);var P=H(S,1),F=H(k,1);for(k=H(k,2),S=H(S,2);!E(k);){var j=F.add(k);0>=j.l(I)&&(P=P.add(S),F=j),k=H(k,1),S=H(S,1)}return C=L(I,P.j(C)),new Y(P,C)}for(P=m;0<=I.l(C);){for(S=Math.max(1,Math.floor(I.m()/C.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=f(S),j=F.j(C);M(j)||0<j.l(I);)S-=k,F=f(S),j=F.j(C);E(F)&&(F=v),P=P.add(F),I=L(I,j)}return new Y(P,I)}r.A=function(I){return z(this,I).h},r.and=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)&I.i(k);return new l(S,this.h&I.h)},r.or=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)|I.i(k);return new l(S,this.h|I.h)},r.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],k=0;k<C;k++)S[k]=this.i(k)^I.i(k);return new l(S,this.h^I.h)};function W(I){for(var C=I.g.length+1,S=[],k=0;k<C;k++)S[k]=I.i(k)<<1|I.i(k-1)>>>31;return new l(S,I.h)}function H(I,C){var S=C>>5;C%=32;for(var k=I.g.length-S,P=[],F=0;F<k;F++)P[F]=0<C?I.i(F+S)>>>C|I.i(F+S+1)<<32-C:I.i(F+S);return new l(P,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kA=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,zl=l}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LA,ff,OA,Nm,U_,IA,NA,PA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,N){return g==Array.prototype||g==Object.prototype||(g[A]=N.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var A=0;A<g.length;++A){var N=g[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=t(this);function i(g,A){if(A)e:{var N=n;g=g.split(".");for(var K=0;K<g.length-1;K++){var he=g[K];if(!(he in N))break e;N=N[he]}g=g[g.length-1],K=N[g],A=A(K),A!=K&&A!=null&&e(N,g,{configurable:!0,writable:!0,value:A})}}function a(g,A){g instanceof String&&(g+="");var N=0,K=!1,he={next:function(){if(!K&&N<g.length){var _e=N++;return{value:A(_e,g[_e]),done:!1}}return K=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(g){return g||function(){return a(this,function(A,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function f(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function p(g,A,N){return g.call.apply(g.bind,arguments)}function m(g,A,N){if(!g)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,K),g.apply(A,he)}}return function(){return g.apply(A,arguments)}}function v(g,A,N){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function b(g,A){var N=Array.prototype.slice.call(arguments,1);return function(){var K=N.slice();return K.push.apply(K,arguments),g.apply(this,K)}}function E(g,A){function N(){}N.prototype=A.prototype,g.aa=A.prototype,g.prototype=new N,g.prototype.constructor=g,g.Qb=function(K,he,_e){for(var Oe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Oe[Pt-2]=arguments[Pt];return A.prototype[he].apply(K,Oe)}}function M(g){const A=g.length;if(0<A){const N=Array(A);for(let K=0;K<A;K++)N[K]=g[K];return N}return[]}function D(g,A){for(let N=1;N<arguments.length;N++){const K=arguments[N];if(d(K)){const he=g.length||0,_e=K.length||0;g.length=he+_e;for(let Oe=0;Oe<_e;Oe++)g[he+Oe]=K[Oe]}else g.push(K)}}class L{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function $(g){return/^[\s\xa0]*$/.test(g)}function Y(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function z(g){return z[" "](g),g}z[" "]=function(){};var W=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function H(g,A,N){for(const K in g)A.call(N,g[K],K,g)}function I(g,A){for(const N in g)A.call(void 0,g[N],N,g)}function C(g){const A={};for(const N in g)A[N]=g[N];return A}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(g,A){let N,K;for(let he=1;he<arguments.length;he++){K=arguments[he];for(N in K)g[N]=K[N];for(let _e=0;_e<S.length;_e++)N=S[_e],Object.prototype.hasOwnProperty.call(K,N)&&(g[N]=K[N])}}function P(g){var A=1;g=g.split(":");const N=[];for(;0<A&&g.length;)N.push(g.shift()),A--;return g.length&&N.push(g.join(":")),N}function F(g){c.setTimeout(()=>{throw g},0)}function j(){var g=ne;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class X{constructor(){this.h=this.g=null}add(A,N){const K=J.get();K.set(A,N),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new L(()=>new U,g=>g.reset());class U{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let B,ee=!1,ne=new X,O=()=>{const g=c.Promise.resolve(void 0);B=()=>{g.then(re)}};var re=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(N){F(N)}var A=J;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}ee=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};c.addEventListener("test",N,A),c.removeEventListener("test",N,A)}catch{}return g}();function Z(g,A){if(ie.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var N=this.type=g.type,K=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(W){e:{try{z(A.nodeName);var he=!0;break e}catch{}he=!1}he||(A=null)}}else N=="mouseover"?A=g.fromElement:N=="mouseout"&&(A=g.toElement);this.relatedTarget=A,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:we[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Z.aa.h.call(this)}}E(Z,ie);var we={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),me=0;function Be(g,A,N,K,he){this.listener=g,this.proxy=null,this.src=A,this.type=N,this.capture=!!K,this.ha=he,this.key=++me,this.da=this.fa=!1}function Le(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Te(g){this.src=g,this.g={},this.h=0}Te.prototype.add=function(g,A,N,K,he){var _e=g.toString();g=this.g[_e],g||(g=this.g[_e]=[],this.h++);var Oe=Ee(g,A,K,he);return-1<Oe?(A=g[Oe],N||(A.fa=!1)):(A=new Be(A,this.src,_e,!!K,he),A.fa=N,g.push(A)),A};function se(g,A){var N=A.type;if(N in g.g){var K=g.g[N],he=Array.prototype.indexOf.call(K,A,void 0),_e;(_e=0<=he)&&Array.prototype.splice.call(K,he,1),_e&&(Le(A),g.g[N].length==0&&(delete g.g[N],g.h--))}}function Ee(g,A,N,K){for(var he=0;he<g.length;++he){var _e=g[he];if(!_e.da&&_e.listener==A&&_e.capture==!!N&&_e.ha==K)return he}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),ke={};function $e(g,A,N,K,he){if(Array.isArray(A)){for(var _e=0;_e<A.length;_e++)$e(g,A[_e],N,K,he);return null}return N=bt(N),g&&g[Pe]?g.K(A,N,f(K)?!!K.capture:!1,he):Fe(g,A,N,!1,K,he)}function Fe(g,A,N,K,he,_e){if(!A)throw Error("Invalid event type");var Oe=f(he)?!!he.capture:!!he,Pt=Et(g);if(Pt||(g[Ne]=Pt=new Te(g)),N=Pt.add(A,N,K,Oe,_e),N.proxy)return N;if(K=ut(),N.proxy=K,K.src=g,K.listener=N,g.addEventListener)ue||(he=Oe),he===void 0&&(he=!1),g.addEventListener(A.toString(),K,he);else if(g.attachEvent)g.attachEvent(ct(A.toString()),K);else if(g.addListener&&g.removeListener)g.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ut(){function g(N){return A.call(g.src,g.listener,N)}const A=cn;return g}function _t(g,A,N,K,he){if(Array.isArray(A))for(var _e=0;_e<A.length;_e++)_t(g,A[_e],N,K,he);else K=f(K)?!!K.capture:!!K,N=bt(N),g&&g[Pe]?(g=g.i,A=String(A).toString(),A in g.g&&(_e=g.g[A],N=Ee(_e,N,K,he),-1<N&&(Le(_e[N]),Array.prototype.splice.call(_e,N,1),_e.length==0&&(delete g.g[A],g.h--)))):g&&(g=Et(g))&&(A=g.g[A.toString()],g=-1,A&&(g=Ee(A,N,K,he)),(N=-1<g?A[g]:null)&&Wt(N))}function Wt(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[Pe])se(A.i,g);else{var N=g.type,K=g.proxy;A.removeEventListener?A.removeEventListener(N,K,g.capture):A.detachEvent?A.detachEvent(ct(N),K):A.addListener&&A.removeListener&&A.removeListener(K),(N=Et(A))?(se(N,g),N.h==0&&(N.src=null,A[Ne]=null)):Le(g)}}}function ct(g){return g in ke?ke[g]:ke[g]="on"+g}function cn(g,A){if(g.da)g=!0;else{A=new Z(A,this);var N=g.listener,K=g.ha||g.src;g.fa&&Wt(g),g=N.call(K,A)}return g}function Et(g){return g=g[Ne],g instanceof Te?g:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(g){return typeof g=="function"?g:(g[We]||(g[We]=function(A){return g.handleEvent(A)}),g[We])}function dt(){oe.call(this),this.i=new Te(this),this.M=this,this.F=null}E(dt,oe),dt.prototype[Pe]=!0,dt.prototype.removeEventListener=function(g,A,N,K){_t(this,g,A,N,K)};function ht(g,A){var N,K=g.F;if(K)for(N=[];K;K=K.F)N.push(K);if(g=g.M,K=A.type||A,typeof A=="string")A=new ie(A,g);else if(A instanceof ie)A.target=A.target||g;else{var he=A;A=new ie(K,g),k(A,he)}if(he=!0,N)for(var _e=N.length-1;0<=_e;_e--){var Oe=A.g=N[_e];he=Ct(Oe,K,!0,A)&&he}if(Oe=A.g=g,he=Ct(Oe,K,!0,A)&&he,he=Ct(Oe,K,!1,A)&&he,N)for(_e=0;_e<N.length;_e++)Oe=A.g=N[_e],he=Ct(Oe,K,!1,A)&&he}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var N=g.g[A],K=0;K<N.length;K++)Le(N[K]);delete g.g[A],g.h--}}this.F=null},dt.prototype.K=function(g,A,N,K){return this.i.add(String(g),A,!1,N,K)},dt.prototype.L=function(g,A,N,K){return this.i.add(String(g),A,!0,N,K)};function Ct(g,A,N,K){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var he=!0,_e=0;_e<A.length;++_e){var Oe=A[_e];if(Oe&&!Oe.da&&Oe.capture==N){var Pt=Oe.listener,lr=Oe.ha||Oe.src;Oe.fa&&se(g.i,Oe),he=Pt.call(lr,K)!==!1&&he}}return he&&!K.defaultPrevented}function Nt(g,A,N){if(typeof g=="function")N&&(g=v(g,N));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:c.setTimeout(g,A||0)}function yn(g){g.g=Nt(()=>{g.g=null,g.i&&(g.i=!1,yn(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Gn extends oe{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(g){oe.call(this),this.h=g,this.g={}}E(En,oe);var Un=[];function Hn(g){H(g.g,function(A,N){this.g.hasOwnProperty(N)&&Wt(A)},g),g.g={}}En.prototype.N=function(){En.aa.N.call(this),Hn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=c.JSON.stringify,hi=c.JSON.parse,ei=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Ri(){}Ri.prototype.h=null;function ti(g){return g.h||(g.h=g.i())}function vr(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){ie.call(this,"d")}E(jn,ie);function sr(){ie.call(this,"c")}E(sr,ie);var Qn={},Sr=null;function ni(){return Sr=Sr||new dt}Qn.La="serverreachability";function xn(g){ie.call(this,Qn.La,g)}E(xn,ie);function kn(g){const A=ni();ht(A,new xn(A))}Qn.STAT_EVENT="statevent";function Fo(g,A){ie.call(this,Qn.STAT_EVENT,g),this.stat=A}E(Fo,ie);function Jt(g){const A=ni();ht(A,new Fo(A,g))}Qn.Ma="timingevent";function Ge(g,A){ie.call(this,Qn.Ma,g),this.size=A}E(Ge,ie);function Kn(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},A)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Wa(g,A,N,K,he,_e){g.info(function(){if(g.g)if(_e)for(var Oe="",Pt=_e.split("&"),lr=0;lr<Pt.length;lr++){var Ut=Pt[lr].split("=");if(1<Ut.length){var on=Ut[0];Ut=Ut[1];var Zn=on.split("_");Oe=2<=Zn.length&&Zn[1]=="type"?Oe+(on+"="+Ut+"&"):Oe+(on+"=redacted&")}}else Oe=null;else Oe=_e;return"XMLHTTP REQ ("+K+") [attempt "+he+"]: "+A+`
`+N+`
`+Oe})}function da(g,A,N,K,he,_e,Oe){g.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+he+"]: "+A+`
`+N+`
`+_e+" "+Oe})}function Gi(g,A,N,K){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+Ps(g,N)+(K?" "+K:"")})}function cc(g,A){g.info(function(){return"TIMEOUT: "+A})}Mi.prototype.info=function(){};function Ps(g,A){if(!g.g)return A;if(!A)return null;try{var N=JSON.parse(A);if(N){for(g=0;g<N.length;g++)if(Array.isArray(N[g])){var K=N[g];if(!(2>K.length)){var he=K[1];if(Array.isArray(he)&&!(1>he.length)){var _e=he[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Oe=1;Oe<he.length;Oe++)he[Oe]=""}}}}return Cn(N)}catch{return A}}var ha={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Us={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function An(){}E(An,Ri),An.prototype.g=function(){return new XMLHttpRequest},An.prototype.i=function(){return{}},Vr=new An;function dn(g,A,N,K){this.j=g,this.i=A,this.l=N,this.R=K||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var ar={},js={};function Cr(g,A,N){g.L=1,g.v=Hs(zr(A)),g.m=N,g.P=!0,Br(g,null)}function Br(g,A){g.F=Date.now(),Bs(g),g.A=zr(g.v);var N=g.A,K=g.R;Array.isArray(K)||(K=[String(K)]),$o(N.i,"t",K),g.C=0,N=g.j.J,g.h=new Bt,g.g=_c(g.j,N?A:null,!g.m),0<g.O&&(g.M=new Gn(v(g.Y,g,g.g),g.O)),A=g.U,N=g.g,K=g.ca;var he="readystatechange";Array.isArray(he)||(he&&(Un[0]=he.toString()),he=Un);for(var _e=0;_e<he.length;_e++){var Oe=$e(N,he[_e],K||A.handleEvent,!1,A.h||A);if(!Oe)break;A.g[Oe.key]=Oe}A=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),kn(),Wa(g.i,g.u,g.A,g.l,g.R,g.m)}dn.prototype.ca=function(g){g=g.target;const A=this.M;A&&_i(g)==3?A.j():this.Y(g)},dn.prototype.Y=function(g){try{if(g==this.g)e:{const Zn=_i(this.g);var A=this.g.Ba();const vs=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Zn!=4||A==7||(A==8||0>=vs?kn(3):kn(2)),zs(this);var N=this.g.Z();this.X=N;t:if(Vs(this)){var K=cu(this.g);g="";var he=K.length,_e=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),ki(this);var Oe="";break t}this.h.i=new c.TextDecoder}for(A=0;A<he;A++)this.h.h=!0,g+=this.h.i.decode(K[A],{stream:!(_e&&A==he-1)});K.length=0,this.h.g+=g,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=N==200,da(this.i,this.u,this.A,this.l,this.R,Zn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,lr=this.g;if((Pt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pt)){var Ut=Pt;break t}}Ut=null}if(N=Ut)Gi(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,N);else{this.o=!1,this.s=3,Jt(12),or(this),ki(this);break e}}if(this.P){N=!0;let fr;for(;!this.J&&this.C<Oe.length;)if(fr=ou(this,Oe),fr==js){Zn==4&&(this.s=4,Jt(14),N=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==ar){this.s=4,Jt(15),Gi(this.i,this.l,Oe,"[Invalid Chunk]"),N=!1;break}else Gi(this.i,this.l,fr,null),fa(this,fr);if(Vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||Oe.length!=0||this.h.h||(this.s=1,Jt(16),N=!1),this.o=this.o&&N,!N)Gi(this.i,this.l,Oe,"[Invalid Chunked Response]"),or(this),ki(this);else if(0<Oe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),ga(on),on.M=!0,Jt(11))}}else Gi(this.i,this.l,Oe,null),fa(this,Oe);Zn==4&&or(this),this.o&&!this.J&&(Zn==4?Ko(this.j,this):(this.o=!1,Bs(this)))}else hc(this.g),N==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),or(this),ki(this)}}}catch{}finally{}};function Vs(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ou(g,A){var N=g.C,K=A.indexOf(`
`,N);return K==-1?js:(N=Number(A.substring(N,K)),isNaN(N)?ar:(K+=1,K+N>A.length?js:(A=A.slice(K,K+N),g.C=K+N,A)))}dn.prototype.cancel=function(){this.J=!0,or(this)};function Bs(g){g.S=Date.now()+g.I,Fs(g,g.I)}function Fs(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Kn(v(g.ba,g),A)}function zs(g){g.B&&(c.clearTimeout(g.B),g.B=null)}dn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(cc(this.i,this.A),this.L!=2&&(kn(),Jt(17)),or(this),this.s=2,ki(this)):Fs(this,this.S-g)};function ki(g){g.j.G==0||g.J||Ko(g.j,g)}function or(g){zs(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,Hn(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function fa(g,A){try{var N=g.j;if(N.G!=0&&(N.g==g||zo(N.h,g))){if(!g.K&&zo(N.h,g)&&N.G==3){try{var K=N.Da.g.parse(A)}catch{K=null}if(Array.isArray(K)&&K.length==3){var he=K;if(he[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<g.F)Ni(N),io(N);else break e;so(N),Jt(18)}}else N.za=he[1],0<N.za-N.T&&37500>he[2]&&N.F&&N.v==0&&!N.C&&(N.C=Kn(v(N.Za,N),6e3));if(1>=Qa(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else gs(N,11)}else if((g.K||N.g==g)&&Ni(N),!$(A))for(he=N.Da.g.parse(A),A=0;A<he.length;A++){let Ut=he[A];if(N.T=Ut[0],Ut=Ut[1],N.G==2)if(Ut[0]=="c"){N.K=Ut[1],N.ia=Ut[2];const on=Ut[3];on!=null&&(N.la=on,N.j.info("VER="+N.la));const Zn=Ut[4];Zn!=null&&(N.Aa=Zn,N.j.info("SVER="+N.Aa));const vs=Ut[5];vs!=null&&typeof vs=="number"&&0<vs&&(K=1.5*vs,N.L=K,N.j.info("backChannelRequestTimeoutMs_="+K)),K=N;const fr=g.g;if(fr){const ys=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var _e=K.h;_e.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Ka(_e,_e.h),_e.h=null))}if(K.D){const fu=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;fu&&(K.ya=fu,Ft(K.I,K.D,fu))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-g.F,N.j.info("Handshake RTT: "+N.R+"ms")),K=N;var Oe=g;if(K.qa=yc(K,K.J?K.ia:null,K.W),Oe.K){xr(K.h,Oe);var Pt=Oe,lr=K.L;lr&&(Pt.I=lr),Pt.B&&(zs(Pt),Bs(Pt)),K.g=Oe}else gc(K);0<N.i.length&&Go(N)}else Ut[0]!="stop"&&Ut[0]!="close"||gs(N,7);else N.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?gs(N,7):ro(N):Ut[0]!="noop"&&N.l&&N.l.ta(Ut),N.v=0)}}kn(4)}catch{}}var lu=class{constructor(g,A){this.g=g,this.map=A}};function cs(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Qa(g){return g.h?1:g.g?g.g.size:0}function zo(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Ka(g,A){g.g?g.g.add(A):g.h=A}function xr(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}cs.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ho(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const N of g.g.values())A=A.concat(N.D);return A}return M(g.i)}function dc(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var A=[],N=g.length,K=0;K<N;K++)A.push(g[K]);return A}A=[],N=0;for(K in g)A[N++]=g[K];return A}function Fr(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var A=[];g=g.length;for(var N=0;N<g;N++)A.push(N);return A}A=[],N=0;for(const K in g)A[N++]=K;return A}}}function yr(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var N=Fr(g),K=dc(g),he=K.length,_e=0;_e<he;_e++)A.call(void 0,K[_e],N&&N[_e],g)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ri(g,A){if(g){g=g.split("&");for(var N=0;N<g.length;N++){var K=g[N].indexOf("="),he=null;if(0<=K){var _e=g[N].substring(0,K);he=g[N].substring(K+1)}else _e=g[N];A(_e,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Vn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Vn){this.h=g.h,Ar(this,g.j),this.o=g.o,this.g=g.g,ii(this,g.s),this.l=g.l;var A=g.i,N=new hs;N.i=A.i,A.g&&(N.g=new Map(A.g),N.h=A.h),Li(this,N),this.m=g.m}else g&&(A=String(g).match(fi))?(this.h=!1,Ar(this,A[1]||"",!0),this.o=pi(A[2]||""),this.g=pi(A[3]||"",!0),ii(this,A[4]),this.l=pi(A[5]||"",!0),Li(this,A[6]||"",!0),this.m=pi(A[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Vn.prototype.toString=function(){var g=[],A=this.j;A&&g.push(Oi(A,Yo,!0),":");var N=this.g;return(N||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Oi(A,Yo,!0),"@"),g.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&g.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(Oi(N,N.charAt(0)=="/"?Qd:mi,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",Oi(N,qs)),g.join("")};function zr(g){return new Vn(g)}function Ar(g,A,N){g.j=N?pi(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function ii(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function Li(g,A,N){A instanceof hs?(g.i=A,uu(g.i,g.h)):(N||(A=Oi(A,ds)),g.i=new hs(A,g.h))}function Ft(g,A,N){g.i.set(A,N)}function Hs(g){return Ft(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function pi(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Oi(g,A,N){return typeof g=="string"?(g=encodeURI(g).replace(A,qo),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function qo(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Yo=/[#\/\?@]/g,mi=/[#\?:]/g,Qd=/[#\?]/g,ds=/[#\?@]/g,qs=/#/g;function hs(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Dr(g){g.g||(g.g=new Map,g.h=0,g.i&&ri(g.i,function(A,N){g.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}r=hs.prototype,r.add=function(g,A){Dr(this),this.i=null,g=Ki(this,g);var N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(A),this.h+=1,this};function Qi(g,A){Dr(g),A=Ki(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function gi(g,A){return Dr(g),A=Ki(g,A),g.g.has(A)}r.forEach=function(g,A){Dr(this),this.g.forEach(function(N,K){N.forEach(function(he){g.call(A,he,K,this)},this)},this)},r.na=function(){Dr(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),N=[];for(let K=0;K<A.length;K++){const he=g[K];for(let _e=0;_e<he.length;_e++)N.push(A[K])}return N},r.V=function(g){Dr(this);let A=[];if(typeof g=="string")gi(this,g)&&(A=A.concat(this.g.get(Ki(this,g))));else{g=Array.from(this.g.values());for(let N=0;N<g.length;N++)A=A.concat(g[N])}return A},r.set=function(g,A){return Dr(this),this.i=null,g=Ki(this,g),gi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},r.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function $o(g,A,N){Qi(g,A),0<N.length&&(g.i=null,g.g.set(Ki(g,A),M(N)),g.h+=N.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var N=0;N<A.length;N++){var K=A[N];const _e=encodeURIComponent(String(K)),Oe=this.V(K);for(K=0;K<Oe.length;K++){var he=_e;Oe[K]!==""&&(he+="="+encodeURIComponent(String(Oe[K]))),g.push(he)}}return this.i=g.join("&")};function Ki(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function uu(g,A){A&&!g.j&&(Dr(g),g.i=null,g.g.forEach(function(N,K){var he=K.toLowerCase();K!=he&&(Qi(this,K),$o(this,he,N))},g)),g.j=A}function Ii(g,A){const N=new Mi;if(c.Image){const K=new Image;K.onload=b(vi,N,"TestLoadImage: loaded",!0,A,K),K.onerror=b(vi,N,"TestLoadImage: error",!1,A,K),K.onabort=b(vi,N,"TestLoadImage: abort",!1,A,K),K.ontimeout=b(vi,N,"TestLoadImage: timeout",!1,A,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=g}else A(!1)}function Xi(g,A){const N=new Mi,K=new AbortController,he=setTimeout(()=>{K.abort(),vi(N,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:K.signal}).then(_e=>{clearTimeout(he),_e.ok?vi(N,"TestPingServer: ok",!0,A):vi(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(he),vi(N,"TestPingServer: error",!1,A)})}function vi(g,A,N,K,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),K(N)}catch{}}function Ys(){this.g=new ei}function yi(g,A,N){const K=N||"";try{yr(g,function(he,_e){let Oe=he;f(he)&&(Oe=Cn(he)),A.push(K+_e+"="+encodeURIComponent(Oe))})}catch(he){throw A.push(K+"type="+encodeURIComponent("_badmap")),he}}function fs(g){this.l=g.Ub||null,this.j=g.eb||!1}E(fs,Ri),fs.prototype.g=function(){return new $s(this.l,this.j)},fs.prototype.i=function(g){return function(){return g}}({});function $s(g,A){dt.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E($s,dt),r=$s.prototype,r.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,Zi(this)},r.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||c).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pa(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function pa(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}r.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?ps(this):Zi(this),this.readyState==3&&pa(this)}},r.Ra=function(g){this.g&&(this.response=this.responseText=g,ps(this))},r.Qa=function(g){this.g&&(this.response=g,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Zi(g)}r.setRequestHeader=function(g,A){this.u.append(g,A)},r.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=A.next();return g.join(`\r
`)};function Zi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Xa(g){let A="";return H(g,function(N,K){A+=K,A+=":",A+=N,A+=`\r
`}),A}function Xn(g,A,N){e:{for(K in N){var K=!1;break e}K=!0}K||(N=Xa(N),typeof g=="string"?N!=null&&encodeURIComponent(String(N)):Ft(g,A,N))}function zt(g){dt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(zt,dt);var Za=/^https?$/i,Ji=["POST","PUT"];r=zt.prototype,r.Ha=function(g){this.J=g},r.ea=function(g,A,N,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?ti(this.o):ti(Vr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(_e){Wo(this,_e);return}if(g=N||"",N=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var he in K)N.set(he,K[he]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const _e of K.keys())N.set(_e,K.get(_e));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(N.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ji,A,void 0))||K||he||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Oe]of N)this.g.setRequestHeader(_e,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(g),this.u=!1}catch(_e){Wo(this,_e)}};function Wo(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Ja(g),Hr(g)}function Ja(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}r.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ht(this,"complete"),ht(this,"abort"),Hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),zt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},r.bb=function(){eo(this)};function eo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||_i(g)!=4||g.Z()!=2)){if(g.u&&_i(g)==4)Nt(g.Ea,0,g);else if(ht(g,"readystatechange"),_i(g)==4){g.h=!1;try{const Oe=g.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var K;if(K=Oe===0){var he=String(g.D).match(fi)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),K=!Za.test(he?he.toLowerCase():"")}N=K}if(N)ht(g,"complete"),ht(g,"success");else{g.m=6;try{var _e=2<_i(g)?g.g.statusText:""}catch{_e=""}g.l=_e+" ["+g.Z()+"]",Ja(g)}}finally{Hr(g)}}}}function Hr(g,A){if(g.g){to(g);const N=g.g,K=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||ht(g,"ready");try{N.onreadystatechange=K}catch{}}}function to(g){g.I&&(c.clearTimeout(g.I),g.I=null)}r.isActive=function(){return!!this.g};function _i(g){return g.g?g.g.readyState:0}r.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),hi(A)}};function cu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(g){const A={};g=(g.g&&2<=_i(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<g.length;K++){if($(g[K]))continue;var N=P(g[K]);const he=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const _e=A[he]||[];A[he]=_e,_e.push(N)}I(A,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(g,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||A}function no(g){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,g),this.cb=ma("retryDelaySeedMs",1e4,g),this.Wa=ma("forwardChannelMaxRetries",2,g),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(g&&g.concurrentRequestLimit),this.Da=new Ys,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=no.prototype,r.la=8,r.G=1,r.connect=function(g,A,N,K){Jt(0),this.W=g,this.H=A||{},N&&K!==void 0&&(this.H.OSID=N,this.H.OAID=K),this.F=this.X,this.I=yc(this,null,this.W),Go(this)};function ro(g){if(fc(g),g.G==3){var A=g.U++,N=zr(g.I);if(Ft(N,"SID",g.K),Ft(N,"RID",A),Ft(N,"TYPE","terminate"),ms(g,N),A=new dn(g,g.j,A),A.L=2,A.v=Hs(zr(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(A.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=A.v,N=!0),N||(A.g=_c(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Bs(A)}vc(g)}function io(g){g.g&&(ga(g),g.g.cancel(),g.g=null)}function fc(g){io(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ni(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Go(g){if(!Ga(g.h)&&!g.s){g.s=!0;var A=g.Ga;B||O(),ee||(B(),ee=!0),ne.add(A,g),g.B=0}}function pc(g,A){return Qa(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Kn(v(g.Ga,g,A),hu(g,g.B)),g.B++,!0)}r.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const he=new dn(this,this.j,g);let _e=this.o;if(this.S&&(_e?(_e=C(_e),k(_e,this.S)):_e=this.S),this.m!==null||this.O||(he.H=_e,_e=null),this.P)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var K=this.i[N];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(A+=K,4096<A){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=mc(this,he,A),N=zr(this.I),Ft(N,"RID",g),Ft(N,"CVER",22),this.D&&Ft(N,"X-HTTP-Session-Id",this.D),ms(this,N),_e&&(this.O?A="headers="+encodeURIComponent(String(Xa(_e)))+"&"+A:this.m&&Xn(N,this.m,_e)),Ka(this.h,he),this.Ua&&Ft(N,"TYPE","init"),this.P?(Ft(N,"$req",A),Ft(N,"SID","null"),he.T=!0,Cr(he,N,null)):Cr(he,N,A),this.G=2}}else this.G==3&&(g?Qo(this,g):this.i.length==0||Ga(this.h)||Qo(this))};function Qo(g,A){var N;A?N=A.l:N=g.U++;const K=zr(g.I);Ft(K,"SID",g.K),Ft(K,"RID",N),Ft(K,"AID",g.T),ms(g,K),g.m&&g.o&&Xn(K,g.m,g.o),N=new dn(g,g.j,N,g.B+1),g.m===null&&(N.H=g.o),A&&(g.i=A.D.concat(g.i)),A=mc(g,N,1e3),N.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ka(g.h,N),Cr(N,K,A)}function ms(g,A){g.H&&H(g.H,function(N,K){Ft(A,K,N)}),g.l&&yr({},function(N,K){Ft(A,K,N)})}function mc(g,A,N){N=Math.min(g.i.length,N);var K=g.l?v(g.l.Na,g.l,g):null;e:{var he=g.i;let _e=-1;for(;;){const Oe=["count="+N];_e==-1?0<N?(_e=he[0].g,Oe.push("ofs="+_e)):_e=0:Oe.push("ofs="+_e);let Pt=!0;for(let lr=0;lr<N;lr++){let Ut=he[lr].g;const on=he[lr].map;if(Ut-=_e,0>Ut)_e=Math.max(0,he[lr].g-100),Pt=!1;else try{yi(on,Oe,"req"+Ut+"_")}catch{K&&K(on)}}if(Pt){K=Oe.join("&");break e}}}return g=g.i.splice(0,N),A.D=g,K}function gc(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;B||O(),ee||(B(),ee=!0),ne.add(A,g),g.v=0}}function so(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Kn(v(g.Fa,g),hu(g,g.v)),g.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Kn(v(this.ab,this),g)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),io(this),du(this))};function ga(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function du(g){g.g=new dn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=zr(g.qa);Ft(A,"RID","rpc"),Ft(A,"SID",g.K),Ft(A,"AID",g.T),Ft(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ft(A,"TO",g.ja),Ft(A,"TYPE","xmlhttp"),ms(g,A),g.m&&g.o&&Xn(A,g.m,g.o),g.L&&(g.g.I=g.L);var N=g.g;g=g.ia,N.L=1,N.v=Hs(zr(A)),N.m=null,N.P=!0,Br(N,g)}r.Za=function(){this.C!=null&&(this.C=null,io(this),so(this),Jt(19))};function Ni(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Ko(g,A){var N=null;if(g.g==A){Ni(g),ga(g),g.g=null;var K=2}else if(zo(g.h,A))N=A.D,xr(g.h,A),K=1;else return;if(g.G!=0){if(A.o)if(K==1){N=A.m?A.m.length:0,A=Date.now()-A.F;var he=g.B;K=ni(),ht(K,new Ge(K,N)),Go(g)}else gc(g);else if(he=A.s,he==3||he==0&&0<A.X||!(K==1&&pc(g,A)||K==2&&so(g)))switch(N&&0<N.length&&(A=g.h,A.i=A.i.concat(N)),he){case 1:gs(g,5);break;case 4:gs(g,10);break;case 3:gs(g,6);break;default:gs(g,2)}}}function hu(g,A){let N=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(N*=2),N*A}function gs(g,A){if(g.j.info("Error code "+A),A==2){var N=v(g.fb,g),K=g.Xa;const he=!K;K=new Vn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ar(K,"https"),Hs(K),he?Ii(K.toString(),N):Xi(K.toString(),N)}else Jt(2);g.G=0,g.l&&g.l.sa(A),vc(g),fc(g)}r.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function vc(g){if(g.G=0,g.ka=[],g.l){const A=Ho(g.h);(A.length!=0||g.i.length!=0)&&(D(g.ka,A),D(g.ka,g.i),g.h.i.length=0,M(g.i),g.i.length=0),g.l.ra()}}function yc(g,A,N){var K=N instanceof Vn?zr(N):new Vn(N);if(K.g!="")A&&(K.g=A+"."+K.g),ii(K,K.s);else{var he=c.location;K=he.protocol,A=A?A+"."+he.hostname:he.hostname,he=+he.port;var _e=new Vn(null);K&&Ar(_e,K),A&&(_e.g=A),he&&ii(_e,he),N&&(_e.l=N),K=_e}return N=g.D,A=g.ya,N&&A&&Ft(K,N,A),Ft(K,"VER",g.la),ms(g,K),K}function _c(g,A,N){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new zt(new fs({eb:N})):new zt(g.pa),A.Ha(g.J),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}r=bc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(g,A){return new Rr(g,A)};function Rr(g,A){dt.call(this),this.g=new no(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!$(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!$(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Mr(this)}E(Rr,dt),Rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){ro(this.g)},Rr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.u&&(N={},N.__data__=Cn(g),g=N);A.i.push(new lu(A.Ya++,g)),A.G==3&&Go(A)},Rr.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,Rr.aa.N.call(this)};function wc(g){jn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const N in A){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}E(wc,jn);function Ws(){sr.call(this),this.status=1}E(Ws,sr);function Mr(g){this.g=g}E(Mr,bc),Mr.prototype.ua=function(){ht(this.g,"a")},Mr.prototype.ta=function(g){ht(this.g,new wc(g))},Mr.prototype.sa=function(g){ht(this.g,new Ws)},Mr.prototype.ra=function(){ht(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,PA=function(){return new ao},NA=function(){return ni()},IA=Qn,U_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Nm=ha,Us.COMPLETE="complete",OA=Us,vr.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ff=vr,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,LA=zt}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",aT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new S0("@firebase/firestore");function id(){return Qu.logLevel}function qe(r,...e){if(Qu.logLevel<=jt.DEBUG){const t=e.map(P0);Qu.debug(`Firestore (${Fd}): ${r}`,...t)}}function Uo(r,...e){if(Qu.logLevel<=jt.ERROR){const t=e.map(P0);Qu.error(`Firestore (${Fd}): ${r}`,...t)}}function Ed(r,...e){if(Qu.logLevel<=jt.WARN){const t=e.map(P0);Qu.warn(`Firestore (${Fd}): ${r}`,...t)}}function P0(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(r="Unexpected state"){const e=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: `+r;throw Uo(e),new Error(e)}function un(r,e){r||lt()}function vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Ya{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class JP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class e4{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){un(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let a=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Do,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Do)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(un(typeof n.accessToken=="string"),new UA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new ui(e)}}class t4{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class n4{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new t4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ls(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){un(this.o===void 0);const n=a=>{a.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new oT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un(typeof t.token=="string"),this.R=t.token,new oT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=i4(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function xt(r,e){return r<e?-1:r>e?1:0}function j_(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return xt(n,i);{const a=jA(),l=s4(a.encode(lT(r,t)),a.encode(lT(e,t)));return l!==0?l:xt(n,i)}}t+=n>65535?2:1}return xt(r.length,e.length)}function lT(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function s4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return xt(r[t],e[t]);return xt(r.length,e.length)}function Td(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,cT=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*cT);return new rr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uT)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cT}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new rr(0,0))}static max(){return new pt(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__name__";class xa{constructor(e,t,n){t===void 0?t=0:t>e.length&&lt(),n===void 0?n=e.length-t:n>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=xa.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return xt(e.length,t.length)}static compareSegments(e,t){const n=xa.isNumericId(e),i=xa.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?xa.extractNumericId(e).compare(xa.extractNumericId(t)):j_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zl.fromString(e.substring(4,e.length-2))}}class Nn extends xa{construct(e,t,n){return new Nn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends xa{construct(e,t,n){return new Xr(e,t,n)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dT}static keyField(){return new Xr([dT])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ye(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ye(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new Ye(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(t)}static emptyPath(){return new Xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Nn.fromString(e))}static fromName(e){return new Je(Nn.fromString(e).popFirst(5))}static empty(){return new Je(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Nn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=-1;function o4(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(n===1e9?new rr(t+1,0):new rr(t,n));return new Wl(i,Je.empty(),e)}function l4(r){return new Wl(r.readTime,r.key,kf)}class Wl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wl(pt.min(),Je.empty(),kf)}static max(){return new Wl(pt.max(),Je.empty(),kf)}}function u4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(r.documentKey,e.documentKey),t!==0?t:xt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(r){if(r.code!==Re.FAILED_PRECONDITION||r.message!==c4)throw r;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,n)=>{t(e)})}static reject(e){return new Me((t,n)=>{n(e)})}static waitFor(e){return new Me((t,n)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},d=>n(d))}),l=!0,a===i&&t()})}static or(e){let t=Me.resolve(!1);for(const n of e)t=t.next(i=>i?Me.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new Me((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(p=>{l[f]=p,++c,c===a&&n(l)},p=>i(p))}})}static doWhile(e,t){return new Me((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function h4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hd(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ev.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-1;function tv(r){return r==null}function ig(r){return r===0&&1/r==-1/0}function f4(r){return typeof r=="number"&&Number.isInteger(r)&&!ig(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="";function p4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=hT(e)),e=m4(r.get(t),e);return hT(e)}function m4(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case BA:t+="";break;default:t+=a}}return t}function hT(r){return r+BA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ru(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function FA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??Kr.RED,this.left=i??Kr.EMPTY,this.right=a??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new Kr(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(e,t,n,i,a){return this}insert(e,t,n){return new Kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new ls([])}unionWith(e){let t=new Er(Xr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Td(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zA("Invalid base64 string: "+a):a}}(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(r){if(un(!!r),typeof r=="string"){let e=0;const t=g4.exec(r);if(un(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:cr(r.seconds),nanos:cr(r.nanos)}}function cr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ql(r){return typeof r=="string"?Jr.fromBase64String(r):Jr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="server_timestamp",qA="__type__",YA="__previous_value__",$A="__local_write_time__";function j0(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qA])===null||t===void 0?void 0:t.stringValue)===HA}function nv(r){const e=r.mapValue.fields[YA];return j0(e)?nv(e):e}function Lf(r){const e=Gl(r.mapValue.fields[$A].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,n,i,a,l,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}const sg="(default)";class Of{constructor(e,t){this.projectId=e,this.database=t||sg}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===sg}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="__type__",y4="__max__",mm={mapValue:{}},GA="__vector__",ag="value";function Kl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?j0(r)?4:b4(r)?9007199254740991:_4(r)?10:11:lt()}function za(r,e){if(r===e)return!0;const t=Kl(r);if(t!==Kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lf(r).isEqual(Lf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Gl(i.timestampValue),c=Gl(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return Ql(i.bytesValue).isEqual(Ql(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return cr(i.geoPointValue.latitude)===cr(a.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return cr(i.integerValue)===cr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=cr(i.doubleValue),c=cr(a.doubleValue);return l===c?ig(l)===ig(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return Td(r.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(fT(l)!==fT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!za(l[d],c[d])))return!1;return!0}(r,e);default:return lt()}}function If(r,e){return(r.values||[]).find(t=>za(t,e))!==void 0}function Sd(r,e){if(r===e)return 0;const t=Kl(r),n=Kl(e);if(t!==n)return xt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,e.booleanValue);case 2:return function(a,l){const c=cr(a.integerValue||a.doubleValue),d=cr(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return mT(r.timestampValue,e.timestampValue);case 4:return mT(Lf(r),Lf(e));case 5:return j_(r.stringValue,e.stringValue);case 6:return function(a,l){const c=Ql(a),d=Ql(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=xt(c[f],d[f]);if(p!==0)return p}return xt(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const c=xt(cr(a.latitude),cr(l.latitude));return c!==0?c:xt(cr(a.longitude),cr(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return gT(r.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,f,p;const m=a.fields||{},v=l.fields||{},b=(c=m[ag])===null||c===void 0?void 0:c.arrayValue,E=(d=v[ag])===null||d===void 0?void 0:d.arrayValue,M=xt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return M!==0?M:gT(b,E)}(r.mapValue,e.mapValue);case 11:return function(a,l){if(a===mm.mapValue&&l===mm.mapValue)return 0;if(a===mm.mapValue)return 1;if(l===mm.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const v=j_(d[m],p[m]);if(v!==0)return v;const b=Sd(c[d[m]],f[p[m]]);if(b!==0)return b}return xt(d.length,p.length)}(r.mapValue,e.mapValue);default:throw lt()}}function mT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xt(r,e);const t=Gl(r),n=Gl(e),i=xt(t.seconds,n.seconds);return i!==0?i:xt(t.nanos,n.nanos)}function gT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Sd(t[i],n[i]);if(a)return a}return xt(t.length,n.length)}function Cd(r){return V_(r)}function V_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Gl(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ql(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Je.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=V_(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${V_(t.fields[l])}`;return i+"}"}(r.mapValue):lt()}function Pm(r){switch(Kl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nv(r);return e?16+Pm(e):16;case 5:return 2*r.stringValue.length;case 6:return Ql(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Pm(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return ru(n.fields,(a,l)=>{i+=a.length+Pm(l)}),i}(r.mapValue);default:throw lt()}}function vT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function B_(r){return!!r&&"integerValue"in r}function V0(r){return!!r&&"arrayValue"in r}function yT(r){return!!r&&"nullValue"in r}function _T(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Um(r){return!!r&&"mapValue"in r}function _4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[WA])===null||t===void 0?void 0:t.stringValue)===GA}function wf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ru(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=wf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function b4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===y4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wf(t)}setAll(e){let t=Xr.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=wf(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ru(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Wi(wf(this.value))}}function QA(r){const e=[];return ru(r.fields,(t,n)=>{const i=new Xr([t]);if(Um(n)){const a=QA(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,n,i,a,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ci(e,0,pt.min(),pt.min(),pt.min(),Wi.empty(),0)}static newFoundDocument(e,t,n,i){return new ci(e,1,t,pt.min(),n,i,0)}static newNoDocument(e,t){return new ci(e,2,t,pt.min(),pt.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,pt.min(),pt.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.position=e,this.inclusive=t}}function bT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],l=r.position[i];if(a.field.isKeyField()?n=Je.comparator(Je.fromName(l.referenceValue),t.key):n=Sd(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function wT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!za(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function w4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{}class gr extends KA{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new T4(e,t,n):t==="array-contains"?new x4(e,n):t==="in"?new A4(e,n):t==="not-in"?new D4(e,n):t==="array-contains-any"?new R4(e,n):new gr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new S4(e,n):new C4(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Sd(t,this.value)):t!==null&&Kl(this.value)===Kl(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends KA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new la(e,t)}matches(e){return XA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function XA(r){return r.op==="and"}function ZA(r){return E4(r)&&XA(r)}function E4(r){for(const e of r.filters)if(e instanceof la)return!1;return!0}function F_(r){if(r instanceof gr)return r.field.canonicalString()+r.op.toString()+Cd(r.value);if(ZA(r))return r.filters.map(e=>F_(e)).join(",");{const e=r.filters.map(t=>F_(t)).join(",");return`${r.op}(${e})`}}function JA(r,e){return r instanceof gr?function(n,i){return i instanceof gr&&n.op===i.op&&n.field.isEqual(i.field)&&za(n.value,i.value)}(r,e):r instanceof la?function(n,i){return i instanceof la&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,c)=>a&&JA(l,i.filters[c]),!0):!1}(r,e):void lt()}function eD(r){return r instanceof gr?function(t){return`${t.field.canonicalString()} ${t.op} ${Cd(t.value)}`}(r):r instanceof la?function(t){return t.op.toString()+" {"+t.getFilters().map(eD).join(" ,")+"}"}(r):"Filter"}class T4 extends gr{constructor(e,t,n){super(e,t,n),this.key=Je.fromName(n.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class S4 extends gr{constructor(e,t){super(e,"in",t),this.keys=tD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class C4 extends gr{constructor(e,t){super(e,"not-in",t),this.keys=tD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tD(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Je.fromName(n.referenceValue))}class x4 extends gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return V0(t)&&If(t.arrayValue,this.value)}}class A4 extends gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&If(this.value.arrayValue,t)}}class D4 extends gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!If(this.value.arrayValue,t)}}class R4 extends gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!V0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>If(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function ET(r,e=null,t=[],n=[],i=null,a=null,l=null){return new M4(r,e,t,n,i,a,l)}function B0(r){const e=vt(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>F_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),tv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Cd(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Cd(n)).join(",")),e.le=t}return e.le}function F0(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!w4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!JA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wT(r.startAt,e.startAt)&&wT(r.endAt,e.endAt)}function z_(r){return Je.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t=null,n=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function k4(r,e,t,n,i,a,l,c){return new qd(r,e,t,n,i,a,l,c)}function rv(r){return new qd(r)}function TT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nD(r){return r.collectionGroup!==null}function Ef(r){const e=vt(r);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Er(Xr.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Nf(a,n))}),t.has(Xr.keyField().canonicalString())||e.he.push(new Nf(Xr.keyField(),n))}return e.he}function Ua(r){const e=vt(r);return e.Pe||(e.Pe=L4(e,Ef(r))),e.Pe}function L4(r,e){if(r.limitType==="F")return ET(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Nf(i.field,a)});const t=r.endAt?new og(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new og(r.startAt.position,r.startAt.inclusive):null;return ET(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function H_(r,e){const t=r.filters.concat([e]);return new qd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function q_(r,e,t){return new qd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function iv(r,e){return F0(Ua(r),Ua(e))&&r.limitType===e.limitType}function rD(r){return`${B0(Ua(r))}|lt:${r.limitType}`}function sd(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>eD(i)).join(", ")}]`),tv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Cd(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Cd(i)).join(",")),`Target(${n})`}(Ua(r))}; limitType=${r.limitType})`}function sv(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of Ef(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const f=bT(l,c,d);return l.inclusive?f<=0:f<0}(n.startAt,Ef(n),i)||n.endAt&&!function(l,c,d){const f=bT(l,c,d);return l.inclusive?f>=0:f>0}(n.endAt,Ef(n),i))}(r,e)}function O4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iD(r){return(e,t)=>{let n=!1;for(const i of Ef(r)){const a=I4(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function I4(r,e,t){const n=r.field.isKeyField()?Je.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Sd(d,f):lt()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ru(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return FA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new $n(Je.comparator);function jo(){return N4}const sD=new $n(Je.comparator);function pf(...r){let e=sD;for(const t of r)e=e.insert(t.key,t);return e}function aD(r){let e=sD;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Pu(){return Tf()}function oD(){return Tf()}function Tf(){return new ac(r=>r.toString(),(r,e)=>r.isEqual(e))}const P4=new $n(Je.comparator),U4=new Er(Je.comparator);function Vt(...r){let e=U4;for(const t of r)e=e.add(t);return e}const j4=new Er(xt);function V4(){return j4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function lD(r){return{integerValue:""+r}}function B4(r,e){return f4(e)?lD(e):z0(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this._=void 0}}function F4(r,e,t){return r instanceof lg?function(i,a){const l={fields:{[qA]:{stringValue:HA},[$A]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&j0(a)&&(a=nv(a)),a&&(l.fields[YA]=a),{mapValue:l}}(t,e):r instanceof Pf?cD(r,e):r instanceof Uf?dD(r,e):function(i,a){const l=uD(i,a),c=ST(l)+ST(i.Ie);return B_(l)&&B_(i.Ie)?lD(c):z0(i.serializer,c)}(r,e)}function z4(r,e,t){return r instanceof Pf?cD(r,e):r instanceof Uf?dD(r,e):t}function uD(r,e){return r instanceof ug?function(n){return B_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class lg extends av{}class Pf extends av{constructor(e){super(),this.elements=e}}function cD(r,e){const t=hD(e);for(const n of r.elements)t.some(i=>za(i,n))||t.push(n);return{arrayValue:{values:t}}}class Uf extends av{constructor(e){super(),this.elements=e}}function dD(r,e){let t=hD(e);for(const n of r.elements)t=t.filter(i=>!za(i,n));return{arrayValue:{values:t}}}class ug extends av{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ST(r){return cr(r.integerValue||r.doubleValue)}function hD(r){return V0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function H4(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Pf&&i instanceof Pf||n instanceof Uf&&i instanceof Uf?Td(n.elements,i.elements,za):n instanceof ug&&i instanceof ug?za(n.Ie,i.Ie):n instanceof lg&&i instanceof lg}(r.transform,e.transform)}class q4{constructor(e,t){this.version=e,this.transformResults=t}}class ja{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ja}static exists(e){return new ja(void 0,e)}static updateTime(e){return new ja(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ov{}function fD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mD(r.key,ja.none()):new Kf(r.key,r.data,ja.none());{const t=r.data,n=Wi.empty();let i=new Er(Xr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new iu(r.key,n,new ls(i.toArray()),ja.none())}}function Y4(r,e,t){r instanceof Kf?function(i,a,l){const c=i.value.clone(),d=xT(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof iu?function(i,a,l){if(!jm(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=xT(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(pD(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Sf(r,e,t,n){return r instanceof Kf?function(a,l,c,d){if(!jm(a.precondition,l))return c;const f=a.value.clone(),p=AT(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(r,e,t,n):r instanceof iu?function(a,l,c,d){if(!jm(a.precondition,l))return c;const f=AT(a.fieldTransforms,d,l),p=l.data;return p.setAll(pD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(r,e,t,n):function(a,l,c){return jm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function $4(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=uD(n.transform,i||null);a!=null&&(t===null&&(t=Wi.empty()),t.set(n.field,a))}return t||null}function CT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Td(n,i,(a,l)=>H4(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kf extends ov{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class iu extends ov{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function xT(r,e,t){const n=new Map;un(r.length===t.length);for(let i=0;i<t.length;i++){const a=r[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,z4(l,c,t[i]))}return n}function AT(r,e,t){const n=new Map;for(const i of r){const a=i.transform,l=t.data.field(i.field);n.set(i.field,F4(a,l,e))}return n}class mD extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Y4(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oD();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const d=fD(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(pt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(t,n)=>CT(t,n))&&Td(this.baseMutations,e.baseMutations,(t,n)=>CT(t,n))}}class H0{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){un(e.mutations.length===n.length);let i=function(){return P4}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new H0(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,$t;function X4(r){switch(r){case Re.OK:return lt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return lt()}}function gD(r){if(r===void 0)return Uo("GRPC error has no .code"),Re.UNKNOWN;switch(r){case mr.OK:return Re.OK;case mr.CANCELLED:return Re.CANCELLED;case mr.UNKNOWN:return Re.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Re.INTERNAL;case mr.UNAVAILABLE:return Re.UNAVAILABLE;case mr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case mr.NOT_FOUND:return Re.NOT_FOUND;case mr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case mr.ABORTED:return Re.ABORTED;case mr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case mr.DATA_LOSS:return Re.DATA_LOSS;default:return lt()}}($t=mr||(mr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new zl([4294967295,4294967295],0);function DT(r){const e=jA().encode(r),t=new kA;return t.update(e),new Uint8Array(t.digest())}function RT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zl([t,n],0),new zl([i,a],0)]}class q0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new mf(`Invalid padding: ${t}`);if(n<0)throw new mf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new mf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=zl.fromNumber(this.Ee)}Ae(e,t,n){let i=e.add(t.multiply(zl.fromNumber(n)));return i.compare(Z4)===1&&(i=new zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=DT(e),[n,i]=RT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new q0(a,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=DT(e),[n,i]=RT(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lv(pt.min(),i,new $n(xt),jo(),Vt())}}class Xf{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xf(n,t,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,n,i){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=i}}class vD{constructor(e,t){this.targetId=e,this.ge=t}}class yD{constructor(e,t,n=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class MT{constructor(){this.pe=0,this.ye=kT(),this.we=Jr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),t=Vt(),n=Vt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:lt()}}),new Xf(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=kT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,un(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class J4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=jo(),this.$e=gm(),this.Ue=gm(),this.Ke=new $n(xt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,n=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(z_(a))if(n===0){const l=new Je(a.path);this.ze(t,l,ci.newNoDocument(l,pt.min()))}else un(n===1);else{const l=this.et(t);if(l!==n){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Ql(n).toUint8Array()}catch(d){if(d instanceof zA)return Ed("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new q0(l,i,a)}catch(d){return Ed(d instanceof mf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&z_(c.target)){const d=new Je(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,ci.newNoDocument(d,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let n=Vt();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new lv(e,t,this.Ke,this.Qe,n);return this.Qe=jo(),this.$e=gm(),this.Ue=gm(),this.Ke=new $n(xt),i}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new MT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Er(xt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Er(xt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||qe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new MT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gm(){return new $n(Je.comparator)}function kT(){return new $n(Je.comparator)}const e3={asc:"ASCENDING",desc:"DESCENDING"},t3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n3={and:"AND",or:"OR"};class r3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Y_(r,e){return r.useProto3Json||tv(e)?e:{value:e}}function cg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function i3(r,e){return cg(r,e.toTimestamp())}function Va(r){return un(!!r),pt.fromTimestamp(function(t){const n=Gl(t);return new rr(n.seconds,n.nanos)}(r))}function Y0(r,e){return $_(r,e).canonicalString()}function $_(r,e){const t=function(i){return new Nn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function bD(r){const e=Nn.fromString(r);return un(CD(e)),e}function W_(r,e){return Y0(r.databaseId,e.path)}function r_(r,e){const t=bD(e);if(t.get(1)!==r.databaseId.projectId)throw new Ye(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ye(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Je(ED(t))}function wD(r,e){return Y0(r.databaseId,e)}function s3(r){const e=bD(r);return e.length===4?Nn.emptyPath():ED(e)}function G_(r){return new Nn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ED(r){return un(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function LT(r,e,t){return{name:W_(r,e),fields:t.value.mapValue.fields}}function a3(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(un(p===void 0||typeof p=="string"),Jr.fromBase64String(p||"")):(un(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Jr.fromUint8Array(p||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?Re.UNKNOWN:gD(f.code);return new Ye(p,f.message||"")}(l);t=new yD(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=r_(r,n.document.name),a=Va(n.document.updateTime),l=n.document.createTime?Va(n.document.createTime):pt.min(),c=new Wi({mapValue:{fields:n.document.fields}}),d=ci.newFoundDocument(i,a,l,c),f=n.targetIds||[],p=n.removedTargetIds||[];t=new Vm(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=r_(r,n.document),a=n.readTime?Va(n.readTime):pt.min(),l=ci.newNoDocument(i,a),c=n.removedTargetIds||[];t=new Vm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=r_(r,n.document),a=n.removedTargetIds||[];t=new Vm([],a,i,null)}else{if(!("filter"in e))return lt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new K4(i,a),c=n.targetId;t=new vD(c,l)}}return t}function o3(r,e){let t;if(e instanceof Kf)t={update:LT(r,e.key,e.value)};else if(e instanceof mD)t={delete:W_(r,e.key)};else if(e instanceof iu)t={update:LT(r,e.key,e.data),updateMask:g3(e.fieldMask)};else{if(!(e instanceof W4))return lt();t={verify:W_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const c=l.transform;if(c instanceof lg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ug)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw lt()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:i3(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:lt()}(r,e.precondition)),t}function l3(r,e){return r&&r.length>0?(un(e!==void 0),r.map(t=>function(i,a){let l=i.updateTime?Va(i.updateTime):Va(a);return l.isEqual(pt.min())&&(l=Va(a)),new q4(l,i.transformResults||[])}(t,e))):[]}function u3(r,e){return{documents:[wD(r,e.path)]}}function c3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=wD(r,i);const a=function(f){if(f.length!==0)return SD(la.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:ad(v.field),direction:f3(v.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Y_(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function d3(r){let e=s3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){un(n===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(m){const v=TD(m);return v instanceof la&&ZA(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(m){return m.map(v=>function(E){return new Nf(od(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,tv(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(m){const v=!!m.before,b=m.values||[];return new og(b,v)}(t.startAt));let f=null;return t.endAt&&(f=function(m){const v=!m.before,b=m.values||[];return new og(b,v)}(t.endAt)),k4(e,i,l,a,c,"F",d,f)}function h3(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=od(t.unaryFilter.field);return gr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=od(t.unaryFilter.field);return gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=od(t.unaryFilter.field);return gr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=od(t.unaryFilter.field);return gr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(r):r.fieldFilter!==void 0?function(t){return gr.create(od(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return la.create(t.compositeFilter.filters.map(n=>TD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt()}}(t.compositeFilter.op))}(r):lt()}function f3(r){return e3[r]}function p3(r){return t3[r]}function m3(r){return n3[r]}function ad(r){return{fieldPath:r.canonicalString()}}function od(r){return Xr.fromServerFormat(r.fieldPath)}function SD(r){return r instanceof gr?function(t){if(t.op==="=="){if(_T(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NAN"}};if(yT(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_T(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NAN"}};if(yT(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(t.field),op:p3(t.op),value:t.value}}}(r):r instanceof la?function(t){const n=t.getFilters().map(i=>SD(i));return n.length===1?n[0]:{compositeFilter:{op:m3(t.op),filters:n}}}(r):lt()}function g3(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t,n,i,a=pt.min(),l=pt.min(),c=Jr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.Tt=e}}function y3(r){const e=d3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?q_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Tn=new b3}addToCollectionParentIndex(e,t){return this.Tn.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(Wl.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(Wl.min())}updateCollectionGroup(e,t,n){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class b3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Er(Nn.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Er(Nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xD=41943040;class qi{static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(xD,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new xd(0)}static Kn(){return new xd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",w3=1048576;function NT([r,e],[t,n]){const i=xt(r,t);return i===0?xt(e,n):i}class E3{constructor(e){this.Hn=e,this.buffer=new Er(NT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();NT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){qe(IT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hd(t)?qe(IT,"Ignoring IndexedDB error during garbage collection: ",t):await zd(t)}await this.er(3e5)})}}class S3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Me.resolve(ev.ae);const n=new E3(t);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(OT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,i,a,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(n=m,c=Date.now(),this.removeTargets(e,n,t))).next(m=>(a=m,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(f=Date.now(),id()<=jt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${m} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function C3(r,e){return new S3(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.changes=new ac(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Sf(n.mutation,i,ls.empty(),rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Vt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Vt()){const i=Pu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let l=pf();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Pu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Vt()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let a=jo();const l=Tf(),c=function(){return Tf()}();return t.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof iu)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Sf(p.mutation,f,p.mutation.getFieldMask(),rr.now())):l.set(f.key,ls.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var m;return c.set(f,new A3(p,(m=l.get(f))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Tf();let i=new $n((l,c)=>l-c),a=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let p=n.get(d)||ls.empty();p=c.applyToLocalView(f,p),n.set(d,p);const m=(i.get(c.batchId)||Vt()).add(d);i=i.insert(c.batchId,m)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,m=oD();p.forEach(v=>{if(!a.has(v)){const b=fD(t.get(v),n.get(v));b!==null&&m.set(v,b),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Me.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Me.resolve(Pu());let c=kf,d=a;return l.next(f=>Me.forEach(f,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(p)?Me.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,Vt())).next(p=>({batchId:c,changes:aD(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(n=>{let i=pf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let l=pf();return this.indexManager.getCollectionParents(e,a).next(c=>Me.forEach(c,d=>{const f=function(m,v){return new qd(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((m,v)=>{l=l.insert(m,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(l=>{a.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ci.newInvalidDocument(p)))});let c=pf();return l.forEach((d,f)=>{const p=a.get(d);p!==void 0&&Sf(p.mutation,f,ls.empty(),rr.now()),sv(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Me.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Va(i.createTime)}}(t)),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:y3(i.bundledQuery),readTime:Va(i.readTime)}}(t)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.overlays=new $n(Je.comparator),this.Rr=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Pu();return Me.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.Et(e,t,a)}),Me.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(n)),Me.resolve()}getOverlaysForCollection(e,t,n){const i=Pu(),a=t.length+1,l=new Je(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new $n((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=Pu(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Pu(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=i)););return Me.resolve(c)}Et(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Q4(t,n));let a=this.Rr.get(t);a===void 0&&(a=Vt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Vr=new Er(Pr.mr),this.gr=new Er(Pr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Pr(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Pr(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Je(new Nn([])),n=new Pr(t,e),i=new Pr(t,e+1),a=[];return this.gr.forEachInRange([n,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Je(new Nn([])),n=new Pr(t,e),i=new Pr(t,e+1);let a=Vt();return this.gr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Pr(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Pr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Je.comparator(e.key,t.key)||xt(e.Cr,t.Cr)}static pr(e,t){return xt(e.Cr,t.Cr)||Je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Er(Pr.mr)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G4(a,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Pr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Me.resolve(l)}lookupMutationBatch(e,t){return Me.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Nr(n),a=i<0?0:i;return Me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?U0:this.Fr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pr(t,0),i=new Pr(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,i],l=>{const c=this.Or(l.Cr);a.push(c)}),Me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Er(xt);return t.forEach(i=>{const a=new Pr(i,0),l=new Pr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{n=n.add(c.Cr)})}),Me.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Je.isDocumentKey(a)||(a=a.child(""));const l=new Pr(new Je(a),0);let c=new Er(xt);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Cr)),!0)},l),Me.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){un(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Me.forEach(t.mutations,i=>{const a=new Pr(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Pr(t,0),i=this.Mr.firstAfterOrEqual(n);return Me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.kr=e,this.docs=function(){return new $n(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Me.resolve(n?n.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let n=jo();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ci.newInvalidDocument(i))}),Me.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=jo();const l=t.path,c=new Je(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||u4(l4(p),n)<=0||(i.has(p.key)||sv(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Me.resolve(a)}getAllFromCollectionGroup(e,t,n,i){lt()}qr(e,t){return Me.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new I3(this)}getSize(e){return Me.resolve(this.size)}}class I3 extends x3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),Me.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.persistence=e,this.Qr=new ac(t=>B0(t),F0),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new $0,this.targetCount=0,this.Kr=xd.Un()}forEachTarget(e,t){return this.Qr.forEach((n,i)=>t(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Me.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new xd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.zn(t),Me.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Me.waitFor(a).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Me.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Me.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Me.resolve(n)}containsKey(e,t){return Me.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ev(0),this.zr=!1,this.zr=!0,this.jr=new k3,this.referenceDelegate=e(this),this.Hr=new N3(this),this.indexManager=new _3,this.remoteDocumentCache=function(i){return new O3(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new v3(t),this.Yr=new R3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new L3(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){qe("MemoryPersistence","Starting transaction:",e);const i=new P3(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return Me.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class P3 extends d4{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.ti=new $0,this.ni=null}static ri(e){return new W0(e)}get ii(){if(this.ni)return this.ni;throw lt()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Me.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Me.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.ii,n=>{const i=Je.fromPath(n);return this.si(e,i).next(a=>{a||t.removeEntry(i,pt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Me.or([()=>Me.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dg{constructor(e,t){this.persistence=e,this.oi=new ac(n=>p4(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=C3(this,t)}static ri(e,t){return new dg(e,t)}Zr(){}Xr(e){return Me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return Me.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(a=>a?Me.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(n++,a.removeEntry(l,pt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Me.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pm(e.data.value)),t}ar(e,t,n){return Me.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Me.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=i}static Yi(e,t){let n=Vt(),i=Vt();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new G0(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _O()?8:h4(di())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new U3;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,n,i){return n.documentReadCount<this.es?(id()<=jt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",sd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Me.resolve()):(id()<=jt.DEBUG&&qe("QueryEngine","Query:",sd(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(id()<=jt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",sd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(t))):Me.resolve())}rs(e,t){if(TT(t))return Me.resolve(null);let n=Ua(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=q_(t,null,"F"),n=Ua(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=Vt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.cs(t,c);return this.ls(t,f,l,d.readTime)?this.rs(e,q_(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,n,i){return TT(t)||i.isEqual(pt.min())?Me.resolve(null):this.ns.getDocuments(e,n).next(a=>{const l=this.cs(t,a);return this.ls(t,l,n,i)?Me.resolve(null):(id()<=jt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sd(t)),this.hs(e,l,t,o4(i,kf)).next(c=>c))})}cs(e,t){let n=new Er(iD(e));return t.forEach((i,a)=>{sv(e,a)&&(n=n.add(a))}),n}ls(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,n){return id()<=jt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",sd(t)),this.ns.getDocumentsMatchingQuery(e,t,Wl.min(),n)}hs(e,t,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="LocalStore",V3=3e8;class B3{constructor(e,t,n,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new $n(xt),this.Is=new ac(a=>B0(a),F0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function F3(r,e,t,n){return new B3(r,e,t,n)}async function DD(r,e){const t=vt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let d=Vt();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(n,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function z3(r,e){const t=vt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,f,p){const m=f.batch,v=m.keys();let b=Me.resolve();return v.forEach(E=>{b=b.next(()=>p.getEntry(d,E)).next(M=>{const D=f.docVersions.get(E);un(D!==null),M.version.compareTo(D)<0&&(m.applyToRemoteDocument(M,f),M.isValidDocument()&&(M.setReadTime(f.commitVersion),p.addEntry(M)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=Vt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function RD(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function H3(r,e){const t=vt(r),n=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;c.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,m).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,m)));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Jr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),i=i.insert(m,b),function(M,D,L){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=V3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,b,p)&&c.push(t.Hr.updateTargetData(a,b))});let d=jo(),f=Vt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(q3(a,l,e.documentUpdates).next(p=>{d=p.Vs,f=p.fs})),!n.isEqual(pt.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(m=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return Me.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.Ts=i,a))}function q3(r,e,t){let n=Vt(),i=Vt();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=jo();return t.forEach((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):qe(Q0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function Y3(r,e){const t=vt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=U0),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function $3(r,e){const t=vt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Hr.getTargetData(n,e).next(a=>a?(i=a,Me.resolve(i)):t.Hr.allocateTargetId(n).next(l=>(i=new Pl(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Q_(r,e,t){const n=vt(r),i=n.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Hd(l))throw l;qe(Q0,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function PT(r,e,t){const n=vt(r);let i=pt.min(),a=Vt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const m=vt(d),v=m.Is.get(p);return v!==void 0?Me.resolve(m.Ts.get(v)):m.Hr.getTargetData(f,p)}(n,l,Ua(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?i:pt.min(),t?a:Vt())).next(c=>(W3(n,O4(e),c),{documents:c,gs:a})))}function W3(r,e,t){let n=r.Es.get(e)||pt.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Es.set(e,n)}class UT{constructor(){this.activeTargetIds=V4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G3{constructor(){this.ho=new UT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new UT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="ConnectivityMonitor";class VT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){qe(jT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){qe(jT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function K_(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="RestConnection",K3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===sg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,t,n,i,a){const l=K_(),c=this.bo(e,t.toUriEncodedString());qe(i_,`Sending RPC '${e}' ${l}:`,c,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,a),this.vo(e,c,d,n).then(f=>(qe(i_,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Ed(i_,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",n),f})}Co(e,t,n,i,a,l){return this.So(e,t,n,i,a)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const n=K3[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class J3 extends X3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,i){const a=K_();return new Promise((l,c)=>{const d=new LA;d.setWithCredentials(!0),d.listenOnce(OA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nm.NO_ERROR:const p=d.getResponseJson();qe(oi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Nm.TIMEOUT:qe(oi,`RPC '${e}' ${a} timed out`),c(new Ye(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const m=d.getStatus();if(qe(oi,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const E=function(D){const L=D.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(L)>=0?L:Re.UNKNOWN}(b.status);c(new Ye(E,b.message))}else c(new Ye(Re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ye(Re.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{qe(oi,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);qe(oi,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",f,n,15)})}Wo(e,t,n){const i=K_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PA(),c=NA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const p=a.join("");qe(oi,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);let v=!1,b=!1;const E=new Z3({Fo:D=>{b?qe(oi,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(v||(qe(oi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),qe(oi,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},Mo:()=>m.close()}),M=(D,L,$)=>{D.listen(L,Y=>{try{$(Y)}catch(z){setTimeout(()=>{throw z},0)}})};return M(m,ff.EventType.OPEN,()=>{b||(qe(oi,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),M(m,ff.EventType.CLOSE,()=>{b||(b=!0,qe(oi,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),M(m,ff.EventType.ERROR,D=>{b||(b=!0,Ed(oi,`RPC '${e}' stream ${i} transport errored:`,D),E.Uo(new Ye(Re.UNAVAILABLE,"The operation could not be completed")))}),M(m,ff.EventType.MESSAGE,D=>{var L;if(!b){const $=D.data[0];un(!!$);const Y=$,z=(Y==null?void 0:Y.error)||((L=Y[0])===null||L===void 0?void 0:L.error);if(z){qe(oi,`RPC '${e}' stream ${i} received error:`,z);const W=z.status;let H=function(S){const k=mr[S];if(k!==void 0)return gD(k)}(W),I=z.message;H===void 0&&(H=Re.INTERNAL,I="Unknown error status: "+W+" with message "+z.message),b=!0,E.Uo(new Ye(H,I)),m.close()}else qe(oi,`RPC '${e}' stream ${i} received:`,$),E.Ko($)}}),M(c,IA.STAT_EVENT,D=>{D.stat===U_.PROXY?qe(oi,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===U_.NOPROXY&&qe(oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function s_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r){return new r3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-n);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="PersistentStream";class kD{constructor(e,t,n,i,a,l,c,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MD(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(Uo(t.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===t&&this.V_(n,i)},n=>{e(()=>{const i=new Ye(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return qe(BT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(qe(BT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eU extends kD{constructor(e,t,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=a3(this.serializer,e),n=function(a){if(!("targetChange"in a))return pt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?pt.min():l.readTime?Va(l.readTime):pt.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=G_(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=z_(d)?{documents:u3(a,d)}:{query:c3(a,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=_D(a,l.resumeToken);const f=Y_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(pt.min())>0){c.readTime=cg(a,l.snapshotVersion.toTimestamp());const f=Y_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const n=h3(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=G_(this.serializer),t.removeTarget=e,this.I_(t)}}class tU extends kD{constructor(e,t,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return un(!!e.streamToken),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=l3(e.writeResults,e.commitTime),n=Va(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=G_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>o3(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{}class rU extends nU{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ye(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,$_(t,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Re.UNKNOWN,a.toString())})}Co(e,t,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,$_(t,n),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ye(Re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Uo(t),this.N_=!1):qe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="RemoteStore";class sU{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{n.enqueueAndForget(async()=>{oc(this)&&(qe(Ku,"Restarting streams for network reachability change."),await async function(d){const f=vt(d);f.W_.add(4),await Zf(f),f.j_.set("Unknown"),f.W_.delete(4),await cv(f)}(this))})}),this.j_=new iU(n,i)}}async function cv(r){if(oc(r))for(const e of r.G_)await e(!0)}async function Zf(r){for(const e of r.G_)await e(!1)}function LD(r,e){const t=vt(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),J0(t)?Z0(t):Yd(t).c_()&&X0(t,e))}function K0(r,e){const t=vt(r),n=Yd(t);t.K_.delete(e),n.c_()&&OD(t,e),t.K_.size===0&&(n.c_()?n.P_():oc(t)&&t.j_.set("Unknown"))}function X0(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yd(r).y_(e)}function OD(r,e){r.H_.Ne(e),Yd(r).w_(e)}function Z0(r){r.H_=new J4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Yd(r).start(),r.j_.B_()}function J0(r){return oc(r)&&!Yd(r).u_()&&r.K_.size>0}function oc(r){return vt(r).W_.size===0}function ID(r){r.H_=void 0}async function aU(r){r.j_.set("Online")}async function oU(r){r.K_.forEach((e,t)=>{X0(r,e)})}async function lU(r,e){ID(r),J0(r)?(r.j_.q_(e),Z0(r)):r.j_.set("Unknown")}async function uU(r,e,t){if(r.j_.set("Online"),e instanceof yD&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(r,e)}catch(n){qe(Ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hg(r,n)}else if(e instanceof Vm?r.H_.We(e):e instanceof vD?r.H_.Ze(e):r.H_.je(e),!t.isEqual(pt.min()))try{const n=await RD(r.localStore);t.compareTo(n)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(f);p&&a.K_.set(f,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(Jr.EMPTY_BYTE_STRING,p.snapshotVersion)),OD(a,d);const m=new Pl(p.target,d,f,p.sequenceNumber);X0(a,m)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){qe(Ku,"Failed to raise snapshot:",n),await hg(r,n)}}async function hg(r,e,t){if(!Hd(e))throw e;r.W_.add(1),await Zf(r),r.j_.set("Offline"),t||(t=()=>RD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{qe(Ku,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await cv(r)})}function ND(r,e){return e().catch(t=>hg(r,t,e))}async function dv(r){const e=vt(r),t=Xl(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:U0;for(;cU(e);)try{const i=await Y3(e.localStore,n);if(i===null){e.U_.length===0&&t.P_();break}n=i.batchId,dU(e,i)}catch(i){await hg(e,i)}PD(e)&&UD(e)}function cU(r){return oc(r)&&r.U_.length<10}function dU(r,e){r.U_.push(e);const t=Xl(r);t.c_()&&t.S_&&t.b_(e.mutations)}function PD(r){return oc(r)&&!Xl(r).u_()&&r.U_.length>0}function UD(r){Xl(r).start()}async function hU(r){Xl(r).C_()}async function fU(r){const e=Xl(r);for(const t of r.U_)e.b_(t.mutations)}async function pU(r,e,t){const n=r.U_.shift(),i=H0.from(n,e,t);await ND(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await dv(r)}async function mU(r,e){e&&Xl(r).S_&&await async function(n,i){if(function(l){return X4(l)&&l!==Re.ABORTED}(i.code)){const a=n.U_.shift();Xl(n).h_(),await ND(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await dv(n)}}(r,e),PD(r)&&UD(r)}async function FT(r,e){const t=vt(r);t.asyncQueue.verifyOperationInProgress(),qe(Ku,"RemoteStore received new credentials");const n=oc(t);t.W_.add(3),await Zf(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cv(t)}async function gU(r,e){const t=vt(r);e?(t.W_.delete(2),await cv(t)):e||(t.W_.add(2),await Zf(t),t.j_.set("Unknown"))}function Yd(r){return r.J_||(r.J_=function(t,n,i){const a=vt(t);return a.M_(),new eU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:aU.bind(null,r),No:oU.bind(null,r),Lo:lU.bind(null,r),p_:uU.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),J0(r)?Z0(r):r.j_.set("Unknown")):(await r.J_.stop(),ID(r))})),r.J_}function Xl(r){return r.Y_||(r.Y_=function(t,n,i){const a=vt(t);return a.M_(),new tU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:hU.bind(null,r),Lo:mU.bind(null,r),D_:fU.bind(null,r),v_:pU.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await dv(r)):(await r.Y_.stop(),r.U_.length>0&&(qe(Ku,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const l=Date.now()+n,c=new eb(e,t,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tb(r,e){if(Uo("AsyncQueue",`${e}: ${r}`),Hd(r))return new Ye(Re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{static emptySet(e){return new gd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Je.comparator(t.key,n.key):(t,n)=>Je.comparator(t.key,n.key),this.keyedMap=pf(),this.sortedSet=new $n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new gd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Z_=new $n(Je.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):lt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ad{constructor(e,t,n,i,a,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ad(e,t,gd.emptySet(t),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yU{constructor(){this.queries=HT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const i=vt(t),a=i.queries;i.queries=HT(),a.forEach((l,c)=>{for(const d of c.ta)d.onError(n)})})(this,new Ye(Re.ABORTED,"Firestore shutting down"))}}function HT(){return new ac(r=>rD(r),iv)}async function nb(r,e){const t=vt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(n=2):(a=new vU,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=tb(l,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&ib(t)}async function rb(r,e){const t=vt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function _U(r,e){const t=vt(r);let n=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(n=!0);l.ea=i}}n&&ib(t)}function bU(r,e,t){const n=vt(r),i=n.queries.get(e);if(i)for(const a of i.ta)a.onError(t);n.queries.delete(e)}function ib(r){r.ia.forEach(e=>{e.next()})}var X_,qT;(qT=X_||(X_={}))._a="default",qT.Cache="cache";class sb{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ad(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==X_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.key=e}}class VD{constructor(e){this.key=e}}class wU{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=iD(e),this.wa=new gd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new zT,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),b=sv(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;v&&b?v.data.isEqual(b.data)?E!==M&&(n.track({type:3,doc:b}),D=!0):this.va(v,b)||(n.track({type:2,doc:b}),D=!0,(d&&this.ya(b,d)>0||f&&this.ya(b,f)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),D=!0):v&&!b&&(n.track({type:1,doc:v}),D=!0,(d||f)&&(c=!0)),D&&(b?(l=l.add(b),a=M?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,m)=>function(b,E){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return M(b)-M(E)}(p.type,m.type)||this.ya(p.doc,m.doc)),this.Ca(n),i=i!=null&&i;const c=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new Ad(this.query,e.wa,a,l,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new VD(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new jD(n))}),t}Oa(e){this.fa=e.gs,this.pa=Vt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ad.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ab="SyncEngine";class EU{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class TU{constructor(e){this.key=e,this.Ba=!1}}class SU{constructor(e,t,n,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ac(c=>rD(c),iv),this.qa=new Map,this.Qa=new Set,this.$a=new $n(Je.comparator),this.Ua=new Map,this.Ka=new $0,this.Wa={},this.Ga=new Map,this.za=xd.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function CU(r,e,t=!0){const n=YD(r);let i;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await BD(n,e,t,!0),i}async function xU(r,e){const t=YD(r);await BD(t,e,!0,!1)}async function BD(r,e,t,n){const i=await $3(r.localStore,Ua(e)),a=i.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await AU(r,e,a,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&LD(r.remoteStore,i),c}async function AU(r,e,t,n,i){r.Ha=(m,v,b)=>async function(M,D,L,$){let Y=D.view.ba(L);Y.ls&&(Y=await PT(M.localStore,D.query,!1).then(({documents:I})=>D.view.ba(I,Y)));const z=$&&$.targetChanges.get(D.targetId),W=$&&$.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(Y,M.isPrimaryClient,z,W);return $T(M,D.targetId,H.Ma),H.snapshot}(r,m,v,b);const a=await PT(r.localStore,e,!0),l=new wU(e,a.gs),c=l.ba(a.documents),d=Xf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),f=l.applyChanges(c,r.isPrimaryClient,d);$T(r,t,f.Ma);const p=new EU(e,t,l);return r.ka.set(e,p),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),f.snapshot}async function DU(r,e,t){const n=vt(r),i=n.ka.get(e),a=n.qa.get(i.targetId);if(a.length>1)return n.qa.set(i.targetId,a.filter(l=>!iv(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Q_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&K0(n.remoteStore,i.targetId),Z_(n,i.targetId)}).catch(zd)):(Z_(n,i.targetId),await Q_(n.localStore,i.targetId,!0))}async function RU(r,e){const t=vt(r),n=t.ka.get(e),i=t.qa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),K0(t.remoteStore,n.targetId))}async function MU(r,e,t){const n=UU(r);try{const i=await function(l,c){const d=vt(l),f=rr.now(),p=c.reduce((b,E)=>b.add(E.key),Vt());let m,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=jo(),M=Vt();return d.ds.getEntries(b,p).next(D=>{E=D,E.forEach((L,$)=>{$.isValidDocument()||(M=M.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,E)).next(D=>{m=D;const L=[];for(const $ of c){const Y=$4($,m.get($.key).overlayedDocument);Y!=null&&L.push(new iu($.key,Y,QA(Y.value.mapValue),ja.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,L,c)}).next(D=>{v=D;const L=D.applyToLocalDocumentSet(m,M);return d.documentOverlayCache.saveOverlays(b,D.batchId,L)})}).then(()=>({batchId:v.batchId,changes:aD(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new $n(xt)),f=f.insert(c,d),l.Wa[l.currentUser.toKey()]=f}(n,i.batchId,t),await Jf(n,i.changes),await dv(n.remoteStore)}catch(i){const a=tb(i,"Failed to persist write");t.reject(a)}}async function FD(r,e){const t=vt(r);try{const n=await H3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ua.get(a);l&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?un(l.Ba):i.removedDocuments.size>0&&(un(l.Ba),l.Ba=!1))}),await Jf(t,n,e)}catch(n){await zd(n)}}function YT(r,e,t){const n=vt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=vt(l);d.onlineState=c;let f=!1;d.queries.forEach((p,m)=>{for(const v of m.ta)v.sa(c)&&(f=!0)}),f&&ib(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kU(r,e,t){const n=vt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ua.get(e),a=i&&i.key;if(a){let l=new $n(Je.comparator);l=l.insert(a,ci.newNoDocument(a,pt.min()));const c=Vt().add(a),d=new lv(pt.min(),new Map,new $n(xt),l,c);await FD(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),ob(n)}else await Q_(n.localStore,e,!1).then(()=>Z_(n,e,t)).catch(zd)}async function LU(r,e){const t=vt(r),n=e.batch.batchId;try{const i=await z3(t.localStore,e);HD(t,n,null),zD(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Jf(t,i)}catch(i){await zd(i)}}async function OU(r,e,t){const n=vt(r);try{const i=await function(l,c){const d=vt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next(m=>(un(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(f,m))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(n.localStore,e);HD(n,e,t),zD(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Jf(n,i)}catch(i){await zd(i)}}function zD(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function HD(r,e,t){const n=vt(r);let i=n.Wa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function Z_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||qD(r,n)})}function qD(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(K0(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),ob(r))}function $T(r,e,t){for(const n of t)n instanceof jD?(r.Ka.addReference(n.key,e),IU(r,n)):n instanceof VD?(qe(ab,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||qD(r,n.key)):lt()}function IU(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(qe(ab,"New document in limbo: "+t),r.Qa.add(n),ob(r))}function ob(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Je(Nn.fromString(e)),n=r.za.next();r.Ua.set(n,new TU(t)),r.$a=r.$a.insert(t,n),LD(r.remoteStore,new Pl(Ua(rv(t.path)),n,"TargetPurposeLimboResolution",ev.ae))}}async function Jf(r,e,t){const n=vt(r),i=[],a=[],l=[];n.ka.isEmpty()||(n.ka.forEach((c,d)=>{l.push(n.Ha(d,e,t).then(f=>{var p;if((f||t)&&n.isPrimaryClient){const m=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=G0.Yi(d.targetId,f);a.push(m)}}))}),await Promise.all(l),n.La.p_(i),await async function(d,f){const p=vt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Me.forEach(f,v=>Me.forEach(v.Hi,b=>p.persistence.referenceDelegate.addReference(m,v.targetId,b)).next(()=>Me.forEach(v.Ji,b=>p.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))}catch(m){if(!Hd(m))throw m;qe(Q0,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const b=p.Ts.get(v),E=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(E);p.Ts=p.Ts.insert(v,M)}}}(n.localStore,a))}async function NU(r,e){const t=vt(r);if(!t.currentUser.isEqual(e)){qe(ab,"User change. New user:",e.toKey());const n=await DD(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(d=>{d.reject(new Ye(Re.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Jf(t,n.Rs)}}function PU(r,e){const t=vt(r),n=t.Ua.get(e);if(n&&n.Ba)return Vt().add(n.key);{let i=Vt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function YD(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=FD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kU.bind(null,e),e.La.p_=_U.bind(null,e.eventManager),e.La.Ja=bU.bind(null,e.eventManager),e}function UU(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,e),e}class fg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return F3(this.persistence,new j3,e.initialUser,this.serializer)}Xa(e){return new AD(W0.ri,this.serializer)}Za(e){return new G3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fg.provider={build:()=>new fg};class jU extends fg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){un(this.persistence.referenceDelegate instanceof dg);const n=this.persistence.referenceDelegate.garbageCollector;return new T3(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new AD(n=>dg.ri(n,t),this.serializer)}}class J_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),await gU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yU}()}createDatastore(e){const t=uv(e.databaseInfo.databaseId),n=function(a){return new J3(a)}(e.databaseInfo);return function(a,l,c,d){return new rU(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,l,c){return new sU(n,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>YT(this.syncEngine,t,0),function(){return VT.D()?new VT:new Q3}())}createSyncEngine(e,t){return function(i,a,l,c,d,f,p){const m=new SU(i,a,l,c,d,f);return p&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=vt(i);qe(Ku,"RemoteStore shutting down."),a.W_.add(5),await Zf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}J_.provider={build:()=>new J_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Uo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="FirestoreClient";class VU{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=VA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{qe(Zl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(qe(Zl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=tb(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function a_(r,e){r.asyncQueue.verifyOperationInProgress(),qe(Zl,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await DD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function WT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await BU(r);qe(Zl,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>FT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>FT(e.remoteStore,i)),r._onlineComponents=e}async function BU(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){qe(Zl,"Using user provided OfflineComponentProvider");try{await a_(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ed("Error using user provided cache. Falling back to memory cache: "+t),await a_(r,new fg)}}else qe(Zl,"Using default OfflineComponentProvider"),await a_(r,new jU(void 0));return r._offlineComponents}async function $D(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(qe(Zl,"Using user provided OnlineComponentProvider"),await WT(r,r._uninitializedComponentsProvider._online)):(qe(Zl,"Using default OnlineComponentProvider"),await WT(r,new J_))),r._onlineComponents}function FU(r){return $D(r).then(e=>e.syncEngine)}async function pg(r){const e=await $D(r),t=e.eventManager;return t.onListen=CU.bind(null,e.syncEngine),t.onUnlisten=DU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RU.bind(null,e.syncEngine),t}function zU(r,e,t={}){const n=new Do;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const p=new lb({next:v=>{p.su(),l.enqueueAndForget(()=>rb(a,m));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new Ye(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new Ye(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new sb(rv(c.path),p,{includeMetadataChanges:!0,Ta:!0});return nb(a,m)}(await pg(r),r.asyncQueue,e,t,n)),n.promise}function HU(r,e,t={}){const n=new Do;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const p=new lb({next:v=>{p.su(),l.enqueueAndForget(()=>rb(a,m)),v.fromCache&&d.source==="server"?f.reject(new Ye(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new sb(c,p,{includeMetadataChanges:!0,Ta:!0});return nb(a,m)}(await pg(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r,e,t){if(!t)throw new Ye(Re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qU(r,e,t,n){if(e===!0&&n===!0)throw new Ye(Re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function QT(r){if(!Je.isDocumentKey(r))throw new Ye(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function KT(r){if(Je.isDocumentKey(r))throw new Ye(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":lt()}function ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ye(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hv(r);throw new Ye(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firestore.googleapis.com",XT=!0;class ZT{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QD,this.ssl=XT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w3)throw new Ye(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ye(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fv{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZP;switch(n.type){case"firstParty":return new n4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ye(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=GT.get(t);n&&(qe("ComponentProvider","Removing Datastore"),GT.delete(t),n.terminate())}(this),Promise.resolve()}}function YU(r,e,t,n={}){var i;const a=(r=ia(r,fv))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:r._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==QD&&a.host!==c&&Ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:n});if(!$u(d,l)&&(r._setSettings(d),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=ui.MOCK_USER;else{f=Yx(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Ye(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ui(m)}r._authCredentials=new JP(new UA(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new su(this.firestore,e,this._query)}}class Di{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class Hl extends su{constructor(e,t,n){super(e,t,rv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new Je(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function Ul(r,e,...t){if(r=Mn(r),GD("collection","path",e),r instanceof fv){const n=Nn.fromString(e,...t);return KT(n),new Hl(r,null,n)}{if(!(r instanceof Di||r instanceof Hl))throw new Ye(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Nn.fromString(e,...t));return KT(n),new Hl(r.firestore,null,n)}}function ep(r,e,...t){if(r=Mn(r),arguments.length===1&&(e=VA.newId()),GD("doc","path",e),r instanceof fv){const n=Nn.fromString(e,...t);return QT(n),new Di(r,null,new Je(n))}{if(!(r instanceof Di||r instanceof Hl))throw new Ye(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Nn.fromString(e,...t));return QT(n),new Di(r.firestore,r instanceof Hl?r.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="AsyncQueue";class eS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MD(this,"async_queue_retry"),this.Su=()=>{const n=s_();n&&qe(JT,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=s_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=s_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Do;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Hd(e))throw e;qe(JT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Uo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=eb.createAndSchedule(this,e,t,n,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&lt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function tS(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(r,["next","error","complete"])}class Xu extends fv{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new eS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eS(e),this._firestoreClient=void 0,await e}}}function $U(r,e){const t=typeof r=="object"?r:x0(),n=typeof r=="string"?r:sg,i=Qg(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=zx("firestore");a&&YU(i,...a)}return i}function pv(r){if(r._terminated)throw new Ye(Re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WU(r),r._firestoreClient}function WU(r){var e,t,n;const i=r._freezeSettings(),a=function(c,d,f,p){return new v4(c,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WD(p.experimentalLongPollingOptions),p.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new VU(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dd(Jr.fromBase64String(e))}catch(t){throw new Ye(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dd(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ye(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^__.*__$/;class QU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}class KD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class db{constructor(e,t,n,i,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new db(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XD(this.Lu)&&GU.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class KU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uv(e)}ju(e,t,n,i=!1){return new db({Lu:e,methodName:t,zu:n,path:Xr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hb(r){const e=r._freezeSettings(),t=uv(r._databaseId);return new KU(r._databaseId,!!e.ignoreUndefinedProperties,t)}function XU(r,e,t,n,i,a={}){const l=r.ju(a.merge||a.mergeFields?2:0,e,t,i);fb("Data must be an object, but it was:",l,n);const c=ZD(n,l);let d,f;if(a.merge)d=new ls(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const v=e0(e,m,t);if(!l.contains(v))throw new Ye(Re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);eR(p,v)||p.push(v)}d=new ls(p),f=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,f=l.fieldTransforms;return new QU(new Wi(c),d,f)}class vv extends ub{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vv}}function ZU(r,e,t,n){const i=r.ju(1,e,t);fb("Data must be an object, but it was:",i,n);const a=[],l=Wi.empty();ru(n,(d,f)=>{const p=pb(e,d,t);f=Mn(f);const m=i.Uu(p);if(f instanceof vv)a.push(p);else{const v=tp(f,m);v!=null&&(a.push(p),l.set(p,v))}});const c=new ls(a);return new KD(l,c,i.fieldTransforms)}function JU(r,e,t,n,i,a){const l=r.ju(1,e,t),c=[e0(e,n,t)],d=[i];if(a.length%2!=0)throw new Ye(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(e0(e,a[v])),d.push(a[v+1]);const f=[],p=Wi.empty();for(let v=c.length-1;v>=0;--v)if(!eR(f,c[v])){const b=c[v];let E=d[v];E=Mn(E);const M=l.Uu(b);if(E instanceof vv)f.push(b);else{const D=tp(E,M);D!=null&&(f.push(b),p.set(b,D))}}const m=new ls(f);return new KD(p,m,l.fieldTransforms)}function ej(r,e,t,n=!1){return tp(t,r.ju(n?4:3,e))}function tp(r,e){if(JD(r=Mn(r)))return fb("Unsupported field value:",e,r),ZD(r,e);if(r instanceof ub)return function(n,i){if(!XD(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const c of n){let d=tp(c,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=Mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return B4(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=rr.fromDate(n);return{timestampValue:cg(i.serializer,a)}}if(n instanceof rr){const a=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cg(i.serializer,a)}}if(n instanceof gv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dd)return{bytesValue:_D(i.serializer,n._byteString)};if(n instanceof Di){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Y0(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cb)return function(l,c){return{mapValue:{fields:{[WA]:{stringValue:GA},[ag]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return z0(c.serializer,f)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${hv(n)}`)}(r,e)}function ZD(r,e){const t={};return FA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ru(r,(n,i)=>{const a=tp(i,e.qu(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function JD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rr||r instanceof gv||r instanceof Dd||r instanceof Di||r instanceof ub||r instanceof cb)}function fb(r,e,t){if(!JD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=hv(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function e0(r,e,t){if((e=Mn(e))instanceof mv)return e._internalPath;if(typeof e=="string")return pb(r,e);throw mg("Field path arguments must be of type string or ",r,!1,void 0,t)}const tj=new RegExp("[~\\*/\\[\\]]");function pb(r,e,t){if(e.search(tj)>=0)throw mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mv(...e.split("."))._internalPath}catch{throw mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function mg(r,e,t,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Ye(Re.INVALID_ARGUMENT,c+r+d)}function eR(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nj extends tR{data(){return super.data()}}function yv(r,e){return typeof e=="string"?pb(r,e):e instanceof mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ye(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mb{}class rR extends mb{}function Uu(r,e,...t){let n=[];e instanceof mb&&n.push(e),n=n.concat(t),function(a){const l=a.filter(d=>d instanceof gb).length,c=a.filter(d=>d instanceof _v).length;if(l>1||l>0&&c>0)throw new Ye(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class _v extends rR{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _v(e,t,n)}_apply(e){const t=this._parse(e);return iR(e._query,t),new su(e.firestore,e.converter,H_(e._query,t))}_parse(e){const t=hb(e.firestore);return function(a,l,c,d,f,p,m){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ye(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){iS(m,p);const E=[];for(const M of m)E.push(rS(d,a,M));v={arrayValue:{values:E}}}else v=rS(d,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||iS(m,p),v=ej(c,l,m,p==="in"||p==="not-in");return gr.create(f,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ju(r,e,t){const n=e,i=yv("where",r);return _v._create(i,n,t)}class gb extends mb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gb(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:la.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)iR(l,d),l=H_(l,d)}(e._query,t),new su(e.firestore,e.converter,H_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vb extends rR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vb(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nf(a,l)}(e._query,this._field,this._direction);return new su(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new qd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function nS(r,e="asc"){const t=e,n=yv("orderBy",r);return vb._create(n,t)}function rS(r,e,t){if(typeof(t=Mn(t))=="string"){if(t==="")throw new Ye(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nD(e)&&t.indexOf("/")!==-1)throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Nn.fromString(t));if(!Je.isDocumentKey(n))throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return vT(r,new Je(n))}if(t instanceof Di)return vT(r,t._key);throw new Ye(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hv(t)}.`)}function iS(r,e){if(!Array.isArray(r)||r.length===0)throw new Ye(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iR(r,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ye(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rj{convertValue(e,t="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw lt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ru(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[ag].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>cr(l.doubleValue));return new cb(a)}convertGeoPoint(e){return new gv(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const t=Gl(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Nn.fromString(e);un(CD(n));const i=new Of(n.get(1),n.get(3)),a=new Je(n.popFirst(5));return i.isEqual(t)||Uo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sR extends tR{constructor(e,t,n,i,a,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bm extends sR{data(e={}){return super.data(e)}}class aR{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bm(this._firestore,this._userDataWriter,n.key,n,new gf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Bm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Bm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:sj(c.type),doc:d,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){r=ia(r,Di);const e=ia(r.firestore,Xu);return zU(pv(e),r._key).then(t=>cR(e,r,t))}class yb extends rj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,t)}}function vd(r){r=ia(r,su);const e=ia(r.firestore,Xu),t=pv(e),n=new yb(e);return nR(r._query),HU(t,r._query).then(i=>new aR(e,n,r,i))}function aj(r,e,t,...n){r=ia(r,Di);const i=ia(r.firestore,Xu),a=hb(i);let l;return l=typeof(e=Mn(e))=="string"||e instanceof mv?JU(a,"updateDoc",r._key,e,t,n):ZU(a,"updateDoc",r._key,e),uR(i,[l.toMutation(r._key,ja.exists(!0))])}function oj(r,e){const t=ia(r.firestore,Xu),n=ep(r),i=ij(r.converter,e);return uR(t,[XU(hb(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ja.exists(!1))]).then(()=>n)}function lR(r,...e){var t,n,i;r=Mn(r);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||tS(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(tS(e[l])){const m=e[l];e[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,f,p;if(r instanceof Di)f=ia(r.firestore,Xu),p=rv(r._key.path),d={next:m=>{e[l]&&e[l](cR(f,r,m))},error:e[l+1],complete:e[l+2]};else{const m=ia(r,su);f=ia(m.firestore,Xu),p=m._query;const v=new yb(f);d={next:b=>{e[l]&&e[l](new aR(f,v,m,b))},error:e[l+1],complete:e[l+2]},nR(r._query)}return function(v,b,E,M){const D=new lb(M),L=new sb(b,D,E);return v.asyncQueue.enqueueAndForget(async()=>nb(await pg(v),L)),()=>{D.su(),v.asyncQueue.enqueueAndForget(async()=>rb(await pg(v),L))}}(pv(f),p,c,d)}function uR(r,e){return function(n,i){const a=new Do;return n.asyncQueue.enqueueAndForget(async()=>MU(await FU(n),i,a)),a.promise}(pv(r),e)}function cR(r,e,t){const n=t.docs.get(e._key),i=new yb(r);return new sR(r,i,e._key,n,new gf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Fd=i})(ic),Wu(new $l("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new Xu(new e4(n.getProvider("auth-internal")),new r4(l,n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ye(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(f.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ia(sT,aT,e),Ia(sT,aT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebasestorage.googleapis.com",hR="storageBucket",lj=2*60*1e3,uj=10*60*1e3,cj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Ya{constructor(e,t,n=0){super(o_(e),`Firebase Storage: ${t} (${o_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function o_(r){return"storage/"+r}function _b(){const r="An unknown error occurred, please check the error payload for server response.";return new Wn(Pn.UNKNOWN,r)}function dj(r){return new Wn(Pn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function hj(r){return new Wn(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fj(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wn(Pn.UNAUTHENTICATED,r)}function pj(){return new Wn(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mj(r){return new Wn(Pn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function fR(){return new Wn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pR(){return new Wn(Pn.CANCELED,"User canceled the upload/download.")}function gj(r){return new Wn(Pn.INVALID_URL,"Invalid URL '"+r+"'.")}function vj(r){return new Wn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function yj(){return new Wn(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hR+"' property when initializing the app?")}function mR(){return new Wn(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _j(){return new Wn(Pn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function bj(){return new Wn(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wj(r){return new Wn(Pn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function t0(r){return new Wn(Pn.INVALID_ARGUMENT,r)}function gR(){return new Wn(Pn.APP_DELETED,"The Firebase app was deleted.")}function Ej(r){return new Wn(Pn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cf(r,e){return new Wn(Pn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function nf(r){throw new Wn(Pn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ci.makeFromUrl(e,t)}catch{return new Ci(e,"")}if(n.path==="")return n;throw vj(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${p}/b/${i}/o${v}`,"i"),E={bucket:1,path:3},M=t===dR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",L=new RegExp(`^https?://${M}/${i}/${D}`,"i"),Y=[{regex:c,indices:d,postModify:a},{regex:b,indices:E,postModify:f},{regex:L,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<Y.length;z++){const W=Y[z],H=W.regex.exec(e);if(H){const I=H[W.indices.bucket];let C=H[W.indices.path];C||(C=""),n=new Ci(I,C),W.postModify(n);break}}if(n==null)throw gj(e);return n}}class Tj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(r,e,t){let n=1,i=null,a=null,l=!1,c=0;function d(){return c===2}let f=!1;function p(...D){f||(f=!0,e.apply(null,D))}function m(D){i=setTimeout(()=>{i=null,r(b,d())},D)}function v(){a&&clearTimeout(a)}function b(D,...L){if(f){v();return}if(D){v(),p.call(null,D,...L);return}if(d()||l){v(),p.call(null,D,...L);return}n<64&&(n*=2);let Y;c===1?(c=2,Y=0):Y=(n+Math.random())*1e3,m(Y)}let E=!1;function M(D){E||(E=!0,v(),!f&&(i!==null?(D||(c=2),clearTimeout(i),m(0)):D||(c=1)))}return m(0),a=setTimeout(()=>{l=!0,M(!0)},t),M}function Cj(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(r){return r!==void 0}function Aj(r){return typeof r=="function"}function Dj(r){return typeof r=="object"&&!Array.isArray(r)}function bv(r){return typeof r=="string"||r instanceof String}function sS(r){return bb()&&r instanceof Blob}function bb(){return typeof Blob<"u"}function n0(r,e,t,n){if(n<e)throw t0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw t0(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function vR(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var zu;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(zu||(zu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t,n,i,a,l,c,d,f,p,m,v=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,E)=>{this.resolve_=b,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ym(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===zu.NO_ERROR,d=a.getStatus();if(!c||yR(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===zu.ABORT;n(!1,new ym(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new ym(f,a))})},t=(n,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());xj(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=_b();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?gR():pR();l(d)}else{const d=fR();l(d)}};this.canceled_?t(!1,new ym(!1,null,!0)):this.backoffId_=Sj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ym{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Mj(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function kj(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Lj(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Oj(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Ij(r,e,t,n,i,a,l=!0){const c=vR(r.urlParams),d=r.url+c,f=Object.assign({},r.headers);return Lj(f,e),Mj(f,t),kj(f,a),Oj(f,n),new Rj(d,r.method,f,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pj(...r){const e=Nj();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(bb())return new Blob(r);throw new Wn(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uj(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(r){if(typeof atob>"u")throw wj("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class l_{constructor(e,t){this.data=e,this.contentType=t||null}}function Vj(r,e){switch(r){case La.RAW:return new l_(_R(e));case La.BASE64:case La.BASE64URL:return new l_(bR(r,e));case La.DATA_URL:return new l_(Fj(e),zj(e))}throw _b()}function _R(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=r.charCodeAt(++t);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Bj(r){let e;try{e=decodeURIComponent(r)}catch{throw Cf(La.DATA_URL,"Malformed data URL.")}return _R(e)}function bR(r,e){switch(r){case La.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Cf(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Cf(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=jj(e)}catch(i){throw i.message.includes("polyfill")?i:Cf(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class wR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Cf(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=Hj(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Fj(r){const e=new wR(r);return e.base64?bR(La.BASE64,e.rest):Bj(e.rest)}function zj(r){return new wR(r).contentType}function Hj(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){let n=0,i="";sS(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(sS(this.data_)){const n=this.data_,i=Uj(n,e,t);return i===null?null:new To(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new To(n,!0)}}static getBlob(...e){if(bb()){const t=e.map(n=>n instanceof To?n.data_:n);return new To(Pj.apply(null,t))}else{const t=e.map(l=>bv(l)?Vj(La.RAW,l).data:l.data_);let n=0;t.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new To(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){let e;try{e=JSON.parse(r)}catch{return null}return Dj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Yj(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function ER(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(r,e){return e}class Ti{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||$j}}let _m=null;function Wj(r){return!bv(r)||r.length<2?r:ER(r)}function Eb(){if(_m)return _m;const r=[];r.push(new Ti("bucket")),r.push(new Ti("generation")),r.push(new Ti("metageneration")),r.push(new Ti("name","fullPath",!0));function e(a,l){return Wj(l)}const t=new Ti("name");t.xform=e,r.push(t);function n(a,l){return l!==void 0?Number(l):l}const i=new Ti("size");return i.xform=n,r.push(i),r.push(new Ti("timeCreated")),r.push(new Ti("updated")),r.push(new Ti("md5Hash",null,!0)),r.push(new Ti("cacheControl",null,!0)),r.push(new Ti("contentDisposition",null,!0)),r.push(new Ti("contentEncoding",null,!0)),r.push(new Ti("contentLanguage",null,!0)),r.push(new Ti("contentType",null,!0)),r.push(new Ti("metadata","customMetadata",!0)),_m=r,_m}function Gj(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Ci(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function Qj(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];n[l.local]=l.xform(n,e[l.server])}return Gj(n,r),n}function TR(r,e,t){const n=wb(e);return n===null?null:Qj(r,n,t)}function Kj(r,e,t,n){const i=wb(e);if(i===null||!bv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const p=r.bucket,m=r.fullPath,v="/b/"+l(p)+"/o/"+l(m),b=lc(v,t,n),E=vR({alt:"media",token:f});return b+E})[0]}function SR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="prefixes",oS="items";function Xj(r,e,t){const n={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[aS])for(const i of t[aS]){const a=i.replace(/\/$/,""),l=r._makeStorageReference(new Ci(e,a));n.prefixes.push(l)}if(t[oS])for(const i of t[oS]){const a=r._makeStorageReference(new Ci(e,i.name));n.items.push(a)}return n}function Zj(r,e,t){const n=wb(t);return n===null?null:Xj(r,e,n)}class au{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(r){if(!r)throw _b()}function Tb(r,e){function t(n,i){const a=TR(r,i,e);return Ba(a!==null),a}return t}function Jj(r,e){function t(n,i){const a=Zj(r,e,i);return Ba(a!==null),a}return t}function eV(r,e){function t(n,i){const a=TR(r,i,e);return Ba(a!==null),Kj(a,i,r.host,r._protocol)}return t}function $d(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=pj():i=fj():t.getStatus()===402?i=hj(r.bucket):t.getStatus()===403?i=mj(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Sb(r){const e=$d(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=dj(r.path)),a.serverResponse=i.serverResponse,a}return t}function tV(r,e,t){const n=e.fullServerUrl(),i=lc(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,c=new au(i,a,Tb(r,t),l);return c.errorHandler=Sb(e),c}function nV(r,e,t,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),n&&(a.pageToken=n),i&&(a.maxResults=i);const l=e.bucketOnlyServerUrl(),c=lc(l,r.host,r._protocol),d="GET",f=r.maxOperationRetryTime,p=new au(c,d,Jj(r,e.bucket),f);return p.urlParams=a,p.errorHandler=$d(e),p}function rV(r,e,t){const n=e.fullServerUrl(),i=lc(n,r.host,r._protocol),a="GET",l=r.maxOperationRetryTime,c=new au(i,a,eV(r,t),l);return c.errorHandler=Sb(e),c}function iV(r,e){const t=e.fullServerUrl(),n=lc(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function l(d,f){}const c=new au(n,i,l,a);return c.successCodes=[200,204],c.errorHandler=Sb(e),c}function sV(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function CR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=sV(null,e)),n}function xR(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let Y="";for(let z=0;z<2;z++)Y=Y+Math.random().toString().slice(2);return Y}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=CR(e,n,i),p=SR(f,t),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",b=To.getBlob(m,n,v);if(b===null)throw mR();const E={name:f.fullPath},M=lc(a,r.host,r._protocol),D="POST",L=r.maxUploadRetryTime,$=new au(M,D,Tb(r,t),L);return $.urlParams=E,$.headers=l,$.body=b.uploadData(),$.errorHandler=$d(e),$}class gg{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function Cb(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Ba(!1)}return Ba(!!t&&(e||["active"]).indexOf(t)!==-1),t}function aV(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),l=CR(e,n,i),c={name:l.fullPath},d=lc(a,r.host,r._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},m=SR(l,t),v=r.maxUploadRetryTime;function b(M){Cb(M);let D;try{D=M.getResponseHeader("X-Goog-Upload-URL")}catch{Ba(!1)}return Ba(bv(D)),D}const E=new au(d,f,b,v);return E.urlParams=c,E.headers=p,E.body=m,E.errorHandler=$d(e),E}function oV(r,e,t,n){const i={"X-Goog-Upload-Command":"query"};function a(f){const p=Cb(f,["active","final"]);let m=null;try{m=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ba(!1)}m||Ba(!1);const v=Number(m);return Ba(!isNaN(v)),new gg(v,n.size(),p==="final")}const l="POST",c=r.maxUploadRetryTime,d=new au(t,l,a,c);return d.headers=i,d.errorHandler=$d(e),d}const lS=256*1024;function lV(r,e,t,n,i,a,l,c){const d=new gg(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=n.size()),n.size()!==d.total)throw _j();const f=d.total-d.current;let p=f;i>0&&(p=Math.min(p,i));const m=d.current,v=m+p;let b="";p===0?b="finalize":f===p?b="upload, finalize":b="upload";const E={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${d.current}`},M=n.slice(m,v);if(M===null)throw mR();function D(z,W){const H=Cb(z,["active","final"]),I=d.current+p,C=n.size();let S;return H==="final"?S=Tb(e,a)(z,W):S=null,new gg(I,C,H==="final",S)}const L="POST",$=e.maxUploadRetryTime,Y=new au(t,L,D,$);return Y.headers=E,Y.body=M.uploadData(),Y.progressCallback=c||null,Y.errorHandler=$d(r),Y}const Yi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function u_(r){switch(r){case"running":case"pausing":case"canceling":return Yi.RUNNING;case"paused":return Yi.PAUSED;case"success":return Yi.SUCCESS;case"canceled":return Yi.CANCELED;case"error":return Yi.ERROR;default:return Yi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,n){if(Aj(e)||t!=null||n!=null)this.next=e,this.error=t??void 0,this.complete=n??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class cV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i){if(this.sent_)throw nf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dV extends cV{initXhr(){this.xhr_.responseType="text"}}function So(){return new dV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Eb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(yR(i.status,[]))if(a)i=fR();else{this.sleepTime=Math.max(this.sleepTime*2,cj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const n=aV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,So,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const i=oV(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,So,t,n);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=lS*this._chunkMultiplier,t=new gg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=lV(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,So,i,a,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=tV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,So,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=xR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,So,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=pR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=u_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const a=new uV(t||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(u_(this._state)){case Yi.SUCCESS:nd(this._resolve.bind(null,this.snapshot))();break;case Yi.CANCELED:case Yi.ERROR:const t=this._reject;nd(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(u_(this._state)){case Yi.RUNNING:case Yi.PAUSED:e.next&&nd(e.next.bind(e,this.snapshot))();break;case Yi.SUCCESS:e.complete&&nd(e.complete.bind(e))();break;case Yi.CANCELED:case Yi.ERROR:e.error&&nd(e.error.bind(e,this._error))();break;default:e.error&&nd(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this._service=e,t instanceof Ci?this._location=t:this._location=Ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zu(e,t)}get root(){const e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ER(this._location.path)}get storage(){return this._service}get parent(){const e=qj(this._location.path);if(e===null)return null;const t=new Ci(this._location.bucket,e);return new Zu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ej(e)}}function fV(r,e,t){r._throwIfRoot("uploadBytes");const n=xR(r.storage,r._location,Eb(),new To(e,!0),t);return r.storage.makeRequestWithTokens(n,So).then(i=>({metadata:i,ref:r}))}function pV(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new hV(r,new To(e),t)}function mV(r){const e={prefixes:[],items:[]};return AR(r,e).then(()=>e)}async function AR(r,e,t){const i=await gV(r,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await AR(r,e,i.nextPageToken)}function gV(r,e){e!=null&&typeof e.maxResults=="number"&&n0("options.maxResults",1,1e3,e.maxResults);const t=e||{},n=nV(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(n,So)}function vV(r){r._throwIfRoot("getDownloadURL");const e=rV(r.storage,r._location,Eb());return r.storage.makeRequestWithTokens(e,So).then(t=>{if(t===null)throw bj();return t})}function yV(r){r._throwIfRoot("deleteObject");const e=iV(r.storage,r._location);return r.storage.makeRequestWithTokens(e,So)}function _V(r,e){const t=Yj(r._location.path,e),n=new Ci(r._location.bucket,t);return new Zu(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(r){return/^[A-Za-z]+:\/\//.test(r)}function wV(r,e){return new Zu(r,e)}function DR(r,e){if(r instanceof xb){const t=r;if(t._bucket==null)throw yj();const n=new Zu(t,t._bucket);return e!=null?DR(n,e):n}else return e!==void 0?_V(r,e):r}function EV(r,e){if(e&&bV(e)){if(r instanceof xb)return wV(r,e);throw t0("To use ref(service, url), the first argument must be a Storage instance.")}else return DR(r,e)}function uS(r,e){const t=e==null?void 0:e[hR];return t==null?null:Ci.makeFromBucketSpec(t,r)}function TV(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:Yx(i,r.app.options.projectId))}class xb{constructor(e,t,n,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=dR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lj,this._maxUploadRetryTime=uj,this._requests=new Set,i!=null?this._bucket=Ci.makeFromBucketSpec(i,this._host):this._bucket=uS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ci.makeFromBucketSpec(this._url,e):this._bucket=uS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zu(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new Tj(gR());{const l=Ij(e,this._appId,n,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const cS="@firebase/storage",dS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="storage";function MR(r,e,t){return r=Mn(r),fV(r,e,t)}function SV(r,e,t){return r=Mn(r),pV(r,e,t)}function c_(r){return r=Mn(r),mV(r)}function vf(r){return r=Mn(r),vV(r)}function hS(r){return r=Mn(r),yV(r)}function Al(r,e){return r=Mn(r),EV(r,e)}function CV(r=x0(),e){r=Mn(r);const n=Qg(r,RR).getImmediate({identifier:e}),i=zx("storage");return i&&xV(n,...i),n}function xV(r,e,t,n={}){TV(r,e,t,n)}function AV(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new xb(t,n,i,e,ic)}function DV(){Wu(new $l(RR,AV,"PUBLIC").setMultipleInstances(!0)),Ia(cS,dS,""),Ia(cS,dS,"esm2017")}DV();const RV={apiKey:"AIzaSyAcOv9f-14NF_b15KExdQC1h8LUZa0tSpo",authDomain:"chaaya.ai",projectId:"photoshoto-a7226",storageBucket:"gs://photoshoto-a7226.appspot.com",messagingSenderId:"662675060225",appId:"1:662675060225:web:71903d0e60c17cebc9f200"},Ab=Gx(RV),Qr=KP(Ab),Os=$U(Ab),Dl=CV(Ab),kR=T.createContext();function Db(){return T.useContext(kR)}function MV({children:r}){const[e,t]=T.useState(null),[n,i]=T.useState(!0);T.useEffect(()=>bA(Qr,f=>{t(f),i(!1)}),[]);const c={user:e,login:(d,f)=>PN(Qr,d,f),logout:()=>VN(Qr)};return x.jsx(kR.Provider,{value:c,children:!n&&r})}function kV({children:r}){const{user:e}=Db();return e?r:x.jsx(kx,{to:"/login"})}var LR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fS=ve.createContext&&ve.createContext(LR),LV=["attr","size","title"];function OV(r,e){if(r==null)return{};var t=IV(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function IV(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function vg(){return vg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},vg.apply(this,arguments)}function pS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(t),!0).forEach(function(n){NV(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function NV(r,e,t){return e=PV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function PV(r){var e=UV(r,"string");return typeof e=="symbol"?e:e+""}function UV(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function OR(r){return r&&r.map((e,t)=>ve.createElement(e.tag,yg({key:t},e.attr),OR(e.child)))}function Sn(r){return e=>ve.createElement(jV,vg({attr:yg({},r.attr)},e),OR(r.child))}function jV(r){var e=t=>{var{attr:n,size:i,title:a}=r,l=OV(r,LV),c=i||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),ve.createElement("svg",vg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:d,style:yg(yg({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ve.createElement("title",null,a),r.children)};return fS!==void 0?ve.createElement(fS.Consumer,null,t=>e(t)):e(LR)}function VV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(r)}function IR(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(r)}function BV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(r)}function mS(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(r)}function FV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function zV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function HV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"},child:[]}]})(r)}function NR(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},child:[]}]})(r)}function qV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(r)}function PR(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},child:[]}]})(r)}function YV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(r)}function $V(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function WV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},child:[]}]})(r)}function gS(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(r)}function GV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(r)}function UR(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},child:[]}]})(r)}function vS(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(r)}function QV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"},child:[]}]})(r)}function KV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"},child:[]}]})(r)}function yS(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function XV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(r)}function ZV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},child:[]}]})(r)}function _S(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"},child:[]}]})(r)}function JV(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function e6(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 011-1h1V6a1 1 0 012 0v1h1a1 1 0 110 2H9v1a1 1 0 11-2 0V9H6a1 1 0 01-1-1z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8zm6-4a4 4 0 100 8 4 4 0 000-8z",clipRule:"evenodd"},child:[]}]})(r)}function t6(r){return Sn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5 8a1 1 0 011-1h4a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(r)}const n6=({isOpen:r,toggleSidebar:e})=>{const t=qa();return x.jsxs("div",{className:`sidebar ${r?"open":""}`,children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3",children:[x.jsx(Ml,{to:"/",className:"text-decoration-none",children:x.jsx("img",{src:"/dashboard_event/images/wawasensei-white.png",alt:"Chaaya.ai",style:{height:"84px",width:"auto"},className:"sidebar-logo"})}),x.jsx("button",{className:"btn d-md-none",onClick:e,children:x.jsx(JV,{})})]}),x.jsxs("div",{className:"nav flex-column nav-pills",children:[x.jsxs(Ml,{to:"/",className:`nav-link ${t.pathname==="/"?"active":""}`,"data-discover":"true",children:[x.jsx(qV,{className:"me-2"}),"Dashboard"]}),x.jsxs(Ml,{to:"/events",className:`nav-link ${t.pathname==="/events"?"active":""}`,"data-discover":"true",children:[x.jsx(IR,{className:"me-2"}),"Events"]}),x.jsxs(Ml,{to:"/analytics",className:`nav-link ${t.pathname==="/analytics"?"active":""}`,"data-discover":"true",children:[x.jsx(BV,{className:"me-2"}),"Analytics"]}),x.jsxs(Ml,{to:"/attendees",className:`nav-link ${t.pathname==="/attendees"?"active":""}`,"data-discover":"true",children:[x.jsx(ZV,{className:"me-2"}),"Attendees"]}),x.jsx("div",{className:"nav-item",children:x.jsxs(Ml,{to:"/folders",className:`nav-link ${t.pathname==="/folders"?"active":""}`,"data-discover":"true",children:[x.jsx(NR,{className:"me-2"}),"Folders"]})})]})]})};function r6(r){return Sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function i6({toggleSidebar:r}){const{darkMode:e,toggleTheme:t}=nO(),{user:n,logout:i}=Db(),a=rc(),l=async()=>{try{await i(),a("/login")}catch(c){console.error("Failed to log out:",c)}};return x.jsx("nav",{className:"navbar navbar-expand-lg mb-4",children:x.jsxs("div",{className:"container-fluid",children:[x.jsx("button",{className:"btn d-md-none",onClick:r,children:x.jsx($V,{size:24})}),x.jsx("div",{className:"d-flex align-items-center",children:x.jsx("input",{type:"search",className:"form-control ms-2",placeholder:"Search..."})}),x.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[x.jsx("button",{className:"theme-toggle me-3",onClick:t,"aria-label":"Toggle theme",children:e?x.jsx(KV,{size:24}):x.jsx(WV,{size:24})}),x.jsxs("div",{className:"dropdown",children:[x.jsx("button",{className:"btn btn-link",type:"button",id:"profileDropdown","data-bs-toggle":"dropdown",children:x.jsx(r6,{size:32,className:"text-primary"})}),x.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[x.jsx("li",{children:x.jsx("span",{className:"dropdown-item-text",children:n==null?void 0:n.email})}),x.jsx("li",{children:x.jsx("hr",{className:"dropdown-divider"})}),x.jsx("li",{children:x.jsx("button",{className:"dropdown-item",onClick:l,children:"Logout"})})]})]})]})]})})}function s6(){const[r,e]=T.useState(!1);return x.jsxs("div",{className:"dashboard-container",children:[x.jsx(n6,{isOpen:r,toggleSidebar:()=>e(!r)}),x.jsxs("div",{className:"main-content",children:[x.jsx(i6,{toggleSidebar:()=>e(!r)}),x.jsx("div",{className:"container-fluid",children:x.jsx(bL,{})})]})]})}function a6(){const[r,e]=T.useState(""),[t,n]=T.useState(""),[i,a]=T.useState(""),[l,c]=T.useState(!1),d=rc(),{login:f}=Db();async function p(m){m.preventDefault();try{a(""),c(!0),await f(r,t),d("/")}catch(v){a("Failed to sign in: "+v.message)}finally{c(!1)}}return x.jsx("div",{className:"auth-wrapper",children:x.jsx("div",{className:"auth-container",children:x.jsxs("div",{className:"auth-card",children:[x.jsx("h2",{className:"text-center mb-4",children:"Login"}),i&&x.jsx("div",{className:"alert alert-danger",children:i}),x.jsxs("form",{onSubmit:p,children:[x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Email"}),x.jsx("input",{type:"email",className:"form-control",value:r,onChange:m=>e(m.target.value),required:!0})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Password"}),x.jsx("input",{type:"password",className:"form-control",value:t,onChange:m=>n(m.target.value),required:!0})]}),x.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:l,children:l?"Logging in...":"Login"})]})]})})})}function o6(){return x.jsx("div",{className:"container-fluid",children:x.jsx("div",{className:"row",children:x.jsxs("div",{className:"col-12",children:[x.jsx("h2",{className:"mb-4",children:"Dashboard Overview"}),x.jsxs("div",{className:"row",children:[x.jsx("div",{className:"col-md-3 mb-4",children:x.jsxs("div",{className:"stat-card",children:[x.jsx("h3",{children:"Total Events"}),x.jsx("h2",{children:"156"})]})}),x.jsx("div",{className:"col-md-3 mb-4",children:x.jsxs("div",{className:"stat-card",children:[x.jsx("h3",{children:"Active Events"}),x.jsx("h2",{children:"32"})]})}),x.jsx("div",{className:"col-md-3 mb-4",children:x.jsxs("div",{className:"stat-card",children:[x.jsx("h3",{children:"Total Revenue"}),x.jsx("h2",{children:"$45,678"})]})}),x.jsx("div",{className:"col-md-3 mb-4",children:x.jsxs("div",{className:"stat-card",children:[x.jsx("h3",{children:"Attendees"}),x.jsx("h2",{children:"1,234"})]})})]}),x.jsxs("div",{className:"table-responsive mt-4",children:[x.jsx("h3",{className:"mb-4",children:"Recent Events"}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Event Name"}),x.jsx("th",{children:"Date"}),x.jsx("th",{children:"Location"}),x.jsx("th",{children:"Status"})]})}),x.jsxs("tbody",{children:[x.jsxs("tr",{children:[x.jsx("td",{children:"Summer Music Festival"}),x.jsx("td",{children:"2024-06-15"}),x.jsx("td",{children:"Central Park"}),x.jsx("td",{children:x.jsx("span",{className:"badge bg-success",children:"Active"})})]}),x.jsxs("tr",{children:[x.jsx("td",{children:"Tech Conference 2024"}),x.jsx("td",{children:"2024-07-20"}),x.jsx("td",{children:"Convention Center"}),x.jsx("td",{children:x.jsx("span",{className:"badge bg-warning",children:"Pending"})})]})]})]})]})]})})})}function jR(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=jR(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Zr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=jR(r))&&(n&&(n+=" "),n+=e);return n}const VR=6048e5,l6=864e5,wv=6e4,Ev=36e5,u6=1e3,bS=Symbol.for("constructDateFrom");function vn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&bS in r?r[bS](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ke(r,e){return vn(e||r,r)}function sa(r,e,t){const n=Ke(r,t==null?void 0:t.in);return isNaN(e)?vn((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function ua(r,e,t){const n=Ke(r,t==null?void 0:t.in);if(isNaN(e))return vn(r,NaN);if(!e)return n;const i=n.getDate(),a=vn(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function BR(r,e,t){return vn(r,+Ke(r)+e)}function c6(r,e,t){return BR(r,e*Ev)}let d6={};function uc(){return d6}function Vo(r,e){var c,d,f,p;const t=uc(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Ke(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Rd(r,e){return Vo(r,{...e,weekStartsOn:1})}function FR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=vn(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Rd(i),l=vn(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Rd(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function _g(r){const e=Ke(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Bo(r,...e){const t=vn.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Ju(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Md(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e),a=Ju(n),l=Ju(i),c=+a-_g(a),d=+l-_g(l);return Math.round((c-d)/l6)}function h6(r,e){const t=FR(r,e),n=vn(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Rd(n)}function r0(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*wv),n}function Rb(r,e,t){return ua(r,e*3,t)}function f6(r,e,t){return BR(r,e*1e3)}function bg(r,e,t){return sa(r,e*7,t)}function Ro(r,e,t){return ua(r,e*12,t)}function wS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vn.bind(null,i));const a=Ke(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),vn(n,t||NaN)}function ES(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vn.bind(null,i));const a=Ke(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),vn(n,t||NaN)}function p6(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e);return+Ju(n)==+Ju(i)}function Mo(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function wg(r){return!(!Mo(r)&&typeof r!="number"||isNaN(+Ke(r)))}function Eg(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return a*12+l}function Hu(r,e){const t=Ke(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Tg(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=Hu(n)-Hu(i);return a*4+l}function Sg(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function m6(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e),a=TS(n,i),l=Math.abs(Md(n,i));n.setDate(n.getDate()-a*l);const c=+(TS(n,i)===-a),d=a*(l-c);return d===0?0:d}function TS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function zR(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function HR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function i0(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function qR(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function YR(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Tv(r,e){const t=Ke(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function g6(r,e){var c,d;const t=uc(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const v6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y6=(r,e,t)=>{let n;const i=v6[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function d_(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const _6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E6={date:d_({formats:_6,defaultWidth:"full"}),time:d_({formats:b6,defaultWidth:"full"}),dateTime:d_({formats:w6,defaultWidth:"full"})},T6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S6=(r,e,t,n)=>T6[r];function rf(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const C6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k6=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},L6={ordinalNumber:k6,era:rf({values:C6,defaultWidth:"wide"}),quarter:rf({values:x6,defaultWidth:"wide",argumentCallback:r=>r-1}),month:rf({values:A6,defaultWidth:"wide"}),day:rf({values:D6,defaultWidth:"wide"}),dayPeriod:rf({values:R6,defaultWidth:"wide",formattingValues:M6,defaultFormattingWidth:"wide"})};function sf(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?I6(c,m=>m.test(l)):O6(c,m=>m.test(l));let f;f=r.valueCallback?r.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function O6(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function I6(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function N6(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const P6=/^(\d+)(th|st|nd|rd)?/i,U6=/\d+/i,j6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V6={any:[/^b/i,/^(a|c)/i]},B6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F6={any:[/1/i,/2/i,/3/i,/4/i]},z6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G6={ordinalNumber:N6({matchPattern:P6,parsePattern:U6,valueCallback:r=>parseInt(r,10)}),era:sf({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any"}),quarter:sf({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any",valueCallback:r=>r+1}),month:sf({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:H6,defaultParseWidth:"any"}),day:sf({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any"}),dayPeriod:sf({matchPatterns:$6,defaultMatchWidth:"any",parsePatterns:W6,defaultParseWidth:"any"})},$R={code:"en-US",formatDistance:y6,formatLong:E6,formatRelative:S6,localize:L6,match:G6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q6(r,e){const t=Ke(r,e==null?void 0:e.in);return Md(t,Tv(t))+1}function Mb(r,e){const t=Ke(r,e==null?void 0:e.in),n=+Rd(t)-+h6(t);return Math.round(n/VR)+1}function kb(r,e){var p,m,v,b;const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=uc(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=vn((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=Vo(l,e),d=vn((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const f=Vo(d,e);return+t>=+c?n+1:+t>=+f?n:n-1}function K6(r,e){var c,d,f,p;const t=uc(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=kb(r,e),a=vn((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Vo(a,e)}function WR(r,e){const t=Ke(r,e==null?void 0:e.in),n=+Vo(t,e)-+K6(t,e);return Math.round(n/VR)+1}function gn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const xl={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return gn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):gn(t+1,2)},d(r,e){return gn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return gn(r.getHours()%12||12,e.length)},H(r,e){return gn(r.getHours(),e.length)},m(r,e){return gn(r.getMinutes(),e.length)},s(r,e){return gn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return gn(i,e.length)}},rd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return xl.y(r,e)},Y:function(r,e,t,n){const i=kb(r,n),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return gn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):gn(a,e.length)},R:function(r,e){const t=FR(r);return gn(t,e.length)},u:function(r,e){const t=r.getFullYear();return gn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return gn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return gn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return xl.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return gn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=WR(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):gn(i,e.length)},I:function(r,e,t){const n=Mb(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):gn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):xl.d(r,e)},D:function(r,e,t){const n=Q6(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):gn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return gn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return gn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return gn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=rd.noon:n===0?i=rd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=rd.evening:n>=12?i=rd.afternoon:n>=4?i=rd.morning:i=rd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return xl.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):xl.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):gn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):gn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):xl.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):xl.s(r,e)},S:function(r,e){return xl.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return xS(n);case"XXXX":case"XX":return Nu(n);case"XXXXX":case"XXX":default:return Nu(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return xS(n);case"xxxx":case"xx":return Nu(n);case"xxxxx":case"xxx":default:return Nu(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CS(n,":");case"OOOO":default:return"GMT"+Nu(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CS(n,":");case"zzzz":default:return"GMT"+Nu(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return gn(n,e.length)},T:function(r,e,t){return gn(+r,e.length)}};function CS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+gn(a,2)}function xS(r,e){return r%60===0?(r>0?"-":"+")+gn(Math.abs(r)/60,2):Nu(r,e)}function Nu(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=gn(Math.trunc(n/60),2),a=gn(n%60,2);return t+i+e+a}const AS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GR=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X6=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return AS(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",AS(n,e)).replace("{{time}}",GR(i,e))},s0={p:GR,P:X6},Z6=/^D+$/,J6=/^Y+$/,e5=["D","DD","YY","YYYY"];function t5(r){return Z6.test(r)}function n5(r){return J6.test(r)}function r5(r,e,t){const n=i5(r,e,t);if(console.warn(n),e5.includes(r))throw new RangeError(n)}function i5(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o5=/^'([^]*?)'?$/,l5=/''/g,u5=/[a-zA-Z]/;function jf(r,e,t){var p,m,v,b,E,M,D,L;const n=uc(),i=(t==null?void 0:t.locale)??n.locale??$R,a=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((M=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:M.weekStartsOn)??n.weekStartsOn??((L=(D=n.locale)==null?void 0:D.options)==null?void 0:L.weekStartsOn)??0,c=Ke(r,t==null?void 0:t.in);if(!wg(c))throw new RangeError("Invalid time value");let d=e.match(a5).map($=>{const Y=$[0];if(Y==="p"||Y==="P"){const z=s0[Y];return z($,i.formatLong)}return $}).join("").match(s5).map($=>{if($==="''")return{isToken:!1,value:"'"};const Y=$[0];if(Y==="'")return{isToken:!1,value:c5($)};if(SS[Y])return{isToken:!0,value:$};if(Y.match(u5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return{isToken:!1,value:$}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map($=>{if(!$.isToken)return $.value;const Y=$.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&n5(Y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&t5(Y))&&r5(Y,e,String(r));const z=SS[Y[0]];return z(c,Y,i.localize,f)}).join("")}function c5(r){const e=r.match(o5);return e?e[1].replace(l5,"'"):r}function DS(r,e){return Ke(r,e==null?void 0:e.in).getDate()}function d5(r,e){return Ke(r,e==null?void 0:e.in).getDay()}function h5(r,e){const t=Ke(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),a=vn(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function f5(){return Object.assign({},uc())}function ko(r,e){return Ke(r,e==null?void 0:e.in).getHours()}function p5(r,e){const t=Ke(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Lo(r,e){return Ke(r,e==null?void 0:e.in).getMinutes()}function xi(r,e){return Ke(r,e==null?void 0:e.in).getMonth()}function ql(r){return Ke(r).getSeconds()}function a0(r){return+Ke(r)}function Dt(r,e){return Ke(r,e==null?void 0:e.in).getFullYear()}function Jl(r,e){return+Ke(r)>+Ke(e)}function ec(r,e){return+Ke(r)<+Ke(e)}function m5(r,e){return+Ke(r)==+Ke(e)}function g5(r,e){const t=v5(e)?new e(0):vn(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function v5(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const y5=10;class QR{constructor(){He(this,"subPriority",0)}validate(e,t){return!0}}class _5 extends QR{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class b5 extends QR{constructor(t,n){super();He(this,"priority",y5);He(this,"subPriority",-1);this.context=t||(i=>vn(n,i))}set(t,n){return n.timestampIsSet?t:vn(t,g5(t,this.context))}}class an{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new _5(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class w5 extends an{constructor(){super(...arguments);He(this,"priority",140);He(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const dr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ma={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hr(r,e){return r&&{value:e(r.value),rest:r.rest}}function Yn(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ka(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Ev+a*wv+l*u6),rest:e.slice(t[0].length)}}function KR(r){return Yn(dr.anyDigitsSigned,r)}function ir(r,e){switch(r){case 1:return Yn(dr.singleDigit,e);case 2:return Yn(dr.twoDigits,e);case 3:return Yn(dr.threeDigits,e);case 4:return Yn(dr.fourDigits,e);default:return Yn(new RegExp("^\\d{1,"+r+"}"),e)}}function Cg(r,e){switch(r){case 1:return Yn(dr.singleDigitSigned,e);case 2:return Yn(dr.twoDigitsSigned,e);case 3:return Yn(dr.threeDigitsSigned,e);case 4:return Yn(dr.fourDigitsSigned,e);default:return Yn(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Lb(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function XR(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,l=Math.trunc(a/100)*100,c=r>=a%100;i=r+l-(c?100:0)}return t?i:1-i}function ZR(r){return r%400===0||r%4===0&&r%100!==0}class E5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return hr(ir(4,t),a);case"yo":return hr(i.ordinalNumber(t,{unit:"year"}),a);default:return hr(ir(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const a=t.getFullYear();if(i.isTwoDigitYear){const c=XR(i.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class T5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return hr(ir(4,t),a);case"Yo":return hr(i.ordinalNumber(t,{unit:"year"}),a);default:return hr(ir(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,a){const l=kb(t,a);if(i.isTwoDigitYear){const d=XR(i.year,l);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Vo(t,a)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Vo(t,a)}}class S5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Cg(n==="R"?4:n.length,t)}set(t,n,i){const a=vn(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Rd(a)}}class C5 extends an{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Cg(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class x5 extends an{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return ir(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class A5 extends an{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return ir(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class D5 extends an{constructor(){super(...arguments);He(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);He(this,"priority",110)}parse(t,n,i){const a=l=>l-1;switch(n){case"M":return hr(Yn(dr.month,t),a);case"MM":return hr(ir(2,t),a);case"Mo":return hr(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class R5 extends an{constructor(){super(...arguments);He(this,"priority",110);He(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const a=l=>l-1;switch(n){case"L":return hr(Yn(dr.month,t),a);case"LL":return hr(ir(2,t),a);case"Lo":return hr(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function M5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=WR(n,t)-e;return n.setDate(n.getDate()-i*7),Ke(n,t==null?void 0:t.in)}class k5 extends an{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return Yn(dr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,a){return Vo(M5(t,i,a),a)}}function L5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=Mb(n,t)-e;return n.setDate(n.getDate()-i*7),n}class O5 extends an{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return Yn(dr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Rd(L5(t,i))}}const I5=[31,28,31,30,31,30,31,31,30,31,30,31],N5=[31,29,31,30,31,30,31,31,30,31,30,31];class P5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"subPriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return Yn(dr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ir(n.length,t)}}validate(t,n){const i=t.getFullYear(),a=ZR(i),l=t.getMonth();return a?n>=1&&n<=N5[l]:n>=1&&n<=I5[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class U5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"subpriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return Yn(dr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ir(n.length,t)}}validate(t,n){const i=t.getFullYear();return ZR(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Ob(r,e,t){var m,v,b,E;const n=uc(),i=(t==null?void 0:t.weekStartsOn)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((E=(b=n.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,a=Ke(r,t==null?void 0:t.in),l=a.getDay(),d=(e%7+7)%7,f=7-i,p=e<0||e>6?e-(l+f)%7:(d+f)%7-(l+f)%7;return sa(a,p,t)}class j5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Ob(t,i,a),t.setHours(0,0,0,0),t}}class V5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,a){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return hr(ir(n.length,t),l);case"eo":return hr(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Ob(t,i,a),t.setHours(0,0,0,0),t}}class B5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,a){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return hr(ir(n.length,t),l);case"co":return hr(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=Ob(t,i,a),t.setHours(0,0,0,0),t}}function F5(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=p5(n,t),a=e-i;return sa(n,a,t)}class z5 extends an{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const a=l=>l===0?7:l;switch(n){case"i":case"ii":return ir(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return hr(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return hr(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return hr(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return hr(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=F5(t,i),t.setHours(0,0,0,0),t}}class H5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Lb(i),0,0,0),t}}class q5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Lb(i),0,0,0),t}}class Y5 extends an{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Lb(i),0,0,0),t}}class $5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return Yn(dr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class W5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return Yn(dr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class G5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return Yn(dr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class Q5 extends an{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return Yn(dr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ir(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class K5 extends an{constructor(){super(...arguments);He(this,"priority",60);He(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return Yn(dr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class X5 extends an{constructor(){super(...arguments);He(this,"priority",50);He(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return Yn(dr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ir(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class Z5 extends an{constructor(){super(...arguments);He(this,"priority",30);He(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return hr(ir(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class J5 extends an{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ka(Ma.basicOptionalMinutes,t);case"XX":return ka(Ma.basic,t);case"XXXX":return ka(Ma.basicOptionalSeconds,t);case"XXXXX":return ka(Ma.extendedOptionalSeconds,t);case"XXX":default:return ka(Ma.extended,t)}}set(t,n,i){return n.timestampIsSet?t:vn(t,t.getTime()-_g(t)-i)}}class e9 extends an{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ka(Ma.basicOptionalMinutes,t);case"xx":return ka(Ma.basic,t);case"xxxx":return ka(Ma.basicOptionalSeconds,t);case"xxxxx":return ka(Ma.extendedOptionalSeconds,t);case"xxx":default:return ka(Ma.extended,t)}}set(t,n,i){return n.timestampIsSet?t:vn(t,t.getTime()-_g(t)-i)}}class t9 extends an{constructor(){super(...arguments);He(this,"priority",40);He(this,"incompatibleTokens","*")}parse(t){return KR(t)}set(t,n,i){return[vn(t,i*1e3),{timestampIsSet:!0}]}}class n9 extends an{constructor(){super(...arguments);He(this,"priority",20);He(this,"incompatibleTokens","*")}parse(t){return KR(t)}set(t,n,i){return[vn(t,i),{timestampIsSet:!0}]}}const r9={G:new w5,y:new E5,Y:new T5,R:new S5,u:new C5,Q:new x5,q:new A5,M:new D5,L:new R5,w:new k5,I:new O5,d:new P5,D:new U5,E:new j5,e:new V5,c:new B5,i:new z5,a:new H5,b:new q5,B:new Y5,h:new $5,H:new W5,K:new G5,k:new Q5,m:new K5,s:new X5,S:new Z5,X:new J5,x:new e9,t:new t9,T:new n9},i9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a9=/^'([^]*?)'?$/,o9=/''/g,l9=/\S/,u9=/[a-zA-Z]/;function c9(r,e,t,n){var D,L,$,Y,z,W,H,I;const i=()=>vn((n==null?void 0:n.in)||t,NaN),a=f5(),l=(n==null?void 0:n.locale)??a.locale??$R,c=(n==null?void 0:n.firstWeekContainsDate)??((L=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:L.firstWeekContainsDate)??a.firstWeekContainsDate??((Y=($=a.locale)==null?void 0:$.options)==null?void 0:Y.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((W=(z=n==null?void 0:n.locale)==null?void 0:z.options)==null?void 0:W.weekStartsOn)??a.weekStartsOn??((I=(H=a.locale)==null?void 0:H.options)==null?void 0:I.weekStartsOn)??0;if(!e)return r?i():Ke(t,n==null?void 0:n.in);const f={firstWeekContainsDate:c,weekStartsOn:d,locale:l},p=[new b5(n==null?void 0:n.in,t)],m=e.match(s9).map(C=>{const S=C[0];if(S in s0){const k=s0[S];return k(C,l.formatLong)}return C}).join("").match(i9),v=[];for(let C of m){const S=C[0],k=r9[S];if(k){const{incompatibleTokens:P}=k;if(Array.isArray(P)){const j=v.find(X=>P.includes(X.token)||X.token===S);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${C}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);v.push({token:S,fullToken:C});const F=k.run(r,C,l.match,f);if(!F)return i();p.push(F.setter),r=F.rest}else{if(S.match(u9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(C==="''"?C="'":S==="'"&&(C=d9(C)),r.indexOf(C)===0)r=r.slice(C.length);else return i()}}if(r.length>0&&l9.test(r))return i();const b=p.map(C=>C.priority).sort((C,S)=>S-C).filter((C,S,k)=>k.indexOf(C)===S).map(C=>p.filter(S=>S.priority===C).sort((S,k)=>k.subPriority-S.subPriority)).map(C=>C[0]);let E=Ke(t,n==null?void 0:n.in);if(isNaN(+E))return i();const M={};for(const C of b){if(!C.validate(E,f))return i();const S=C.set(E,M,f);Array.isArray(S)?(E=S[0],Object.assign(M,S[1])):E=S}return E}function d9(r){return r.match(a9)[1].replace(o9,"'")}function h9(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function f9(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e);return+i0(n)==+i0(i)}function p9(r,e,t){const[n,i]=Bo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function Vf(r,e,t){const n=+Ke(r,t==null?void 0:t.in),[i,a]=[+Ke(e.start,t==null?void 0:t.in),+Ke(e.end,t==null?void 0:t.in)].sort((l,c)=>l-c);return n>=i&&n<=a}function m9(r,e,t){return sa(r,-1,t)}function g9(r,e){const t=()=>vn(e==null?void 0:e.in,NaN),i=b9(r);let a;if(i.date){const f=w9(i.date,2);a=E9(f.restDateString,f.year)}if(!a||isNaN(+a))return t();const l=+a;let c=0,d;if(i.time&&(c=T9(i.time),isNaN(c)))return t();if(i.timezone){if(d=S9(i.timezone),isNaN(d))return t()}else{const f=new Date(l+c),p=Ke(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Ke(l+c+d,e==null?void 0:e.in)}const bm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function b9(r){const e={},t=r.split(bm.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],bm.timeZoneDelimiter.test(e.date)&&(e.date=r.split(bm.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=bm.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function w9(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function E9(r,e){if(e===null)return new Date(NaN);const t=r.match(v9);if(!t)return new Date(NaN);const n=!!t[4],i=af(t[1]),a=af(t[2])-1,l=af(t[3]),c=af(t[4]),d=af(t[5])-1;if(n)return R9(e,c,d)?C9(e,c,d):new Date(NaN);{const f=new Date(0);return!A9(e,a,l)||!D9(e,i)?new Date(NaN):(f.setUTCFullYear(e,a,Math.max(i,l)),f)}}function af(r){return r?parseInt(r):1}function T9(r){const e=r.match(y9);if(!e)return NaN;const t=h_(e[1]),n=h_(e[2]),i=h_(e[3]);return M9(t,n,i)?t*Ev+n*wv+i*1e3:NaN}function h_(r){return r&&parseFloat(r.replace(",","."))||0}function S9(r){if(r==="Z")return 0;const e=r.match(_9);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return k9(n,i)?t*(n*Ev+i*wv):NaN}function C9(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const x9=[31,null,31,30,31,30,31,31,30,31,30,31];function JR(r){return r%400===0||r%4===0&&r%100!==0}function A9(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(x9[e]||(JR(r)?29:28))}function D9(r,e){return e>=1&&e<=(JR(r)?366:365)}function R9(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function M9(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function k9(r,e){return e>=0&&e<=59}function Ms(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=n.getFullYear(),a=n.getDate(),l=vn(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=h5(l);return n.setMonth(e,Math.min(a,c)),n}function Fm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setHours(e),n}function zm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setMinutes(e),n}function ld(r,e,t){const n=Ke(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return Ms(n,n.getMonth()+a*3)}function Hm(r,e,t){const n=Ke(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Aa(r,e,t){const n=Ke(r,t==null?void 0:t.in);return isNaN(+n)?vn(r,NaN):(n.setFullYear(e),n)}function qu(r,e,t){return ua(r,-e,t)}function eM(r,e,t){return Rb(r,-1,t)}function RS(r,e,t){return bg(r,-1,t)}function kd(r,e,t){return Ro(r,-e,t)}function Sv(){return typeof window<"u"}function Wd(r){return tM(r)?(r.nodeName||"").toLowerCase():"#document"}function us(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function $a(r){var e;return(e=(tM(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function tM(r){return Sv()?r instanceof Node||r instanceof us(r).Node:!1}function Ai(r){return Sv()?r instanceof Element||r instanceof us(r).Element:!1}function Ha(r){return Sv()?r instanceof HTMLElement||r instanceof us(r).HTMLElement:!1}function MS(r){return!Sv()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof us(r).ShadowRoot}function np(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Is(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function L9(r){return["table","td","th"].includes(Wd(r))}function Cv(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Ib(r){const e=Nb(),t=Ai(r)?Is(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function O9(r){let e=eu(r);for(;Ha(e)&&!Ld(e);){if(Ib(e))return e;if(Cv(e))return null;e=eu(e)}return null}function Nb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ld(r){return["html","body","#document"].includes(Wd(r))}function Is(r){return us(r).getComputedStyle(r)}function xv(r){return Ai(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function eu(r){if(Wd(r)==="html")return r;const e=r.assignedSlot||r.parentNode||MS(r)&&r.host||$a(r);return MS(e)?e.host:e}function nM(r){const e=eu(r);return Ld(e)?r.ownerDocument?r.ownerDocument.body:r.body:Ha(e)&&np(e)?e:nM(e)}function Bf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=nM(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),l=us(i);if(a){const c=o0(l);return e.concat(l,l.visualViewport||[],np(i)?i:[],c&&t?Bf(c):[])}return e.concat(i,Bf(i,[],t))}function o0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Od=Math.min,Yu=Math.max,xg=Math.round,wm=Math.floor,Fa=r=>({x:r,y:r}),I9={left:"right",right:"left",bottom:"top",top:"bottom"},N9={start:"end",end:"start"};function P9(r,e,t){return Yu(r,Od(e,t))}function Av(r,e){return typeof r=="function"?r(e):r}function Id(r){return r.split("-")[0]}function rp(r){return r.split("-")[1]}function U9(r){return r==="x"?"y":"x"}function Pb(r){return r==="y"?"height":"width"}function Ff(r){return["top","bottom"].includes(Id(r))?"y":"x"}function Ub(r){return U9(Ff(r))}function j9(r,e,t){t===void 0&&(t=!1);const n=rp(r),i=Ub(r),a=Pb(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Ag(l)),[l,Ag(l)]}function V9(r){const e=Ag(r);return[l0(r),e,l0(e)]}function l0(r){return r.replace(/start|end/g,e=>N9[e])}function B9(r,e,t){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?a:l;default:return[]}}function F9(r,e,t,n){const i=rp(r);let a=B9(Id(r),t==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(l0)))),a}function Ag(r){return r.replace(/left|right|bottom|top/g,e=>I9[e])}function z9(r){return{top:0,right:0,bottom:0,left:0,...r}}function rM(r){return typeof r!="number"?z9(r):{top:r,right:r,bottom:r,left:r}}function Dg(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function kS(r,e,t){let{reference:n,floating:i}=r;const a=Ff(e),l=Ub(e),c=Pb(l),d=Id(e),f=a==="y",p=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,v=n[c]/2-i[c]/2;let b;switch(d){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:m};break;case"left":b={x:n.x-i.width,y:m};break;default:b={x:n.x,y:n.y}}switch(rp(e)){case"start":b[l]-=v*(t&&f?-1:1);break;case"end":b[l]+=v*(t&&f?-1:1);break}return b}const H9=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:p,y:m}=kS(f,n,d),v=n,b={},E=0;for(let M=0;M<c.length;M++){const{name:D,fn:L}=c[M],{x:$,y:Y,data:z,reset:W}=await L({x:p,y:m,initialPlacement:n,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:r,floating:e}});p=$??p,m=Y??m,b={...b,[D]:{...b[D],...z}},W&&E<=50&&(E++,typeof W=="object"&&(W.placement&&(v=W.placement),W.rects&&(f=W.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):W.rects),{x:p,y:m}=kS(f,v,d)),M=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:b}};async function q9(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:c,strategy:d}=r,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:b=0}=Av(e,r),E=rM(b),D=c[v?m==="floating"?"reference":"floating":m],L=Dg(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(D)))==null||t?D:D.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),$=m==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,Y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await(a.isElement==null?void 0:a.isElement(Y))?await(a.getScale==null?void 0:a.getScale(Y))||{x:1,y:1}:{x:1,y:1},W=Dg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:$,offsetParent:Y,strategy:d}):$);return{top:(L.top-W.top+E.top)/z.y,bottom:(W.bottom-L.bottom+E.bottom)/z.y,left:(L.left-W.left+E.left)/z.x,right:(W.right-L.right+E.right)/z.x}}const Y9=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=Av(r,e)||{};if(f==null)return{};const m=rM(p),v={x:t,y:n},b=Ub(i),E=Pb(b),M=await l.getDimensions(f),D=b==="y",L=D?"top":"left",$=D?"bottom":"right",Y=D?"clientHeight":"clientWidth",z=a.reference[E]+a.reference[b]-v[b]-a.floating[E],W=v[b]-a.reference[b],H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let I=H?H[Y]:0;(!I||!await(l.isElement==null?void 0:l.isElement(H)))&&(I=c.floating[Y]||a.floating[E]);const C=z/2-W/2,S=I/2-M[E]/2-1,k=Od(m[L],S),P=Od(m[$],S),F=k,j=I-M[E]-P,X=I/2-M[E]/2+C,J=P9(F,X,j),U=!d.arrow&&rp(i)!=null&&X!==J&&a.reference[E]/2-(X<F?k:P)-M[E]/2<0,B=U?X<F?X-F:X-j:0;return{[b]:v[b]+B,data:{[b]:J,centerOffset:X-J-B,...U&&{alignmentOffset:B}},reset:U}}}),$9=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:M=!0,...D}=Av(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=Id(i),$=Ff(c),Y=Id(c)===c,z=await(d.isRTL==null?void 0:d.isRTL(f.floating)),W=v||(Y||!M?[Ag(c)]:V9(c)),H=E!=="none";!v&&H&&W.push(...F9(c,M,E,z));const I=[c,...W],C=await q9(e,D),S=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&S.push(C[L]),m){const X=j9(i,l,z);S.push(C[X[0]],C[X[1]])}if(k=[...k,{placement:i,overflows:S}],!S.every(X=>X<=0)){var P,F;const X=(((P=a.flip)==null?void 0:P.index)||0)+1,J=I[X];if(J)return{data:{index:X,overflows:k},reset:{placement:J}};let U=(F=k.filter(B=>B.overflows[0]<=0).sort((B,ee)=>B.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(b){case"bestFit":{var j;const B=(j=k.filter(ee=>{if(H){const ne=Ff(ee.placement);return ne===$||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,O)=>ne+O,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:j[0];B&&(U=B);break}case"initialPlacement":U=c;break}if(i!==U)return{reset:{placement:U}}}return{}}}};async function W9(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Id(t),c=rp(t),d=Ff(t)==="y",f=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,m=Av(e,r);let{mainAxis:v,crossAxis:b,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof E=="number"&&(b=c==="end"?E*-1:E),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const G9=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:l,middlewareData:c}=e,d=await W9(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}};function iM(r){const e=Is(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ha(r),a=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=xg(t)!==a||xg(n)!==l;return c&&(t=a,n=l),{width:t,height:n,$:c}}function jb(r){return Ai(r)?r:r.contextElement}function yd(r){const e=jb(r);if(!Ha(e))return Fa(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=iM(e);let l=(a?xg(t.width):t.width)/n,c=(a?xg(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Q9=Fa(0);function sM(r){const e=us(r);return!Nb()||!e.visualViewport?Q9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K9(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==us(r)?!1:e}function tc(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=jb(r);let l=Fa(1);e&&(n?Ai(n)&&(l=yd(n)):l=yd(r));const c=K9(a,t,n)?sM(a):Fa(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(a){const v=us(a),b=n&&Ai(n)?us(n):n;let E=v,M=o0(E);for(;M&&n&&b!==E;){const D=yd(M),L=M.getBoundingClientRect(),$=Is(M),Y=L.left+(M.clientLeft+parseFloat($.paddingLeft))*D.x,z=L.top+(M.clientTop+parseFloat($.paddingTop))*D.y;d*=D.x,f*=D.y,p*=D.x,m*=D.y,d+=Y,f+=z,E=us(M),M=o0(E)}}return Dg({width:p,height:m,x:d,y:f})}function Vb(r,e){const t=xv(r).scrollLeft;return e?e.left+t:tc($a(r)).left+t}function aM(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:Vb(r,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function X9(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",l=$a(n),c=e?Cv(e.floating):!1;if(n===l||c&&a)return t;let d={scrollLeft:0,scrollTop:0},f=Fa(1);const p=Fa(0),m=Ha(n);if((m||!m&&!a)&&((Wd(n)!=="body"||np(l))&&(d=xv(n)),Ha(n))){const b=tc(n);f=yd(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=l&&!m&&!a?aM(l,d,!0):Fa(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function Z9(r){return Array.from(r.getClientRects())}function J9(r){const e=$a(r),t=xv(r),n=r.ownerDocument.body,i=Yu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Yu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Vb(r);const c=-t.scrollTop;return Is(n).direction==="rtl"&&(l+=Yu(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:c}}function eB(r,e){const t=us(r),n=$a(r),i=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const f=Nb();(!f||f&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:c,y:d}}function tB(r,e){const t=tc(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=Ha(r)?yd(r):Fa(1),l=r.clientWidth*a.x,c=r.clientHeight*a.y,d=i*a.x,f=n*a.y;return{width:l,height:c,x:d,y:f}}function LS(r,e,t){let n;if(e==="viewport")n=eB(r,t);else if(e==="document")n=J9($a(r));else if(Ai(e))n=tB(e,t);else{const i=sM(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Dg(n)}function oM(r,e){const t=eu(r);return t===e||!Ai(t)||Ld(t)?!1:Is(t).position==="fixed"||oM(t,e)}function nB(r,e){const t=e.get(r);if(t)return t;let n=Bf(r,[],!1).filter(c=>Ai(c)&&Wd(c)!=="body"),i=null;const a=Is(r).position==="fixed";let l=a?eu(r):r;for(;Ai(l)&&!Ld(l);){const c=Is(l),d=Ib(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||np(l)&&!d&&oM(r,l))?n=n.filter(p=>p!==l):i=c,l=eu(l)}return e.set(r,n),n}function rB(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?Cv(e)?[]:nB(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((f,p)=>{const m=LS(e,p,i);return f.top=Yu(m.top,f.top),f.right=Od(m.right,f.right),f.bottom=Od(m.bottom,f.bottom),f.left=Yu(m.left,f.left),f},LS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function iB(r){const{width:e,height:t}=iM(r);return{width:e,height:t}}function sB(r,e,t){const n=Ha(e),i=$a(e),a=t==="fixed",l=tc(r,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=Fa(0);if(n||!n&&!a)if((Wd(e)!=="body"||np(i))&&(c=xv(e)),n){const v=tc(e,!0,a,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&(d.x=Vb(i));const f=i&&!n&&!a?aM(i,c):Fa(0),p=l.left+c.scrollLeft-d.x-f.x,m=l.top+c.scrollTop-d.y-f.y;return{x:p,y:m,width:l.width,height:l.height}}function f_(r){return Is(r).position==="static"}function OS(r,e){if(!Ha(r)||Is(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return $a(r)===t&&(t=t.ownerDocument.body),t}function lM(r,e){const t=us(r);if(Cv(r))return t;if(!Ha(r)){let i=eu(r);for(;i&&!Ld(i);){if(Ai(i)&&!f_(i))return i;i=eu(i)}return t}let n=OS(r,e);for(;n&&L9(n)&&f_(n);)n=OS(n,e);return n&&Ld(n)&&f_(n)&&!Ib(n)?t:n||O9(r)||t}const aB=async function(r){const e=this.getOffsetParent||lM,t=this.getDimensions,n=await t(r.floating);return{reference:sB(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oB(r){return Is(r).direction==="rtl"}const lB={convertOffsetParentRelativeRectToViewportRelativeRect:X9,getDocumentElement:$a,getClippingRect:rB,getOffsetParent:lM,getElementRects:aB,getClientRects:Z9,getDimensions:iB,getScale:yd,isElement:Ai,isRTL:oB};function uM(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function uB(r,e){let t=null,n;const i=$a(r);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=r.getBoundingClientRect(),{left:p,top:m,width:v,height:b}=f;if(c||e(),!v||!b)return;const E=wm(m),M=wm(i.clientWidth-(p+v)),D=wm(i.clientHeight-(m+b)),L=wm(p),Y={rootMargin:-E+"px "+-M+"px "+-D+"px "+-L+"px",threshold:Yu(0,Od(1,d))||1};let z=!0;function W(H){const I=H[0].intersectionRatio;if(I!==d){if(!z)return l();I?l(!1,I):n=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!uM(f,r.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(W,{...Y,root:i.ownerDocument})}catch{t=new IntersectionObserver(W,Y)}t.observe(r)}return l(!0),a}function cB(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=jb(r),p=i||a?[...f?Bf(f):[],...Bf(e)]:[];p.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const m=f&&c?uB(f,t):null;let v=-1,b=null;l&&(b=new ResizeObserver(L=>{let[$]=L;$&&$.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var Y;(Y=b)==null||Y.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let E,M=d?tc(r):null;d&&D();function D(){const L=tc(r);M&&!uM(M,L)&&t(),M=L,E=requestAnimationFrame(D)}return t(),()=>{var L;p.forEach($=>{i&&$.removeEventListener("scroll",t),a&&$.removeEventListener("resize",t)}),m==null||m(),(L=b)==null||L.disconnect(),b=null,d&&cancelAnimationFrame(E)}}const dB=G9,hB=$9,IS=Y9,fB=(r,e,t)=>{const n=new Map,i={platform:lB,...t},a={...i.platform,_c:n};return H9(r,e,{...i,platform:a})};var qm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Rg(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Rg(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!Rg(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function cM(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function NS(r,e){const t=cM(r);return Math.round(e*t)/t}function p_(r){const e=T.useRef(r);return qm(()=>{e.current=r}),e}function pB(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=r,[p,m]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=T.useState(n);Rg(v,n)||b(n);const[E,M]=T.useState(null),[D,L]=T.useState(null),$=T.useCallback(ee=>{ee!==H.current&&(H.current=ee,M(ee))},[]),Y=T.useCallback(ee=>{ee!==I.current&&(I.current=ee,L(ee))},[]),z=a||E,W=l||D,H=T.useRef(null),I=T.useRef(null),C=T.useRef(p),S=d!=null,k=p_(d),P=p_(i),F=p_(f),j=T.useCallback(()=>{if(!H.current||!I.current)return;const ee={placement:e,strategy:t,middleware:v};P.current&&(ee.platform=P.current),fB(H.current,I.current,ee).then(ne=>{const O={...ne,isPositioned:F.current!==!1};X.current&&!Rg(C.current,O)&&(C.current=O,tu.flushSync(()=>{m(O)}))})},[v,e,t,P,F]);qm(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(ee=>({...ee,isPositioned:!1})))},[f]);const X=T.useRef(!1);qm(()=>(X.current=!0,()=>{X.current=!1}),[]),qm(()=>{if(z&&(H.current=z),W&&(I.current=W),z&&W){if(k.current)return k.current(z,W,j);j()}},[z,W,j,k,S]);const J=T.useMemo(()=>({reference:H,floating:I,setReference:$,setFloating:Y}),[$,Y]),U=T.useMemo(()=>({reference:z,floating:W}),[z,W]),B=T.useMemo(()=>{const ee={position:t,left:0,top:0};if(!U.floating)return ee;const ne=NS(U.floating,p.x),O=NS(U.floating,p.y);return c?{...ee,transform:"translate("+ne+"px, "+O+"px)",...cM(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:O}},[t,c,U.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:j,refs:J,elements:U,floatingStyles:B}),[p,j,J,U,B])}const mB=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?IS({element:n.current,padding:i}).fn(t):{}:n?IS({element:n,padding:i}).fn(t):{}}}},gB=(r,e)=>({...dB(r),options:[r,e]}),vB=(r,e)=>({...hB(r),options:[r,e]}),yB=(r,e)=>({...mB(r),options:[r,e]}),dM={...wk},_B=dM.useInsertionEffect,bB=_B||(r=>r());function wB(r){const e=T.useRef(()=>{});return bB(()=>{e.current=r}),T.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Mg=typeof document<"u"?T.useLayoutEffect:T.useEffect;let PS=!1,EB=0;const US=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+EB++;function TB(){const[r,e]=T.useState(()=>PS?US():void 0);return Mg(()=>{r==null&&e(US())},[]),T.useEffect(()=>{PS=!0},[]),r}const SB=dM.useId,hM=SB||TB,CB=T.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:l}},width:c=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:m,stroke:v,d:b,style:{transform:E,...M}={},...D}=e,L=hM(),[$,Y]=T.useState(!1);if(Mg(()=>{if(!i)return;Is(i).direction==="rtl"&&Y(!0)},[i]),!i)return null;const[z,W]=n.split("-"),H=z==="top"||z==="bottom";let I=m;(H&&l!=null&&l.x||!H&&l!=null&&l.y)&&(I=null);const C=p*2,S=C/2,k=c/2*(f/-8+1),P=d/2*f/4,F=!!b,j=I&&W==="end"?"bottom":"top";let X=I&&W==="end"?"right":"left";I&&$&&(X=W==="end"?"left":"right");const J=(a==null?void 0:a.x)!=null?I||a.x:"",U=(a==null?void 0:a.y)!=null?I||a.y:"",B=b||"M0,0"+(" H"+c)+(" L"+(c-k)+","+(d-P))+(" Q"+c/2+","+d+" "+k+","+(d-P))+" Z",ee={top:F?"rotate(180deg)":"",left:F?"rotate(90deg)":"rotate(-90deg)",bottom:F?"":"rotate(180deg)",right:F?"rotate(-90deg)":"rotate(90deg)"}[z];return x.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:F?c:c+C,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[X]:J,[j]:U,[z]:H||F?"100%":"calc(100% - "+C/2+"px)",transform:[ee,E].filter(ne=>!!ne).join(" "),...M},children:[C>0&&x.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:v,strokeWidth:C+(b?0:1),d:B}),x.jsx("path",{stroke:C&&!b?D.fill:"none",d:B}),x.jsx("clipPath",{id:L,children:x.jsx("rect",{x:-S,y:S*(F?-1:1),width:c+C,height:c})})]})});function xB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const AB=T.createContext(null),DB=T.createContext(null),RB=()=>{var r;return((r=T.useContext(AB))==null?void 0:r.id)||null},MB=()=>T.useContext(DB);function kB(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=hM(),a=T.useRef({}),[l]=T.useState(()=>xB()),c=RB()!=null,[d,f]=T.useState(n.reference),p=wB((b,E,M)=>{a.current.openEvent=b?E:void 0,l.emit("openchange",{open:b,event:E,reason:M,nested:c}),t==null||t(b,E,M)}),m=T.useMemo(()=>({setPositionReference:f}),[]),v=T.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return T.useMemo(()=>({dataRef:a,open:e,onOpenChange:p,elements:v,events:l,floatingId:i,refs:m}),[e,p,v,l,i,m])}function LB(r){r===void 0&&(r={});const{nodeId:e}=r,t=kB({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,l]=T.useState(null),[c,d]=T.useState(null),p=(i==null?void 0:i.domReference)||a,m=T.useRef(null),v=MB();Mg(()=>{p&&(m.current=p)},[p]);const b=pB({...r,elements:{...i,...c&&{reference:c}}}),E=T.useCallback(Y=>{const z=Ai(Y)?{getBoundingClientRect:()=>Y.getBoundingClientRect(),getClientRects:()=>Y.getClientRects(),contextElement:Y}:Y;d(z),b.refs.setReference(z)},[b.refs]),M=T.useCallback(Y=>{(Ai(Y)||Y===null)&&(m.current=Y,l(Y)),(Ai(b.refs.reference.current)||b.refs.reference.current===null||Y!==null&&!Ai(Y))&&b.refs.setReference(Y)},[b.refs]),D=T.useMemo(()=>({...b.refs,setReference:M,setPositionReference:E,domReference:m}),[b.refs,M,E]),L=T.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),$=T.useMemo(()=>({...b,...n,refs:D,elements:L,nodeId:e}),[b,D,L,e,n]);return Mg(()=>{n.dataRef.current.floatingContext=$;const Y=v==null?void 0:v.nodesRef.current.find(z=>z.id===e);Y&&(Y.context=$)}),T.useMemo(()=>({...b,context:$,refs:D,elements:L}),[b,D,L,$])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var u0=function(e,t){return u0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},u0(e,t)};function Ur(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Zt=function(){return Zt=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Zt.apply(this,arguments)};function Oa(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var OB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ve.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},l)},IB=function(r,e){var t=T.useRef(null),n=T.useRef(r);n.current=r;var i=T.useCallback(function(a){var l,c=a.composed&&a.composedPath&&a.composedPath().find(function(d){return d instanceof Node})||a.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,a))},[e]);return T.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Dv=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,l=r.ignoreClass,c=IB(t,l);return ve.createElement("div",{className:n,style:a,ref:function(d){c.current=d,i&&(i.current=d)}},e)},Ve;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(Ve||(Ve={}));function fM(){var r=typeof window<"u"?window:globalThis;return r}var ip=12;function ln(r){if(r==null)return new Date;var e=typeof r=="string"?g9(r):Ke(r);return Rv(e)?e:new Date}function m_(r,e,t,n,i){i===void 0&&(i=ln());for(var a=Nd(t)||Nd(Bb()),l=Array.isArray(e)?e:[e],c=0,d=l;c<d.length;c++){var f=d[c],p=c9(r,f,i,{locale:a});if(Rv(p)&&(!n||r===Fn(p,f,t)))return p}return null}function Rv(r,e){return wg(r)&&!ec(r,new Date("1/1/1800"))}function Fn(r,e,t){if(t==="en")return jf(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Nd(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Nd(Bb()),jf(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Rs(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Fn(r,i,n)||""}function NB(r,e,t){if(!r)return"";var n=Rs(r,t),i=e?Rs(e,t):"";return"".concat(n," - ").concat(i)}function PB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Rs(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Rs(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function g_(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Fm(zm(Hm(r,c),a),n)}function UB(r){return Mb(r)}function jB(r,e){return Fn(r,"ddd",e)}function Ym(r){return Ju(r)}function Yl(r,e,t){var n=Nd(e||Bb());return Vo(r,{locale:n,weekStartsOn:t})}function Oo(r){return qR(r)}function yf(r){return Tv(r)}function jS(r){return i0(r)}function VS(){return Ju(ln())}function BS(r){return zR(r)}function VB(r){return g6(r)}function BB(r){return HR(r)}function Da(r,e){return r&&e?p9(r,e):!r&&!e}function Si(r,e){return r&&e?h9(r,e):!r&&!e}function kg(r,e){return r&&e?f9(r,e):!r&&!e}function Xt(r,e){return r&&e?p6(r,e):!r&&!e}function Vu(r,e){return r&&e?m5(r,e):!r&&!e}function _f(r,e,t){var n,i=Ju(e),a=zR(t);try{n=Vf(r,{start:i,end:a})}catch{n=!1}return n}function Bb(){var r=fM();return r.__localeId__}function Nd(r){if(typeof r=="string"){var e=fM();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function FB(r,e,t){return e(Fn(r,"EEEE",t))}function zB(r,e){return Fn(r,"EEEEEE",e)}function HB(r,e){return Fn(r,"EEE",e)}function Fb(r,e){return Fn(Ms(ln(),r),"LLLL",e)}function pM(r,e){return Fn(Ms(ln(),r),"LLL",e)}function qB(r,e){return Fn(ld(ln(),r),"QQQ",e)}function ks(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return sp(r,{minDate:n,maxDate:i})||a&&a.some(function(p){return p instanceof Date?Xt(r,p):Xt(r,p.date)})||l&&l.some(function(p){var m=p.start,v=p.end;return Vf(r,{start:m,end:v})})||c&&!c.some(function(p){return Xt(r,p)})||d&&!d.some(function(p){var m=p.start,v=p.end;return Vf(r,{start:m,end:v})})||f&&!f(ln(r))||!1}function zb(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var l=a.start,c=a.end;return Vf(r,{start:l,end:c})}):n&&n.some(function(a){var l;return a instanceof Date?Xt(r,a):Xt(r,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function mM(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return sp(r,{minDate:n?qR(n):void 0,maxDate:i?HR(i):void 0})||(a==null?void 0:a.some(function(d){return Si(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Si(r,d)})||c&&!c(ln(r))||!1}function Em(r,e,t,n){var i=Dt(r),a=xi(r),l=Dt(e),c=xi(e),d=Dt(n);return i===l&&i===d?a<=t&&t<=c:i<l?d===i&&a<=t||d===l&&c>=t||d<l&&d>i:!1}function YB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates;return sp(r,{minDate:n,maxDate:i})||a&&a.some(function(c){return Si(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return Si(c,r)})||!1}function Tm(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return sp(r,{minDate:n,maxDate:i})||(a==null?void 0:a.some(function(d){return kg(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return kg(r,d)})||c&&!c(ln(r))||!1}function Sm(r,e,t){if(!e||!t||!wg(e)||!wg(t))return!1;var n=Dt(e),i=Dt(t);return n<=r&&i>=r}function $m(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return sp(d,{minDate:n?Tv(n):void 0,maxDate:i?YR(i):void 0})||(a==null?void 0:a.some(function(f){return Da(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Da(d,f)})||c&&!c(ln(d))||!1}function Cm(r,e,t,n){var i=Dt(r),a=Hu(r),l=Dt(e),c=Hu(e),d=Dt(n);return i===l&&i===d?a<=t&&t<=c:i<l?d===i&&a<=t||d===l&&c>=t||d<l&&d>i:!1}function sp(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&Md(r,i)<0||a&&Md(r,a)>0)!==null&&t!==void 0?t:!1}function FS(r,e){return e.some(function(t){return ko(t)===ko(r)&&Lo(t)===Lo(r)&&ql(t)===ql(r)})}function zS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&FS(r,n)||i&&!FS(r,i)||a&&!a(r)||!1}function HS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=ln();i=Fm(i,ko(r)),i=zm(i,Lo(r)),i=Hm(i,ql(r));var a=ln();a=Fm(a,ko(t)),a=zm(a,Lo(t)),a=Hm(a,ql(t));var l=ln();l=Fm(l,ko(n)),l=zm(l,Lo(n)),l=Hm(l,ql(n));var c;try{c=!Vf(i,{start:a,end:l})}catch{c=!1}return c}function qS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=qu(r,1);return n&&Eg(n,a)>0||i&&i.every(function(l){return Eg(l,a)>0})||!1}function YS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=ua(r,1);return n&&Eg(a,n)>0||i&&i.every(function(l){return Eg(a,l)>0})||!1}function $B(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Tv(r),l=eM(a);return n&&Tg(n,l)>0||i&&i.every(function(c){return Tg(c,l)>0})||!1}function WB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=YR(r),l=Rb(a,1);return n&&Tg(l,n)>0||i&&i.every(function(c){return Tg(l,c)>0})||!1}function $S(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=kd(r,1);return n&&Sg(n,a)>0||i&&i.every(function(l){return Sg(l,a)>0})||!1}function GB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?ip:i,l=yf(kd(r,a)),c=jl(l,a).endPeriod,d=n&&Dt(n);return d&&d>c||!1}function WS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Ro(r,1);return n&&Sg(a,n)>0||i&&i.every(function(l){return Sg(a,l)>0})||!1}function QB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?ip:i,l=Ro(r,a),c=jl(l,a).startPeriod,d=n&&Dt(n);return d&&d<c||!1}function gM(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Md(i,e)>=0});return ES(n)}else return t?ES(t):e}function vM(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Md(i,e)<=0});return wS(n)}else return t?wS(t):e}function GS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var l=r[i];if(Mo(l)){var c=Fn(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",m=l[p];if(typeof p=="string"&&Array.isArray(m))for(var v=0,b=m.length;v<b;v++){var E=m[v];if(E){var c=Fn(E,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(p)||(d.push(p),n.set(c,d))}}}}return n}function KB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function XB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(Mo(i)){var l=Fn(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&KB(c.holidayNames,[a]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?Oa(Oa([],d,!0),[a],!1):[a],t.set(l,c)}}}),t}function ZB(r,e,t,n,i){for(var a=i.length,l=[],c=0;c<a;c++){var d=r,f=i[c];f&&(d=c6(d,ko(f)),d=r0(d,Lo(f)),d=f6(d,ql(f)));var p=r0(r,(t+1)*n);Jl(d,e)&&ec(d,p)&&f!=null&&l.push(f)}return l}function QS(r){return r<10?"0".concat(r):"".concat(r)}function jl(r,e){e===void 0&&(e=ip);var t=Math.ceil(Dt(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function JB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function KS(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ke(r.getTime()-e*1e3-t)}function e8(r,e){return KS(r).getTime()===KS(e).getTime()}function XS(r){if(!Mo(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function ZS(r,e){if(!Mo(r)||!Mo(e))throw new Error("Invalid date received");var t=XS(r),n=XS(e);return ec(t,n)}function yM(r){return r.key===Ve.Space}var t8=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ve.createRef(),n.onTimeChange=function(i){var a,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),f=d?c:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),m=p[0],v=p[1];f.setHours(Number(m)),f.setMinutes(Number(v))}(l=(a=n.props).onChange)===null||l===void 0||l.call(a,f)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,l=a.date,c=a.timeString,d=a.customTimeInput;return d?T.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var f;(f=n.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){n.onTimeChange(f.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ve.createElement("div",{className:"react-datepicker__input-time-container"},ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ve.createElement("div",{className:"react-datepicker-time__input-container"},ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(T.Component),n8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=T.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===Ve.Space&&(n.preventDefault(),n.key=Ve.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return Xt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return zb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Xt(t.props.day,Yl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Xt(n,Yl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var l=Fn(i,"MM.dd.yyyy");return a.get(l)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,l=i.holidays;if(!l)return[void 0];var c=Fn(a,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:_f(i,a,l)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,m=i.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!v||!f&&t.isDisabled()?!1:l&&m&&(ec(v,m)||Vu(v,m))?_f(a,v,m):c&&p&&(Jl(v,p)||Vu(v,p))||d&&p&&!m&&(Jl(v,p)||Vu(v,p))?_f(a,p,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Xt(a,d):Xt(a,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Xt(a,f):Xt(a,l)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Xt(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Xt(l,i)},t.isWeekend=function(){var n=d5(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===xi(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(xi(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ln())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Zr("react-datepicker__day",i,"react-datepicker__day--"+jB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(Fn(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,l=a===void 0?new Map:a,c=n.excludeDates,d=Fn(i,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(c==null?void 0:c.filter(function(p){return p instanceof Date?Xt(p,i):Xt(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Xt(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(DS(t.props.day),t.props.day):DS(t.props.day)},t.render=function(){return ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(T.Component),r8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=T.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===Ve.Space&&(n.preventDefault(),n.key=Ve.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xt(t.props.date,t.props.selected)&&Xt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xt(t.props.date,t.props.selected)&&Xt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Xt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,l=a===void 0?e.defaultProps.ariaLabelPrefix:a,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Xt(this.props.date,this.props.selected)};return ve.createElement("div",{ref:this.weekNumberEl,className:Zr(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(T.Component),i8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var l,c,d,f=new Date(n),p=0;p<7;p++){var m=new Date(n);m.setDate(m.getDate()+p);var v=!t.isDisabled(m);if(v){f=m;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,i,a),t.props.showWeekPicker&&t.handleDayClick(f,a),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):UB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=sa(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=sa(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(ve.createElement(r8,Zt({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=sa(n,c);return ve.createElement(n8,Zt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Yl(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xt(t.startOfWeek(),t.props.selected)&&Xt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ve.createElement("div",{className:Zr(t)},this.renderDays())},e}(T.Component),of,s8=6,_d={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},v_=(of={},of[_d.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},of[_d.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},of[_d.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},of),xm=1;function JS(r,e){return r?_d.FOUR_COLUMNS:e?_d.TWO_COLUMNS:_d.THREE_COLUMNS}var a8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Oa([],Array(12),!0).map(function(){return T.createRef()}),t.QUARTER_REFS=Oa([],Array(4),!0).map(function(){return T.createRef()}),t.isDisabled=function(n){return ks(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return zb(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,l;(l=(a=t.props).onDayClick)===null||l===void 0||l.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Si(Ms(a,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:kg(ld(a,n),l)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Si(Ms(a,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:kg(ld(a,n),c)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,m=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||f)||!v?!1:c&&m?Em(v,m,n,l):d&&p||f&&p&&!m?Em(p,v,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.startDate,d=a.selectsStart,f=Ms(l,n),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?Si(f,p):Si(f,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.endDate,d=a.selectsEnd,f=a.selectsRange,p=Ms(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||f?Si(p,m):Si(p,c)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,m=a.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||f)||!v?!1:c&&m?Cm(v,m,n,l):d&&p||f&&p&&!m?Cm(p,v,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=sa(n,6);return Si(n,i)||Si(a,i)},t.isCurrentMonth=function(n,i){return Dt(n)===Dt(ln())&&i===xi(ln())},t.isCurrentQuarter=function(n,i){return Dt(n)===Dt(ln())&&i===Hu(ln())},t.isSelectedMonth=function(n,i,a){return xi(a)===i&&Dt(n)===Dt(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,a){return Hu(n)===i&&Dt(n)===Dt(a)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,a=0,l=!1,c=Yl(Oo(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(E){return t.props.showWeekPicker?Yl(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(E){return t.props.showWeekPicker?Yl(E,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,m=t.props.preSelection?d(t.props.preSelection):void 0;n.push(ve.createElement(i8,Zt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:c,month:xi(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:m,showWeekNumber:t.props.showWeekNumbers}))),!l;){a++,c=bg(c,1);var v=i&&a>=s8,b=!i&&!t.isWeekInMonth(c);if(v||b)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),l=a.isDisabled,c=a.labelDate;l||t.handleDayClick(Oo(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,l=i.labelDate;a||t.handleDayMouseEnter(Oo(l))},t.handleMonthNavigation=function(n,i){var a,l,c,d;(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,a){var l,c=t.props,d=c.selected,f=c.preSelection,p=c.setPreSelection,m=c.minDate,v=c.maxDate,b=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(f){var M=JS(b,E),D=t.getVerticalOffset(M),L=(l=v_[M])===null||l===void 0?void 0:l.grid,$=function(I,C,S){var k,P,F=C,j=S;switch(I){case Ve.ArrowRight:F=ua(C,xm),j=S===11?0:S+xm;break;case Ve.ArrowLeft:F=qu(C,xm),j=S===0?11:S-xm;break;case Ve.ArrowUp:F=qu(C,D),j=!((k=L==null?void 0:L[0])===null||k===void 0)&&k.includes(S)?S+12-D:S-D;break;case Ve.ArrowDown:F=ua(C,D),j=!((P=L==null?void 0:L[L.length-1])===null||P===void 0)&&P.includes(S)?S-12+D:S+D;break}return{newCalculatedDate:F,newCalculatedMonth:j}},Y=function(I,C,S){for(var k=40,P=I,F=!1,j=0,X=$(P,C,S),J=X.newCalculatedDate,U=X.newCalculatedMonth;!F;){if(j>=k){J=C,U=S;break}if(m&&J<m){P=Ve.ArrowRight;var B=$(P,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}if(v&&J>v){P=Ve.ArrowLeft;var B=$(P,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}if(YB(J,t.props)){var B=$(P,J,U);J=B.newCalculatedDate,U=B.newCalculatedMonth}else F=!0;j++}return{newCalculatedDate:J,newCalculatedMonth:U}};if(i===Ve.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),p==null||p(d));return}var z=Y(i,f,a),W=z.newCalculatedDate,H=z.newCalculatedMonth;switch(i){case Ve.ArrowRight:case Ve.ArrowLeft:case Ve.ArrowUp:case Ve.ArrowDown:t.handleMonthNavigation(H,W);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=v_[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,l=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,d=n.key;d!==Ve.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var a=ld(t.props.day,i);Tm(a,t.props)||t.handleDayClick(jS(a),n)},t.onQuarterMouseEnter=function(n){var i=ld(t.props.day,n);Tm(i,t.props)||t.handleDayMouseEnter(jS(i))},t.handleQuarterNavigation=function(n,i){var a,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var a,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case Ve.Enter:t.onQuarterClick(n,i),(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,t.props.selected);break;case Ve.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Rb(t.props.preSelection,1));break;case Ve.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,eM(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,l=a.day,c=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,m=Ms(l,n);return{isDisabled:(i=(c||d||f||p)&&mM(m,t.props))!==null&&i!==void 0?i:!1,labelDate:m}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,f=i.monthClassName,p=f?f(Ms(a,n)):void 0,m=t.getSelection();return Zr("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":m?t.isSelectMonthInList(a,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(a,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?Em(l,c,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=xi(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Hu(t.props.preSelection),a=Tm(t.props.day,t.props),l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,f=i.day,p=i.locale,m=Ms(f,n),v=t.isDisabled(m)||t.isExcluded(m)?d:l;return"".concat(v," ").concat(Fn(m,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,d=i.selected,f=i.minDate,p=i.maxDate,m=i.excludeDates,v=i.includeDates,b=i.filterDate,E=i.preSelection,M=i.disabledKeyboardNavigation,D=(f||p||m||v||b)&&Tm(ld(a,n),t.props);return Zr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(a,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&E&&t.isSelectedQuarter(a,n,E)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?Cm(l,c,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,f=pM(n,c),p=Fb(n,c);return l?l(n,f,p,d):a?p:f},t.getQuarterContent=function(n){var i,a=t.props,l=a.renderQuarterContent,c=a.locale,d=qB(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,f=(n=v_[JS(l,a)])===null||n===void 0?void 0:n.grid;return f==null?void 0:f.map(function(p,m){return ve.createElement("div",{className:"react-datepicker__month-wrapper",key:m},p.map(function(v,b){return ve.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(E){t.onMonthClick(E,v)},onKeyDown:function(E){yM(E)&&(E.preventDefault(),E.key=Ve.Enter),t.onMonthKeyDown(E,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(c,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,l=[1,2,3,4];return ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return ve.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,c)},onKeyDown:function(f){t.onQuarterKeyDown(f,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":a?t.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,f=n.showWeekPicker;return Zr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Fn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(T.Component),o8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return ve.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ve.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ve.createElement(Dv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),l8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return ve.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return ve.createElement(o8,Zt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return pM(a,t.props.locale)}:function(a){return Fb(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(T.Component);function u8(r,e){for(var t=[],n=Oo(r),i=Oo(e);!Jl(n,i);)t.push(ln(n)),n=ua(n,1);return t}var c8=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=a0(i),l=Da(n.props.date,i)&&Si(n.props.date,i);return ve.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":l?"true":void 0},l?ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Fn(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:u8(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Zr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ve.createElement(Dv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),d8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Oo(t.props.minDate),i=Oo(t.props.maxDate),a=[];!Jl(n,i);){var l=a0(n);a.push(ve.createElement("option",{key:l,value:l},Fn(n,t.props.dateFormat,t.props.locale))),n=ua(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:a0(Oo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Fn(t.props.date,t.props.dateFormat,t.props.locale);return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ve.createElement(c8,Zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=ln(n);Da(t.props.date,i)&&Si(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),h8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&HS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&zS(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&e8(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&HS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&zS(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ko(n)*3600+Lo(n)*60+ql(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,l;n.key===Ve.Space&&(n.preventDefault(),n.key=Ve.Enter),(n.key===Ve.ArrowUp||n.key===Ve.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Ve.ArrowDown||n.key===Ve.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Ve.Enter&&t.handleClick(i),(l=(a=t.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ln(),d=Ym(c),f=t.props.injectTimes&&t.props.injectTimes.sort(function(D,L){return D.getTime()-L.getTime()}),p=60*JB(c),m=p/l,v=0;v<m;v++){var b=r0(d,v*l);if(i.push(b),f){var E=ZB(d,b,v,l,f);i=i.concat(E)}}var M=i.reduce(function(D,L){return L.getTime()<=c.getTime()?L:D},i[0]);return i.map(function(D){return ve.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(L){D===M&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,D)},tabIndex:D===M?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},Fn(D,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ve.createElement(ve.Fragment,null):ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return ve.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ve.createElement("div",{className:"react-datepicker__time"},ve.createElement("div",{className:"react-datepicker__time-box"},ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(T.Component),eC=3,f8=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Oa([],Array(n.props.yearItemNumber),!0).map(function(){return T.createRef()}),n.isDisabled=function(i){return ks(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return zb(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var l,c,d,f,p=n.props,m=p.date,v=p.yearItemNumber;if(!(m===void 0||v===void 0)){var b=jl(m,v).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,a),i-b<0?n.updateFocusOnPaginate(v-(b-i)):i-b>=v?n.updateFocusOnPaginate(Math.abs(v-(i-b))):(f=(d=n.YEAR_REFS[i-b])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},n.isSameDay=function(i,a){return Xt(i,a)},n.isCurrentYear=function(i){return i===Dt(ln())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Da(Aa(ln(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Da(Aa(ln(),i),n.props.endDate)},n.isInRange=function(i){return Sm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,f=a.startDate,p=a.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&p?Sm(i,n.selectingDate(),p):c&&f||d&&f&&!p?Sm(i,f,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,f=Aa(ln(),i);return d?Da(f,(a=n.selectingDate())!==null&&a!==void 0?a:null):Da(f,c??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=Aa(ln(),i);return d||f?Da(p,(a=n.selectingDate())!==null&&a!==void 0?a:null):Da(p,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var a=n.props,l=a.minDate,c=a.maxDate,d=a.excludeDates,f=a.includeDates,p=a.filterDate,m=yf(Aa(n.props.date,i)),v=(l||c||d||f||p)&&$m(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Xt(m,yf(n.props.selected))&&Xt(m,yf(n.props.preSelection))&&!v}},n.onYearClick=function(i,a){var l=n.props.date;l!==void 0&&n.handleYearClick(yf(Aa(l,a)),i)},n.onYearKeyDown=function(i,a){var l,c,d=i.key,f=n.props,p=f.date,m=f.yearItemNumber,v=f.handleOnKeyDown;if(d!==Ve.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case Ve.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case Ve.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,Ro(n.props.preSelection,1));break;case Ve.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,kd(n.props.preSelection,1));break;case Ve.ArrowUp:{if(p===void 0||m===void 0||n.props.preSelection==null)break;var b=jl(p,m).startPeriod,E=eC,M=a-E;if(M<b){var D=m%E;a>=b&&a<b+D?E=D:E+=D,M=a-E}n.handleYearNavigation(M,kd(n.props.preSelection,E));break}case Ve.ArrowDown:{if(p===void 0||m===void 0||n.props.preSelection==null)break;var L=jl(p,m).endPeriod,E=eC,M=a+E;if(M>L){var D=m%E;a<=L&&a>L-D?E=D:E+=D,M=a+E}n.handleYearNavigation(M,Ro(n.props.preSelection,E));break}}v&&v(i)},n.getYearClassNames=function(i){var a=n.props,l=a.date,c=a.minDate,d=a.maxDate,f=a.selected,p=a.excludeDates,m=a.includeDates,v=a.filterDate,b=a.yearClassName;return Zr("react-datepicker__year-text","react-datepicker__year-".concat(i),l?b==null?void 0:b(Aa(l,i)):void 0,{"react-datepicker__year-text--selected":f?i===Dt(f):void 0,"react-datepicker__year-text--disabled":(c||d||p||m||v)&&$m(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Dt(n.props.preSelection),l=$m(i,n.props);return i===a&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(a===void 0)return null;for(var f=jl(a,l),p=f.startPeriod,m=f.endPeriod,v=function(M){n.push(ve.createElement("div",{ref:b.YEAR_REFS[M-p],onClick:function(D){t.onYearClick(D,M)},onKeyDown:function(D){yM(D)&&(D.preventDefault(),D.key=Ve.Enter),t.onYearKeyDown(D,M)},tabIndex:Number(b.getYearTabIndex(M)),className:b.getYearClassNames(M),onMouseEnter:b.props.usePointerEvent?void 0:function(D){return c(D,M)},onPointerEnter:b.props.usePointerEvent?function(D){return c(D,M)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(D){return d(D,M)},onPointerLeave:b.props.usePointerEvent?function(D){return d(D,M)}:void 0,key:M,"aria-current":b.isCurrentYear(M)?"date":void 0},b.getYearContent(M)))},b=this,E=p;E<=m;E++)v(E);return ve.createElement("div",{className:"react-datepicker__year"},ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(T.Component);function p8(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var l=r+e-a,c=!0;t&&(c=Dt(t)<=l),n&&c&&(c=Dt(n)>=l),c&&i.push(l)}return i}var m8=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(m){return ve.createElement("div",{className:c===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),"aria-selected":c===m?"true":void 0},c===m?ve.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),f=n.props.minDate?Dt(n.props.minDate):null,p=n.props.maxDate?Dt(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(m){return m===p}))&&d.unshift(ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!n.state.yearsList.find(function(m){return m===f}))&&d.push(ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(f){return f+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=i||(a?10:5);return n.state={yearsList:p8(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=T.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Zr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ve.createElement(Dv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(T.Component),g8=function(r){Ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Dt(t.props.minDate):1900,i=t.props.maxDate?Dt(t.props.maxDate):2100,a=[],l=n;l<=i;l++)a.push(ve.createElement("option",{key:l,value:l},l));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ve.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ve.createElement(m8,Zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,l;(l=(a=t.props).onSelect)===null||l===void 0||l.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(T.Component),v8=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],y8=function(r){var e=(r.className||"").split(/\s+/);return v8.some(function(t){return e.indexOf(t)>=0})},_8=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,l;y8(i.target)&&((l=(a=n.props).onDropdownFocus)===null||l===void 0||l.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,l=i.selected,c=i.openToDate,d=gM(n.props),f=vM(n.props),p=ln(),m=c||l||a;return m||(d&&ec(p,d)?d:f&&Jl(p,f)?f:p)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:ua(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:qu(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,l){n.props.onSelect(i,a,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:Aa(ln(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,l,c,d;(l=(a=n.props).onYearChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!ks(i,n.props))return i;for(var a=Oo(i),l=BB(i),c=m6(l,a),d=null,f=0;f<=c;f++){var p=sa(a,f);if(!ks(p,n.props)){d=p;break}}return d},n.handleMonthChange=function(i){var a,l,c,d=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var a,l;(l=(a=n.props).onMonthChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var l=a.date;return{date:Aa(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var l=a.date;return{date:Ms(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var l=a.date;return{date:Aa(Ms(l,xi(i)),Dt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var a=Yl(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(ve.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=sa(a,c),f=n.formatWeekday(d,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return ve.createElement("div",{key:c,"aria-label":Fn(d,"EEEE",n.props.locale),className:Zr("react-datepicker__day-name",p)},f)}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?FB(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?HB(i,a):zB(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:kd(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,p=qu(n.state.date,f),m;switch(!0){case n.props.showMonthYearPicker:m=$S(n.state.date,n.props);break;case n.props.showYearPicker:m=GB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=$B(n.state.date,n.props);break;default:m=qS(p,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),E=void 0);var M=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,D=n.props,L=D.previousMonthButtonLabel,$=L===void 0?e.defaultProps.previousMonthButtonLabel:L,Y=D.previousYearButtonLabel,z=Y===void 0?e.defaultProps.previousYearButtonLabel:Y,W=n.props,H=W.previousMonthAriaLabel,I=H===void 0?typeof $=="string"?$:"Previous Month":H,C=W.previousYearAriaLabel,S=C===void 0?typeof z=="string"?z:"Previous Year":C;return ve.createElement("button",{type:"button",className:b.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":M?S:I},ve.createElement("span",{className:v.join(" ")},M?z:$))}}},n.increaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Ro(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=WS(n.state.date,n.props);break;case n.props.showYearPicker:a=QB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=WB(n.state.date,n.props);break;default:a=YS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,m=p.nextMonthButtonLabel,v=m===void 0?e.defaultProps.nextMonthButtonLabel:m,b=p.nextYearButtonLabel,E=b===void 0?e.defaultProps.nextYearButtonLabel:b,M=n.props,D=M.nextMonthAriaLabel,L=D===void 0?typeof v=="string"?v:"Next Month":D,$=M.nextYearAriaLabel,Y=$===void 0?typeof E=="string"?E:"Next Year":$;return ve.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":f?Y:L},ve.createElement("span",{className:c.join(" ")},f?E:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ve.createElement("h2",{className:a.join(" ")},Fn(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return ve.createElement(g8,Zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Dt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return ve.createElement(l8,Zt({},e.defaultProps,n.props,{month:xi(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return ve.createElement(d8,Zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(VS(),i),n.props.setPreSelection&&n.props.setPreSelection(VS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ve.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var a=i.monthDate,l=i.i;return ve.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),ve.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderCustomHeader=function(i){var a,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var f=qS(n.state.date,n.props),p=YS(n.state.date,n.props),m=$S(n.state.date,n.props),v=WS(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(a=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,Zt(Zt({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:m,nextYearButtonDisabled:v})),b&&ve.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var a=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?e.defaultProps.yearItemNumber:d,p=jl(a,f),m=p.startPeriod,v=p.endPeriod;return ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(m," - ").concat(v):Dt(a))},n.renderHeader=function(i){var a=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:a,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ro(n.state.date,d):qu(n.state.date,d),p=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:d,m=0;m<c;++m){var v=m-p+d,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ro(f,v):ua(f,v),E="month-".concat(m),M=m<c-1,D=m>0;l.push(ve.createElement("div",{key:E,ref:function(L){n.monthContainer=L??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:m}),ve.createElement(a8,Zt({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:M,monthShowsDuplicateDaysStart:D}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ve.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ve.createElement(f8,Zt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ve.createElement(h8,Zt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Rv(i)&&!!n.props.selected,l=a?"".concat(QS(i.getHours()),":").concat(QS(i.getMinutes())):"";if(n.props.showTimeInput)return ve.createElement(t8,Zt({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,a=jl(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=a.startPeriod,c=a.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Dt(n.state.date):d="".concat(Fb(xi(n.state.date),n.props.locale)," ").concat(Dt(n.state.date)),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return ve.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=T.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ip}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Xt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Si(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Xt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||OB;return ve.createElement(Dv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},ve.createElement(t,{className:Zr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(T.Component),b8=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return ve.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(ve.isValidElement(e)){var l=e;return ve.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(n),onClick:function(c){typeof l.props.onClick=="function"&&l.props.onClick(c),typeof i=="function"&&i(c)}})}return ve.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},_M=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return tO.createPortal(this.props.children,this.el)},e}(T.Component),w8="[tabindex], a, button, input, select, textarea",E8=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},bM=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(w8),1,-1).filter(E8)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=T.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(T.Component);function T8(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=T.useRef(null),l=LB(Zt({open:!i,whileElementsMounted:cB,placement:t.popperPlacement,middleware:Oa([vB({padding:15}),gB(10),yB({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Zt(Zt({},t),{hidePopper:i,popperProps:Zt(Zt({},l),{arrowRef:a})});return ve.createElement(r,Zt({},c))};return e}var S8=function(r){Ur(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,a=t.hidePopper,l=a===void 0?e.defaultProps.hidePopper:a,c=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,m=t.portalId,v=t.portalHost,b=t.popperProps,E=t.showArrow,M=void 0;if(!l){var D=Zr("react-datepicker-popper",n);M=ve.createElement(bM,{enableTabLoop:f},ve.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:D,"data-placement":b.placement,onKeyDown:p},c,E&&ve.createElement(CB,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(M=T.createElement(this.props.popperContainer,{},M)),m&&!l&&(M=ve.createElement(_M,{portalId:m,portalHost:v},M));var L=Zr("react-datepicker-wrapper",i);return ve.createElement(ve.Fragment,null,ve.createElement("div",{ref:b.refs.setReference,className:L},d),M)},e}(T.Component),C8=T8(S8),tC="react-datepicker-ignore-onclickoutside";function x8(r,e){return r&&e?xi(r)!==xi(e)||Dt(r)!==Dt(e):r!==e}var y_="Date input not valid.",__=function(r){Ur(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ln()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,l){var c=new Date(l.date);return Rv(c)?Oa(Oa([],a,!0),[Zt(Zt({},l),{date:c})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),l=gM(n.props),c=vM(n.props),d=l&&ec(a,Ym(l))?l:c&&Jl(a,BS(c))?c:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:GS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Zt(Zt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Zt(Zt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:b_},function(){i||n.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Mo(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((l=(a=n.props).onFocus)===null||l===void 0||l.call(a,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var a,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(a=n.props).onBlur)===null||l===void 0||l.call(a,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,l;n.props.inline||n.setOpen(!1),(l=(a=n.props).onClickOutside)===null||l===void 0||l.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,l,c,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=f[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,f),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:A8});var v=n.props,b=v.selectsRange,E=v.startDate,M=v.endDate,D=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,L=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,$=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(b){var Y=$.split("-",2).map(function(P){return P.trim()}),z=Y[0],W=Y[1],H=m_(z??"",D,n.props.locale,L),I=m_(W??"",D,n.props.locale,L),C=(E==null?void 0:E.getTime())!==(H==null?void 0:H.getTime()),S=(M==null?void 0:M.getTime())!==(I==null?void 0:I.getTime());if(!C&&!S||H&&ks(H,n.props)||I&&ks(I,n.props))return;(c=(l=n.props).onChange)===null||c===void 0||c.call(l,[H,I],m)}else{var k=m_($,D,n.props.locale,L,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(k||!$)&&n.setSelected(k,m,!0)}}},n.handleSelect=function(i,a,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(a),n.setSelected(i,a,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,f=c.endDate;d&&!f&&(n.props.swapRange||!ZS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,a,l,c){var d,f,p=i;if(n.props.showYearPicker){if(p!==null&&$m(Dt(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&mM(p,n.props))return}else if(p!==null&&ks(p,n.props))return;var m=n.props,v=m.onChange,b=m.selectsRange,E=m.startDate,M=m.endDate,D=m.selectsMultiple,L=m.selectedDates,$=m.minTime,Y=m.swapRange;if(!Vu(n.props.selected,p)||n.props.allowSameDay||b||D)if(p!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=g_(p,{hour:ko(n.props.selected),minute:Lo(n.props.selected),second:ql(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&$&&(p=g_(p,{hour:$.getHours(),minute:$.getMinutes(),second:$.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),b){var z=!E&&!M,W=E&&!M,H=E&&M;z?v==null||v([p,null],a):W&&(p===null?v==null||v([null,null],a):ZS(p,E)?Y?v==null||v([p,E],a):v==null||v([p,null],a):v==null||v([E,p],a)),H&&(v==null||v([p,null],a))}else if(D){if(p!==null)if(!(L!=null&&L.length))v==null||v([p],a);else{var I=L.some(function(S){return Xt(S,p)});if(I){var C=L.filter(function(S){return!Xt(S,p)});v==null||v(C,a)}else v==null||v(Oa(Oa([],L,!0),[p],!1),a)}}else v==null||v(p,a);l||((f=(d=n.props).onSelect)===null||f===void 0||f.call(d,p,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){var a=Mo(n.props.minDate),l=Mo(n.props.maxDate),c=!0;if(i){var d=Ym(i);if(a&&l)c=_f(i,n.props.minDate,n.props.maxDate);else if(a){var f=Ym(n.props.minDate);c=Jl(i,f)||Vu(d,f)}else if(l){var p=BS(n.props.maxDate);c=ec(i,p)||Vu(d,p)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:g_(c,{hour:ko(i),minute:Lo(i)});n.setState({preSelection:d}),(l=(a=n.props).onChange)===null||l===void 0||l.call(a,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,l,c,d,f,p;(l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i);var m=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===Ve.ArrowDown||m===Ve.ArrowUp||m===Ve.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(m===Ve.ArrowDown||m===Ve.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var E=ln(n.state.preSelection);m===Ve.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===b_?(n.handleSelect(E,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):m===Ve.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===Ve.Tab&&n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:y_})}},n.onPortalKeyDown=function(i){var a=i.key;a===Ve.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,l,c,d,f,p,m=n.props,v=m.minDate,b=m.maxDate,E=m.disabledKeyboardNavigation,M=m.showWeekPicker,D=m.shouldCloseOnSelect,L=m.locale,$=m.calendarStartDay,Y=m.adjustDateOnChange,z=m.inline;if((l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i),!E){var W=i.key,H=i.shiftKey,I=ln(n.state.preSelection),C=function(J,U){var B=U;switch(J){case Ve.ArrowRight:B=M?bg(U,1):sa(U,1);break;case Ve.ArrowLeft:B=M?RS(U):m9(U);break;case Ve.ArrowUp:B=RS(U);break;case Ve.ArrowDown:B=bg(U,1);break;case Ve.PageUp:B=H?kd(U,1):qu(U,1);break;case Ve.PageDown:B=H?Ro(U,1):ua(U,1);break;case Ve.Home:B=Yl(U,L,$);break;case Ve.End:B=VB(U);break}return B},S=function(J,U){for(var B=40,ee=J,ne=!1,O=0,re=C(J,U);!ne;){if(O>=B){re=U;break}v&&re<v&&(ee=Ve.ArrowRight,re=ks(v,n.props)?C(ee,re):v),b&&re>b&&(ee=Ve.ArrowLeft,re=ks(b,n.props)?C(ee,re):b),ks(re,n.props)?((ee===Ve.PageUp||ee===Ve.Home)&&(ee=Ve.ArrowRight),(ee===Ve.PageDown||ee===Ve.End)&&(ee=Ve.ArrowLeft),re=C(ee,re)):ne=!0,O++}return re};if(W===Ve.Enter){i.preventDefault(),n.handleSelect(I,i),!D&&n.setPreSelection(I);return}else if(W===Ve.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:y_});return}var k=null;switch(W){case Ve.ArrowLeft:case Ve.ArrowRight:case Ve.ArrowUp:case Ve.ArrowDown:case Ve.PageUp:case Ve.PageDown:case Ve.Home:case Ve.End:k=S(W,I);break}if(!k){(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:y_});return}if(i.preventDefault(),n.setState({lastPreSelectChange:b_}),Y&&n.setSelected(k),n.setPreSelection(k),z){var P=xi(I),F=xi(k),j=Dt(I),X=Dt(k);P!==F||j!==X?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===Ve.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,l=a.selectsRange,c=a.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:ve.createElement(_8,Zt({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:XB(n.modifyHolidays()),outsideClickIgnoreClass:tC,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,a=i.dateFormat,l=a===void 0?e.defaultProps.dateFormat:a,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Rs(n.props.startDate,{dateFormat:f,locale:c}),". ").concat(n.props.endDate?"End date: "+Rs(n.props.endDate,{dateFormat:f,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Rs(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(Rs(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(Rs(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Rs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(Rs(n.props.selected,{dateFormat:f,locale:c})),ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var i,a,l,c=Zr(n.props.className,(i={},i[tC]=n.state.open,i)),d=n.props.customInput||ve.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref",p=n.props,m=p.dateFormat,v=m===void 0?e.defaultProps.dateFormat:m,b=p.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?NB(n.props.startDate,n.props.endDate,{dateFormat:v,locale:b}):n.props.selectsMultiple?PB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:b}):Rs(n.props.selected,{dateFormat:v,locale:b});return T.cloneElement(d,(a={},a[f]=function(M){n.input=M},a.value=E,a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Zr(d.props.className,c),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,f=i.endDate,p=i.clearButtonTitle,m=i.clearButtonClassName,v=m===void 0?"":m,b=i.ariaLabelClose,E=b===void 0?"Close":b,M=i.selectedDates;return a&&(c!=null||d!=null||f!=null||M!=null&&M.length)?ve.createElement("button",{type:"button",className:Zr("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ip,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,l,c;t.inline&&x8(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:GS(this.props.highlightDates)}),!n.focused&&!Vu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ve.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ve.createElement(b8,Zt({icon:i,className:Zr(l,!l&&a,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ve.createElement(bM,{enableTabLoop:this.props.enableTabLoop},ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ve.createElement(_M,Zt({portalId:this.props.portalId},this.props),n)),ve.createElement("div",null,this.renderInputContainer(),n)}return ve.createElement(C8,Zt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(T.Component),A8="input",b_="navigate";function zf(r){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(r)}function D8(r,e){if(zf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function R8(r){var e=D8(r,"string");return zf(e)=="symbol"?e:e+""}function Se(r,e,t){return(e=R8(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var w_,nC;function M8(){if(nC)return w_;nC=1;var r=function(t,n,i,a,l,c,d,f){if(!t){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,a,l,c,d,f],v=0;p=new Error(n.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return w_=r,w_}var k8=M8(),Tr=wM(k8),St=T.createContext(null);function L8(){Tr(!!T.useContext,"useGoogleMap is React hook and requires React version 16.8+");var r=T.useContext(St);return Tr(!!r,"useGoogleMap needs a GoogleMap available up in the tree"),r}function O8(r,e,t){return Object.keys(r).reduce(function(i,a){return e(i,r[a],a)},t)}function I8(r,e){Object.keys(r).forEach(t=>e(r[t],t))}function N8(r,e,t,n){var i={},a=(l,c)=>{var d=t[c];d!==e[c]&&(i[c]=d,l(n,d))};return I8(r,a),i}function P8(r,e,t){var n=O8(t,function(a,l,c){return typeof r[c]=="function"&&a.push(google.maps.event.addListener(e,l,r[c])),a},[]);return n}function U8(r){google.maps.event.removeListener(r)}function It(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(U8)}function Rt(r){var{updaterMap:e,eventMap:t,prevProps:n,nextProps:i,instance:a}=r,l=P8(i,a,t);return N8(e,n,i,a),l}var rC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},iC={extraMapTypes(r,e){e.forEach(function(n,i){r.mapTypes.set(String(i),n)})},center(r,e){r.setCenter(e)},clickableIcons(r,e){r.setClickableIcons(e)},heading(r,e){r.setHeading(e)},mapTypeId(r,e){r.setMapTypeId(e)},options(r,e){r.setOptions(e)},streetView(r,e){r.setStreetView(e)},tilt(r,e){r.setTilt(e)},zoom(r,e){r.setZoom(e)}};function j8(r){var{children:e,options:t,id:n,mapContainerStyle:i,mapContainerClassName:a,center:l,onClick:c,onDblClick:d,onDrag:f,onDragEnd:p,onDragStart:m,onMouseMove:v,onMouseOut:b,onMouseOver:E,onMouseDown:M,onMouseUp:D,onRightClick:L,onCenterChanged:$,onLoad:Y,onUnmount:z}=r,[W,H]=T.useState(null),I=T.useRef(null),[C,S]=T.useState(null),[k,P]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,ie]=T.useState(null),[ue,Z]=T.useState(null),[we,Pe]=T.useState(null),[me,Be]=T.useState(null),[Le,Te]=T.useState(null);return T.useEffect(()=>{t&&W!==null&&W.setOptions(t)},[W,t]),T.useEffect(()=>{W!==null&&typeof l<"u"&&W.setCenter(l)},[W,l]),T.useEffect(()=>{W&&d&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(W,"dblclick",d)))},[d]),T.useEffect(()=>{W&&p&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(W,"dragend",p)))},[p]),T.useEffect(()=>{W&&m&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(W,"dragstart",m)))},[m]),T.useEffect(()=>{W&&M&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(W,"mousedown",M)))},[M]),T.useEffect(()=>{W&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(W,"mousemove",v)))},[v]),T.useEffect(()=>{W&&b&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(W,"mouseout",b)))},[b]),T.useEffect(()=>{W&&E&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(W,"mouseover",E)))},[E]),T.useEffect(()=>{W&&D&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(W,"mouseup",D)))},[D]),T.useEffect(()=>{W&&L&&(we!==null&&google.maps.event.removeListener(we),Pe(google.maps.event.addListener(W,"rightclick",L)))},[L]),T.useEffect(()=>{W&&c&&(me!==null&&google.maps.event.removeListener(me),Be(google.maps.event.addListener(W,"click",c)))},[c]),T.useEffect(()=>{W&&f&&(Le!==null&&google.maps.event.removeListener(Le),Te(google.maps.event.addListener(W,"drag",f)))},[f]),T.useEffect(()=>{W&&$&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(W,"center_changed",$)))},[c]),T.useEffect(()=>{var se=I.current===null?null:new google.maps.Map(I.current,t);return H(se),se!==null&&Y&&Y(se),()=>{se!==null&&z&&z(se)}},[]),x.jsx("div",{id:n,ref:I,style:i,className:a,children:x.jsx(St.Provider,{value:W,children:W!==null?e:null})})}T.memo(j8);class V8 extends T.PureComponent{constructor(){super(...arguments),Se(this,"state",{map:null}),Se(this,"registeredEvents",[]),Se(this,"mapRef",null),Se(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),Se(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Se(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Se(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Rt({updaterMap:iC,eventMap:rC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:iC,eventMap:rC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),It(this.registeredEvents))}render(){return x.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:x.jsx(St.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function sC(r,e,t,n,i,a,l){try{var c=r[a](l),d=c.value}catch(f){return void t(f)}c.done?e(d):Promise.resolve(d).then(n,i)}function EM(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function l(d){sC(a,n,i,l,c,"next",d)}function c(d){sC(a,n,i,l,c,"throw",d)}l(void 0)})}}function TM(r){var{googleMapsApiKey:e,googleMapsClientId:t,version:n="weekly",language:i,region:a,libraries:l,channel:c,mapIds:d,authReferrerPolicy:f}=r,p=[];return Tr(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),n&&p.push("v=".concat(n)),i&&p.push("language=".concat(i)),a&&p.push("region=".concat(a)),l&&l.length&&p.push("libraries=".concat(l.sort().join(","))),c&&p.push("channel=".concat(c)),d&&d.length&&p.push("map_ids=".concat(d.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var Bu=typeof document<"u";function SM(r){var{url:e,id:t,nonce:n}=r;return Bu?new Promise(function(a,l){var c=document.getElementById(t),d=window;if(c){var f=c.getAttribute("data-state");if(c.src===e&&f!=="error"){if(f==="ready")return a(t);var p=d.initMap,m=c.onerror;d.initMap=function(){p&&p(),a(t)},c.onerror=function(b){m&&m(b),l(b)};return}else c.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=e,v.id=t,v.async=!0,v.nonce=n||"",v.onerror=function(E){v.setAttribute("data-state","error"),l(E)},d.initMap=function(){v.setAttribute("data-state","ready"),a(t)},document.head.appendChild(v)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function aC(r){var e=r.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:r.tagName.toLowerCase()==="style"&&r.styleSheet&&r.styleSheet.cssText&&r.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(r.styleSheet.cssText="",!0):r.tagName.toLowerCase()==="style"&&r.innerHTML&&r.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(r.innerHTML="",!0):r.tagName.toLowerCase()==="style"&&!r.styleSheet&&!r.innerHTML}function CM(){var r=document.getElementsByTagName("head")[0];if(r){var e=r.insertBefore.bind(r);r.insertBefore=function(i,a){return aC(i)||Reflect.apply(e,r,[i,a]),i};var t=r.appendChild.bind(r);r.appendChild=function(i){return aC(i)||Reflect.apply(t,r,[i]),i}}}var lf=!1;function xM(){return x.jsx("div",{children:"Loading..."})}var c0={id:"script-loader",version:"weekly"};class AM extends T.PureComponent{constructor(){super(...arguments),Se(this,"check",null),Se(this,"state",{loaded:!1}),Se(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Se(this,"isCleaningUp",EM(function*(){function e(t){if(!lf)t();else if(Bu)var n=window.setInterval(function(){lf||(window.clearInterval(n),t())},1)}return new Promise(e)})),Se(this,"cleanup",()=>{lf=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),Se(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&CM(),Tr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:TM(this.props)};SM(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Se(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Bu){if(window.google&&window.google.maps&&!lf){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Bu&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Bu){this.cleanup();var e=()=>{this.check||(delete window.google,lf=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||x.jsx(xM,{})]})}}Se(AM,"defaultProps",c0);function B8(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function Hb(r,e){if(r==null)return{};var t,n,i=B8(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var oC;function F8(r){var{id:e=c0.id,version:t=c0.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:d,preventGoogleFontsLoading:f,channel:p,mapIds:m,authReferrerPolicy:v}=r,b=T.useRef(!1),[E,M]=T.useState(!1),[D,L]=T.useState(void 0);T.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),T.useEffect(function(){Bu&&f&&CM()},[f]),T.useEffect(function(){E&&Tr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[E]);var $=TM({version:t,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:d,channel:p,mapIds:m,authReferrerPolicy:v});T.useEffect(function(){if(!Bu)return;function W(){b.current&&(M(!0),oC=$)}if(window.google&&window.google.maps&&oC===$){W();return}SM({id:e,url:$,nonce:n}).then(W).catch(function(I){b.current&&L(I),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(I)})},[e,$,n]);var Y=T.useRef(void 0);return T.useEffect(function(){Y.current&&d!==Y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Y.current=d},[d]),{isLoaded:E,loadError:D,url:$}}var z8=["loadingElement","onLoad","onError","onUnmount","children"],H8=x.jsx(xM,{});function q8(r){var{loadingElement:e,onLoad:t,onError:n,onUnmount:i,children:a}=r,l=Hb(r,z8),{isLoaded:c,loadError:d}=F8(l);return T.useEffect(function(){c&&typeof t=="function"&&t()},[c,t]),T.useEffect(function(){d&&typeof n=="function"&&n(d)},[d,n]),T.useEffect(function(){return()=>{i&&i()}},[i]),c?a:e||H8}T.memo(q8);var lC;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(lC||(lC={}));function uC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Lg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var cC={},dC={options(r,e){r.setOptions(e)}};function Y8(r){var{options:e,onLoad:t,onUnmount:n}=r,i=T.useContext(St),[a,l]=T.useState(null);return T.useEffect(()=>{a!==null&&a.setMap(i)},[i]),T.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),T.useEffect(()=>{var c=new google.maps.TrafficLayer(Lg(Lg({},e),{},{map:i}));return l(c),t&&t(c),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}T.memo(Y8);class $8 extends T.PureComponent{constructor(){super(...arguments),Se(this,"state",{trafficLayer:null}),Se(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Se(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Lg(Lg({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:dC,eventMap:cC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:dC,eventMap:cC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),It(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Se($8,"contextType",St);function W8(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(St),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.BicyclingLayer;return a(l),l.setMap(n),e&&e(l),()=>{l!==null&&(t&&t(l),l.setMap(null))}},[]),null}T.memo(W8);class G8 extends T.PureComponent{constructor(){super(...arguments),Se(this,"state",{bicyclingLayer:null}),Se(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Se(G8,"contextType",St);function Q8(r){var{onLoad:e,onUnmount:t}=r,n=T.useContext(St),[i,a]=T.useState(null);return T.useEffect(()=>{i!==null&&i.setMap(n)},[n]),T.useEffect(()=>{var l=new google.maps.TransitLayer;return a(l),l.setMap(n),e&&e(l),()=>{i!==null&&(t&&t(i),i.setMap(null))}},[]),null}T.memo(Q8);class K8 extends T.PureComponent{constructor(){super(...arguments),Se(this,"state",{transitLayer:null}),Se(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Se(K8,"contextType",St);function hC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Og(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var fC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},pC={drawingMode(r,e){r.setDrawingMode(e)},options(r,e){r.setOptions(e)}};function X8(r){var{options:e,drawingMode:t,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:f,onUnmount:p}=r,m=T.useContext(St),[v,b]=T.useState(null),[E,M]=T.useState(null),[D,L]=T.useState(null),[$,Y]=T.useState(null),[z,W]=T.useState(null),[H,I]=T.useState(null),[C,S]=T.useState(null);return T.useEffect(()=>{v!==null&&v.setMap(m)},[m]),T.useEffect(()=>{e&&v!==null&&v.setOptions(e)},[v,e]),T.useEffect(()=>{v!==null&&v.setDrawingMode(t??null)},[v,t]),T.useEffect(()=>{v&&n&&(E!==null&&google.maps.event.removeListener(E),M(google.maps.event.addListener(v,"circlecomplete",n)))},[v,n]),T.useEffect(()=>{v&&i&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(v,"markercomplete",i)))},[v,i]),T.useEffect(()=>{v&&a&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(v,"overlaycomplete",a)))},[v,a]),T.useEffect(()=>{v&&l&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(v,"polygoncomplete",l)))},[v,l]),T.useEffect(()=>{v&&c&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(v,"polylinecomplete",c)))},[v,c]),T.useEffect(()=>{v&&d&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(v,"rectanglecomplete",d)))},[v,d]),T.useEffect(()=>{Tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var k=new google.maps.drawing.DrawingManager(Og(Og({},e),{},{map:m}));return t&&k.setDrawingMode(t),n&&M(google.maps.event.addListener(k,"circlecomplete",n)),i&&L(google.maps.event.addListener(k,"markercomplete",i)),a&&Y(google.maps.event.addListener(k,"overlaycomplete",a)),l&&W(google.maps.event.addListener(k,"polygoncomplete",l)),c&&I(google.maps.event.addListener(k,"polylinecomplete",c)),d&&S(google.maps.event.addListener(k,"rectanglecomplete",d)),b(k),f&&f(k),()=>{v!==null&&(E&&google.maps.event.removeListener(E),D&&google.maps.event.removeListener(D),$&&google.maps.event.removeListener($),z&&google.maps.event.removeListener(z),H&&google.maps.event.removeListener(H),C&&google.maps.event.removeListener(C),p&&p(v),v.setMap(null))}},[]),null}T.memo(X8);class Z8 extends T.PureComponent{constructor(e){super(e),Se(this,"registeredEvents",[]),Se(this,"state",{drawingManager:null}),Se(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Tr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Og(Og({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:pC,eventMap:fC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:pC,eventMap:fC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),It(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Se(Z8,"contextType",St);function mC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var gC={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},vC={animation(r,e){r.setAnimation(e)},clickable(r,e){r.setClickable(e)},cursor(r,e){r.setCursor(e)},draggable(r,e){r.setDraggable(e)},icon(r,e){r.setIcon(e)},label(r,e){r.setLabel(e)},map(r,e){r.setMap(e)},opacity(r,e){r.setOpacity(e)},options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},shape(r,e){r.setShape(e)},title(r,e){r.setTitle(e)},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},Ig={};function J8(r){var{position:e,options:t,clusterer:n,noClustererRedraw:i,children:a,draggable:l,visible:c,animation:d,clickable:f,cursor:p,icon:m,label:v,opacity:b,shape:E,title:M,zIndex:D,onClick:L,onDblClick:$,onDrag:Y,onDragEnd:z,onDragStart:W,onMouseOut:H,onMouseOver:I,onMouseUp:C,onMouseDown:S,onRightClick:k,onClickableChanged:P,onCursorChanged:F,onAnimationChanged:j,onDraggableChanged:X,onFlatChanged:J,onIconChanged:U,onPositionChanged:B,onShapeChanged:ee,onTitleChanged:ne,onVisibleChanged:O,onZindexChanged:re,onLoad:oe,onUnmount:ie}=r,ue=T.useContext(St),[Z,we]=T.useState(null),[Pe,me]=T.useState(null),[Be,Le]=T.useState(null),[Te,se]=T.useState(null),[Ee,Ne]=T.useState(null),[ke,$e]=T.useState(null),[Fe,ut]=T.useState(null),[_t,Wt]=T.useState(null),[ct,cn]=T.useState(null),[Et,We]=T.useState(null),[bt,dt]=T.useState(null),[ht,Ct]=T.useState(null),[Nt,yn]=T.useState(null),[Gn,En]=T.useState(null),[Un,Hn]=T.useState(null),[Cn,hi]=T.useState(null),[ei,Ri]=T.useState(null),[ti,vr]=T.useState(null),[jr,jn]=T.useState(null),[sr,Qn]=T.useState(null),[Sr,ni]=T.useState(null),[xn,kn]=T.useState(null);T.useEffect(()=>{Z!==null&&Z.setMap(ue)},[ue]),T.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),T.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setDraggable(l)},[Z,l]),T.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),T.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setVisible(c)},[Z,c]),T.useEffect(()=>{Z==null||Z.setAnimation(d)},[Z,d]),T.useEffect(()=>{Z&&f!==void 0&&Z.setClickable(f)},[Z,f]),T.useEffect(()=>{Z&&p!==void 0&&Z.setCursor(p)},[Z,p]),T.useEffect(()=>{Z&&m!==void 0&&Z.setIcon(m)},[Z,m]),T.useEffect(()=>{Z&&v!==void 0&&Z.setLabel(v)},[Z,v]),T.useEffect(()=>{Z&&b!==void 0&&Z.setOpacity(b)},[Z,b]),T.useEffect(()=>{Z&&E!==void 0&&Z.setShape(E)},[Z,E]),T.useEffect(()=>{Z&&M!==void 0&&Z.setTitle(M)},[Z,M]),T.useEffect(()=>{Z&&D!==void 0&&Z.setZIndex(D)},[Z,D]),T.useEffect(()=>{Z&&$&&(Pe!==null&&google.maps.event.removeListener(Pe),me(google.maps.event.addListener(Z,"dblclick",$)))},[$]),T.useEffect(()=>{Z&&z&&(Be!==null&&google.maps.event.removeListener(Be),Le(google.maps.event.addListener(Z,"dragend",z)))},[z]),T.useEffect(()=>{Z&&W&&(Te!==null&&google.maps.event.removeListener(Te),se(google.maps.event.addListener(Z,"dragstart",W)))},[W]),T.useEffect(()=>{Z&&S&&(Ee!==null&&google.maps.event.removeListener(Ee),Ne(google.maps.event.addListener(Z,"mousedown",S)))},[S]),T.useEffect(()=>{Z&&H&&(ke!==null&&google.maps.event.removeListener(ke),$e(google.maps.event.addListener(Z,"mouseout",H)))},[H]),T.useEffect(()=>{Z&&I&&(Fe!==null&&google.maps.event.removeListener(Fe),ut(google.maps.event.addListener(Z,"mouseover",I)))},[I]),T.useEffect(()=>{Z&&C&&(_t!==null&&google.maps.event.removeListener(_t),Wt(google.maps.event.addListener(Z,"mouseup",C)))},[C]),T.useEffect(()=>{Z&&k&&(ct!==null&&google.maps.event.removeListener(ct),cn(google.maps.event.addListener(Z,"rightclick",k)))},[k]),T.useEffect(()=>{Z&&L&&(Et!==null&&google.maps.event.removeListener(Et),We(google.maps.event.addListener(Z,"click",L)))},[L]),T.useEffect(()=>{Z&&Y&&(bt!==null&&google.maps.event.removeListener(bt),dt(google.maps.event.addListener(Z,"drag",Y)))},[Y]),T.useEffect(()=>{Z&&P&&(ht!==null&&google.maps.event.removeListener(ht),Ct(google.maps.event.addListener(Z,"clickable_changed",P)))},[P]),T.useEffect(()=>{Z&&F&&(Nt!==null&&google.maps.event.removeListener(Nt),yn(google.maps.event.addListener(Z,"cursor_changed",F)))},[F]),T.useEffect(()=>{Z&&j&&(Gn!==null&&google.maps.event.removeListener(Gn),En(google.maps.event.addListener(Z,"animation_changed",j)))},[j]),T.useEffect(()=>{Z&&X&&(Un!==null&&google.maps.event.removeListener(Un),Hn(google.maps.event.addListener(Z,"draggable_changed",X)))},[X]),T.useEffect(()=>{Z&&J&&(Cn!==null&&google.maps.event.removeListener(Cn),hi(google.maps.event.addListener(Z,"flat_changed",J)))},[J]),T.useEffect(()=>{Z&&U&&(ei!==null&&google.maps.event.removeListener(ei),Ri(google.maps.event.addListener(Z,"icon_changed",U)))},[U]),T.useEffect(()=>{Z&&B&&(ti!==null&&google.maps.event.removeListener(ti),vr(google.maps.event.addListener(Z,"position_changed",B)))},[B]),T.useEffect(()=>{Z&&ee&&(jr!==null&&google.maps.event.removeListener(jr),jn(google.maps.event.addListener(Z,"shape_changed",ee)))},[ee]),T.useEffect(()=>{Z&&ne&&(sr!==null&&google.maps.event.removeListener(sr),Qn(google.maps.event.addListener(Z,"title_changed",ne)))},[ne]),T.useEffect(()=>{Z&&O&&(Sr!==null&&google.maps.event.removeListener(Sr),ni(google.maps.event.addListener(Z,"visible_changed",O)))},[O]),T.useEffect(()=>{Z&&re&&(xn!==null&&google.maps.event.removeListener(xn),kn(google.maps.event.addListener(Z,"zindex_changed",re)))},[re]),T.useEffect(()=>{var Jt=bd(bd(bd({},t||Ig),n?Ig:{map:ue}),{},{position:e}),Ge=new google.maps.Marker(Jt);return n?n.addMarker(Ge,!!i):Ge.setMap(ue),e&&Ge.setPosition(e),typeof c<"u"&&Ge.setVisible(c),typeof l<"u"&&Ge.setDraggable(l),typeof f<"u"&&Ge.setClickable(f),typeof p=="string"&&Ge.setCursor(p),m&&Ge.setIcon(m),typeof v<"u"&&Ge.setLabel(v),typeof b<"u"&&Ge.setOpacity(b),E&&Ge.setShape(E),typeof M=="string"&&Ge.setTitle(M),typeof D=="number"&&Ge.setZIndex(D),$&&me(google.maps.event.addListener(Ge,"dblclick",$)),z&&Le(google.maps.event.addListener(Ge,"dragend",z)),W&&se(google.maps.event.addListener(Ge,"dragstart",W)),S&&Ne(google.maps.event.addListener(Ge,"mousedown",S)),H&&$e(google.maps.event.addListener(Ge,"mouseout",H)),I&&ut(google.maps.event.addListener(Ge,"mouseover",I)),C&&Wt(google.maps.event.addListener(Ge,"mouseup",C)),k&&cn(google.maps.event.addListener(Ge,"rightclick",k)),L&&We(google.maps.event.addListener(Ge,"click",L)),Y&&dt(google.maps.event.addListener(Ge,"drag",Y)),P&&Ct(google.maps.event.addListener(Ge,"clickable_changed",P)),F&&yn(google.maps.event.addListener(Ge,"cursor_changed",F)),j&&En(google.maps.event.addListener(Ge,"animation_changed",j)),X&&Hn(google.maps.event.addListener(Ge,"draggable_changed",X)),J&&hi(google.maps.event.addListener(Ge,"flat_changed",J)),U&&Ri(google.maps.event.addListener(Ge,"icon_changed",U)),B&&vr(google.maps.event.addListener(Ge,"position_changed",B)),ee&&jn(google.maps.event.addListener(Ge,"shape_changed",ee)),ne&&Qn(google.maps.event.addListener(Ge,"title_changed",ne)),O&&ni(google.maps.event.addListener(Ge,"visible_changed",O)),re&&kn(google.maps.event.addListener(Ge,"zindex_changed",re)),we(Ge),oe&&oe(Ge),()=>{Pe!==null&&google.maps.event.removeListener(Pe),Be!==null&&google.maps.event.removeListener(Be),Te!==null&&google.maps.event.removeListener(Te),Ee!==null&&google.maps.event.removeListener(Ee),ke!==null&&google.maps.event.removeListener(ke),Fe!==null&&google.maps.event.removeListener(Fe),_t!==null&&google.maps.event.removeListener(_t),ct!==null&&google.maps.event.removeListener(ct),Et!==null&&google.maps.event.removeListener(Et),ht!==null&&google.maps.event.removeListener(ht),Nt!==null&&google.maps.event.removeListener(Nt),Gn!==null&&google.maps.event.removeListener(Gn),Un!==null&&google.maps.event.removeListener(Un),Cn!==null&&google.maps.event.removeListener(Cn),ei!==null&&google.maps.event.removeListener(ei),ti!==null&&google.maps.event.removeListener(ti),sr!==null&&google.maps.event.removeListener(sr),Sr!==null&&google.maps.event.removeListener(Sr),xn!==null&&google.maps.event.removeListener(xn),ie&&ie(Ge),n?n.removeMarker(Ge,!!i):Ge&&Ge.setMap(null)}},[]);var Fo=T.useMemo(()=>a?T.Children.map(a,Jt=>{if(!T.isValidElement(Jt))return Jt;var Ge=Jt;return T.cloneElement(Ge,{anchor:Z})}):null,[a,Z]);return x.jsx(x.Fragment,{children:Fo})||null}T.memo(J8);class DM extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[])}componentDidMount(){var e=this;return EM(function*(){var t=bd(bd(bd({},e.props.options||Ig),e.props.clusterer?Ig:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Rt({updaterMap:vC,eventMap:gC,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:vC,eventMap:gC,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),It(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?T.Children.map(this.props.children,t=>{if(!T.isValidElement(t))return t;var n=t;return T.cloneElement(n,{anchor:this.marker})}):null;return e||null}}Se(DM,"contextType",St);var eF=function(){function r(e,t){e.getClusterer().extend(r,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return r.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},r.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},r.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),a=t.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=t.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var c=l.getZoom()||0;n!==null&&c>n&&l.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},r.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},r.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},r.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},r.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},r.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},r.prototype.show=function(){var e,t,n,i,a,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((t=d[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=c,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var b=document.createElement("div");b.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(b.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(b.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(b),this.div.title=c,this.div.style.display=""}this.visible=!0},r.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},r.prototype.setCenter=function(e){this.center=e},r.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},r}(),tF=function(){function r(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new eF(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return r.prototype.getSize=function(){return this.markers.length},r.prototype.getMarkers=function(){return this.markers},r.prototype.getCenter=function(){return this.center},r.prototype.getMap=function(){return this.map},r.prototype.getClusterer=function(){return this.markerClusterer},r.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0,i=t;n<i.length;n++){var a=i[n],l=a.getPosition();l&&e.extend(l)}return e},r.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},r.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(l!==null&&typeof c<"u"&&c>l)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var p=f[d];p.setMap(null)}else e.setMap(null);return!0},r.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},r.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},r.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},r.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},r}();function nF(r,e){var t=r.length,n=t.toString().length,i=Math.min(n,e);return{text:t.toString(),index:i,title:""}}var rF=2e3,iF=500,sF="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",aF="png",oF=[53,56,66,78,90],lF="cluster",RM=function(){function r(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(r,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||sF,this.imageExtension=n.imageExtension||aF,this.imageSizes=n.imageSizes||oF,this.calculator=n.calculator||nF,this.batchSize=n.batchSize||rF,this.batchSizeIE=n.batchSizeIE||iF,this.clusterClass=n.clusterClass||lF,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return r.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},r.prototype.onIdle=function(){this.redraw()},r.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},r.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var l=a[i];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var f=d[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},r.prototype.draw=function(){},r.prototype.getMap=function(){return null},r.prototype.getPanes=function(){return null},r.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},r.prototype.setMap=function(){},r.prototype.addListener=function(){return{remove:function(){}}},r.prototype.bindTo=function(){},r.prototype.get=function(){},r.prototype.notify=function(){},r.prototype.set=function(){},r.prototype.setValues=function(){},r.prototype.unbind=function(){},r.prototype.unbindAll=function(){},r.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},r.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var a=i[n],l=a.getPosition();l&&t.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(t)},r.prototype.getGridSize=function(){return this.gridSize},r.prototype.setGridSize=function(e){this.gridSize=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.setMaxZoom=function(e){this.maxZoom=e},r.prototype.getStyles=function(){return this.styles},r.prototype.setStyles=function(e){this.styles=e},r.prototype.getTitle=function(){return this.title},r.prototype.setTitle=function(e){this.title=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick},r.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},r.prototype.getAverageCenter=function(){return this.averageCenter},r.prototype.setAverageCenter=function(e){this.averageCenter=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},r.prototype.getImageExtension=function(){return this.imageExtension},r.prototype.setImageExtension=function(e){this.imageExtension=e},r.prototype.getImagePath=function(){return this.imagePath},r.prototype.setImagePath=function(e){this.imagePath=e},r.prototype.getImageSizes=function(){return this.imageSizes},r.prototype.setImageSizes=function(e){this.imageSizes=e},r.prototype.getCalculator=function(){return this.calculator},r.prototype.setCalculator=function(e){this.calculator=e},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},r.prototype.getClusterClass=function(){return this.clusterClass},r.prototype.setClusterClass=function(e){this.clusterClass=e},r.prototype.getMarkers=function(){return this.markers},r.prototype.getTotalMarkers=function(){return this.markers.length},r.prototype.getClusters=function(){return this.clusters},r.prototype.getTotalClusters=function(){return this.clusters.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},r.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},r.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},r.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},r.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},r.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,a=e;i<a.length;i++){var l=a[i];n=n||this.removeMarker_(l)}return!t&&n&&this.repaint(),n},r.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},r.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=e;n<i.length;n++){var a=i[n];a.remove()}},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var a=t.fromDivPixelToLatLng(n);a!==null&&e.extend(a)}if(i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}return e},r.prototype.redraw=function(){this.createClusters(0)},r.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){var i=n[t];i.remove()}this.clusters=[];for(var a=0,l=this.markers;a<l.length;a++){var c=l[a];c.isAdded=!1,e&&c.setMap(null)}},r.prototype.distanceBetweenPoints=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},r.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return n?t.contains(n):!1},r.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,a=0,l=this.clusters;a<l.length;a++){var c=l[a];t=c;var d=t.getCenter(),f=e.getPosition();if(d&&f){var p=this.distanceBetweenPoints(d,f);p<n&&(n=p,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(t=new tF(this),t.addMarker(e),this.clusters.push(t))},r.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,a=(n==null?void 0:n.getZoom())||0,l=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(e+this.batchSize,this.markers.length),f=e;f<d;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,c)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,v=this.clusters;m<v.length;m++){var b=v[m];b.updateIcon()}}}},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype){var l=a;this.prototype[l]=i.prototype[l]}return this}).apply(e,[t])},r}();function yC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function uF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ds={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},rn={averageCenter(r,e){r.setAverageCenter(e)},batchSizeIE(r,e){r.setBatchSizeIE(e)},calculator(r,e){r.setCalculator(e)},clusterClass(r,e){r.setClusterClass(e)},enableRetinaIcons(r,e){r.setEnableRetinaIcons(e)},gridSize(r,e){r.setGridSize(e)},ignoreHidden(r,e){r.setIgnoreHidden(e)},imageExtension(r,e){r.setImageExtension(e)},imagePath(r,e){r.setImagePath(e)},imageSizes(r,e){r.setImageSizes(e)},maxZoom(r,e){r.setMaxZoom(e)},minimumClusterSize(r,e){r.setMinimumClusterSize(e)},styles(r,e){r.setStyles(e)},title(r,e){r.setTitle(e)},zoomOnClick(r,e){r.setZoomOnClick(e)}},cF={};function dF(r){var{children:e,options:t,averageCenter:n,batchSizeIE:i,calculator:a,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:f,imageExtension:p,imagePath:m,imageSizes:v,maxZoom:b,minimumClusterSize:E,styles:M,title:D,zoomOnClick:L,onClick:$,onClusteringBegin:Y,onClusteringEnd:z,onMouseOver:W,onMouseOut:H,onLoad:I,onUnmount:C}=r,[S,k]=T.useState(null),P=T.useContext(St),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null);return T.useEffect(()=>{S&&H&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(S,Ds.onMouseOut,H)))},[H]),T.useEffect(()=>{S&&W&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(S,Ds.onMouseOver,W)))},[W]),T.useEffect(()=>{S&&$&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(S,Ds.onClick,$)))},[$]),T.useEffect(()=>{S&&Y&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(S,Ds.onClusteringBegin,Y)))},[Y]),T.useEffect(()=>{S&&z&&(U!==null&&google.maps.event.removeListener(U),J(google.maps.event.addListener(S,Ds.onClusteringEnd,z)))},[z]),T.useEffect(()=>{typeof n<"u"&&S!==null&&rn.averageCenter(S,n)},[S,n]),T.useEffect(()=>{typeof i<"u"&&S!==null&&rn.batchSizeIE(S,i)},[S,i]),T.useEffect(()=>{typeof a<"u"&&S!==null&&rn.calculator(S,a)},[S,a]),T.useEffect(()=>{typeof l<"u"&&S!==null&&rn.clusterClass(S,l)},[S,l]),T.useEffect(()=>{typeof c<"u"&&S!==null&&rn.enableRetinaIcons(S,c)},[S,c]),T.useEffect(()=>{typeof d<"u"&&S!==null&&rn.gridSize(S,d)},[S,d]),T.useEffect(()=>{typeof f<"u"&&S!==null&&rn.ignoreHidden(S,f)},[S,f]),T.useEffect(()=>{typeof p<"u"&&S!==null&&rn.imageExtension(S,p)},[S,p]),T.useEffect(()=>{typeof m<"u"&&S!==null&&rn.imagePath(S,m)},[S,m]),T.useEffect(()=>{typeof v<"u"&&S!==null&&rn.imageSizes(S,v)},[S,v]),T.useEffect(()=>{typeof b<"u"&&S!==null&&rn.maxZoom(S,b)},[S,b]),T.useEffect(()=>{typeof E<"u"&&S!==null&&rn.minimumClusterSize(S,E)},[S,E]),T.useEffect(()=>{typeof M<"u"&&S!==null&&rn.styles(S,M)},[S,M]),T.useEffect(()=>{typeof D<"u"&&S!==null&&rn.title(S,D)},[S,D]),T.useEffect(()=>{typeof L<"u"&&S!==null&&rn.zoomOnClick(S,L)},[S,L]),T.useEffect(()=>{if(P){var oe=uF({},t||cF),ie=new RM(P,[],oe);return n&&rn.averageCenter(ie,n),i&&rn.batchSizeIE(ie,i),a&&rn.calculator(ie,a),l&&rn.clusterClass(ie,l),c&&rn.enableRetinaIcons(ie,c),d&&rn.gridSize(ie,d),f&&rn.ignoreHidden(ie,f),p&&rn.imageExtension(ie,p),m&&rn.imagePath(ie,m),v&&rn.imageSizes(ie,v),b&&rn.maxZoom(ie,b),E&&rn.minimumClusterSize(ie,E),M&&rn.styles(ie,M),D&&rn.title(ie,D),L&&rn.zoomOnClick(ie,L),H&&ne(google.maps.event.addListener(ie,Ds.onMouseOut,H)),W&&re(google.maps.event.addListener(ie,Ds.onMouseOver,W)),$&&j(google.maps.event.addListener(ie,Ds.onClick,$)),Y&&J(google.maps.event.addListener(ie,Ds.onClusteringBegin,Y)),z&&B(google.maps.event.addListener(ie,Ds.onClusteringEnd,z)),k(ie),I&&I(ie),()=>{ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),C&&C(ie)}}},[]),S!==null&&e(S)||null}T.memo(dF);class hF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{markerClusterer:null}),Se(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new RM(this.context,[],this.props.options);this.registeredEvents=Rt({updaterMap:rn,eventMap:Ds,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:rn,eventMap:Ds,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),It(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Se(hF,"contextType",St);function _C(r){r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}var MM=function(){function r(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(r,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return r.prototype.createInfoBoxDiv=function(){var e=this,t=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||_C(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=a;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,_C))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},r.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},r.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},r.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},r.prototype.getCloseClickHandler=function(){return this.closeClickHandler},r.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,a=t.getBounds();a&&!a.contains(this.position)&&t.setCenter(this.position);var l=t.getDiv(),c=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,m=this.div.offsetWidth,v=this.div.offsetHeight,b=this.infoBoxClearance.width,E=this.infoBoxClearance.height,M=this.getProjection(),D=M.fromLatLngToContainerPixel(this.position);D!==null&&(D.x<-f+b?n=D.x+f-b:D.x+m+f+b>c&&(n=D.x+m+f+b-c),this.alignBottom?D.y<-p+E+v?i=D.y+p-E-v:D.y+p+E>d&&(i=D.y+p+E-d):D.y<-p+E?i=D.y+p-E:D.y+v+p+E>d&&(i=D.y+v+p+E-d)),n===0&&i===0||t.panBy(n,i)}}},r.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},r.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},r.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},r.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},r.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},r.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},r.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},r.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},r.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},r.prototype.getContent=function(){return this.content},r.prototype.getPosition=function(){return this.position},r.prototype.getZIndex=function(){return this.zIndex},r.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},r.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},r.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},r.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var i=t.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},r.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},r.prototype.extend=function(e,t){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[t])},r}(),fF=["position"],pF=["position"];function bC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ng(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var wC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},EC={options(r,e){r.setOptions(e)},position(r,e){e instanceof google.maps.LatLng?r.setPosition(e):r.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(r,e){r.setVisible(e)},zIndex(r,e){r.setZIndex(e)}},mF={};function gF(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:v}=r,b=T.useContext(St),[E,M]=T.useState(null),[D,L]=T.useState(null),[$,Y]=T.useState(null),[z,W]=T.useState(null),[H,I]=T.useState(null),[C,S]=T.useState(null),k=T.useRef(null);return T.useEffect(()=>{b&&E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{if(i&&E!==null){var P=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);E.setPosition(P)}},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&c&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"domready",c)))},[c]),T.useEffect(()=>{E&&d&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{if(b){var P=n||mF,{position:F}=P,j=Hb(P,fF),X;F&&!(F instanceof google.maps.LatLng)&&(X=new google.maps.LatLng(F.lat,F.lng));var J=new MM(Ng(Ng({},j),X?{position:X}:{}));k.current=document.createElement("div"),M(J),l&&L(google.maps.event.addListener(J,"closeclick",l)),c&&Y(google.maps.event.addListener(J,"domready",c)),d&&W(google.maps.event.addListener(J,"content_changed",d)),f&&I(google.maps.event.addListener(J,"position_changed",f)),p&&S(google.maps.event.addListener(J,"zindex_changed",p)),J.setContent(k.current),t?J.open(b,t):J.getPosition()?J.open(b):Tr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(J)}return()=>{E!==null&&(D&&google.maps.event.removeListener(D),z&&google.maps.event.removeListener(z),$&&google.maps.event.removeListener($),H&&google.maps.event.removeListener(H),C&&google.maps.event.removeListener(C),v&&v(E),E.close())}},[]),k.current?tu.createPortal(T.Children.only(e),k.current):null}T.memo(gF);class vF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",null),Se(this,"state",{infoBox:null}),Se(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Tr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Se(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,n=Hb(e,pF),i;t&&!(t instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(t.lat,t.lng));var a=new MM(Ng(Ng({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Rt({updaterMap:EC,eventMap:wC,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:EC,eventMap:wC,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),It(this.registeredEvents),t.close())}render(){return this.containerElement?tu.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Se(vF,"contextType",St);var E_,TC;function yF(){return TC||(TC=1,E_=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){var l=a[i];if(!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),E_}var _F=yF(),SC=wM(_F),CC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],T_=1,uf=8;class qb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==T_)throw new Error("Got v".concat(i," data when expected v").concat(T_,"."));var a=CC[n&15];if(!a)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new qb(c,l,a,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=CC.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,uf,e),this.coords=new this.ArrayType(this.data,uf+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(uf+l+c+d),this.ids=new this.IndexArrayType(this.data,uf,e),this.coords=new this.ArrayType(this.data,uf+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(T_<<4)+a]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return d0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,d=[0,a.length-1,0],f=[];d.length;){var p=d.pop()||0,m=d.pop()||0,v=d.pop()||0;if(m-v<=c){for(var b=v;b<=m;b++){var E=l[2*b],M=l[2*b+1];E>=e&&E<=n&&M>=t&&M<=i&&f.push(a[b])}continue}var D=v+m>>1,L=l[2*D],$=l[2*D+1];L>=e&&L<=n&&$>=t&&$<=i&&f.push(a[D]),(p===0?e<=L:t<=$)&&(d.push(v),d.push(D-1),d.push(1-p)),(p===0?n>=L:i>=$)&&(d.push(D+1),d.push(m),d.push(1-p))}return f}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],d=[],f=n*n;c.length;){var p=c.pop()||0,m=c.pop()||0,v=c.pop()||0;if(m-v<=l){for(var b=v;b<=m;b++)xC(a[2*b],a[2*b+1],e,t)<=f&&d.push(i[b]);continue}var E=v+m>>1,M=a[2*E],D=a[2*E+1];xC(M,D,e,t)<=f&&d.push(i[E]),(p===0?e-n<=M:t-n<=D)&&(c.push(v),c.push(E-1),c.push(1-p)),(p===0?e+n>=M:t+n>=D)&&(c.push(E+1),c.push(m),c.push(1-p))}return d}}function d0(r,e,t,n,i,a){if(!(i-n<=t)){var l=n+i>>1;kM(r,e,l,n,i,a),d0(r,e,t,n,l-1,1-a),d0(r,e,t,l+1,i,1-a)}}function kM(r,e,t,n,i,a){for(;i>n;){if(i-n>600){var l=i-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),v=Math.min(i,Math.floor(t+(l-c)*f/l+p));kM(r,e,t,m,v,a)}var b=e[2*t+a],E=n,M=i;for(cf(r,e,n,t),e[2*i+a]>b&&cf(r,e,n,i);E<M;){for(cf(r,e,E,M),E++,M--;e[2*E+a]<b;)E++;for(;e[2*M+a]>b;)M--}e[2*n+a]===b?cf(r,e,n,M):(M++,cf(r,e,M,i)),M<=t&&(n=M+1),t<=M&&(i=M-1)}}function cf(r,e,t,n){S_(r,t,n),S_(e,2*t,2*n),S_(e,2*t+1,2*n+1)}function S_(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function xC(r,e,t,n){var i=r-t,a=e-n;return i*i+a*a}var bF={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:r=>r},AC=Math.fround||(r=>e=>(r[0]=+e,r[0]))(new Float32Array(1)),Ou=2,kl=3,C_=4,Rl=5,LM=6;class wF{constructor(e){this.options=Object.assign(Object.create(bF),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var a="prepare ".concat(e.length," points");t&&console.time(a),this.points=e;for(var l=[],c=0;c<e.length;c++){var d=e[c];if(d.geometry){var[f,p]=d.geometry.coordinates,m=AC(Am(f)),v=AC(Dm(p));l.push(m,v,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var b=this.trees[i+1]=this._createTree(l);t&&console.timeEnd(a);for(var E=i;E>=n;E--){var M=+Date.now();b=this.trees[E]=this._createTree(this._cluster(b,E)),t&&console.log("z%d: %d clusters in %dms",E,b.numItems,+Date.now()-M)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,a=180;else if(n>a){var c=this.getClusters([n,i,180,l],t),d=this.getClusters([-180,i,a,l],t);return c.concat(d)}var f=this.trees[this._limitZoom(t)],p=f.range(Am(n),Dm(l),Am(a),Dm(i)),m=f.data,v=[];for(var b of p){var E=this.stride*b;v.push(m[E+Rl]>1?DC(m,E,this.clusterProps):this.points[m[E+kl]])}return v}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);var l=a.data;if(t*this.stride>=l.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=l[t*this.stride],f=l[t*this.stride+1],p=a.within(d,f,c),m=[];for(var v of p){var b=v*this.stride;l[b+C_]===e&&m.push(l[b+Rl]>1?DC(l,b,this.clusterProps):this.points[l[b+kl]])}if(m.length===0)throw new Error(i);return m}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:l,radius:c}=this.options,d=c/l,f=(n-d)/a,p=(n+1+d)/a,m={features:[]};return this._addTileFeatures(i.range((t-d)/a,f,(t+1+d)/a,p),i.data,t,n,a,m),t===0&&this._addTileFeatures(i.range(1-d/a,f,1,p),i.data,a,n,a,m),t===a-1&&this._addTileFeatures(i.range(0,f,d/a,p),i.data,-1,n,a,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,a){var l=this.getChildren(t);for(var c of l){var d=c.properties;if(d&&d.cluster?a+d.point_count<=i?a+=d.point_count:a=this._appendLeaves(e,d.cluster_id,n,i,a):a<i?a++:e.push(c),e.length===n)break}return a}_createTree(e){for(var t=new qb(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,a,l){for(var c of e){var d=c*this.stride,f=t[d+Rl]>1,p=void 0,m=void 0,v=void 0;if(f)p=OM(t,d,this.clusterProps),m=t[d],v=t[d+1];else{var b=this.points[t[d+kl]];p=b.properties;var[E,M]=b.geometry.coordinates;m=Am(E),v=Dm(M)}var D={type:1,geometry:[[Math.round(this.options.extent*(m*a-n)),Math.round(this.options.extent*(v*a-i))]],tags:p},L=void 0;f||this.options.generateId?L=t[d+kl]:L=this.points[t[d+kl]].id,L!==void 0&&(D.id=L),l.features.push(D)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:a,minPoints:l}=this.options,c=n/(i*Math.pow(2,t)),d=e.data,f=[],p=this.stride,m=0;m<d.length;m+=p)if(!(d[m+Ou]<=t)){d[m+Ou]=t;var v=d[m],b=d[m+1],E=e.within(d[m],d[m+1],c),M=d[m+Rl],D=M;for(var L of E){var $=L*p;d[$+Ou]>t&&(D+=d[$+Rl])}if(D>M&&D>=l){var Y=v*M,z=b*M,W=void 0,H=-1,I=((m/p|0)<<5)+(t+1)+this.points.length;for(var C of E){var S=C*p;if(!(d[S+Ou]<=t)){d[S+Ou]=t;var k=d[S+Rl];Y+=d[S]*k,z+=d[S+1]*k,d[S+C_]=I,a&&(W||(W=this._map(d,m,!0),H=this.clusterProps.length,this.clusterProps.push(W)),a(W,this._map(d,S)))}}d[m+C_]=I,f.push(Y/D,z/D,1/0,I,-1,D),a&&f.push(H)}else{for(var P=0;P<p;P++)f.push(d[m+P]);if(D>1)for(var F of E){var j=F*p;if(!(d[j+Ou]<=t)){d[j+Ou]=t;for(var X=0;X<p;X++)f.push(d[j+X])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+Rl]>1){var i=this.clusterProps[e[t+LM]];return n?Object.assign({},i):i}var a=this.points[e[t+kl]].properties,l=this.options.map(a);return n&&l===a?Object.assign({},l):l}}function DC(r,e,t){return{type:"Feature",id:r[e+kl],properties:OM(r,e,t),geometry:{type:"Point",coordinates:[EF(r[e]),TF(r[e+1])]}}}function OM(r,e,t){var n=r[e+Rl],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,a=r[e+LM],l=a===-1?{}:Object.assign({},t[a]);return Object.assign(l,{cluster:!0,cluster_id:r[e+kl],point_count:n,point_count_abbreviated:i})}function Am(r){return r/360+.5}function Dm(r){var e=Math.sin(r*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function EF(r){return(r-.5)*360}function TF(r){var e=(180-r*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function SF(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}class os{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class h0{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(os.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>os.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(os.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class CF{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return xF(t)}}var xF=r=>{var e=r.map(t=>new h0({position:os.getPosition(t),markers:[t]}));return e};class AF extends CF{constructor(e){var{maxZoom:t,radius:n=60}=e,i=SF(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new wF(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!SC(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var l=os.getPosition(a),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:a}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!SC(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new h0({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:n,lng:t}});var a=i.marker;return new h0({markers:[a],position:os.getPosition(a)})}}class DF{constructor(e,t){this.markers={sum:e.length};var n=t.map(a=>a.count),i=n.reduce((a,l)=>a+l,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class RF{render(e,t,n){var{count:i,position:a}=e,l=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+i;if(os.isAdvancedMarkerAvailable(n)){var p=new DOMParser,m=p.parseFromString(c,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var v={map:n,position:a,zIndex:f,title:d,content:m};return new google.maps.marker.AdvancedMarkerElement(v)}var b={position:a,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}function MF(r,e){for(var t in e.prototype)r.prototype[t]=e.prototype[t]}class Yb{constructor(){MF(Yb,google.maps.OverlayView)}}var xf;(function(r){r.CLUSTERING_BEGIN="clusteringbegin",r.CLUSTERING_END="clusteringend",r.CLUSTER_CLICK="click"})(xf||(xf={}));var kF=(r,e,t)=>{t.fitBounds(e.bounds)};class LF extends Yb{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:a=new AF(i),renderer:l=new RF,onClusterClick:c=kF}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=a,this.renderer=l,this.onClusterClick=c,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(n=>{this.addMarker(n,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return n===-1?!1:(os.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,xf.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var a of t)a.markers.length==1&&i.add(a.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||os.setMap(c.marker,null):l.push(c.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>os.setMap(d,null)))}google.maps.event.trigger(this,xf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>os.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new DF(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(i=>os.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,xf.CLUSTER_CLICK,n),this.onClusterClick(i,n,t)})),os.setMap(n.marker,t)})}}function RC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function MC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function OF(r){var e=L8(),[t,n]=T.useState(null);return T.useEffect(()=>{if(e&&t===null){var i=new LF(MC(MC({},r),{},{map:e}));n(i)}},[e]),t}function IF(r){var{children:e,options:t}=r,n=OF(t);return n!==null?e(n):null}T.memo(IF);var kC={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},LC={options(r,e){r.setOptions(e)},position(r,e){r.setPosition(e)},zIndex(r,e){r.setZIndex(e)}};function NF(r){var{children:e,anchor:t,options:n,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:v}=r,b=T.useContext(St),[E,M]=T.useState(null),[D,L]=T.useState(null),[$,Y]=T.useState(null),[z,W]=T.useState(null),[H,I]=T.useState(null),[C,S]=T.useState(null),k=T.useRef(null);return T.useEffect(()=>{E!==null&&(E.close(),t?E.open(b,t):E.getPosition()&&E.open(b))},[b,E,t]),T.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),T.useEffect(()=>{i&&E!==null&&E.setPosition(i)},[i]),T.useEffect(()=>{typeof a=="number"&&E!==null&&E.setZIndex(a)},[a]),T.useEffect(()=>{E&&l&&(D!==null&&google.maps.event.removeListener(D),L(google.maps.event.addListener(E,"closeclick",l)))},[l]),T.useEffect(()=>{E&&c&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"domready",c)))},[c]),T.useEffect(()=>{E&&d&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(E,"content_changed",d)))},[d]),T.useEffect(()=>{E&&f&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(E,"position_changed",f)))},[f]),T.useEffect(()=>{E&&p&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(E,"zindex_changed",p)))},[p]),T.useEffect(()=>{var P=new google.maps.InfoWindow(n);return M(P),k.current=document.createElement("div"),l&&L(google.maps.event.addListener(P,"closeclick",l)),c&&Y(google.maps.event.addListener(P,"domready",c)),d&&W(google.maps.event.addListener(P,"content_changed",d)),f&&I(google.maps.event.addListener(P,"position_changed",f)),p&&S(google.maps.event.addListener(P,"zindex_changed",p)),P.setContent(k.current),i&&P.setPosition(i),a&&P.setZIndex(a),t?P.open(b,t):P.getPosition()?P.open(b):Tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(P),()=>{D&&google.maps.event.removeListener(D),z&&google.maps.event.removeListener(z),$&&google.maps.event.removeListener($),H&&google.maps.event.removeListener(H),C&&google.maps.event.removeListener(C),v&&v(P),P.close()}},[]),k.current?tu.createPortal(T.Children.only(e),k.current):null}T.memo(NF);class PF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",null),Se(this,"state",{infoWindow:null}),Se(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Tr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Se(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Rt({updaterMap:LC,eventMap:kC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:LC,eventMap:kC,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(It(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?tu.createPortal(T.Children.only(this.props.children),this.containerElement):null}}Se(PF,"contextType",St);function OC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var IC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},NC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},visible(r,e){r.setVisible(e)}},UF={};function jF(r){var{options:e,draggable:t,editable:n,visible:i,path:a,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:M,onDrag:D,onLoad:L,onUnmount:$}=r,Y=T.useContext(St),[z,W]=T.useState(null),[H,I]=T.useState(null),[C,S]=T.useState(null),[k,P]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,ie]=T.useState(null),[ue,Z]=T.useState(null),[we,Pe]=T.useState(null);return T.useEffect(()=>{z!==null&&z.setMap(Y)},[Y]),T.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),T.useEffect(()=>{typeof t<"u"&&z!==null&&z.setDraggable(t)},[z,t]),T.useEffect(()=>{typeof n<"u"&&z!==null&&z.setEditable(n)},[z,n]),T.useEffect(()=>{typeof i<"u"&&z!==null&&z.setVisible(i)},[z,i]),T.useEffect(()=>{typeof a<"u"&&z!==null&&z.setPath(a)},[z,a]),T.useEffect(()=>{z&&l&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(z,"dblclick",l)))},[l]),T.useEffect(()=>{z&&c&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(z,"dragend",c)))},[c]),T.useEffect(()=>{z&&d&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(z,"dragstart",d)))},[d]),T.useEffect(()=>{z&&f&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(z,"mousedown",f)))},[f]),T.useEffect(()=>{z&&p&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(z,"mousemove",p)))},[p]),T.useEffect(()=>{z&&m&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(z,"mouseout",m)))},[m]),T.useEffect(()=>{z&&v&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(z,"mouseover",v)))},[v]),T.useEffect(()=>{z&&b&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(z,"mouseup",b)))},[b]),T.useEffect(()=>{z&&E&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(z,"rightclick",E)))},[E]),T.useEffect(()=>{z&&M&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(z,"click",M)))},[M]),T.useEffect(()=>{z&&D&&(we!==null&&google.maps.event.removeListener(we),Pe(google.maps.event.addListener(z,"drag",D)))},[D]),T.useEffect(()=>{var me=new google.maps.Polyline(Pg(Pg({},e||UF),{},{map:Y}));return a&&me.setPath(a),typeof i<"u"&&me.setVisible(i),typeof n<"u"&&me.setEditable(n),typeof t<"u"&&me.setDraggable(t),l&&I(google.maps.event.addListener(me,"dblclick",l)),c&&S(google.maps.event.addListener(me,"dragend",c)),d&&P(google.maps.event.addListener(me,"dragstart",d)),f&&j(google.maps.event.addListener(me,"mousedown",f)),p&&J(google.maps.event.addListener(me,"mousemove",p)),m&&B(google.maps.event.addListener(me,"mouseout",m)),v&&ne(google.maps.event.addListener(me,"mouseover",v)),b&&re(google.maps.event.addListener(me,"mouseup",b)),E&&ie(google.maps.event.addListener(me,"rightclick",E)),M&&Z(google.maps.event.addListener(me,"click",M)),D&&Pe(google.maps.event.addListener(me,"drag",D)),W(me),L&&L(me),()=>{H!==null&&google.maps.event.removeListener(H),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),$&&$(me),me.setMap(null)}},[]),null}T.memo(jF);class VF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{polyline:null}),Se(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Pg(Pg({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:NC,eventMap:IC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:NC,eventMap:IC,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),It(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Se(VF,"contextType",St);function PC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function UC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var jC={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VC={draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},path(r,e){r.setPath(e)},paths(r,e){r.setPaths(e)},visible(r,e){r.setVisible(e)}};function BF(r){var{options:e,draggable:t,editable:n,visible:i,path:a,paths:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:M,onClick:D,onDrag:L,onLoad:$,onUnmount:Y,onEdit:z}=r,W=T.useContext(St),[H,I]=T.useState(null),[C,S]=T.useState(null),[k,P]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,ie]=T.useState(null),[ue,Z]=T.useState(null),[we,Pe]=T.useState(null),[me,Be]=T.useState(null);return T.useEffect(()=>{H!==null&&H.setMap(W)},[W]),T.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),T.useEffect(()=>{typeof t<"u"&&H!==null&&H.setDraggable(t)},[H,t]),T.useEffect(()=>{typeof n<"u"&&H!==null&&H.setEditable(n)},[H,n]),T.useEffect(()=>{typeof i<"u"&&H!==null&&H.setVisible(i)},[H,i]),T.useEffect(()=>{typeof a<"u"&&H!==null&&H.setPath(a)},[H,a]),T.useEffect(()=>{typeof l<"u"&&H!==null&&H.setPaths(l)},[H,l]),T.useEffect(()=>{H&&typeof c=="function"&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener(H,"dblclick",c)))},[c]),T.useEffect(()=>{H&&(google.maps.event.addListener(H.getPath(),"insert_at",()=>{z==null||z(H)}),google.maps.event.addListener(H.getPath(),"set_at",()=>{z==null||z(H)}),google.maps.event.addListener(H.getPath(),"remove_at",()=>{z==null||z(H)}))},[H,z]),T.useEffect(()=>{H&&typeof d=="function"&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(H,"dragend",d)))},[d]),T.useEffect(()=>{H&&typeof f=="function"&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener(H,"dragstart",f)))},[f]),T.useEffect(()=>{H&&typeof p=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(H,"mousedown",p)))},[p]),T.useEffect(()=>{H&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(H,"mousemove",m)))},[m]),T.useEffect(()=>{H&&typeof v=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener(H,"mouseout",v)))},[v]),T.useEffect(()=>{H&&typeof b=="function"&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener(H,"mouseover",b)))},[b]),T.useEffect(()=>{H&&typeof E=="function"&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(H,"mouseup",E)))},[E]),T.useEffect(()=>{H&&typeof M=="function"&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener(H,"rightclick",M)))},[M]),T.useEffect(()=>{H&&typeof D=="function"&&(we!==null&&google.maps.event.removeListener(we),Pe(google.maps.event.addListener(H,"click",D)))},[D]),T.useEffect(()=>{H&&typeof L=="function"&&(me!==null&&google.maps.event.removeListener(me),Be(google.maps.event.addListener(H,"drag",L)))},[L]),T.useEffect(()=>{var Le=new google.maps.Polygon(UC(UC({},e),{},{map:W}));return a&&Le.setPath(a),l&&Le.setPaths(l),typeof i<"u"&&Le.setVisible(i),typeof n<"u"&&Le.setEditable(n),typeof t<"u"&&Le.setDraggable(t),c&&S(google.maps.event.addListener(Le,"dblclick",c)),d&&P(google.maps.event.addListener(Le,"dragend",d)),f&&j(google.maps.event.addListener(Le,"dragstart",f)),p&&J(google.maps.event.addListener(Le,"mousedown",p)),m&&B(google.maps.event.addListener(Le,"mousemove",m)),v&&ne(google.maps.event.addListener(Le,"mouseout",v)),b&&re(google.maps.event.addListener(Le,"mouseover",b)),E&&ie(google.maps.event.addListener(Le,"mouseup",E)),M&&Z(google.maps.event.addListener(Le,"rightclick",M)),D&&Pe(google.maps.event.addListener(Le,"click",D)),L&&Be(google.maps.event.addListener(Le,"drag",L)),I(Le),$&&$(Le),()=>{C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),we!==null&&google.maps.event.removeListener(we),Y&&Y(Le),Le.setMap(null)}},[]),null}T.memo(BF);class FF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Rt({updaterMap:VC,eventMap:jC,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:VC,eventMap:jC,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),It(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Se(FF,"contextType",St);function BC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ug(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var FC={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zC={bounds(r,e){r.setBounds(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},visible(r,e){r.setVisible(e)}};function zF(r){var{options:e,bounds:t,draggable:n,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:v,onMouseUp:b,onRightClick:E,onClick:M,onDrag:D,onBoundsChanged:L,onLoad:$,onUnmount:Y}=r,z=T.useContext(St),[W,H]=T.useState(null),[I,C]=T.useState(null),[S,k]=T.useState(null),[P,F]=T.useState(null),[j,X]=T.useState(null),[J,U]=T.useState(null),[B,ee]=T.useState(null),[ne,O]=T.useState(null),[re,oe]=T.useState(null),[ie,ue]=T.useState(null),[Z,we]=T.useState(null),[Pe,me]=T.useState(null),[Be,Le]=T.useState(null);return T.useEffect(()=>{W!==null&&W.setMap(z)},[z]),T.useEffect(()=>{typeof e<"u"&&W!==null&&W.setOptions(e)},[W,e]),T.useEffect(()=>{typeof n<"u"&&W!==null&&W.setDraggable(n)},[W,n]),T.useEffect(()=>{typeof i<"u"&&W!==null&&W.setEditable(i)},[W,i]),T.useEffect(()=>{typeof a<"u"&&W!==null&&W.setVisible(a)},[W,a]),T.useEffect(()=>{typeof t<"u"&&W!==null&&W.setBounds(t)},[W,t]),T.useEffect(()=>{W&&l&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(W,"dblclick",l)))},[l]),T.useEffect(()=>{W&&c&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(W,"dragend",c)))},[c]),T.useEffect(()=>{W&&d&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(W,"dragstart",d)))},[d]),T.useEffect(()=>{W&&f&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(W,"mousedown",f)))},[f]),T.useEffect(()=>{W&&p&&(J!==null&&google.maps.event.removeListener(J),U(google.maps.event.addListener(W,"mousemove",p)))},[p]),T.useEffect(()=>{W&&m&&(B!==null&&google.maps.event.removeListener(B),ee(google.maps.event.addListener(W,"mouseout",m)))},[m]),T.useEffect(()=>{W&&v&&(ne!==null&&google.maps.event.removeListener(ne),O(google.maps.event.addListener(W,"mouseover",v)))},[v]),T.useEffect(()=>{W&&b&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(W,"mouseup",b)))},[b]),T.useEffect(()=>{W&&E&&(ie!==null&&google.maps.event.removeListener(ie),ue(google.maps.event.addListener(W,"rightclick",E)))},[E]),T.useEffect(()=>{W&&M&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(W,"click",M)))},[M]),T.useEffect(()=>{W&&D&&(Pe!==null&&google.maps.event.removeListener(Pe),me(google.maps.event.addListener(W,"drag",D)))},[D]),T.useEffect(()=>{W&&L&&(Be!==null&&google.maps.event.removeListener(Be),Le(google.maps.event.addListener(W,"bounds_changed",L)))},[L]),T.useEffect(()=>{var Te=new google.maps.Rectangle(Ug(Ug({},e),{},{map:z}));return typeof a<"u"&&Te.setVisible(a),typeof i<"u"&&Te.setEditable(i),typeof n<"u"&&Te.setDraggable(n),typeof t<"u"&&Te.setBounds(t),l&&C(google.maps.event.addListener(Te,"dblclick",l)),c&&k(google.maps.event.addListener(Te,"dragend",c)),d&&F(google.maps.event.addListener(Te,"dragstart",d)),f&&X(google.maps.event.addListener(Te,"mousedown",f)),p&&U(google.maps.event.addListener(Te,"mousemove",p)),m&&ee(google.maps.event.addListener(Te,"mouseout",m)),v&&O(google.maps.event.addListener(Te,"mouseover",v)),b&&oe(google.maps.event.addListener(Te,"mouseup",b)),E&&ue(google.maps.event.addListener(Te,"rightclick",E)),M&&we(google.maps.event.addListener(Te,"click",M)),D&&me(google.maps.event.addListener(Te,"drag",D)),L&&Le(google.maps.event.addListener(Te,"bounds_changed",L)),H(Te),$&&$(Te),()=>{I!==null&&google.maps.event.removeListener(I),S!==null&&google.maps.event.removeListener(S),P!==null&&google.maps.event.removeListener(P),j!==null&&google.maps.event.removeListener(j),J!==null&&google.maps.event.removeListener(J),B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),Z!==null&&google.maps.event.removeListener(Z),Pe!==null&&google.maps.event.removeListener(Pe),Be!==null&&google.maps.event.removeListener(Be),Y&&Y(Te),Te.setMap(null)}},[]),null}T.memo(zF);class HF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{rectangle:null}),Se(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Ug(Ug({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:zC,eventMap:FC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:zC,eventMap:FC,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),It(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Se(HF,"contextType",St);function HC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var qC={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YC={center(r,e){r.setCenter(e)},draggable(r,e){r.setDraggable(e)},editable(r,e){r.setEditable(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},radius(r,e){r.setRadius(e)},visible(r,e){r.setVisible(e)}},qF={};function YF(r){var{options:e,center:t,radius:n,draggable:i,editable:a,visible:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:v,onMouseOver:b,onMouseUp:E,onRightClick:M,onClick:D,onDrag:L,onCenterChanged:$,onRadiusChanged:Y,onLoad:z,onUnmount:W}=r,H=T.useContext(St),[I,C]=T.useState(null),[S,k]=T.useState(null),[P,F]=T.useState(null),[j,X]=T.useState(null),[J,U]=T.useState(null),[B,ee]=T.useState(null),[ne,O]=T.useState(null),[re,oe]=T.useState(null),[ie,ue]=T.useState(null),[Z,we]=T.useState(null),[Pe,me]=T.useState(null),[Be,Le]=T.useState(null),[Te,se]=T.useState(null),[Ee,Ne]=T.useState(null);return T.useEffect(()=>{I!==null&&I.setMap(H)},[H]),T.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),T.useEffect(()=>{typeof i<"u"&&I!==null&&I.setDraggable(i)},[I,i]),T.useEffect(()=>{typeof a<"u"&&I!==null&&I.setEditable(a)},[I,a]),T.useEffect(()=>{typeof l<"u"&&I!==null&&I.setVisible(l)},[I,l]),T.useEffect(()=>{typeof n=="number"&&I!==null&&I.setRadius(n)},[I,n]),T.useEffect(()=>{typeof t<"u"&&I!==null&&I.setCenter(t)},[I,t]),T.useEffect(()=>{I&&c&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(I,"dblclick",c)))},[c]),T.useEffect(()=>{I&&d&&(P!==null&&google.maps.event.removeListener(P),F(google.maps.event.addListener(I,"dragend",d)))},[d]),T.useEffect(()=>{I&&f&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(I,"dragstart",f)))},[f]),T.useEffect(()=>{I&&p&&(J!==null&&google.maps.event.removeListener(J),U(google.maps.event.addListener(I,"mousedown",p)))},[p]),T.useEffect(()=>{I&&m&&(B!==null&&google.maps.event.removeListener(B),ee(google.maps.event.addListener(I,"mousemove",m)))},[m]),T.useEffect(()=>{I&&v&&(ne!==null&&google.maps.event.removeListener(ne),O(google.maps.event.addListener(I,"mouseout",v)))},[v]),T.useEffect(()=>{I&&b&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(I,"mouseover",b)))},[b]),T.useEffect(()=>{I&&E&&(ie!==null&&google.maps.event.removeListener(ie),ue(google.maps.event.addListener(I,"mouseup",E)))},[E]),T.useEffect(()=>{I&&M&&(Z!==null&&google.maps.event.removeListener(Z),we(google.maps.event.addListener(I,"rightclick",M)))},[M]),T.useEffect(()=>{I&&D&&(Pe!==null&&google.maps.event.removeListener(Pe),me(google.maps.event.addListener(I,"click",D)))},[D]),T.useEffect(()=>{I&&L&&(Be!==null&&google.maps.event.removeListener(Be),Le(google.maps.event.addListener(I,"drag",L)))},[L]),T.useEffect(()=>{I&&$&&(Te!==null&&google.maps.event.removeListener(Te),se(google.maps.event.addListener(I,"center_changed",$)))},[D]),T.useEffect(()=>{I&&Y&&(Ee!==null&&google.maps.event.removeListener(Ee),Ne(google.maps.event.addListener(I,"radius_changed",Y)))},[Y]),T.useEffect(()=>{var ke=new google.maps.Circle(jg(jg({},e||qF),{},{map:H}));return typeof n=="number"&&ke.setRadius(n),typeof t<"u"&&ke.setCenter(t),typeof n=="number"&&ke.setRadius(n),typeof l<"u"&&ke.setVisible(l),typeof a<"u"&&ke.setEditable(a),typeof i<"u"&&ke.setDraggable(i),c&&k(google.maps.event.addListener(ke,"dblclick",c)),d&&F(google.maps.event.addListener(ke,"dragend",d)),f&&X(google.maps.event.addListener(ke,"dragstart",f)),p&&U(google.maps.event.addListener(ke,"mousedown",p)),m&&ee(google.maps.event.addListener(ke,"mousemove",m)),v&&O(google.maps.event.addListener(ke,"mouseout",v)),b&&oe(google.maps.event.addListener(ke,"mouseover",b)),E&&ue(google.maps.event.addListener(ke,"mouseup",E)),M&&we(google.maps.event.addListener(ke,"rightclick",M)),D&&me(google.maps.event.addListener(ke,"click",D)),L&&Le(google.maps.event.addListener(ke,"drag",L)),$&&se(google.maps.event.addListener(ke,"center_changed",$)),Y&&Ne(google.maps.event.addListener(ke,"radius_changed",Y)),C(ke),z&&z(ke),()=>{S!==null&&google.maps.event.removeListener(S),P!==null&&google.maps.event.removeListener(P),j!==null&&google.maps.event.removeListener(j),J!==null&&google.maps.event.removeListener(J),B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),Z!==null&&google.maps.event.removeListener(Z),Pe!==null&&google.maps.event.removeListener(Pe),Te!==null&&google.maps.event.removeListener(Te),Ee!==null&&google.maps.event.removeListener(Ee),W&&W(ke),ke.setMap(null)}},[]),null}T.memo(YF);class $F extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{circle:null}),Se(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(jg(jg({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:YC,eventMap:qC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:YC,eventMap:qC,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),It(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Se($F,"contextType",St);function $C(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$C(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var WC={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},GC={add(r,e){r.add(e)},addgeojson(r,e,t){r.addGeoJson(e,t)},contains(r,e){r.contains(e)},foreach(r,e){r.forEach(e)},loadgeojson(r,e,t,n){r.loadGeoJson(e,t,n)},overridestyle(r,e,t){r.overrideStyle(e,t)},remove(r,e){r.remove(e)},revertstyle(r,e){r.revertStyle(e)},controlposition(r,e){r.setControlPosition(e)},controls(r,e){r.setControls(e)},drawingmode(r,e){r.setDrawingMode(e)},map(r,e){r.setMap(e)},style(r,e){r.setStyle(e)},togeojson(r,e){r.toGeoJson(e)}};function WF(r){var{options:e,onClick:t,onDblClick:n,onMouseDown:i,onMouseMove:a,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:f,onAddFeature:p,onRemoveFeature:m,onRemoveProperty:v,onSetGeometry:b,onSetProperty:E,onLoad:M,onUnmount:D}=r,L=T.useContext(St),[$,Y]=T.useState(null),[z,W]=T.useState(null),[H,I]=T.useState(null),[C,S]=T.useState(null),[k,P]=T.useState(null),[F,j]=T.useState(null),[X,J]=T.useState(null),[U,B]=T.useState(null),[ee,ne]=T.useState(null),[O,re]=T.useState(null),[oe,ie]=T.useState(null),[ue,Z]=T.useState(null),[we,Pe]=T.useState(null),[me,Be]=T.useState(null);return T.useEffect(()=>{$!==null&&$.setMap(L)},[L]),T.useEffect(()=>{$&&n&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener($,"dblclick",n)))},[n]),T.useEffect(()=>{$&&i&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener($,"mousedown",i)))},[i]),T.useEffect(()=>{$&&a&&(C!==null&&google.maps.event.removeListener(C),S(google.maps.event.addListener($,"mousemove",a)))},[a]),T.useEffect(()=>{$&&l&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener($,"mouseout",l)))},[l]),T.useEffect(()=>{$&&c&&(F!==null&&google.maps.event.removeListener(F),j(google.maps.event.addListener($,"mouseover",c)))},[c]),T.useEffect(()=>{$&&d&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener($,"mouseup",d)))},[d]),T.useEffect(()=>{$&&f&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener($,"rightclick",f)))},[f]),T.useEffect(()=>{$&&t&&(ee!==null&&google.maps.event.removeListener(ee),ne(google.maps.event.addListener($,"click",t)))},[t]),T.useEffect(()=>{$&&p&&(O!==null&&google.maps.event.removeListener(O),re(google.maps.event.addListener($,"addfeature",p)))},[p]),T.useEffect(()=>{$&&m&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener($,"removefeature",m)))},[m]),T.useEffect(()=>{$&&v&&(ue!==null&&google.maps.event.removeListener(ue),Z(google.maps.event.addListener($,"removeproperty",v)))},[v]),T.useEffect(()=>{$&&b&&(we!==null&&google.maps.event.removeListener(we),Pe(google.maps.event.addListener($,"setgeometry",b)))},[b]),T.useEffect(()=>{$&&E&&(me!==null&&google.maps.event.removeListener(me),Be(google.maps.event.addListener($,"setproperty",E)))},[E]),T.useEffect(()=>{if(L!==null){var Le=new google.maps.Data(Vg(Vg({},e),{},{map:L}));n&&W(google.maps.event.addListener(Le,"dblclick",n)),i&&I(google.maps.event.addListener(Le,"mousedown",i)),a&&S(google.maps.event.addListener(Le,"mousemove",a)),l&&P(google.maps.event.addListener(Le,"mouseout",l)),c&&j(google.maps.event.addListener(Le,"mouseover",c)),d&&J(google.maps.event.addListener(Le,"mouseup",d)),f&&B(google.maps.event.addListener(Le,"rightclick",f)),t&&ne(google.maps.event.addListener(Le,"click",t)),p&&re(google.maps.event.addListener(Le,"addfeature",p)),m&&ie(google.maps.event.addListener(Le,"removefeature",m)),v&&Z(google.maps.event.addListener(Le,"removeproperty",v)),b&&Pe(google.maps.event.addListener(Le,"setgeometry",b)),E&&Be(google.maps.event.addListener(Le,"setproperty",E)),Y(Le),M&&M(Le)}return()=>{$&&(z!==null&&google.maps.event.removeListener(z),H!==null&&google.maps.event.removeListener(H),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),F!==null&&google.maps.event.removeListener(F),X!==null&&google.maps.event.removeListener(X),U!==null&&google.maps.event.removeListener(U),ee!==null&&google.maps.event.removeListener(ee),O!==null&&google.maps.event.removeListener(O),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),we!==null&&google.maps.event.removeListener(we),me!==null&&google.maps.event.removeListener(me),D&&D($),$.setMap(null))}},[]),null}T.memo(WF);class GF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{data:null}),Se(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Vg(Vg({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:GC,eventMap:WC,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:GC,eventMap:WC,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),It(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Se(GF,"contextType",St);function QC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function KC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var XC={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ZC={options(r,e){r.setOptions(e)},url(r,e){r.setUrl(e)},zIndex(r,e){r.setZIndex(e)}};class QF extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{kmlLayer:null}),Se(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(KC(KC({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:ZC,eventMap:XC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:ZC,eventMap:XC,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),It(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Se(QF,"contextType",St);function IM(r,e){return typeof e=="function"?e(r.offsetWidth,r.offsetHeight):{x:0,y:0}}function KF(r,e){return new e(r.lat,r.lng)}function XF(r,e){return new e(new google.maps.LatLng(r.ne.lat,r.ne.lng),new google.maps.LatLng(r.sw.lat,r.sw.lng))}function ZF(r,e,t){return r instanceof e?r:t(r,e)}function JF(r,e,t){return r instanceof e?r:t(r,e)}function ez(r,e,t){var n=r&&r.fromLatLngToDivPixel(t.getNorthEast()),i=r&&r.fromLatLngToDivPixel(t.getSouthWest());return n&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-i.x-e.x,"px"),height:"".concat(i.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function tz(r,e,t){var n=r&&r.fromLatLngToDivPixel(t);if(n){var{x:i,y:a}=n;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function NM(r,e,t,n){return t!==void 0?ez(r,e,JF(t,google.maps.LatLngBounds,XF)):tz(r,e,ZF(n,google.maps.LatLng,KF))}function nz(r,e){return r.left===e.left&&r.top===e.top&&r.width===e.height&&r.height===e.height}function JC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function rz(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function iz(r,e,t,n,i){class a extends google.maps.OverlayView{constructor(c,d,f,p){super(),this.container=c,this.pane=d,this.position=f,this.bounds=p}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=rz({},this.container?IM(this.container,i):{x:0,y:0}),f=NM(c,d,this.bounds,this.position);for(var[p,m]of Object.entries(f))this.container.style[p]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(r,e,t,n)}function ex(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function sz(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ex(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tx(r){if(!r)return"";var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);return e+""}function nx(r){if(!r)return"";var e=r instanceof google.maps.LatLngBounds?r:new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.east),new google.maps.LatLng(r.north,r.west));return e+""}function az(r){var{position:e,bounds:t,mapPaneName:n,zIndex:i,onLoad:a,onUnmount:l,getPixelPositionOffset:c,children:d}=r,f=T.useContext(St),p=T.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),m=T.useMemo(()=>iz(p,n,e,t,c),[p,n,e,t]);return T.useEffect(()=>(a==null||a(m),m==null||m.setMap(f),()=>{l==null||l(m),m==null||m.setMap(null)}),[f,m]),T.useEffect(()=>{p.style.zIndex="".concat(i)},[i,p]),tu.createPortal(d,p)}T.memo(az);class Gd extends T.PureComponent{constructor(e){super(e),Se(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Se(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();Tr(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),Se(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),Se(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=sz({x:0,y:0},this.containerRef.current?IM(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=NM(n,i,this.props.bounds,this.props.position);if(!nz(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,f;this.setState({containerStyle:{top:(l=a.top)!==null&&l!==void 0?l:0,left:(c=a.left)!==null&&c!==void 0?c:0,width:(d=a.width)!==null&&d!==void 0?d:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),Se(this,"draw",()=>{this.onPositionElement()}),Se(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=T.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=tx(e.position),n=tx(this.props.position),i=nx(e.bounds),a=nx(this.props.bounds);(t!==n||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?tu.createPortal(x.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:T.Children.only(this.props.children)}),e):null}}Se(Gd,"FLOAT_PANE","floatPane");Se(Gd,"MAP_PANE","mapPane");Se(Gd,"MARKER_LAYER","markerLayer");Se(Gd,"OVERLAY_LAYER","overlayLayer");Se(Gd,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Se(Gd,"contextType",St);function oz(){}function rx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ix(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rx(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var sx={onDblClick:"dblclick",onClick:"click"},ax={opacity(r,e){r.setOpacity(e)}};function lz(r){var{url:e,bounds:t,options:n,visible:i}=r,a=T.useContext(St),l=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),c=T.useMemo(()=>new google.maps.GroundOverlay(e,l,n),[]);return T.useEffect(()=>{c!==null&&c.setMap(a)},[a]),T.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(a))},[c,e]),T.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),T.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&c!==null&&(c.set("bounds",d),c.setMap(a))},[c,t]),null}T.memo(lz);class PM extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{groundOverlay:null}),Se(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Tr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ix(ix({},this.props.options),{},{map:this.context}));this.registeredEvents=Rt({updaterMap:ax,eventMap:sx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:ax,eventMap:sx,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Se(PM,"defaultProps",{onLoad:oz});Se(PM,"contextType",St);function ox(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(t),!0).forEach(function(n){Se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ox(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var lx={},ux={data(r,e){r.setData(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)}};function uz(r){var{data:e,onLoad:t,onUnmount:n,options:i}=r,a=T.useContext(St),[l,c]=T.useState(null);return T.useEffect(()=>{google.maps.visualization||Tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),T.useEffect(()=>{Tr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),T.useEffect(()=>{l!==null&&l.setMap(a)},[a]),T.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),T.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Bg(Bg({},i),{},{data:e,map:a}));return c(d),t&&t(d),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}T.memo(uz);class cz extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{heatmapLayer:null}),Se(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Tr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Tr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Bg(Bg({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Rt({updaterMap:ux,eventMap:lx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:ux,eventMap:lx,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),It(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Se(cz,"contextType",St);var cx={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},dx={register(r,e,t){r.registerPanoProvider(e,t)},links(r,e){r.setLinks(e)},motionTracking(r,e){r.setMotionTracking(e)},options(r,e){r.setOptions(e)},pano(r,e){r.setPano(e)},position(r,e){r.setPosition(e)},pov(r,e){r.setPov(e)},visible(r,e){r.setVisible(e)},zoom(r,e){r.setZoom(e)}};class dz extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{streetViewPanorama:null}),Se(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Rt({updaterMap:dx,eventMap:cx,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:dx,eventMap:cx,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),It(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Se(dz,"contextType",St);class hz extends T.PureComponent{constructor(){super(...arguments),Se(this,"state",{streetViewService:null}),Se(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Se(hz,"contextType",St);var hx={onDirectionsChanged:"directions_changed"},fx={directions(r,e){r.setDirections(e)},map(r,e){r.setMap(e)},options(r,e){r.setOptions(e)},panel(r,e){r.setPanel(e)},routeIndex(r,e){r.setRouteIndex(e)}};class fz extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"state",{directionsRenderer:null}),Se(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Rt({updaterMap:fx,eventMap:hx,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:fx,eventMap:hx,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),It(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Se(fz,"contextType",St);var px={onPlacesChanged:"places_changed"},mx={bounds(r,e){r.setBounds(e)}};class pz extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",T.createRef()),Se(this,"state",{searchBox:null}),Se(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Rt({updaterMap:mx,eventMap:px,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:mx,eventMap:px,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),It(this.registeredEvents))}render(){return x.jsx("div",{ref:this.containerElement,children:T.Children.only(this.props.children)})}}Se(pz,"contextType",St);var gx={onPlaceChanged:"place_changed"},vx={bounds(r,e){r.setBounds(e)},restrictions(r,e){r.setComponentRestrictions(e)},fields(r,e){r.setFields(e)},options(r,e){r.setOptions(e)},types(r,e){r.setTypes(e)}};class UM extends T.PureComponent{constructor(){super(...arguments),Se(this,"registeredEvents",[]),Se(this,"containerElement",T.createRef()),Se(this,"state",{autocomplete:null}),Se(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Tr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Rt({updaterMap:vx,eventMap:gx,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){It(this.registeredEvents),this.registeredEvents=Rt({updaterMap:vx,eventMap:gx,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&It(this.registeredEvents)}render(){return x.jsx("div",{ref:this.containerElement,className:this.props.className,children:T.Children.only(this.props.children)})}}Se(UM,"defaultProps",{className:""});Se(UM,"contextType",St);const mz="AIzaSyCU0plQDFAs1MMKQN_sPZHPpBcKN1qe0PU";var gz=Object.defineProperty,Fg=Object.getOwnPropertySymbols,jM=Object.prototype.hasOwnProperty,VM=Object.prototype.propertyIsEnumerable,yx=(r,e,t)=>e in r?gz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,f0=(r,e)=>{for(var t in e||(e={}))jM.call(e,t)&&yx(r,t,e[t]);if(Fg)for(var t of Fg(e))VM.call(e,t)&&yx(r,t,e[t]);return r},p0=(r,e)=>{var t={};for(var n in r)jM.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Fg)for(var n of Fg(r))e.indexOf(n)<0&&VM.call(r,n)&&(t[n]=r[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var nc;(r=>{const e=class Ot{constructor(d,f,p,m){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<Ot.MIN_VERSION||d>Ot.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let E=0;E<this.size;E++)v.push(!1);for(let E=0;E<this.size;E++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(p);if(this.drawCodewords(b),m==-1){let E=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const D=this.getPenaltyScore();D<E&&(m=M,E=D),this.applyMask(M)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(d,f){const p=r.QrSegment.makeSegments(d);return Ot.encodeSegments(p,f)}static encodeBinary(d,f){const p=r.QrSegment.makeBytes(d);return Ot.encodeSegments([p],f)}static encodeSegments(d,f,p=1,m=40,v=-1,b=!0){if(!(Ot.MIN_VERSION<=p&&p<=m&&m<=Ot.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let E,M;for(E=p;;E++){const Y=Ot.getNumDataCodewords(E,f)*8,z=l.getTotalBits(d,E);if(z<=Y){M=z;break}if(E>=m)throw new RangeError("Data too long")}for(const Y of[Ot.Ecc.MEDIUM,Ot.Ecc.QUARTILE,Ot.Ecc.HIGH])b&&M<=Ot.getNumDataCodewords(E,Y)*8&&(f=Y);let D=[];for(const Y of d){t(Y.mode.modeBits,4,D),t(Y.numChars,Y.mode.numCharCountBits(E),D);for(const z of Y.getData())D.push(z)}i(D.length==M);const L=Ot.getNumDataCodewords(E,f)*8;i(D.length<=L),t(0,Math.min(4,L-D.length),D),t(0,(8-D.length%8)%8,D),i(D.length%8==0);for(let Y=236;D.length<L;Y^=253)t(Y,8,D);let $=[];for(;$.length*8<D.length;)$.push(0);return D.forEach((Y,z)=>$[z>>>3]|=Y<<7-(z&7)),new Ot(E,f,$,v)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let p=0;p<f;p++)for(let m=0;m<f;m++)p==0&&m==0||p==0&&m==f-1||p==f-1&&m==0||this.drawAlignmentPattern(d[p],d[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let p=f;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const m=(f<<10|p)^21522;i(m>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,n(m,v));this.setFunctionModule(8,7,n(m,6)),this.setFunctionModule(8,8,n(m,7)),this.setFunctionModule(7,8,n(m,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,n(m,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,n(m,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,n(m,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let p=0;p<18;p++){const m=n(f,p),v=this.size-11+p%3,b=Math.floor(p/3);this.setFunctionModule(v,b,m),this.setFunctionModule(b,v,m)}}drawFinderPattern(d,f){for(let p=-4;p<=4;p++)for(let m=-4;m<=4;m++){const v=Math.max(Math.abs(m),Math.abs(p)),b=d+m,E=f+p;0<=b&&b<this.size&&0<=E&&E<this.size&&this.setFunctionModule(b,E,v!=2&&v!=4)}}drawAlignmentPattern(d,f){for(let p=-2;p<=2;p++)for(let m=-2;m<=2;m++)this.setFunctionModule(d+m,f+p,Math.max(Math.abs(m),Math.abs(p))!=1)}setFunctionModule(d,f,p){this.modules[f][d]=p,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,p=this.errorCorrectionLevel;if(d.length!=Ot.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const m=Ot.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],v=Ot.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],b=Math.floor(Ot.getNumRawDataModules(f)/8),E=m-b%m,M=Math.floor(b/m);let D=[];const L=Ot.reedSolomonComputeDivisor(v);for(let Y=0,z=0;Y<m;Y++){let W=d.slice(z,z+M-v+(Y<E?0:1));z+=W.length;const H=Ot.reedSolomonComputeRemainder(W,L);Y<E&&W.push(0),D.push(W.concat(H))}let $=[];for(let Y=0;Y<D[0].length;Y++)D.forEach((z,W)=>{(Y!=M-v||W>=E)&&$.push(z[Y])});return i($.length==b),$}drawCodewords(d){if(d.length!=Math.floor(Ot.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let m=0;m<this.size;m++)for(let v=0;v<2;v++){const b=p-v,M=(p+1&2)==0?this.size-1-m:m;!this.isFunction[M][b]&&f<d.length*8&&(this.modules[M][b]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let m;switch(d){case 0:m=(p+f)%2==0;break;case 1:m=f%2==0;break;case 2:m=p%3==0;break;case 3:m=(p+f)%3==0;break;case 4:m=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:m=p*f%2+p*f%3==0;break;case 6:m=(p*f%2+p*f%3)%2==0;break;case 7:m=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&m&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let b=!1,E=0,M=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[v][D]==b?(E++,E==5?d+=Ot.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,M),b||(d+=this.finderPenaltyCountPatterns(M)*Ot.PENALTY_N3),b=this.modules[v][D],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,M)*Ot.PENALTY_N3}for(let v=0;v<this.size;v++){let b=!1,E=0,M=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[D][v]==b?(E++,E==5?d+=Ot.PENALTY_N1:E>5&&d++):(this.finderPenaltyAddHistory(E,M),b||(d+=this.finderPenaltyCountPatterns(M)*Ot.PENALTY_N3),b=this.modules[D][v],E=1);d+=this.finderPenaltyTerminateAndCount(b,E,M)*Ot.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let b=0;b<this.size-1;b++){const E=this.modules[v][b];E==this.modules[v][b+1]&&E==this.modules[v+1][b]&&E==this.modules[v+1][b+1]&&(d+=Ot.PENALTY_N2)}let f=0;for(const v of this.modules)f=v.reduce((b,E)=>b+(E?1:0),f);const p=this.size*this.size,m=Math.ceil(Math.abs(f*20-p*10)/p)-1;return i(0<=m&&m<=9),d+=m*Ot.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let m=this.size-7;p.length<d;m-=f)p.splice(1,0,m);return p}}static getNumRawDataModules(d){if(d<Ot.MIN_VERSION||d>Ot.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;f-=(25*p-10)*p-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(Ot.getNumRawDataModules(d)/8)-Ot.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*Ot.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let m=0;m<d-1;m++)f.push(0);f.push(1);let p=1;for(let m=0;m<d;m++){for(let v=0;v<f.length;v++)f[v]=Ot.reedSolomonMultiply(f[v],p),v+1<f.length&&(f[v]^=f[v+1]);p=Ot.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(d,f){let p=f.map(m=>0);for(const m of d){const v=m^p.shift();p.push(0),f.forEach((b,E)=>p[E]^=Ot.reedSolomonMultiply(b,v))}return p}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let m=7;m>=0;m--)p=p<<1^(p>>>7)*285,p^=(f>>>m&1)*d;return i(p>>>8==0),p}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const p=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(p&&d[0]>=f*4&&d[6]>=f?1:0)+(p&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,p){return d&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function t(c,d,f){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)f.push(c>>>p&1)}function n(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class nr{constructor(d,f,p){if(this.mode=d,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let f=[];for(const p of d)t(p,8,f);return new nr(nr.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!nr.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<d.length;){const m=Math.min(d.length-p,3);t(parseInt(d.substring(p,p+m),10),m*3+1,f),p+=m}return new nr(nr.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!nr.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=d.length;p+=2){let m=nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;m+=nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),t(m,11,f)}return p<d.length&&t(nr.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,f),new nr(nr.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:nr.isNumeric(d)?[nr.makeNumeric(d)]:nr.isAlphanumeric(d)?[nr.makeAlphanumeric(d)]:[nr.makeBytes(nr.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)t(d,8,f);else if(d<16384)t(2,2,f),t(d,14,f);else if(d<1e6)t(6,3,f),t(d,21,f);else throw new RangeError("ECI assignment value out of range");return new nr(nr.Mode.ECI,0,f)}static isNumeric(d){return nr.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return nr.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let p=0;for(const m of d){const v=m.mode.numCharCountBits(f);if(m.numChars>=1<<v)return 1/0;p+=4+v+m.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?f.push(d.charCodeAt(p)):(f.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return f}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;r.QrSegment=a})(nc||(nc={}));(r=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(r.QrCode||(r.QrCode={}))})(nc||(nc={}));(r=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(r.QrSegment||(r.QrSegment={}))})(nc||(nc={}));var cd=nc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vz={L:cd.QrCode.Ecc.LOW,M:cd.QrCode.Ecc.MEDIUM,Q:cd.QrCode.Ecc.QUARTILE,H:cd.QrCode.Ecc.HIGH},BM=128,FM="L",zM="#FFFFFF",HM="#000000",qM=!1,YM=1,yz=4,_z=0,bz=.1;function $M(r,e=0){const t=[];return r.forEach(function(n,i){let a=null;n.forEach(function(l,c){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===n.length-1){if(!l)return;a===null?t.push(`M${c+e},${i+e} h1v1H${c+e}z`):t.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}l&&a===null&&(a=c)})}),t.join("")}function WM(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function wz(r,e,t,n){if(n==null)return null;const i=r.length+t*2,a=Math.floor(e*bz),l=i/e,c=(n.width||a)*l,d=(n.height||a)*l,f=n.x==null?r.length/2-c/2:n.x*l,p=n.y==null?r.length/2-d/2:n.y*l,m=n.opacity==null?1:n.opacity;let v=null;if(n.excavate){let E=Math.floor(f),M=Math.floor(p),D=Math.ceil(c+f-E),L=Math.ceil(d+p-M);v={x:E,y:M,w:D,h:L}}const b=n.crossOrigin;return{x:f,y:p,h:d,w:c,excavation:v,opacity:m,crossOrigin:b}}function Ez(r,e){return e!=null?Math.max(Math.floor(e),0):r?yz:_z}function GM({value:r,level:e,minVersion:t,includeMargin:n,marginSize:i,imageSettings:a,size:l,boostLevel:c}){let d=ve.useMemo(()=>{const E=(Array.isArray(r)?r:[r]).reduce((M,D)=>(M.push(...cd.QrSegment.makeSegments(D)),M),[]);return cd.QrCode.encodeSegments(E,vz[e],t,void 0,void 0,c)},[r,e,t,c]);const{cells:f,margin:p,numCells:m,calculatedImageSettings:v}=ve.useMemo(()=>{let b=d.getModules();const E=Ez(n,i),M=b.length+E*2,D=wz(b,l,E,a);return{cells:b,margin:E,numCells:M,calculatedImageSettings:D}},[d,l,a,n,i]);return{qrcode:d,margin:p,cells:f,numCells:m,calculatedImageSettings:v}}var Tz=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Sz=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=BM,level:l=FM,bgColor:c=zM,fgColor:d=HM,includeMargin:f=qM,minVersion:p=YM,boostLevel:m,marginSize:v,imageSettings:b}=n,M=p0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:D}=M,L=p0(M,["style"]),$=b==null?void 0:b.src,Y=ve.useRef(null),z=ve.useRef(null),W=ve.useCallback(X=>{Y.current=X,typeof t=="function"?t(X):t&&(t.current=X)},[t]),[H,I]=ve.useState(!1),{margin:C,cells:S,numCells:k,calculatedImageSettings:P}=GM({value:i,level:l,minVersion:p,boostLevel:m,includeMargin:f,marginSize:v,imageSettings:b,size:a});ve.useEffect(()=>{if(Y.current!=null){const X=Y.current,J=X.getContext("2d");if(!J)return;let U=S;const B=z.current,ee=P!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;ee&&P.excavation!=null&&(U=WM(S,P.excavation));const ne=window.devicePixelRatio||1;X.height=X.width=a*ne;const O=a/k*ne;J.scale(O,O),J.fillStyle=c,J.fillRect(0,0,k,k),J.fillStyle=d,Tz?J.fill(new Path2D($M(U,C))):S.forEach(function(re,oe){re.forEach(function(ie,ue){ie&&J.fillRect(ue+C,oe+C,1,1)})}),P&&(J.globalAlpha=P.opacity),ee&&J.drawImage(B,P.x+C,P.y+C,P.w,P.h)}}),ve.useEffect(()=>{I(!1)},[$]);const F=f0({height:a,width:a},D);let j=null;return $!=null&&(j=ve.createElement("img",{src:$,key:$,style:{display:"none"},onLoad:()=>{I(!0)},ref:z,crossOrigin:P==null?void 0:P.crossOrigin})),ve.createElement(ve.Fragment,null,ve.createElement("canvas",f0({style:F,height:a,width:a,ref:W,role:"img"},L)),j)});Sz.displayName="QRCodeCanvas";var QM=ve.forwardRef(function(e,t){const n=e,{value:i,size:a=BM,level:l=FM,bgColor:c=zM,fgColor:d=HM,includeMargin:f=qM,minVersion:p=YM,boostLevel:m,title:v,marginSize:b,imageSettings:E}=n,M=p0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:D,cells:L,numCells:$,calculatedImageSettings:Y}=GM({value:i,level:l,minVersion:p,boostLevel:m,includeMargin:f,marginSize:b,imageSettings:E,size:a});let z=L,W=null;E!=null&&Y!=null&&(Y.excavation!=null&&(z=WM(L,Y.excavation)),W=ve.createElement("image",{href:E.src,height:Y.h,width:Y.w,x:Y.x+D,y:Y.y+D,preserveAspectRatio:"none",opacity:Y.opacity,crossOrigin:Y.crossOrigin}));const H=$M(z,D);return ve.createElement("svg",f0({height:a,width:a,viewBox:`0 0 ${$} ${$}`,ref:t,role:"img"},M),!!v&&ve.createElement("title",null,v),ve.createElement("path",{fill:c,d:`M0,0 h${$}v${$}H0z`,shapeRendering:"crispEdges"}),ve.createElement("path",{fill:d,d:H,shapeRendering:"crispEdges"}),W)});QM.displayName="QRCodeSVG";const KM=T.createContext(),Cz=["places"];function xz({children:r}){const[e,t]=T.useState(!1);return x.jsx(AM,{googleMapsApiKey:mz,libraries:Cz,onLoad:()=>t(!0),children:x.jsx(KM.Provider,{value:{isLoaded:e},children:r})})}const Az={width:"100%",height:"300px",borderRadius:"8px"};function Dz(){var Be,Le,Te;const{isLoaded:r}=T.useContext(KM),[e,t]=T.useState(!1),[n,i]=T.useState(!0),[a,l]=T.useState(null),c=T.useRef(null),[d,f]=T.useState({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((Be=Qr.currentUser)==null?void 0:Be.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),[p,m]=T.useState(null),[v,b]=T.useState([]),[E,M]=T.useState(!0),[D,L]=T.useState(!1),[$,Y]=T.useState(null),[z,W]=T.useState({}),[H,I]=T.useState(!1),[C,S]=T.useState(null),[k,P]=T.useState({coverImage:!1,avatar:!1,logo:!1,introVideo:!1}),F=se=>{const{name:Ee,value:Ne,type:ke,checked:$e}=se.target;f(Fe=>({...Fe,[Ee]:ke==="checkbox"?$e:Ne})),W(Fe=>({...Fe,[Ee]:null}))},j=()=>{var se;f({event_name:"",event_type:"",event_location_name:"",event_location:null,date:new Date,start_time:new Date,end_time:new Date,live_stream_enabled:!1,has_QR_code:!1,live_session_url:"",event_host:((se=Qr.currentUser)==null?void 0:se.uid)||"",folders:[],coverImage:"",avatar:"",logo:"",introVideo:"",event_description:""}),l(null)},X=()=>{t(!1),L(!1),I(!1),Y(null),S(null),j(),W({}),l(null)},J=()=>{t(!0),B()},U=async se=>{var Ne;se.preventDefault();const Ee=ie();if(Object.keys(Ee).length>0){W(Ee);return}try{const ke={event_name:d.event_name,event_type:d.event_type||"normal",event_location_name:d.event_location_name,event_location:new gv(d.event_location.lat,d.event_location.lng),date:rr.fromDate(d.date),start_time:rr.fromDate(d.start_time),end_time:rr.fromDate(d.end_time),live_stream_enabled:d.live_stream_enabled,has_QR_code:d.has_QR_code,live_session_url:d.live_session_url,event_host:((Ne=Qr.currentUser)==null?void 0:Ne.uid)||"",folders:d.folders.filter($e=>$e.trim()!==""),event_description:d.event_description};D&&$?await aj(ep(Os,"events",$),ke):await oj(Ul(Os,"events"),ke),X(),await ee()}catch(ke){console.error("Error saving event: ",ke),m("Failed to save event: "+ke.message)}},B=()=>{const se=new Date;se.setHours(9,0,0);const Ee=new Date;Ee.setHours(17,0,0),f(Ne=>({...Ne,start_time:se,end_time:Ee}))},ee=async()=>{try{if(i(!0),m(null),!Qr.currentUser){m("User not authenticated"),i(!1);return}const se=Ul(Os,"events"),Ee=Uu(se,ju("event_host","==",Qr.currentUser.uid),nS("date","desc")),ke=(await vd(Ee)).docs.map($e=>({id:$e.id,...$e.data()}));console.log("Fetched events:",ke),b(ke),i(!1)}catch(se){console.error("Error fetching events:",se),m("Failed to fetch events"),i(!1)}};T.useEffect(()=>{const se=async()=>{try{if(i(!0),m(null),!Qr.currentUser){m("User not authenticated"),i(!1);return}const Ne=Ul(Os,"events"),ke=Uu(Ne,ju("event_host","==",Qr.currentUser.uid),nS("date","desc")),Fe=(await vd(ke)).docs.map(ut=>({id:ut.id,...ut.data()}));console.log("Fetched events:",Fe),b(Fe),i(!1)}catch(Ne){console.error("Error fetching events:",Ne),m("Failed to fetch events"),i(!1)}};Qr.currentUser&&se();const Ee=Qr.onAuthStateChanged(Ne=>{Ne?se():(b([]),i(!1))});return()=>Ee()},[(Le=Qr.currentUser)==null?void 0:Le.uid]);const ne=se=>{if(!se)return"";const Ee=se.toDate();return jf(Ee,"dd/MM/yyyy")},O=se=>{if(!se)return"";const Ee=se.toDate();return jf(Ee,"hh:mm a")};T.useEffect(()=>{},[]),T.useEffect(()=>{if(e&&r&&c.current&&!a)try{const se={componentRestrictions:{country:"in"},types:["geocode","establishment"]},Ee=new window.google.maps.places.Autocomplete(c.current,se);Ee.addListener("place_changed",()=>{const Ne=Ee.getPlace();Ne.geometry&&f(ke=>({...ke,event_location_name:Ne.formatted_address,event_location:{lat:Ne.geometry.location.lat(),lng:Ne.geometry.location.lng()}}))}),l(Ee)}catch(se){console.error("Error initializing autocomplete:",se)}},[e,r]),T.useEffect(()=>()=>{a&&l(null)},[]);const re=se=>{const Ee={lat:se.event_location.latitude,lng:se.event_location.longitude};I(!1),L(!0),Y(se.id),f({event_name:se.event_name,event_type:se.event_type||"normal",event_location_name:se.event_location_name,event_location:Ee,date:se.date.toDate(),start_time:se.start_time.toDate(),end_time:se.end_time.toDate(),live_stream_enabled:se.live_stream_enabled||!1,has_QR_code:se.has_QR_code||!1,live_session_url:se.live_session_url||"",event_host:se.event_host,folders:se.folders||[],coverImage:se.coverImage||"",avatar:se.avatar||"",logo:se.logo||"",introVideo:se.introVideo||"",event_description:se.event_description||""}),t(!0)},oe=se=>{var Ee,Ne,ke;try{const $e=(Ee=se.date)!=null&&Ee.toDate?se.date.toDate():new Date(se.date),Fe=(Ne=se.start_time)!=null&&Ne.toDate?se.start_time.toDate():new Date(se.start_time),ut=(ke=se.end_time)!=null&&ke.toDate?se.end_time.toDate():new Date(se.end_time),_t={lat:se.event_location.latitude,lng:se.event_location.longitude};I(!0),S(se.id),f({...se,date:$e,start_time:Fe,end_time:ut,event_location:_t}),t(!0),console.log("Event data being set:",{date:$e,start_time:Fe,end_time:ut})}catch($e){console.error("Error in handleViewEvent:",$e)}},ie=()=>{const se={};return d.event_name.trim()||(se.event_name="Event name is required"),(!d.event_location_name||!d.event_location)&&(se.event_location="Location is required"),console.log("Form validation:",{formData:d,errors:se,hasErrors:Object.keys(se).length>0}),W(se),se},ue=()=>{f(se=>({...se,folders:[...se.folders,""]}))},Z=(se,Ee)=>{const Ne=Ee.replace(/[^a-zA-Z0-9]/g,"");f(ke=>{const $e=[...ke.folders];return $e[se]=Ne,{...ke,folders:$e}})},we=se=>{f(Ee=>({...Ee,folders:Ee.folders.filter((Ne,ke)=>ke!==se)}))},Pe=()=>{const se=document.querySelector(".qr-code svg");if(!se)return;const Ee=document.createElement("canvas"),Ne=Ee.getContext("2d");Ee.width=1e3,Ee.height=1e3;const ke=new XMLSerializer().serializeToString(se),$e=new Image;$e.onload=()=>{Ne.fillStyle="white",Ne.fillRect(0,0,Ee.width,Ee.height),Ne.drawImage($e,0,0,Ee.width,Ee.height);const Fe=document.createElement("a");Fe.download=`event-qr-${C}.png`,Fe.href=Ee.toDataURL("image/png"),Fe.click()},$e.src="data:image/svg+xml;base64,"+btoa(ke)},me=async(se,Ee)=>{if(!(!se||!Qr.currentUser))try{P($e=>({...$e,[Ee]:!0}));const Ne=Al(Dl,`users/${Qr.currentUser.uid}/event_media/${Ee}/${Date.now()}_${se.name}`);await MR(Ne,se);const ke=await vf(Ne);f($e=>({...$e,[Ee]:ke})),P($e=>({...$e,[Ee]:!1}))}catch(Ne){console.error(`Error uploading ${Ee}:`,Ne),m(`Failed to upload ${Ee}`),P(ke=>({...ke,[Ee]:!1}))}};return p?x.jsxs("div",{className:"container-fluid",children:[x.jsx("div",{className:"alert alert-danger",role:"alert",children:p}),x.jsx("div",{className:"table-responsive",children:x.jsxs("table",{className:"table table-striped",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Event Name"}),x.jsx("th",{children:"Date"}),x.jsx("th",{children:"Location"}),x.jsx("th",{children:"Status"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:x.jsxs("tr",{children:[x.jsx("td",{children:"Summer Music Festival"}),x.jsx("td",{children:"2024-06-15"}),x.jsx("td",{children:"Central Park"}),x.jsx("td",{children:x.jsx("span",{className:"badge bg-success",children:"Active"})}),x.jsxs("td",{children:[x.jsx("button",{className:"btn btn-sm btn-primary me-2",children:"Edit"}),x.jsx("button",{className:"btn btn-sm btn-danger",children:"Delete"})]})]})})]})})]}):x.jsxs("div",{className:"container-fluid",children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[x.jsx("h2",{children:"Events Management"}),x.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:J,children:[x.jsx(vS,{className:"me-2"}),"Create New Event"]})]}),p?x.jsx("div",{className:"alert alert-danger",role:"alert",children:p}):n?x.jsx("div",{className:"card",children:x.jsxs("div",{className:"card-body text-center py-5",children:[x.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading..."})}),x.jsx("p",{className:"text-muted mb-0",children:"Loading events..."})]})}):v.length===0?x.jsx("div",{className:"card",children:x.jsx("div",{className:"card-body text-center py-5",children:x.jsx("p",{className:"text-muted mb-0",children:"No events found. Create your first event!"})})}):x.jsx("div",{className:"table-responsive",children:x.jsxs("table",{className:"table table-striped",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Event Name"}),x.jsx("th",{children:"Type"}),x.jsx("th",{children:"Location"}),x.jsx("th",{children:"Date"}),x.jsx("th",{children:"Time"}),x.jsx("th",{children:"Status"}),x.jsx("th",{children:"Folders"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:v.map(se=>x.jsxs("tr",{onClick:()=>oe(se),style:{cursor:"pointer"},className:"hover-highlight",children:[x.jsx("td",{children:se.event_name}),x.jsx("td",{children:x.jsx("span",{className:`badge ${se.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:se.event_type})}),x.jsx("td",{children:se.event_location_name}),x.jsx("td",{children:ne(se.date)}),x.jsxs("td",{children:[O(se.start_time)," - ",O(se.end_time)]}),x.jsx("td",{children:new Date<se.date.toDate()?x.jsx("span",{className:"badge bg-success",children:"Upcoming"}):x.jsx("span",{className:"badge bg-secondary",children:"Past"})}),x.jsx("td",{children:x.jsx("div",{className:"d-flex flex-wrap gap-1",children:se.folders&&se.folders.map((Ee,Ne)=>x.jsx("span",{className:"badge bg-secondary",children:Ee},Ne))})}),x.jsx("td",{className:"actions-cell",children:x.jsxs("div",{className:"d-flex",children:[x.jsx("button",{className:"btn btn-icon",onClick:Ee=>{Ee.stopPropagation(),re(se)},children:x.jsx(gS,{})}),x.jsx("button",{className:"btn btn-icon text-danger ms-3",onClick:Ee=>{Ee.stopPropagation(),handleDeleteEvent(se.id)},children:x.jsx(yS,{})})]})})]},se.id))})]})}),e&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"modal fade show",style:{display:"block"},children:x.jsx("div",{className:"modal-dialog modal-lg",children:x.jsxs("div",{className:"modal-content",children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h5",{className:"modal-title",children:D?"Edit Event":H?"Event Details":"Create New Event"}),x.jsx("button",{type:"button",className:"btn-close",onClick:X})]}),x.jsx("div",{className:"modal-body",children:H?x.jsxs("div",{className:"event-details",children:[x.jsxs("div",{className:"text-center mb-4 p-3 border rounded",children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[x.jsx("h6",{className:"text-muted mb-0",children:"Event QR Code"}),x.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{const se=v.find(Ee=>Ee.id===C);se&&re(se)},children:[x.jsx(gS,{className:"me-1"})," Edit Event"]})]}),x.jsxs("div",{className:"d-flex flex-column align-items-center mb-3",children:[x.jsx("div",{className:"qr-code mb-3",children:x.jsx(QM,{value:`https://chaaya.ai/event/${C}`,size:200,level:"H",includeMargin:!0,bgColor:getComputedStyle(document.documentElement).getPropertyValue("--bg-primary").trim(),fgColor:getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()})}),x.jsx("button",{className:"btn btn-outline-primary",onClick:Pe,children:"Download QR Code"})]}),x.jsxs("small",{className:"text-muted",children:["Scan to access event page: ",`https://chaaya.ai/event/${C}`]})]}),x.jsxs("div",{className:"row mb-4",children:[x.jsxs("div",{className:"col-md-6",children:[x.jsx("h6",{className:"text-muted",children:"Event Name"}),x.jsx("p",{className:"lead",children:d.event_name})]}),x.jsxs("div",{className:"col-md-6",children:[x.jsx("h6",{className:"text-muted",children:"Event Type"}),x.jsx("p",{children:x.jsx("span",{className:`badge ${d.event_type==="smart"?"bg-primary":"bg-secondary"}`,children:d.event_type})})]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("h6",{className:"text-muted",children:"Description"}),x.jsx("p",{children:d.event_description})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("h6",{className:"text-muted",children:"Location"}),x.jsx("p",{children:d.event_location_name}),x.jsx("div",{className:"mt-3",children:x.jsx(V8,{mapContainerStyle:Az,center:d.event_location,zoom:15,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0},children:x.jsx(DM,{position:d.event_location,title:d.event_location_name})})})]}),x.jsxs("div",{className:"row mb-4",children:[x.jsxs("div",{className:"col-md-4",children:[x.jsx("h6",{className:"text-muted",children:"Date"}),x.jsx("p",{children:d.date?new Date(d.date).toLocaleDateString():"N/A"})]}),x.jsxs("div",{className:"col-md-4",children:[x.jsx("h6",{className:"text-muted",children:"Time"}),x.jsxs("p",{children:[d.start_time?new Date(d.start_time).toLocaleTimeString():"N/A"," -",d.end_time?new Date(d.end_time).toLocaleTimeString():"N/A"]})]})]}),d.live_stream_enabled&&x.jsxs("div",{className:"mb-4",children:[x.jsx("h6",{className:"text-muted",children:"Live Stream URL"}),x.jsx("p",{children:x.jsx("a",{href:d.live_session_url,target:"_blank",rel:"noopener noreferrer",children:d.live_session_url})})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("h6",{className:"text-muted",children:"Additional Features"}),x.jsxs("div",{className:"mt-2",children:[d.live_stream_enabled&&x.jsx("span",{className:"badge bg-success me-2",children:"Live Stream Enabled"}),d.has_QR_code&&x.jsx("span",{className:"badge bg-info me-2",children:"QR Code Available"})]})]}),d.folders&&d.folders.length>0&&x.jsxs("div",{className:"mb-4",children:[x.jsx("h6",{className:"text-muted",children:"Folders"}),x.jsx("div",{className:"d-flex flex-wrap gap-2",children:d.folders.map((se,Ee)=>x.jsx("div",{className:"badge bg-secondary",children:se},Ee))})]})]}):x.jsxs("form",{onSubmit:U,children:[x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Event Name*"}),x.jsx("input",{type:"text",className:`form-control ${z.event_name?"is-invalid":""}`,name:"event_name",value:d.event_name,onChange:F,required:!0}),z.event_name&&x.jsx("div",{className:"invalid-feedback",children:z.event_name})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"event_description",className:"form-label",children:"Event Description"}),x.jsx("textarea",{id:"event_description",className:"form-control",name:"event_description",value:d.event_description||"",onChange:F,maxLength:100,rows:3,placeholder:"Enter event description (max 100 characters)"}),x.jsx("small",{className:"text-muted",children:`${((Te=d.event_description)==null?void 0:Te.length)||0}/100 characters`})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label d-block",children:"Event Type"}),x.jsxs("div",{className:"form-check form-switch",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",name:"event_type",id:"event_type",checked:d.event_type==="smart",onChange:se=>f(Ee=>({...Ee,event_type:se.target.checked?"smart":"normal"}))}),x.jsxs("label",{className:"form-check-label",htmlFor:"event_type",children:["Smart Event ",d.event_type==="smart"?"(Enabled)":"(Disabled)"]}),x.jsx("small",{className:"form-text text-muted d-block",children:d.event_type==="smart"?"Smart event with advanced features":"Normal event with basic features"})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Location*"}),x.jsxs("div",{className:"input-group",children:[x.jsx("input",{ref:c,type:"text",className:`form-control ${z.event_location?"is-invalid":""}`,placeholder:"Search for a location",value:d.event_location_name,onChange:se=>{f(Ee=>({...Ee,event_location_name:se.target.value})),W(Ee=>({...Ee,event_location:null}))},required:!0}),x.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(se=>{const{latitude:Ee,longitude:Ne}=se.coords;new window.google.maps.Geocoder().geocode({location:{lat:Ee,lng:Ne}},($e,Fe)=>{Fe==="OK"&&$e[0]&&f(ut=>({...ut,event_location_name:$e[0].formatted_address,event_location:{lat:Ee,lng:Ne}}))})})},children:x.jsx(PR,{})})]}),z.event_location&&x.jsx("div",{className:"invalid-feedback d-block",children:z.event_location})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Event Date*"}),x.jsx(__,{selected:d.date,onChange:se=>{f(Ee=>({...Ee,date:se})),W(Ee=>({...Ee,date:null}))},dateFormat:"dd/MM/yyyy",className:`form-control ${z.date?"is-invalid":""}`,minDate:new Date,required:!0}),z.date&&x.jsx("div",{className:"invalid-feedback d-block",children:z.date})]}),x.jsxs("div",{className:"row mb-3",children:[x.jsxs("div",{className:"col",children:[x.jsx("label",{className:"form-label",children:"Start Time*"}),x.jsx(__,{selected:d.start_time,onChange:se=>{f(Ee=>({...Ee,start_time:se})),W(Ee=>({...Ee,start_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${z.start_time?"is-invalid":""}`,required:!0}),z.start_time&&x.jsx("div",{className:"invalid-feedback d-block",children:z.start_time})]}),x.jsxs("div",{className:"col",children:[x.jsx("label",{className:"form-label",children:"End Time*"}),x.jsx(__,{selected:d.end_time,onChange:se=>{f(Ee=>({...Ee,end_time:se})),W(Ee=>({...Ee,end_time:null}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa",className:`form-control ${z.end_time?"is-invalid":""}`,required:!0}),z.end_time&&x.jsx("div",{className:"invalid-feedback d-block",children:z.end_time})]})]}),x.jsx("div",{className:"mb-3",children:x.jsxs("div",{className:"form-check form-switch",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",name:"live_stream_enabled",checked:d.live_stream_enabled,onChange:F,id:"live_stream_enabled"}),x.jsx("label",{className:"form-check-label",htmlFor:"live_stream_enabled",children:"Enable Live Stream"})]})}),d.live_stream_enabled&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Live Session URL"}),x.jsx("input",{type:"url",className:"form-control",name:"live_session_url",value:d.live_session_url,onChange:F,placeholder:"Enter live session URL"})]}),x.jsx("div",{className:"mb-3",children:x.jsxs("div",{className:"form-check form-switch",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",name:"has_QR_code",checked:d.has_QR_code,onChange:F,id:"has_QR_code"}),x.jsx("label",{className:"form-check-label",htmlFor:"has_QR_code",children:"Generate QR Code"})]})}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("label",{className:"form-label d-flex justify-content-between align-items-center",children:["Folders",x.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:ue,children:[x.jsx(vS,{})," Add Folder"]})]}),d.folders.map((se,Ee)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:se,onChange:Ne=>Z(Ee,Ne.target.value),placeholder:"Enter folder name (alphanumeric)",pattern:"[a-zA-Z0-9]+"}),x.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>we(Ee),children:x.jsx(yS,{})})]},Ee)),d.folders.length>0&&x.jsx("small",{className:"text-muted",children:"Only alphanumeric characters are allowed (a-z, A-Z, 0-9)"})]}),x.jsxs("div",{className:"card mb-4",children:[x.jsx("div",{className:"card-header",children:x.jsx("h6",{className:"mb-0",children:"Media Kit"})}),x.jsx("div",{className:"card-body",children:x.jsxs("div",{className:"row g-3",children:[x.jsxs("div",{className:"col-md-6",children:[x.jsx("label",{className:"form-label",children:"Cover Image"}),x.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.coverImage&&x.jsx("img",{src:d.coverImage,alt:"Cover",className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),x.jsxs("div",{className:"flex-grow-1",children:[x.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:se=>me(se.target.files[0],"coverImage"),disabled:k.coverImage}),k.coverImage&&x.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),x.jsxs("div",{className:"col-md-6",children:[x.jsx("label",{className:"form-label",children:"Avatar"}),x.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.avatar&&x.jsx("img",{src:d.avatar,alt:"Avatar",className:"img-thumbnail rounded-circle",style:{width:"60px",height:"60px",objectFit:"cover"}}),x.jsxs("div",{className:"flex-grow-1",children:[x.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:se=>me(se.target.files[0],"avatar"),disabled:k.avatar}),k.avatar&&x.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),x.jsxs("div",{className:"col-md-6",children:[x.jsx("label",{className:"form-label",children:"Logo"}),x.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.logo&&x.jsx("img",{src:d.logo,alt:"Logo",className:"img-thumbnail",style:{width:"60px",height:"60px",objectFit:"contain"}}),x.jsxs("div",{className:"flex-grow-1",children:[x.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:se=>me(se.target.files[0],"logo"),disabled:k.logo}),k.logo&&x.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]}),x.jsxs("div",{className:"col-md-6",children:[x.jsx("label",{className:"form-label",children:"Intro Video"}),x.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[d.introVideo&&x.jsx("video",{src:d.introVideo,className:"img-thumbnail",style:{width:"100px",height:"60px",objectFit:"cover"}}),x.jsxs("div",{className:"flex-grow-1",children:[x.jsx("input",{type:"file",className:"form-control",accept:"video/mp4,video/webm,video/ogg",onChange:se=>me(se.target.files[0],"introVideo"),disabled:k.introVideo}),k.introVideo&&x.jsx("div",{className:"spinner-border spinner-border-sm text-primary mt-2",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Uploading..."})})]})]})]})]})})]}),x.jsxs("div",{className:"modal-footer",children:[x.jsx("button",{type:"button",className:"btn btn-secondary",onClick:X,children:"Close"}),x.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Object.values(k).some(se=>se),children:D?"Update Event":"Create Event"})]})]})})]})})}),x.jsx("div",{className:"modal-backdrop fade show"})]})]})}function Rz(){return x.jsxs("div",{className:"container-fluid",children:[x.jsx("h2",{className:"mb-4",children:"Analytics Overview"}),x.jsxs("div",{className:"row",children:[x.jsx("div",{className:"col-md-6",children:x.jsxs("div",{className:"chart-container",children:[x.jsx("h4",{children:"Event Attendance"}),x.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})}),x.jsx("div",{className:"col-md-6",children:x.jsxs("div",{className:"chart-container",children:[x.jsx("h4",{children:"Revenue Analysis"}),x.jsx("div",{className:"placeholder-chart",children:"Chart will be added here"})]})})]})]})}function Mz(){const[r,e]=T.useState([]),[t,n]=T.useState(!0),i=rc();return T.useEffect(()=>{(async()=>{try{n(!0);const l=Ul(Os,"events"),c=Uu(l,ju("event_host","==",Qr.currentUser.uid)),f=(await vd(c)).docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.folders&&p.folders.length>0);e(f)}catch(l){console.error("Error fetching events:",l)}finally{n(!1)}})()},[]),t?x.jsx("div",{className:"container-fluid",children:x.jsx("div",{className:"text-center py-5",children:x.jsx("div",{className:"spinner-border text-primary",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):x.jsxs("div",{className:"container-fluid",children:[x.jsx("h2",{className:"mb-4",children:"Folders"}),r.length===0?x.jsx("div",{className:"alert alert-info",children:"No folders found. Create folders in your events to see them here."}):x.jsx("div",{className:"row",children:r.map(a=>x.jsx("div",{className:"col-12 mb-4",children:x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"card-header",children:[x.jsx("h5",{className:"mb-0",children:a.event_name}),x.jsx("small",{className:"text-muted",children:jf(a.date.toDate(),"dd MMM yyyy")})]}),x.jsx("div",{className:"card-body",children:x.jsx("div",{className:"row g-4",children:a.folders.map((l,c)=>x.jsx("div",{className:"col-md-3 col-sm-6",children:x.jsxs("div",{className:"folder-card text-center",onClick:()=>i(`/folders/${a.id}/${encodeURIComponent(l)}`),children:[x.jsx(HV,{className:"folder-icon"}),x.jsxs("div",{className:"folder-name mt-2",children:[x.jsx("strong",{children:a.event_name})," / ",l]})]})},c))})})]})},a.id))})]})}function kz(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function XM(r,e){return new Promise(function(t,n){let i;return Lz(r).then(function(a){try{return i=a,t(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(l){return n(l)}},n)})}const Lz=r=>new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const a=new DataView(i);let l=0;if(a.getUint16(l)!==65496)return t("not a valid JPEG");for(l+=2;;){const c=a.getUint16(l);if(c===65498)break;const d=a.getUint16(l+2);if(c===65505&&a.getUint32(l+4)===1165519206){const f=l+10;let p;switch(a.getUint16(f)){case 18761:p=!0;break;case 19789:p=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(f+2,p)!==42)return t("TIFF header contains invalid version");const m=a.getUint32(f+4,p),v=f+m+2+12*a.getUint16(f+m,p);for(let b=f+m+2;b<v;b+=12)if(a.getUint16(b,p)==274){if(a.getUint16(b+2,p)!==3)return t("Orientation data type is invalid");if(a.getUint32(b+4,p)!==1)return t("Orientation data count is invalid");a.setUint16(b+8,1,p);break}return e(i.slice(l,l+2+d))}l+=2+d}return e(new Blob)}),n.readAsArrayBuffer(r)});var zg={},Oz={get exports(){return zg},set exports(r){zg=r}};(function(r){var e,t,n={};Oz.exports=n,n.parse=function(i,a){for(var l=n.bin.readUshort,c=n.bin.readUint,d=0,f={},p=new Uint8Array(i),m=p.length-4;c(p,m)!=101010256;)m--;d=m,d+=4;var v=l(p,d+=4);l(p,d+=2);var b=c(p,d+=2),E=c(p,d+=4);d+=4,d=E;for(var M=0;M<v;M++){c(p,d),d+=4,d+=4,d+=4,c(p,d+=4),b=c(p,d+=4);var D=c(p,d+=4),L=l(p,d+=4),$=l(p,d+2),Y=l(p,d+4);d+=6;var z=c(p,d+=8);d+=4,d+=L+$+Y,n._readLocal(p,z,f,b,D,a)}return f},n._readLocal=function(i,a,l,c,d,f){var p=n.bin.readUshort,m=n.bin.readUint;m(i,a),p(i,a+=4),p(i,a+=2);var v=p(i,a+=2);m(i,a+=2),m(i,a+=4),a+=4;var b=p(i,a+=8),E=p(i,a+=2);a+=2;var M=n.bin.readUTF8(i,a,b);if(a+=b,a+=E,f)l[M]={size:d,csize:c};else{var D=new Uint8Array(i.buffer,a);if(v==0)l[M]=new Uint8Array(D.buffer.slice(a,a+c));else{if(v!=8)throw"unknown compression method: "+v;var L=new Uint8Array(d);n.inflateRaw(D,L),l[M]=L}}},n.inflateRaw=function(i,a){return n.F.inflate(i,a)},n.inflate=function(i,a){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},n.deflate=function(i,a){a==null&&(a={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*i.length));c[l]=120,c[l+1]=156,l+=2,l=n.F.deflateRaw(i,c,l,a.level);var d=n.adler(i,0,i.length);return c[l+0]=d>>>24&255,c[l+1]=d>>>16&255,c[l+2]=d>>>8&255,c[l+3]=d>>>0&255,new Uint8Array(c.buffer,0,l+4)},n.deflateRaw=function(i,a){a==null&&(a={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),c=n.F.deflateRaw(i,l,c,a.level);return new Uint8Array(l.buffer,0,c)},n.encode=function(i,a){a==null&&(a=!1);var l=0,c=n.bin.writeUint,d=n.bin.writeUshort,f={};for(var p in i){var m=!n._noNeed(p)&&!a,v=i[p],b=n.crc.crc(v,0,v.length);f[p]={cpr:m,usize:v.length,crc:b,file:m?n.deflateRaw(v):v}}for(var p in f)l+=f[p].file.length+30+46+2*n.bin.sizeUTF8(p);l+=22;var E=new Uint8Array(l),M=0,D=[];for(var p in f){var L=f[p];D.push(M),M=n._writeHeader(E,M,p,L,0)}var $=0,Y=M;for(var p in f)L=f[p],D.push(M),M=n._writeHeader(E,M,p,L,1,D[$++]);var z=M-Y;return c(E,M,101010256),M+=4,d(E,M+=4,$),d(E,M+=2,$),c(E,M+=2,z),c(E,M+=4,Y),M+=4,M+=2,E.buffer},n._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},n._writeHeader=function(i,a,l,c,d,f){var p=n.bin.writeUint,m=n.bin.writeUshort,v=c.file;return p(i,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),m(i,a,20),m(i,a+=2,0),m(i,a+=2,c.cpr?8:0),p(i,a+=2,0),p(i,a+=4,c.crc),p(i,a+=4,v.length),p(i,a+=4,c.usize),m(i,a+=4,n.bin.sizeUTF8(l)),m(i,a+=2,0),a+=2,d==1&&(a+=2,a+=2,p(i,a+=6,f),a+=4),a+=n.bin.writeUTF8(i,a,l),d==0&&(i.set(v,a),a+=v.length),a},n.crc={table:function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var l=a,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;i[a]=l}return i}(),update:function(i,a,l,c){for(var d=0;d<c;d++)i=n.crc.table[255&(i^a[l+d])]^i>>>8;return i},crc:function(i,a,l){return 4294967295^n.crc.update(4294967295,i,a,l)}},n.adler=function(i,a,l){for(var c=1,d=0,f=a,p=a+l;f<p;){for(var m=Math.min(f+5552,p);f<m;)d+=c+=i[f++];c%=65521,d%=65521}return d<<16|c},n.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,l){i[a]=255&l,i[a+1]=l>>8&255,i[a+2]=l>>16&255,i[a+3]=l>>24&255},readASCII:function(i,a,l){for(var c="",d=0;d<l;d++)c+=String.fromCharCode(i[a+d]);return c},writeASCII:function(i,a,l){for(var c=0;c<l.length;c++)i[a+c]=l.charCodeAt(c)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,l){for(var c,d="",f=0;f<l;f++)d+="%"+n.bin.pad(i[a+f].toString(16));try{c=decodeURIComponent(d)}catch{return n.bin.readASCII(i,a,l)}return c},writeUTF8:function(i,a,l){for(var c=l.length,d=0,f=0;f<c;f++){var p=l.charCodeAt(f);if((4294967168&p)==0)i[a+d]=p,d++;else if((4294965248&p)==0)i[a+d]=192|p>>6,i[a+d+1]=128|p>>0&63,d+=2;else if((4294901760&p)==0)i[a+d]=224|p>>12,i[a+d+1]=128|p>>6&63,i[a+d+2]=128|p>>0&63,d+=3;else{if((4292870144&p)!=0)throw"e";i[a+d]=240|p>>18,i[a+d+1]=128|p>>12&63,i[a+d+2]=128|p>>6&63,i[a+d+3]=128|p>>0&63,d+=4}}return d},sizeUTF8:function(i){for(var a=i.length,l=0,c=0;c<a;c++){var d=i.charCodeAt(c);if((4294967168&d)==0)l++;else if((4294965248&d)==0)l+=2;else if((4294901760&d)==0)l+=3;else{if((4292870144&d)!=0)throw"e";l+=4}}return l}},n.F={},n.F.deflateRaw=function(i,a,l,c){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],f=n.F.U,p=n.F._goodIndex;n.F._hash;var m=n.F._putsE,v=0,b=l<<3,E=0,M=i.length;if(c==0){for(;v<M;)m(a,b,v+(P=Math.min(65535,M-v))==M?1:0),b=n.F._copyExact(i,v,P,a,b+8),v+=P;return b>>>3}var D=f.lits,L=f.strt,$=f.prev,Y=0,z=0,W=0,H=0,I=0,C=0;for(M>2&&(L[C=n.F._hash(i,0)]=0),v=0;v<M;v++){if(I=C,v+1<M-2){C=n.F._hash(i,v+1);var S=v+1&32767;$[S]=L[C],L[C]=S}if(E<=v){(Y>14e3||z>26697)&&M-v>100&&(E<v&&(D[Y]=v-E,Y+=2,E=v),b=n.F._writeBlock(v==M-1||E==M?1:0,D,Y,H,i,W,v-W,a,b),Y=z=H=0,W=v);var k=0;v<M-2&&(k=n.F._bestMatch(i,v,$,I,Math.min(d[2],M-v),d[3]));var P=k>>>16,F=65535&k;if(k!=0){F=65535&k;var j=p(P=k>>>16,f.of0);f.lhst[257+j]++;var X=p(F,f.df0);f.dhst[X]++,H+=f.exb[j]+f.dxb[X],D[Y]=P<<23|v-E,D[Y+1]=F<<16|j<<8|X,Y+=2,E=v+P}else f.lhst[i[v]]++;z++}}for(W==v&&i.length!=0||(E<v&&(D[Y]=v-E,Y+=2,E=v),b=n.F._writeBlock(1,D,Y,H,i,W,v-W,a,b),Y=0,z=0,Y=z=H=0,W=v);(7&b)!=0;)b++;return b>>>3},n.F._bestMatch=function(i,a,l,c,d,f){var p=32767&a,m=l[p],v=p-m+32768&32767;if(m==p||c!=n.F._hash(i,a-v))return 0;for(var b=0,E=0,M=Math.min(32767,a);v<=M&&--f!=0&&m!=p;){if(b==0||i[a+b]==i[a+b-v]){var D=n.F._howLong(i,a,v);if(D>b){if(E=v,(b=D)>=d)break;v+2<D&&(D=v+2);for(var L=0,$=0;$<D-2;$++){var Y=a-v+$+32768&32767,z=Y-l[Y]+32768&32767;z>L&&(L=z,m=Y)}}}v+=(p=m)-(m=l[p])+32768&32767}return b<<16|E},n.F._howLong=function(i,a,l){if(i[a]!=i[a-l]||i[a+1]!=i[a+1-l]||i[a+2]!=i[a+2-l])return 0;var c=a,d=Math.min(i.length,a+258);for(a+=3;a<d&&i[a]==i[a-l];)a++;return a-c},n.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,a,l,c,d,f,p,m,v){var b,E,M,D,L,$,Y,z,W,H=n.F.U,I=n.F._putsF,C=n.F._putsE;H.lhst[256]++,E=(b=n.F.getTrees())[0],M=b[1],D=b[2],L=b[3],$=b[4],Y=b[5],z=b[6],W=b[7];var S=32+((v+3&7)==0?0:8-(v+3&7))+(p<<3),k=c+n.F.contSize(H.fltree,H.lhst)+n.F.contSize(H.fdtree,H.dhst),P=c+n.F.contSize(H.ltree,H.lhst)+n.F.contSize(H.dtree,H.dhst);P+=14+3*Y+n.F.contSize(H.itree,H.ihst)+(2*H.ihst[16]+3*H.ihst[17]+7*H.ihst[18]);for(var F=0;F<286;F++)H.lhst[F]=0;for(F=0;F<30;F++)H.dhst[F]=0;for(F=0;F<19;F++)H.ihst[F]=0;var j=S<k&&S<P?0:k<P?1:2;if(I(m,v,i),I(m,v+1,j),v+=3,j==0){for(;(7&v)!=0;)v++;v=n.F._copyExact(d,f,p,m,v)}else{var X,J;if(j==1&&(X=H.fltree,J=H.fdtree),j==2){n.F.makeCodes(H.ltree,E),n.F.revCodes(H.ltree,E),n.F.makeCodes(H.dtree,M),n.F.revCodes(H.dtree,M),n.F.makeCodes(H.itree,D),n.F.revCodes(H.itree,D),X=H.ltree,J=H.dtree,C(m,v,L-257),C(m,v+=5,$-1),C(m,v+=5,Y-4),v+=4;for(var U=0;U<Y;U++)C(m,v+3*U,H.itree[1+(H.ordr[U]<<1)]);v+=3*Y,v=n.F._codeTiny(z,H.itree,m,v),v=n.F._codeTiny(W,H.itree,m,v)}for(var B=f,ee=0;ee<l;ee+=2){for(var ne=a[ee],O=ne>>>23,re=B+(8388607&ne);B<re;)v=n.F._writeLit(d[B++],X,m,v);if(O!=0){var oe=a[ee+1],ie=oe>>16,ue=oe>>8&255,Z=255&oe;C(m,v=n.F._writeLit(257+ue,X,m,v),O-H.of0[ue]),v+=H.exb[ue],I(m,v=n.F._writeLit(Z,J,m,v),ie-H.df0[Z]),v+=H.dxb[Z],B+=O}}v=n.F._writeLit(256,X,m,v)}return v},n.F._copyExact=function(i,a,l,c,d){var f=d>>>3;return c[f]=l,c[f+1]=l>>>8,c[f+2]=255-c[f],c[f+3]=255-c[f+1],f+=4,c.set(new Uint8Array(i.buffer,a,l),f),d+(l+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,a=n.F._hufTree(i.lhst,i.ltree,15),l=n.F._hufTree(i.dhst,i.dtree,15),c=[],d=n.F._lenCodes(i.ltree,c),f=[],p=n.F._lenCodes(i.dtree,f),m=0;m<c.length;m+=2)i.ihst[c[m]]++;for(m=0;m<f.length;m+=2)i.ihst[f[m]]++;for(var v=n.F._hufTree(i.ihst,i.itree,7),b=19;b>4&&i.itree[1+(i.ordr[b-1]<<1)]==0;)b--;return[a,l,v,d,p,b,c,f]},n.F.getSecond=function(i){for(var a=[],l=0;l<i.length;l+=2)a.push(i[l+1]);return a},n.F.nonZero=function(i){for(var a="",l=0;l<i.length;l+=2)i[l+1]!=0&&(a+=(l>>1)+",");return a},n.F.contSize=function(i,a){for(var l=0,c=0;c<a.length;c++)l+=a[c]*i[1+(c<<1)];return l},n.F._codeTiny=function(i,a,l,c){for(var d=0;d<i.length;d+=2){var f=i[d],p=i[d+1];c=n.F._writeLit(f,a,l,c);var m=f==16?2:f==17?3:7;f>15&&(n.F._putsE(l,c,p,m),c+=m)}return c},n.F._lenCodes=function(i,a){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var d=i[c+1],f=c+3<l?i[c+3]:-1,p=c+5<l?i[c+5]:-1,m=c==0?-1:i[c-1];if(d==0&&f==d&&p==d){for(var v=c+5;v+2<l&&i[v+2]==d;)v+=2;(b=Math.min(v+1-c>>>1,138))<11?a.push(17,b-3):a.push(18,b-11),c+=2*b-2}else if(d==m&&f==d&&p==d){for(v=c+5;v+2<l&&i[v+2]==d;)v+=2;var b=Math.min(v+1-c>>>1,6);a.push(16,b-3),c+=2*b-2}else a.push(d,0)}return l>>>1},n.F._hufTree=function(i,a,l){var c=[],d=i.length,f=a.length,p=0;for(p=0;p<f;p+=2)a[p]=0,a[p+1]=0;for(p=0;p<d;p++)i[p]!=0&&c.push({lit:p,f:i[p]});var m=c.length,v=c.slice(0);if(m==0)return 0;if(m==1){var b=c[0].lit;return v=b==0?1:0,a[1+(b<<1)]=1,a[1+(v<<1)]=1,1}c.sort(function(z,W){return z.f-W.f});var E=c[0],M=c[1],D=0,L=1,$=2;for(c[0]={lit:-1,f:E.f+M.f,l:E,r:M,d:0};L!=m-1;)E=D!=L&&($==m||c[D].f<c[$].f)?c[D++]:c[$++],M=D!=L&&($==m||c[D].f<c[$].f)?c[D++]:c[$++],c[L++]={lit:-1,f:E.f+M.f,l:E,r:M};var Y=n.F.setDepth(c[L-1],0);for(Y>l&&(n.F.restrictDepth(v,l,Y),Y=l),p=0;p<m;p++)a[1+(v[p].lit<<1)]=v[p].d;return Y},n.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(n.F.setDepth(i.l,a+1),n.F.setDepth(i.r,a+1))},n.F.restrictDepth=function(i,a,l){var c=0,d=1<<l-a,f=0;for(i.sort(function(m,v){return v.d==m.d?m.f-v.f:v.d-m.d}),c=0;c<i.length&&i[c].d>a;c++){var p=i[c].d;i[c].d=a,f+=d-(1<<l-p)}for(f>>>=l-a;f>0;)(p=i[c].d)<a?(i[c].d++,f-=1<<a-p-1):c++;for(;c>=0;c--)i[c].d==a&&f<0&&(i[c].d--,f++);f!=0&&console.log("debt left")},n.F._goodIndex=function(i,a){var l=0;return a[16|l]<=i&&(l|=16),a[8|l]<=i&&(l|=8),a[4|l]<=i&&(l|=4),a[2|l]<=i&&(l|=2),a[1|l]<=i&&(l|=1),l},n.F._writeLit=function(i,a,l,c){return n.F._putsF(l,c,a[i<<1]),c+a[1+(i<<1)]},n.F.inflate=function(i,a){var l=Uint8Array;if(i[0]==3&&i[1]==0)return a||new l(0);var c=n.F,d=c._bitsF,f=c._bitsE,p=c._decodeTiny,m=c.makeCodes,v=c.codes2map,b=c._get17,E=c.U,M=a==null;M&&(a=new l(i.length>>>2<<3));for(var D,L,$=0,Y=0,z=0,W=0,H=0,I=0,C=0,S=0,k=0;$==0;)if($=d(i,k,1),Y=d(i,k+1,2),k+=3,Y!=0){if(M&&(a=n.F._check(a,S+(1<<17))),Y==1&&(D=E.flmap,L=E.fdmap,I=511,C=31),Y==2){z=f(i,k,5)+257,W=f(i,k+5,5)+1,H=f(i,k+10,4)+4,k+=14;for(var P=0;P<38;P+=2)E.itree[P]=0,E.itree[P+1]=0;var F=1;for(P=0;P<H;P++){var j=f(i,k+3*P,3);E.itree[1+(E.ordr[P]<<1)]=j,j>F&&(F=j)}k+=3*H,m(E.itree,F),v(E.itree,F,E.imap),D=E.lmap,L=E.dmap,k=p(E.imap,(1<<F)-1,z+W,i,k,E.ttree);var X=c._copyOut(E.ttree,0,z,E.ltree);I=(1<<X)-1;var J=c._copyOut(E.ttree,z,W,E.dtree);C=(1<<J)-1,m(E.ltree,X),v(E.ltree,X,D),m(E.dtree,J),v(E.dtree,J,L)}for(;;){var U=D[b(i,k)&I];k+=15&U;var B=U>>>4;if(!(B>>>8))a[S++]=B;else{if(B==256)break;var ee=S+B-254;if(B>264){var ne=E.ldef[B-257];ee=S+(ne>>>3)+f(i,k,7&ne),k+=7&ne}var O=L[b(i,k)&C];k+=15&O;var re=O>>>4,oe=E.ddef[re],ie=(oe>>>4)+d(i,k,15&oe);for(k+=15&oe,M&&(a=n.F._check(a,S+(1<<17)));S<ee;)a[S]=a[S++-ie],a[S]=a[S++-ie],a[S]=a[S++-ie],a[S]=a[S++-ie];S=ee}}}else{(7&k)!=0&&(k+=8-(7&k));var ue=4+(k>>>3),Z=i[ue-4]|i[ue-3]<<8;M&&(a=n.F._check(a,S+Z)),a.set(new l(i.buffer,i.byteOffset+ue,Z),S),k=ue+Z<<3,S+=Z}return a.length==S?a:a.slice(0,S)},n.F._check=function(i,a){var l=i.length;if(a<=l)return i;var c=new Uint8Array(Math.max(l<<1,a));return c.set(i,0),c},n.F._decodeTiny=function(i,a,l,c,d,f){for(var p=n.F._bitsE,m=n.F._get17,v=0;v<l;){var b=i[m(c,d)&a];d+=15&b;var E=b>>>4;if(E<=15)f[v]=E,v++;else{var M=0,D=0;E==16?(D=3+p(c,d,2),d+=2,M=f[v-1]):E==17?(D=3+p(c,d,3),d+=3):E==18&&(D=11+p(c,d,7),d+=7);for(var L=v+D;v<L;)f[v]=M,v++}}return d},n.F._copyOut=function(i,a,l,c){for(var d=0,f=0,p=c.length>>>1;f<l;){var m=i[f+a];c[f<<1]=0,c[1+(f<<1)]=m,m>d&&(d=m),f++}for(;f<p;)c[f<<1]=0,c[1+(f<<1)]=0,f++;return d},n.F.makeCodes=function(i,a){for(var l,c,d,f,p=n.F.U,m=i.length,v=p.bl_count,b=0;b<=a;b++)v[b]=0;for(b=1;b<m;b+=2)v[i[b]]++;var E=p.next_code;for(l=0,v[0]=0,c=1;c<=a;c++)l=l+v[c-1]<<1,E[c]=l;for(d=0;d<m;d+=2)(f=i[d+1])!=0&&(i[d]=E[f],E[f]++)},n.F.codes2map=function(i,a,l){for(var c=i.length,d=n.F.U.rev15,f=0;f<c;f+=2)if(i[f+1]!=0)for(var p=f>>1,m=i[f+1],v=p<<4|m,b=a-m,E=i[f]<<b,M=E+(1<<b);E!=M;)l[d[E]>>>15-a]=v,E++},n.F.revCodes=function(i,a){for(var l=n.F.U.rev15,c=15-a,d=0;d<i.length;d+=2){var f=i[d]<<a-i[d+1];i[d]=l[f]>>>c}},n.F._putsE=function(i,a,l){l<<=7&a;var c=a>>>3;i[c]|=l,i[c+1]|=l>>>8},n.F._putsF=function(i,a,l){l<<=7&a;var c=a>>>3;i[c]|=l,i[c+1]|=l>>>8,i[c+2]|=l>>>16},n.F._bitsE=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},n.F._bitsF=function(i,a,l){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},n.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},n.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},n.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,a=0;a<32768;a++){var l=a;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[a]=(l>>>16|l<<16)>>>17}function c(d,f,p){for(;f--!=0;)d.push(0,p)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];c(i.fltree,144,8),c(i.fltree,112,9),c(i.fltree,24,7),c(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),c(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),c(i.itree,19,0),c(i.ltree,286,0),c(i.dtree,30,0),c(i.ttree,320,0)}()})();var Iz=kz({__proto__:null,default:zg},[zg]);const na=function(){var r={nextZero(p,m){for(;p[m]!=0;)m++;return m},readUshort:(p,m)=>p[m]<<8|p[m+1],writeUshort(p,m,v){p[m]=v>>8&255,p[m+1]=255&v},readUint:(p,m)=>16777216*p[m]+(p[m+1]<<16|p[m+2]<<8|p[m+3]),writeUint(p,m,v){p[m]=v>>24&255,p[m+1]=v>>16&255,p[m+2]=v>>8&255,p[m+3]=255&v},readASCII(p,m,v){let b="";for(let E=0;E<v;E++)b+=String.fromCharCode(p[m+E]);return b},writeASCII(p,m,v){for(let b=0;b<v.length;b++)p[m+b]=v.charCodeAt(b)},readBytes(p,m,v){const b=[];for(let E=0;E<v;E++)b.push(p[m+E]);return b},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,m,v){let b,E="";for(let M=0;M<v;M++)E+=`%${r.pad(p[m+M].toString(16))}`;try{b=decodeURIComponent(E)}catch{return r.readASCII(p,m,v)}return b}};function e(p,m,v,b){const E=m*v,M=a(b),D=Math.ceil(m*M/8),L=new Uint8Array(4*E),$=new Uint32Array(L.buffer),{ctype:Y}=b,{depth:z}=b,W=r.readUshort;if(Y==6){const ne=E<<2;if(z==8)for(var H=0;H<ne;H+=4)L[H]=p[H],L[H+1]=p[H+1],L[H+2]=p[H+2],L[H+3]=p[H+3];if(z==16)for(H=0;H<ne;H++)L[H]=p[H<<1]}else if(Y==2){const ne=b.tabs.tRNS;if(ne==null){if(z==8)for(H=0;H<E;H++){var I=3*H;$[H]=255<<24|p[I+2]<<16|p[I+1]<<8|p[I]}if(z==16)for(H=0;H<E;H++)I=6*H,$[H]=255<<24|p[I+4]<<16|p[I+2]<<8|p[I]}else{var C=ne[0];const O=ne[1],re=ne[2];if(z==8)for(H=0;H<E;H++){var S=H<<2;I=3*H,$[H]=255<<24|p[I+2]<<16|p[I+1]<<8|p[I],p[I]==C&&p[I+1]==O&&p[I+2]==re&&(L[S+3]=0)}if(z==16)for(H=0;H<E;H++)S=H<<2,I=6*H,$[H]=255<<24|p[I+4]<<16|p[I+2]<<8|p[I],W(p,I)==C&&W(p,I+2)==O&&W(p,I+4)==re&&(L[S+3]=0)}}else if(Y==3){const ne=b.tabs.PLTE,O=b.tabs.tRNS,re=O?O.length:0;if(z==1)for(var k=0;k<v;k++){var P=k*D,F=k*m;for(H=0;H<m;H++){S=F+H<<2;var j=3*(X=p[P+(H>>3)]>>7-((7&H)<<0)&1);L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255}}if(z==2)for(k=0;k<v;k++)for(P=k*D,F=k*m,H=0;H<m;H++)S=F+H<<2,j=3*(X=p[P+(H>>2)]>>6-((3&H)<<1)&3),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255;if(z==4)for(k=0;k<v;k++)for(P=k*D,F=k*m,H=0;H<m;H++)S=F+H<<2,j=3*(X=p[P+(H>>1)]>>4-((1&H)<<2)&15),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255;if(z==8)for(H=0;H<E;H++){var X;S=H<<2,j=3*(X=p[H]),L[S]=ne[j],L[S+1]=ne[j+1],L[S+2]=ne[j+2],L[S+3]=X<re?O[X]:255}}else if(Y==4){if(z==8)for(H=0;H<E;H++){S=H<<2;var J=p[U=H<<1];L[S]=J,L[S+1]=J,L[S+2]=J,L[S+3]=p[U+1]}if(z==16)for(H=0;H<E;H++){var U;S=H<<2,J=p[U=H<<2],L[S]=J,L[S+1]=J,L[S+2]=J,L[S+3]=p[U+2]}}else if(Y==0)for(C=b.tabs.tRNS?b.tabs.tRNS:-1,k=0;k<v;k++){const ne=k*D,O=k*m;if(z==1)for(var B=0;B<m;B++){var ee=(J=255*(p[ne+(B>>>3)]>>>7-(7&B)&1))==255*C?0:255;$[O+B]=ee<<24|J<<16|J<<8|J}else if(z==2)for(B=0;B<m;B++)ee=(J=85*(p[ne+(B>>>2)]>>>6-((3&B)<<1)&3))==85*C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(z==4)for(B=0;B<m;B++)ee=(J=17*(p[ne+(B>>>1)]>>>4-((1&B)<<2)&15))==17*C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(z==8)for(B=0;B<m;B++)ee=(J=p[ne+B])==C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J;else if(z==16)for(B=0;B<m;B++)J=p[ne+(B<<1)],ee=W(p,ne+(B<<1))==C?0:255,$[O+B]=ee<<24|J<<16|J<<8|J}return L}function t(p,m,v,b){const E=a(p),M=Math.ceil(v*E/8),D=new Uint8Array((M+1+p.interlace)*b);return m=p.tabs.CgBI?i(m,D):n(m,D),p.interlace==0?m=l(m,p,0,v,b):p.interlace==1&&(m=function($,Y){const z=Y.width,W=Y.height,H=a(Y),I=H>>3,C=Math.ceil(z*H/8),S=new Uint8Array(W*C);let k=0;const P=[0,0,4,0,2,0,1],F=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],X=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const B=j[J],ee=X[J];let ne=0,O=0,re=P[J];for(;re<W;)re+=B,O++;let oe=F[J];for(;oe<z;)oe+=ee,ne++;const ie=Math.ceil(ne*H/8);l($,Y,k,ne,O);let ue=0,Z=P[J];for(;Z<W;){let we=F[J],Pe=k+ue*ie<<3;for(;we<z;){var U;if(H==1&&(U=(U=$[Pe>>3])>>7-(7&Pe)&1,S[Z*C+(we>>3)]|=U<<7-((7&we)<<0)),H==2&&(U=(U=$[Pe>>3])>>6-(7&Pe)&3,S[Z*C+(we>>2)]|=U<<6-((3&we)<<1)),H==4&&(U=(U=$[Pe>>3])>>4-(7&Pe)&15,S[Z*C+(we>>1)]|=U<<4-((1&we)<<2)),H>=8){const me=Z*C+we*I;for(let Be=0;Be<I;Be++)S[me+Be]=$[(Pe>>3)+Be]}Pe+=H,we+=ee}ue++,Z+=B}ne*O!=0&&(k+=O*(1+ie)),J+=1}return S}(m,p)),m}function n(p,m){return i(new Uint8Array(p.buffer,2,p.length-6),m)}var i=function(){const p={H:{}};return p.H.N=function(m,v){const b=Uint8Array;let E,M,D=0,L=0,$=0,Y=0,z=0,W=0,H=0,I=0,C=0;if(m[0]==3&&m[1]==0)return v||new b(0);const S=p.H,k=S.b,P=S.e,F=S.R,j=S.n,X=S.A,J=S.Z,U=S.m,B=v==null;for(B&&(v=new b(m.length>>>2<<5));D==0;)if(D=k(m,C,1),L=k(m,C+1,2),C+=3,L!=0){if(B&&(v=p.H.W(v,I+(1<<17))),L==1&&(E=U.J,M=U.h,W=511,H=31),L==2){$=P(m,C,5)+257,Y=P(m,C+5,5)+1,z=P(m,C+10,4)+4,C+=14;let ne=1;for(var ee=0;ee<38;ee+=2)U.Q[ee]=0,U.Q[ee+1]=0;for(ee=0;ee<z;ee++){const oe=P(m,C+3*ee,3);U.Q[1+(U.X[ee]<<1)]=oe,oe>ne&&(ne=oe)}C+=3*z,j(U.Q,ne),X(U.Q,ne,U.u),E=U.w,M=U.d,C=F(U.u,(1<<ne)-1,$+Y,m,C,U.v);const O=S.V(U.v,0,$,U.C);W=(1<<O)-1;const re=S.V(U.v,$,Y,U.D);H=(1<<re)-1,j(U.C,O),X(U.C,O,E),j(U.D,re),X(U.D,re,M)}for(;;){const ne=E[J(m,C)&W];C+=15&ne;const O=ne>>>4;if(!(O>>>8))v[I++]=O;else{if(O==256)break;{let re=I+O-254;if(O>264){const we=U.q[O-257];re=I+(we>>>3)+P(m,C,7&we),C+=7&we}const oe=M[J(m,C)&H];C+=15&oe;const ie=oe>>>4,ue=U.c[ie],Z=(ue>>>4)+k(m,C,15&ue);for(C+=15&ue;I<re;)v[I]=v[I++-Z],v[I]=v[I++-Z],v[I]=v[I++-Z],v[I]=v[I++-Z];I=re}}}}else{(7&C)!=0&&(C+=8-(7&C));const ne=4+(C>>>3),O=m[ne-4]|m[ne-3]<<8;B&&(v=p.H.W(v,I+O)),v.set(new b(m.buffer,m.byteOffset+ne,O),I),C=ne+O<<3,I+=O}return v.length==I?v:v.slice(0,I)},p.H.W=function(m,v){const b=m.length;if(v<=b)return m;const E=new Uint8Array(b<<1);return E.set(m,0),E},p.H.R=function(m,v,b,E,M,D){const L=p.H.e,$=p.H.Z;let Y=0;for(;Y<b;){const z=m[$(E,M)&v];M+=15&z;const W=z>>>4;if(W<=15)D[Y]=W,Y++;else{let H=0,I=0;W==16?(I=3+L(E,M,2),M+=2,H=D[Y-1]):W==17?(I=3+L(E,M,3),M+=3):W==18&&(I=11+L(E,M,7),M+=7);const C=Y+I;for(;Y<C;)D[Y]=H,Y++}}return M},p.H.V=function(m,v,b,E){let M=0,D=0;const L=E.length>>>1;for(;D<b;){const $=m[D+v];E[D<<1]=0,E[1+(D<<1)]=$,$>M&&(M=$),D++}for(;D<L;)E[D<<1]=0,E[1+(D<<1)]=0,D++;return M},p.H.n=function(m,v){const b=p.H.m,E=m.length;let M,D,L,$;const Y=b.j;for(var z=0;z<=v;z++)Y[z]=0;for(z=1;z<E;z+=2)Y[m[z]]++;const W=b.K;for(M=0,Y[0]=0,D=1;D<=v;D++)M=M+Y[D-1]<<1,W[D]=M;for(L=0;L<E;L+=2)$=m[L+1],$!=0&&(m[L]=W[$],W[$]++)},p.H.A=function(m,v,b){const E=m.length,M=p.H.m.r;for(let D=0;D<E;D+=2)if(m[D+1]!=0){const L=D>>1,$=m[D+1],Y=L<<4|$,z=v-$;let W=m[D]<<z;const H=W+(1<<z);for(;W!=H;)b[M[W]>>>15-v]=Y,W++}},p.H.l=function(m,v){const b=p.H.m.r,E=15-v;for(let M=0;M<m.length;M+=2){const D=m[M]<<v-m[M+1];m[M]=b[D]>>>E}},p.H.M=function(m,v,b){b<<=7&v;const E=v>>>3;m[E]|=b,m[E+1]|=b>>>8},p.H.I=function(m,v,b){b<<=7&v;const E=v>>>3;m[E]|=b,m[E+1]|=b>>>8,m[E+2]|=b>>>16},p.H.e=function(m,v,b){return(m[v>>>3]|m[1+(v>>>3)]<<8)>>>(7&v)&(1<<b)-1},p.H.b=function(m,v,b){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16)>>>(7&v)&(1<<b)-1},p.H.Z=function(m,v){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16)>>>(7&v)},p.H.i=function(m,v){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16|m[3+(v>>>3)]<<24)>>>(7&v)},p.H.m=function(){const m=Uint16Array,v=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new m(65536),g:new m(32768)}}(),function(){const m=p.H.m;for(var v=0;v<32768;v++){let E=v;E=(2863311530&E)>>>1|(1431655765&E)<<1,E=(3435973836&E)>>>2|(858993459&E)<<2,E=(4042322160&E)>>>4|(252645135&E)<<4,E=(4278255360&E)>>>8|(16711935&E)<<8,m.r[v]=(E>>>16|E<<16)>>>17}function b(E,M,D){for(;M--!=0;)E.push(0,D)}for(v=0;v<32;v++)m.q[v]=m.S[v]<<3|m.T[v],m.c[v]=m.p[v]<<4|m.z[v];b(m._,144,8),b(m._,112,9),b(m._,24,7),b(m._,8,8),p.H.n(m._,9),p.H.A(m._,9,m.J),p.H.l(m._,9),b(m.$,32,5),p.H.n(m.$,5),p.H.A(m.$,5,m.h),p.H.l(m.$,5),b(m.Q,19,0),b(m.C,286,0),b(m.D,30,0),b(m.v,320,0)}(),p.H.N}();function a(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function l(p,m,v,b,E){let M=a(m);const D=Math.ceil(b*M/8);let L,$;M=Math.ceil(M/8);let Y=p[v],z=0;if(Y>1&&(p[v]=[0,0,1][Y-2]),Y==3)for(z=M;z<D;z++)p[z+1]=p[z+1]+(p[z+1-M]>>>1)&255;for(let W=0;W<E;W++)if(L=v+W*D,$=L+W+1,Y=p[$-1],z=0,Y==0)for(;z<D;z++)p[L+z]=p[$+z];else if(Y==1){for(;z<M;z++)p[L+z]=p[$+z];for(;z<D;z++)p[L+z]=p[$+z]+p[L+z-M]}else if(Y==2)for(;z<D;z++)p[L+z]=p[$+z]+p[L+z-D];else if(Y==3){for(;z<M;z++)p[L+z]=p[$+z]+(p[L+z-D]>>>1);for(;z<D;z++)p[L+z]=p[$+z]+(p[L+z-D]+p[L+z-M]>>>1)}else{for(;z<M;z++)p[L+z]=p[$+z]+c(0,p[L+z-D],0);for(;z<D;z++)p[L+z]=p[$+z]+c(p[L+z-M],p[L+z-D],p[L+z-M-D])}return p}function c(p,m,v){const b=p+m-v,E=b-p,M=b-m,D=b-v;return E*E<=M*M&&E*E<=D*D?p:M*M<=D*D?m:v}function d(p,m,v){v.width=r.readUint(p,m),m+=4,v.height=r.readUint(p,m),m+=4,v.depth=p[m],m++,v.ctype=p[m],m++,v.compress=p[m],m++,v.filter=p[m],m++,v.interlace=p[m],m++}function f(p,m,v,b,E,M,D,L,$){const Y=Math.min(m,E),z=Math.min(v,M);let W=0,H=0;for(let J=0;J<z;J++)for(let U=0;U<Y;U++)if(D>=0&&L>=0?(W=J*m+U<<2,H=(L+J)*E+D+U<<2):(W=(-L+J)*m-D+U<<2,H=J*E+U<<2),$==0)b[H]=p[W],b[H+1]=p[W+1],b[H+2]=p[W+2],b[H+3]=p[W+3];else if($==1){var I=p[W+3]*.00392156862745098,C=p[W]*I,S=p[W+1]*I,k=p[W+2]*I,P=b[H+3]*(1/255),F=b[H]*P,j=b[H+1]*P,X=b[H+2]*P;const B=1-I,ee=I+P*B,ne=ee==0?0:1/ee;b[H+3]=255*ee,b[H+0]=(C+F*B)*ne,b[H+1]=(S+j*B)*ne,b[H+2]=(k+X*B)*ne}else if($==2)I=p[W+3],C=p[W],S=p[W+1],k=p[W+2],P=b[H+3],F=b[H],j=b[H+1],X=b[H+2],I==P&&C==F&&S==j&&k==X?(b[H]=0,b[H+1]=0,b[H+2]=0,b[H+3]=0):(b[H]=C,b[H+1]=S,b[H+2]=k,b[H+3]=I);else if($==3){if(I=p[W+3],C=p[W],S=p[W+1],k=p[W+2],P=b[H+3],F=b[H],j=b[H+1],X=b[H+2],I==P&&C==F&&S==j&&k==X)continue;if(I<220&&P>20)return!1}return!0}return{decode:function(m){const v=new Uint8Array(m);let b=8;const E=r,M=E.readUshort,D=E.readUint,L={tabs:{},frames:[]},$=new Uint8Array(v.length);let Y,z=0,W=0;const H=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(v[I]!=H[I])throw"The input is not a PNG file!";for(;b<v.length;){const J=E.readUint(v,b);b+=4;const U=E.readASCII(v,b,4);if(b+=4,U=="IHDR")d(v,b,L);else if(U=="iCCP"){for(var C=b;v[C]!=0;)C++;E.readASCII(v,b,C-b),v[C+1];const B=v.slice(C+2,b+J);let ee=null;try{ee=n(B)}catch{ee=i(B)}L.tabs[U]=ee}else if(U=="CgBI")L.tabs[U]=v.slice(b,b+4);else if(U=="IDAT"){for(I=0;I<J;I++)$[z+I]=v[b+I];z+=J}else if(U=="acTL")L.tabs[U]={num_frames:D(v,b),num_plays:D(v,b+4)},Y=new Uint8Array(v.length);else if(U=="fcTL"){W!=0&&((X=L.frames[L.frames.length-1]).data=t(L,Y.slice(0,W),X.rect.width,X.rect.height),W=0);const B={x:D(v,b+12),y:D(v,b+16),width:D(v,b+4),height:D(v,b+8)};let ee=M(v,b+22);ee=M(v,b+20)/(ee==0?100:ee);const ne={rect:B,delay:Math.round(1e3*ee),dispose:v[b+24],blend:v[b+25]};L.frames.push(ne)}else if(U=="fdAT"){for(I=0;I<J-4;I++)Y[W+I]=v[b+I+4];W+=J-4}else if(U=="pHYs")L.tabs[U]=[E.readUint(v,b),E.readUint(v,b+4),v[b+8]];else if(U=="cHRM")for(L.tabs[U]=[],I=0;I<8;I++)L.tabs[U].push(E.readUint(v,b+4*I));else if(U=="tEXt"||U=="zTXt"){L.tabs[U]==null&&(L.tabs[U]={});var S=E.nextZero(v,b),k=E.readASCII(v,b,S-b),P=b+J-S-1;if(U=="tEXt")j=E.readASCII(v,S+1,P);else{var F=n(v.slice(S+2,S+2+P));j=E.readUTF8(F,0,F.length)}L.tabs[U][k]=j}else if(U=="iTXt"){L.tabs[U]==null&&(L.tabs[U]={}),S=0,C=b,S=E.nextZero(v,C),k=E.readASCII(v,C,S-C);const B=v[C=S+1];var j;v[C+1],C+=2,S=E.nextZero(v,C),E.readASCII(v,C,S-C),C=S+1,S=E.nextZero(v,C),E.readUTF8(v,C,S-C),P=J-((C=S+1)-b),B==0?j=E.readUTF8(v,C,P):(F=n(v.slice(C,C+P)),j=E.readUTF8(F,0,F.length)),L.tabs[U][k]=j}else if(U=="PLTE")L.tabs[U]=E.readBytes(v,b,J);else if(U=="hIST"){const B=L.tabs.PLTE.length/3;for(L.tabs[U]=[],I=0;I<B;I++)L.tabs[U].push(M(v,b+2*I))}else if(U=="tRNS")L.ctype==3?L.tabs[U]=E.readBytes(v,b,J):L.ctype==0?L.tabs[U]=M(v,b):L.ctype==2&&(L.tabs[U]=[M(v,b),M(v,b+2),M(v,b+4)]);else if(U=="gAMA")L.tabs[U]=E.readUint(v,b)/1e5;else if(U=="sRGB")L.tabs[U]=v[b];else if(U=="bKGD")L.ctype==0||L.ctype==4?L.tabs[U]=[M(v,b)]:L.ctype==2||L.ctype==6?L.tabs[U]=[M(v,b),M(v,b+2),M(v,b+4)]:L.ctype==3&&(L.tabs[U]=v[b]);else if(U=="IEND")break;b+=J,E.readUint(v,b),b+=4}var X;return W!=0&&((X=L.frames[L.frames.length-1]).data=t(L,Y.slice(0,W),X.rect.width,X.rect.height)),L.data=t(L,$,L.width,L.height),delete L.compress,delete L.interlace,delete L.filter,L},toRGBA8:function(m){const v=m.width,b=m.height;if(m.tabs.acTL==null)return[e(m.data,v,b,m).buffer];const E=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const M=v*b*4,D=new Uint8Array(M),L=new Uint8Array(M),$=new Uint8Array(M);for(let z=0;z<m.frames.length;z++){const W=m.frames[z],H=W.rect.x,I=W.rect.y,C=W.rect.width,S=W.rect.height,k=e(W.data,C,S,m);if(z!=0)for(var Y=0;Y<M;Y++)$[Y]=D[Y];if(W.blend==0?f(k,C,S,D,v,b,H,I,0):W.blend==1&&f(k,C,S,D,v,b,H,I,1),E.push(D.buffer.slice(0)),W.dispose!=0){if(W.dispose==1)f(L,C,S,D,v,b,H,I,0);else if(W.dispose==2)for(Y=0;Y<M;Y++)D[Y]=$[Y]}}return E},_paeth:c,_copyTile:f,_bin:r}}();(function(){const{_copyTile:r}=na,{_bin:e}=na,t=na._paeth;var n={table:function(){const C=new Uint32Array(256);for(let S=0;S<256;S++){let k=S;for(let P=0;P<8;P++)1&k?k=3988292384^k>>>1:k>>>=1;C[S]=k}return C}(),update(C,S,k,P){for(let F=0;F<P;F++)C=n.table[255&(C^S[k+F])]^C>>>8;return C},crc:(C,S,k)=>4294967295^n.update(4294967295,C,S,k)};function i(C,S,k,P){S[k]+=C[0]*P>>4,S[k+1]+=C[1]*P>>4,S[k+2]+=C[2]*P>>4,S[k+3]+=C[3]*P>>4}function a(C){return Math.max(0,Math.min(255,C))}function l(C,S){const k=C[0]-S[0],P=C[1]-S[1],F=C[2]-S[2],j=C[3]-S[3];return k*k+P*P+F*F+j*j}function c(C,S,k,P,F,j,X){X==null&&(X=1);const J=P.length,U=[];for(var B=0;B<J;B++){const Z=P[B];U.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(B=0;B<J;B++){let Z=4294967295;for(var ee=0,ne=0;ne<J;ne++){var O=l(U[B],U[ne]);ne!=B&&O<Z&&(Z=O,ee=ne)}}const re=new Uint32Array(F.buffer),oe=new Int16Array(S*k*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<ie.length;B++)ie[B]=255*((ie[B]+.5)/16-.5);for(let Z=0;Z<k;Z++)for(let we=0;we<S;we++){var ue;B=4*(Z*S+we),X!=2?ue=[a(C[B]+oe[B]),a(C[B+1]+oe[B+1]),a(C[B+2]+oe[B+2]),a(C[B+3]+oe[B+3])]:(O=ie[4*(3&Z)+(3&we)],ue=[a(C[B]+O),a(C[B+1]+O),a(C[B+2]+O),a(C[B+3]+O)]),ee=0;let Pe=16777215;for(ne=0;ne<J;ne++){const Le=l(ue,U[ne]);Le<Pe&&(Pe=Le,ee=ne)}const me=U[ee],Be=[ue[0]-me[0],ue[1]-me[1],ue[2]-me[2],ue[3]-me[3]];X==1&&(we!=S-1&&i(Be,oe,B+4,7),Z!=k-1&&(we!=0&&i(Be,oe,B+4*S-4,3),i(Be,oe,B+4*S,5),we!=S-1&&i(Be,oe,B+4*S+4,1))),j[B>>2]=ee,re[B>>2]=P[ee]}}function d(C,S,k,P,F){F==null&&(F={});const{crc:j}=n,X=e.writeUint,J=e.writeUshort,U=e.writeASCII;let B=8;const ee=C.frames.length>1;let ne,O=!1,re=33+(ee?20:0);if(F.sRGB!=null&&(re+=13),F.pHYs!=null&&(re+=21),F.iCCP!=null&&(ne=pako.deflate(F.iCCP),re+=21+ne.length+4),C.ctype==3){for(var oe=C.plte.length,ie=0;ie<oe;ie++)C.plte[ie]>>>24!=255&&(O=!0);re+=8+3*oe+4+(O?8+1*oe+4:0)}for(var ue=0;ue<C.frames.length;ue++)ee&&(re+=38),re+=(me=C.frames[ue]).cimg.length+12,ue!=0&&(re+=4);re+=12;const Z=new Uint8Array(re),we=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)Z[ie]=we[ie];if(X(Z,B,13),B+=4,U(Z,B,"IHDR"),B+=4,X(Z,B,S),B+=4,X(Z,B,k),B+=4,Z[B]=C.depth,B++,Z[B]=C.ctype,B++,Z[B]=0,B++,Z[B]=0,B++,Z[B]=0,B++,X(Z,B,j(Z,B-17,17)),B+=4,F.sRGB!=null&&(X(Z,B,1),B+=4,U(Z,B,"sRGB"),B+=4,Z[B]=F.sRGB,B++,X(Z,B,j(Z,B-5,5)),B+=4),F.iCCP!=null){const Be=13+ne.length;X(Z,B,Be),B+=4,U(Z,B,"iCCP"),B+=4,U(Z,B,"ICC profile"),B+=11,B+=2,Z.set(ne,B),B+=ne.length,X(Z,B,j(Z,B-(Be+4),Be+4)),B+=4}if(F.pHYs!=null&&(X(Z,B,9),B+=4,U(Z,B,"pHYs"),B+=4,X(Z,B,F.pHYs[0]),B+=4,X(Z,B,F.pHYs[1]),B+=4,Z[B]=F.pHYs[2],B++,X(Z,B,j(Z,B-13,13)),B+=4),ee&&(X(Z,B,8),B+=4,U(Z,B,"acTL"),B+=4,X(Z,B,C.frames.length),B+=4,X(Z,B,F.loop!=null?F.loop:0),B+=4,X(Z,B,j(Z,B-12,12)),B+=4),C.ctype==3){for(X(Z,B,3*(oe=C.plte.length)),B+=4,U(Z,B,"PLTE"),B+=4,ie=0;ie<oe;ie++){const Be=3*ie,Le=C.plte[ie],Te=255&Le,se=Le>>>8&255,Ee=Le>>>16&255;Z[B+Be+0]=Te,Z[B+Be+1]=se,Z[B+Be+2]=Ee}if(B+=3*oe,X(Z,B,j(Z,B-3*oe-4,3*oe+4)),B+=4,O){for(X(Z,B,oe),B+=4,U(Z,B,"tRNS"),B+=4,ie=0;ie<oe;ie++)Z[B+ie]=C.plte[ie]>>>24&255;B+=oe,X(Z,B,j(Z,B-oe-4,oe+4)),B+=4}}let Pe=0;for(ue=0;ue<C.frames.length;ue++){var me=C.frames[ue];ee&&(X(Z,B,26),B+=4,U(Z,B,"fcTL"),B+=4,X(Z,B,Pe++),B+=4,X(Z,B,me.rect.width),B+=4,X(Z,B,me.rect.height),B+=4,X(Z,B,me.rect.x),B+=4,X(Z,B,me.rect.y),B+=4,J(Z,B,P[ue]),B+=2,J(Z,B,1e3),B+=2,Z[B]=me.dispose,B++,Z[B]=me.blend,B++,X(Z,B,j(Z,B-30,30)),B+=4);const Be=me.cimg;X(Z,B,(oe=Be.length)+(ue==0?0:4)),B+=4;const Le=B;U(Z,B,ue==0?"IDAT":"fdAT"),B+=4,ue!=0&&(X(Z,B,Pe++),B+=4),Z.set(Be,B),B+=oe,X(Z,B,j(Z,Le,B-Le)),B+=4}return X(Z,B,0),B+=4,U(Z,B,"IEND"),B+=4,X(Z,B,j(Z,B-4,4)),B+=4,Z.buffer}function f(C,S,k){for(let P=0;P<C.frames.length;P++){const F=C.frames[P];F.rect.width;const j=F.rect.height,X=new Uint8Array(j*F.bpl+j);F.cimg=b(F.img,j,F.bpp,F.bpl,X,S,k)}}function p(C,S,k,P,F){const j=F[0],X=F[1],J=F[2],U=F[3],B=F[4],ee=F[5];let ne=6,O=8,re=255;for(var oe=0;oe<C.length;oe++){const $e=new Uint8Array(C[oe]);for(var ie=$e.length,ue=0;ue<ie;ue+=4)re&=$e[ue+3]}const Z=re!=255,we=function(Fe,ut,_t,Wt,ct,cn){const Et=[];for(var We=0;We<Fe.length;We++){const yn=new Uint8Array(Fe[We]),Gn=new Uint32Array(yn.buffer);var bt;let En=0,Un=0,Hn=ut,Cn=_t,hi=Wt?1:0;if(We!=0){const ei=cn||Wt||We==1||Et[We-2].dispose!=0?1:2;let Ri=0,ti=1e9;for(let vr=0;vr<ei;vr++){var dt=new Uint8Array(Fe[We-1-vr]);const jr=new Uint32Array(Fe[We-1-vr]);let jn=ut,sr=_t,Qn=-1,Sr=-1;for(let xn=0;xn<_t;xn++)for(let kn=0;kn<ut;kn++)Gn[Ct=xn*ut+kn]!=jr[Ct]&&(kn<jn&&(jn=kn),kn>Qn&&(Qn=kn),xn<sr&&(sr=xn),xn>Sr&&(Sr=xn));Qn==-1&&(jn=sr=Qn=Sr=0),ct&&((1&jn)==1&&jn--,(1&sr)==1&&sr--);const ni=(Qn-jn+1)*(Sr-sr+1);ni<ti&&(ti=ni,Ri=vr,En=jn,Un=sr,Hn=Qn-jn+1,Cn=Sr-sr+1)}dt=new Uint8Array(Fe[We-1-Ri]),Ri==1&&(Et[We-1].dispose=2),bt=new Uint8Array(Hn*Cn*4),r(dt,ut,_t,bt,Hn,Cn,-En,-Un,0),hi=r(yn,ut,_t,bt,Hn,Cn,-En,-Un,3)?1:0,hi==1?v(yn,ut,_t,bt,{x:En,y:Un,width:Hn,height:Cn}):r(yn,ut,_t,bt,Hn,Cn,-En,-Un,0)}else bt=yn.slice(0);Et.push({rect:{x:En,y:Un,width:Hn,height:Cn},img:bt,blend:hi,dispose:0})}if(Wt)for(We=0;We<Et.length;We++){if((Nt=Et[We]).blend==1)continue;const yn=Nt.rect,Gn=Et[We-1].rect,En=Math.min(yn.x,Gn.x),Un=Math.min(yn.y,Gn.y),Hn={x:En,y:Un,width:Math.max(yn.x+yn.width,Gn.x+Gn.width)-En,height:Math.max(yn.y+yn.height,Gn.y+Gn.height)-Un};Et[We-1].dispose=1,We-1!=0&&m(Fe,ut,_t,Et,We-1,Hn,ct),m(Fe,ut,_t,Et,We,Hn,ct)}let ht=0;if(Fe.length!=1)for(var Ct=0;Ct<Et.length;Ct++){var Nt;ht+=(Nt=Et[Ct]).rect.width*Nt.rect.height}return Et}(C,S,k,j,X,J),Pe={},me=[],Be=[];if(P!=0){const $e=[];for(ue=0;ue<we.length;ue++)$e.push(we[ue].img.buffer);const Fe=function(ct){let cn=0;for(var Et=0;Et<ct.length;Et++)cn+=ct[Et].byteLength;const We=new Uint8Array(cn);let bt=0;for(Et=0;Et<ct.length;Et++){const dt=new Uint8Array(ct[Et]),ht=dt.length;for(let Ct=0;Ct<ht;Ct+=4){let Nt=dt[Ct],yn=dt[Ct+1],Gn=dt[Ct+2];const En=dt[Ct+3];En==0&&(Nt=yn=Gn=0),We[bt+Ct]=Nt,We[bt+Ct+1]=yn,We[bt+Ct+2]=Gn,We[bt+Ct+3]=En}bt+=ht}return We.buffer}($e),ut=M(Fe,P);for(ue=0;ue<ut.plte.length;ue++)me.push(ut.plte[ue].est.rgba);let _t=0;for(ue=0;ue<we.length;ue++){const Wt=(Te=we[ue]).img.length;var Le=new Uint8Array(ut.inds.buffer,_t>>2,Wt>>2);Be.push(Le);const ct=new Uint8Array(ut.abuf,_t,Wt);ee&&c(Te.img,Te.rect.width,Te.rect.height,me,ct,Le),Te.img.set(ct),_t+=Wt}}else for(oe=0;oe<we.length;oe++){var Te=we[oe];const $e=new Uint32Array(Te.img.buffer);var se=Te.rect.width;for(ie=$e.length,Le=new Uint8Array(ie),Be.push(Le),ue=0;ue<ie;ue++){const Fe=$e[ue];if(ue!=0&&Fe==$e[ue-1])Le[ue]=Le[ue-1];else if(ue>se&&Fe==$e[ue-se])Le[ue]=Le[ue-se];else{let ut=Pe[Fe];if(ut==null&&(Pe[Fe]=ut=me.length,me.push(Fe),me.length>=300))break;Le[ue]=ut}}}const Ee=me.length;for(Ee<=256&&B==0&&(O=Ee<=2?1:Ee<=4?2:Ee<=16?4:8,O=Math.max(O,U)),oe=0;oe<we.length;oe++){(Te=we[oe]).rect.x,Te.rect.y,se=Te.rect.width;const $e=Te.rect.height;let Fe=Te.img;new Uint32Array(Fe.buffer);let ut=4*se,_t=4;if(Ee<=256&&B==0){ut=Math.ceil(O*se/8);var Ne=new Uint8Array(ut*$e);const Wt=Be[oe];for(let ct=0;ct<$e;ct++){ue=ct*ut;const cn=ct*se;if(O==8)for(var ke=0;ke<se;ke++)Ne[ue+ke]=Wt[cn+ke];else if(O==4)for(ke=0;ke<se;ke++)Ne[ue+(ke>>1)]|=Wt[cn+ke]<<4-4*(1&ke);else if(O==2)for(ke=0;ke<se;ke++)Ne[ue+(ke>>2)]|=Wt[cn+ke]<<6-2*(3&ke);else if(O==1)for(ke=0;ke<se;ke++)Ne[ue+(ke>>3)]|=Wt[cn+ke]<<7-1*(7&ke)}Fe=Ne,ne=3,_t=1}else if(Z==0&&we.length==1){Ne=new Uint8Array(se*$e*3);const Wt=se*$e;for(ue=0;ue<Wt;ue++){const ct=3*ue,cn=4*ue;Ne[ct]=Fe[cn],Ne[ct+1]=Fe[cn+1],Ne[ct+2]=Fe[cn+2]}Fe=Ne,ne=2,_t=3,ut=3*se}Te.img=Fe,Te.bpl=ut,Te.bpp=_t}return{ctype:ne,depth:O,plte:me,frames:we}}function m(C,S,k,P,F,j,X){const J=Uint8Array,U=Uint32Array,B=new J(C[F-1]),ee=new U(C[F-1]),ne=F+1<C.length?new J(C[F+1]):null,O=new J(C[F]),re=new U(O.buffer);let oe=S,ie=k,ue=-1,Z=-1;for(let Pe=0;Pe<j.height;Pe++)for(let me=0;me<j.width;me++){const Be=j.x+me,Le=j.y+Pe,Te=Le*S+Be,se=re[Te];se==0||P[F-1].dispose==0&&ee[Te]==se&&(ne==null||ne[4*Te+3]!=0)||(Be<oe&&(oe=Be),Be>ue&&(ue=Be),Le<ie&&(ie=Le),Le>Z&&(Z=Le))}ue==-1&&(oe=ie=ue=Z=0),X&&((1&oe)==1&&oe--,(1&ie)==1&&ie--),j={x:oe,y:ie,width:ue-oe+1,height:Z-ie+1};const we=P[F];we.rect=j,we.blend=1,we.img=new Uint8Array(j.width*j.height*4),P[F-1].dispose==0?(r(B,S,k,we.img,j.width,j.height,-j.x,-j.y,0),v(O,S,k,we.img,j)):r(O,S,k,we.img,j.width,j.height,-j.x,-j.y,0)}function v(C,S,k,P,F){r(C,S,k,P,F.width,F.height,-F.x,-F.y,2)}function b(C,S,k,P,F,j,X){const J=[];let U,B=[0,1,2,3,4];j!=-1?B=[j]:(S*P>5e5||k==1)&&(B=[0]),X&&(U={level:0});const ee=Iz;for(var ne=0;ne<B.length;ne++){for(let oe=0;oe<S;oe++)E(F,C,oe,P,k,B[ne]);J.push(ee.deflate(F,U))}let O,re=1e9;for(ne=0;ne<J.length;ne++)J[ne].length<re&&(O=ne,re=J[ne].length);return J[O]}function E(C,S,k,P,F,j){const X=k*P;let J=X+k;if(C[J]=j,J++,j==0)if(P<500)for(var U=0;U<P;U++)C[J+U]=S[X+U];else C.set(new Uint8Array(S.buffer,X,P),J);else if(j==1){for(U=0;U<F;U++)C[J+U]=S[X+U];for(U=F;U<P;U++)C[J+U]=S[X+U]-S[X+U-F]+256&255}else if(k==0){for(U=0;U<F;U++)C[J+U]=S[X+U];if(j==2)for(U=F;U<P;U++)C[J+U]=S[X+U];if(j==3)for(U=F;U<P;U++)C[J+U]=S[X+U]-(S[X+U-F]>>1)+256&255;if(j==4)for(U=F;U<P;U++)C[J+U]=S[X+U]-t(S[X+U-F],0,0)+256&255}else{if(j==2)for(U=0;U<P;U++)C[J+U]=S[X+U]+256-S[X+U-P]&255;if(j==3){for(U=0;U<F;U++)C[J+U]=S[X+U]+256-(S[X+U-P]>>1)&255;for(U=F;U<P;U++)C[J+U]=S[X+U]+256-(S[X+U-P]+S[X+U-F]>>1)&255}if(j==4){for(U=0;U<F;U++)C[J+U]=S[X+U]+256-t(0,S[X+U-P],0)&255;for(U=F;U<P;U++)C[J+U]=S[X+U]+256-t(S[X+U-F],S[X+U-P],S[X+U-F-P])&255}}}function M(C,S){const k=new Uint8Array(C),P=k.slice(0),F=new Uint32Array(P.buffer),j=D(P,S),X=j[0],J=j[1],U=k.length,B=new Uint8Array(U>>2);let ee;if(k.length<2e7)for(var ne=0;ne<U;ne+=4)ee=L(X,O=k[ne]*(1/255),re=k[ne+1]*(1/255),oe=k[ne+2]*(1/255),ie=k[ne+3]*(1/255)),B[ne>>2]=ee.ind,F[ne>>2]=ee.est.rgba;else for(ne=0;ne<U;ne+=4){var O=k[ne]*.00392156862745098,re=k[ne+1]*(1/255),oe=k[ne+2]*(1/255),ie=k[ne+3]*(1/255);for(ee=X;ee.left;)ee=$(ee.est,O,re,oe,ie)<=0?ee.left:ee.right;B[ne>>2]=ee.ind,F[ne>>2]=ee.est.rgba}return{abuf:P.buffer,inds:B,plte:J}}function D(C,S,k){k==null&&(k=1e-4);const P=new Uint32Array(C.buffer),F={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};F.bst=W(C,F.i0,F.i1),F.est=H(F.bst);const j=[F];for(;j.length<S;){let J=0,U=0;for(var X=0;X<j.length;X++)j[X].est.L>J&&(J=j[X].est.L,U=X);if(J<k)break;const B=j[U],ee=Y(C,P,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=ee||B.i1<=ee){B.est.L=0;continue}const ne={i0:B.i0,i1:ee,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=W(C,ne.i0,ne.i1),ne.est=H(ne.bst);const O={i0:ee,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:B.bst.N-ne.bst.N},X=0;X<16;X++)O.bst.R[X]=B.bst.R[X]-ne.bst.R[X];for(X=0;X<4;X++)O.bst.m[X]=B.bst.m[X]-ne.bst.m[X];O.est=H(O.bst),B.left=ne,B.right=O,j[U]=ne,j.push(O)}for(j.sort((J,U)=>U.bst.N-J.bst.N),X=0;X<j.length;X++)j[X].ind=X;return[F,j]}function L(C,S,k,P,F){if(C.left==null)return C.tdst=function(ne,O,re,oe,ie){const ue=O-ne[0],Z=re-ne[1],we=oe-ne[2],Pe=ie-ne[3];return ue*ue+Z*Z+we*we+Pe*Pe}(C.est.q,S,k,P,F),C;const j=$(C.est,S,k,P,F);let X=C.left,J=C.right;j>0&&(X=C.right,J=C.left);const U=L(X,S,k,P,F);if(U.tdst<=j*j)return U;const B=L(J,S,k,P,F);return B.tdst<U.tdst?B:U}function $(C,S,k,P,F){const{e:j}=C;return j[0]*S+j[1]*k+j[2]*P+j[3]*F-C.eMq}function Y(C,S,k,P,F,j){for(P-=4;k<P;){for(;z(C,k,F)<=j;)k+=4;for(;z(C,P,F)>j;)P-=4;if(k>=P)break;const X=S[k>>2];S[k>>2]=S[P>>2],S[P>>2]=X,k+=4,P-=4}for(;z(C,k,F)>j;)k-=4;return k+4}function z(C,S,k){return C[S]*k[0]+C[S+1]*k[1]+C[S+2]*k[2]+C[S+3]*k[3]}function W(C,S,k){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0],j=k-S>>2;for(let X=S;X<k;X+=4){const J=C[X]*.00392156862745098,U=C[X+1]*(1/255),B=C[X+2]*(1/255),ee=C[X+3]*(1/255);F[0]+=J,F[1]+=U,F[2]+=B,F[3]+=ee,P[0]+=J*J,P[1]+=J*U,P[2]+=J*B,P[3]+=J*ee,P[5]+=U*U,P[6]+=U*B,P[7]+=U*ee,P[10]+=B*B,P[11]+=B*ee,P[15]+=ee*ee}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:F,N:j}}function H(C){const{R:S}=C,{m:k}=C,{N:P}=C,F=k[0],j=k[1],X=k[2],J=k[3],U=P==0?0:1/P,B=[S[0]-F*F*U,S[1]-F*j*U,S[2]-F*X*U,S[3]-F*J*U,S[4]-j*F*U,S[5]-j*j*U,S[6]-j*X*U,S[7]-j*J*U,S[8]-X*F*U,S[9]-X*j*U,S[10]-X*X*U,S[11]-X*J*U,S[12]-J*F*U,S[13]-J*j*U,S[14]-J*X*U,S[15]-J*J*U],ee=B,ne=I;let O=[Math.random(),Math.random(),Math.random(),Math.random()],re=0,oe=0;if(P!=0)for(let ue=0;ue<16&&(O=ne.multVec(ee,O),oe=Math.sqrt(ne.dot(O,O)),O=ne.sml(1/oe,O),!(ue!=0&&Math.abs(oe-re)<1e-9));ue++)re=oe;const ie=[F*U,j*U,X*U,J*U];return{Cov:B,q:ie,e:O,L:re,eMq255:ne.dot(ne.sml(255,ie),O),eMq:ne.dot(O,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var I={multVec:(C,S)=>[C[0]*S[0]+C[1]*S[1]+C[2]*S[2]+C[3]*S[3],C[4]*S[0]+C[5]*S[1]+C[6]*S[2]+C[7]*S[3],C[8]*S[0]+C[9]*S[1]+C[10]*S[2]+C[11]*S[3],C[12]*S[0]+C[13]*S[1]+C[14]*S[2]+C[15]*S[3]],dot:(C,S)=>C[0]*S[0]+C[1]*S[1]+C[2]*S[2]+C[3]*S[3],sml:(C,S)=>[C*S[0],C*S[1],C*S[2],C*S[3]]};na.encode=function(S,k,P,F,j,X,J){F==null&&(F=0),J==null&&(J=!1);const U=p(S,k,P,F,[!1,!1,!1,0,J,!1]);return f(U,-1),d(U,k,P,j,X)},na.encodeLL=function(S,k,P,F,j,X,J,U){const B={ctype:0+(F==1?0:2)+(j==0?0:4),depth:X,frames:[]},ee=(F+j)*X,ne=ee*k;for(let O=0;O<S.length;O++)B.frames.push({rect:{x:0,y:0,width:k,height:P},img:new Uint8Array(S[O]),blend:0,dispose:1,bpp:Math.ceil(ee/8),bpl:Math.ceil(ne/8)});return f(B,0,!0),d(B,k,P,J,U)},na.encode.compress=p,na.encode.dither=c,na.quantize=M,na.quantize.getKDtree=D,na.quantize.getNearest=L})();const ZM={toArrayBuffer(r,e){const t=r.width,n=r.height,i=t<<2,a=r.getContext("2d").getImageData(0,0,t,n),l=new Uint32Array(a.data.buffer),c=(32*t+31)/32<<2,d=c*n,f=122+d,p=new ArrayBuffer(f),m=new DataView(p),v=1<<20;let b,E,M,D,L=v,$=0,Y=0,z=0;function W(C){m.setUint16(Y,C,!0),Y+=2}function H(C){m.setUint32(Y,C,!0),Y+=4}function I(C){Y+=C}W(19778),H(f),I(4),H(122),H(108),H(t),H(-n>>>0),W(1),W(32),H(3),H(d),H(2835),H(2835),I(8),H(16711680),H(65280),H(255),H(4278190080),H(1466527264),function C(){for(;$<n&&L>0;){for(D=122+$*c,b=0;b<i;)L--,E=l[z++],M=E>>>24,m.setUint32(D+b,E<<8|M),b+=4;$++}z<l.length?(L=v,setTimeout(C,ZM._dly)):e(p)}()},toBlob(r,e){this.toArrayBuffer(r,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var $i={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Nz={[$i.CHROME]:16384,[$i.FIREFOX]:11180,[$i.DESKTOP_SAFARI]:16384,[$i.IE]:8192,[$i.IOS]:4096,[$i.ETC]:8192};const $b=typeof window<"u",JM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Hg=$b&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pz=($b||JM)&&(Hg&&Hg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),e2=($b||JM)&&(Hg&&Hg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Wb(r,e,t=Date.now()){return new Promise(n=>{const i=r.split(","),a=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let c=l.length;const d=new Uint8Array(c);for(;c--;)d[c]=l.charCodeAt(c);const f=new Blob([d],{type:a});f.name=e,f.lastModified=t,n(f)})}function t2(r){return new Promise((e,t)=>{const n=new e2;n.onload=()=>e(n.result),n.onerror=i=>t(i),n.readAsDataURL(r)})}function n2(r){return new Promise((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>t(i),n.src=r})}function Fu(){if(Fu.cachedResult!==void 0)return Fu.cachedResult;let r=$i.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?r=$i.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?r=$i.IOS:/Safari/i.test(e)?r=$i.DESKTOP_SAFARI:/Firefox/i.test(e)?r=$i.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(r=$i.IE),Fu.cachedResult=r,Fu.cachedResult}function r2(r,e){const t=Fu(),n=Nz[t];let i=r,a=e,l=i*a;const c=i>a?a/i:i/a;for(;l>n*n;){const d=(n+i)/2,f=(n+a)/2;d<f?(a=f,i=f*c):(a=d*c,i=d),l=i*a}return{width:i,height:a}}function Mv(r,e){let t,n;try{if(t=new OffscreenCanvas(r,e),n=t.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),n=t.getContext("2d")}return t.width=r,t.height=e,[t,n]}function i2(r,e){const{width:t,height:n}=r2(r.width,r.height),[i,a]=Mv(t,n);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(r,0,0,i.width,i.height),i}function Wm(){return Wm.cachedResult!==void 0||(Wm.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Wm.cachedResult}function qg(r,e={}){return new Promise(function(t,n){let i,a;var l=function(){try{return a=i2(i,e.fileType||r.type),t([i,a])}catch(d){return n(d)}},c=function(d){try{var f=function(p){try{throw p}catch(m){return n(m)}};try{let p;return t2(r).then(function(m){try{return p=m,n2(p).then(function(v){try{return i=v,function(){try{return l()}catch(b){return n(b)}}()}catch(b){return f(b)}},f)}catch(v){return f(v)}},f)}catch(p){f(p)}}catch(p){return n(p)}};try{if(Wm()||[$i.DESKTOP_SAFARI,$i.MOBILE_SAFARI].includes(Fu()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(d){try{return i=d,l()}catch{return c()}},c)}catch{c()}})}function Yg(r,e,t,n,i=1){return new Promise(function(a,l){let c;if(e==="image/png"){let m,v,b;return m=r.getContext("2d"),{data:v}=m.getImageData(0,0,r.width,r.height),b=na.encode([v.buffer],r.width,r.height,4096*i),c=new Blob([b],{type:e}),c.name=t,c.lastModified=n,d.call(this)}{let m=function(){return d.call(this)};var f=m;if(e==="image/bmp")return new Promise(v=>ZM.toBlob(r,v)).then((function(v){try{return c=v,c.name=t,c.lastModified=n,m.call(this)}catch(b){return l(b)}}).bind(this),l);{let v=function(){return m.call(this)};var p=v;if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:e,quality:i}).then((function(b){try{return c=b,c.name=t,c.lastModified=n,v.call(this)}catch(E){return l(E)}}).bind(this),l);{let b;return b=r.toDataURL(e,i),Wb(b,t,n).then((function(E){try{return c=E,v.call(this)}catch(M){return l(M)}}).bind(this),l)}}}function d(){return a(c)}})}function Ra(r){r.width=0,r.height=0}function dd(){return new Promise(function(r,e){let t,n,i,a;return dd.cachedResult!==void 0?r(dd.cachedResult):Wb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return t=l,qg(t).then(function(c){try{return n=c[1],Yg(n,t.type,t.name,t.lastModified).then(function(d){try{return i=d,Ra(n),qg(i).then(function(f){try{return a=f[0],dd.cachedResult=a.width===1&&a.height===2,r(dd.cachedResult)}catch(p){return e(p)}},e)}catch(f){return e(f)}},e)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)})}function s2(r){return new Promise((e,t)=>{const n=new e2;n.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const l=a.byteLength;let c=2;for(;c<l;){if(a.getUint16(c+2,!1)<=8)return e(-1);const d=a.getUint16(c,!1);if(c+=2,d==65505){if(a.getUint32(c+=2,!1)!=1165519206)return e(-1);const f=a.getUint16(c+=6,!1)==18761;c+=a.getUint32(c+4,f);const p=a.getUint16(c,f);c+=2;for(let m=0;m<p;m++)if(a.getUint16(c+12*m,f)==274)return e(a.getUint16(c+12*m+8,f))}else{if((65280&d)!=65280)break;c+=a.getUint16(c,!1)}}return e(-1)},n.onerror=i=>t(i),n.readAsArrayBuffer(r)})}function a2(r,e){const{width:t}=r,{height:n}=r,{maxWidthOrHeight:i}=e;let a,l=r;return isFinite(i)&&(t>i||n>i)&&([l,a]=Mv(t,n),t>n?(l.width=i,l.height=n/t*i):(l.width=t/n*i,l.height=i),a.drawImage(r,0,0,l.width,l.height),Ra(r)),l}function o2(r,e){const{width:t}=r,{height:n}=r,[i,a]=Mv(t,n);switch(e>4&&e<9?(i.width=n,i.height=t):(i.width=t,i.height=n),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,n);break;case 4:a.transform(1,0,0,-1,0,n);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,n,0);break;case 7:a.transform(0,-1,-1,0,n,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(r,0,0,t,n),Ra(r),i}function _x(r,e,t=0){return new Promise(function(n,i){let a,l,c,d,f,p,m,v,b,E,M,D,L,$,Y,z,W,H,I,C;function S(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=P,e.onProgress(Math.min(a,100))}function k(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(P,a),100),e.onProgress(a)}return a=t,l=e.maxIteration||10,c=1024*e.maxSizeMB*1024,S(),qg(r,e).then((function(P){try{return[,d]=P,S(),f=a2(d,e),S(),new Promise(function(F,j){var X;if(!(X=e.exifOrientation))return s2(r).then((function(U){try{return X=U,J.call(this)}catch(B){return j(B)}}).bind(this),j);function J(){return F(X)}return J.call(this)}).then((function(F){try{return p=F,S(),dd().then((function(j){try{return m=j?f:o2(f,p),S(),v=e.initialQuality||1,b=e.fileType||r.type,Yg(m,b,r.name,r.lastModified,v).then((function(X){try{{let ee=function(){if(l--&&(Y>c||Y>L)){let O,re;return O=C?.95*I.width:I.width,re=C?.95*I.height:I.height,[W,H]=Mv(O,re),H.drawImage(I,0,0,O,re),v*=b==="image/png"?.85:.95,Yg(W,b,r.name,r.lastModified,v).then(function(oe){try{return z=oe,Ra(I),I=W,Y=z.size,k(Math.min(99,Math.floor(($-Y)/($-c)*100))),ee}catch(ie){return i(ie)}},i)}return[1]},ne=function(){return Ra(I),Ra(W),Ra(f),Ra(m),Ra(d),k(100),n(z)};var U=ee,B=ne;if(E=X,S(),M=E.size>c,D=E.size>r.size,!M&&!D)return k(100),n(E);var J;return L=r.size,$=E.size,Y=$,I=m,C=!e.alwaysKeepResolution&&M,(J=(function(O){for(;O;){if(O.then)return void O.then(J,i);try{if(O.pop){if(O.length)return O.pop()?ne.call(this):O;O=ee}else O=O.call(this)}catch(re){return i(re)}}}).bind(this))(ee)}}catch(ee){return i(ee)}}).bind(this),i)}catch(X){return i(X)}}).bind(this),i)}catch(j){return i(j)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)})}const Uz=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let x_;function jz(r,e){return new Promise((t,n)=>{x_||(x_=function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))}(Uz));const i=new Worker(x_);i.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return n(new Error(l.data.error)),void i.terminate();t(l.data.file),i.terminate()}else e.onProgress(l.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:r,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function li(r,e){return new Promise(function(t,n){let i,a,l,c,d,f;if(i={...e},l=0,{onProgress:c}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=b=>{l=b,typeof c=="function"&&c(l)},!(r instanceof Blob||r instanceof Pz))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return n(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||f)return _x(r,i).then((function(b){try{return a=b,v.call(this)}catch(E){return n(E)}}).bind(this),n);var p=(function(){try{return v.call(this)}catch(b){return n(b)}}).bind(this),m=function(b){try{return _x(r,i).then(function(E){try{return a=E,p()}catch(M){return n(M)}},n)}catch(E){return n(E)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",jz(r,i).then(function(b){try{return a=b,p()}catch{return m()}},m)}catch{m()}function v(){try{a.name=r.name,a.lastModified=r.lastModified}catch{}try{i.preserveExif&&r.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===r.type)&&(a=XM(r,a))}catch{}return t(a)}})}li.getDataUrlFromFile=t2,li.getFilefromDataUrl=Wb,li.loadImage=n2,li.drawImageInCanvas=i2,li.drawFileInCanvas=qg,li.canvasToFile=Yg,li.getExifOrientation=s2,li.handleMaxWidthOrHeight=a2,li.followExifOrientation=o2,li.cleanupCanvasMemory=Ra,li.isAutoOrientationInBrowser=dd,li.approximateBelowMaximumCanvasSizeOfBrowser=r2,li.copyExifWithoutOrientation=XM,li.getBrowserName=Fu,li.version="2.0.2";const Vz=({show:r,onClose:e,eventId:t,folderName:n})=>{const[i,a]=T.useState(null),[l,c]=T.useState({contact:"",instagramHandle:"",email:"",permissions:["view"]}),d=m=>{a(m)},f=m=>{m.preventDefault();const v=`${window.location.origin}/folders/${t}/${n}`,b=`Check out these photos: ${v}`;switch(i){case"whatsapp":window.open(`https://wa.me/${l.contact}?text=${encodeURIComponent(b)}`,"_blank");break;case"sms":window.open(`sms:${l.contact}?body=${encodeURIComponent(b)}`,"_blank");break;case"email":window.open(`mailto:${l.email}?subject=Photo Share&body=${encodeURIComponent(b)}`,"_blank");break;case"instagram":navigator.clipboard.writeText(v).then(()=>alert("Link copied to clipboard! Share it on Instagram.")).catch(()=>alert("Failed to copy link."));break}e()},p=m=>{c(v=>({...v,permissions:v.permissions.includes(m)?v.permissions.filter(b=>b!==m):[...v.permissions,m]}))};return r?x.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:x.jsx("div",{className:"modal-dialog modal-dialog-centered",children:x.jsxs("div",{className:"modal-content",children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h5",{className:"modal-title",children:"Share Photos"}),x.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),x.jsx("div",{className:"modal-body",children:i?x.jsxs("form",{onSubmit:f,children:[i==="whatsapp"&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"WhatsApp Number"}),x.jsx("input",{type:"tel",className:"form-control",placeholder:"Enter WhatsApp number",value:l.contact,onChange:m=>c(v=>({...v,contact:m.target.value})),required:!0})]}),i==="sms"&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Phone Number"}),x.jsx("input",{type:"tel",className:"form-control",placeholder:"Enter phone number",value:l.contact,onChange:m=>c(v=>({...v,contact:m.target.value})),required:!0})]}),i==="email"&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Email Address"}),x.jsx("input",{type:"email",className:"form-control",placeholder:"Enter email address",value:l.email,onChange:m=>c(v=>({...v,email:m.target.value})),required:!0})]}),i==="instagram"&&x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Instagram Handle"}),x.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Instagram handle",value:l.instagramHandle,onChange:m=>c(v=>({...v,instagramHandle:m.target.value})),required:!0})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"Permissions"}),x.jsxs("div",{className:"form-check",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("view"),onChange:()=>p("view")}),x.jsx("label",{className:"form-check-label",children:"Just View"})]}),x.jsxs("div",{className:"form-check",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("select"),onChange:()=>p("select")}),x.jsx("label",{className:"form-check-label",children:"View and Select"})]}),x.jsxs("div",{className:"form-check",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",checked:l.permissions.includes("write"),onChange:()=>p("write")}),x.jsx("label",{className:"form-check-label",children:"Write"})]})]}),x.jsxs("div",{className:"d-flex justify-content-between",children:[x.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(null),children:"Back"}),x.jsx("button",{type:"submit",className:"btn btn-primary",children:"Share"})]})]}):x.jsxs("div",{className:"share-methods",children:[x.jsxs("button",{className:"btn btn-outline-success w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("whatsapp"),children:[x.jsx(mS,{className:"me-2"}),"WhatsApp"]}),x.jsxs("button",{className:"btn btn-outline-primary w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("sms"),children:[x.jsx(mS,{className:"me-2"}),"SMS"]}),x.jsxs("button",{className:"btn btn-outline-danger w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("email"),children:[x.jsx(YV,{className:"me-2"}),"Email"]}),x.jsxs("button",{className:"btn btn-outline-info w-100 mb-2 d-flex align-items-center justify-content-center",onClick:()=>d("instagram"),children:[x.jsx(UR,{className:"me-2"}),"Instagram"]})]})})]})})}):null};function Bz(){const{eventId:r,folderName:e}=aL(),[t,n]=T.useState(null),[i,a]=T.useState(!0),[l,c]=T.useState(!1),[d,f]=T.useState([]),[p,m]=T.useState([]),[v,b]=T.useState(null),[E,M]=T.useState(!1),[D,L]=T.useState(1),[$,Y]=T.useState({}),[z,W]=T.useState(!1),[H,I]=T.useState([]),[C,S]=T.useState(!1),[k,P]=T.useState(!0),[F,j]=T.useState({}),[X,J]=T.useState(!1),U={maxSizeMB:.1,maxWidthOrHeight:400,useWebWorker:!0};T.useEffect(()=>{(async()=>{try{a(!0);const se=await oR(ep(Os,"events",r));se.exists()&&n({id:se.id,...se.data()})}catch(se){console.error("Error fetching event:",se)}finally{a(!1)}})()},[r]),T.useEffect(()=>{t&&(async()=>{if(!(!t||!t.event_host)){P(!0);try{const se=`users/${t.event_host}/event_folders/${t.event_name}/${e}`,Ee=Al(Dl,`${se}/photos`),Ne=Al(Dl,`${se}/videos`),ke=Al(Dl,`${se}/thumbnails`),[$e,Fe,ut]=await Promise.all([c_(Ee).catch(()=>({items:[]})),c_(Ne).catch(()=>({items:[]})),c_(ke).catch(()=>({items:[]}))]),_t={};for(const We of ut.items){const bt=await vf(We);_t[We.name]=bt}const Wt=async(We,bt)=>{try{const dt=await vf(We);return{name:We.name,url:dt,type:bt,path:We.fullPath,thumbnailUrl:bt==="photos"?_t[We.name]||dt:null,uploadedAt:parseInt(We.name.split("_")[0])}}catch(dt){return console.error(`Error fetching file details for ${We.name}:`,dt),null}},ct=await Promise.all($e.items.map(We=>Wt(We,"photos"))),cn=await Promise.all(Fe.items.map(We=>Wt(We,"videos"))),Et=[...ct,...cn].filter(We=>We!==null).sort((We,bt)=>bt.uploadedAt-We.uploadedAt);m(Et)}catch(se){console.error("Error fetching existing files:",se)}finally{P(!1)}}})()},[t,e]);const B=()=>{c(!0)},ee=()=>{c(!1)},ne=async Te=>{if(!Te.type.startsWith("image/"))return null;try{const se=await li(Te,U);return new File([se],Te.name,{type:se.type})}catch(se){return console.error("Error creating thumbnail:",se),null}},O=async(Te,se)=>{if(!Te||Te.length===0){console.log("No files selected");return}if(console.log(`Starting upload of ${Te.length} ${se}`),!t||!t.event_host){console.error("Event or event host not found");return}W(!0);const Ee=[];try{const Ne=`users/${t.event_host}/event_folders/${t.event_name}/${e}`;console.log("Upload path:",Ne);for(const ke of Te){const $e=Date.now(),Fe=`${$e}_${ke.name}`,ut=`${Ne}/${se}/${Fe}`;j(_t=>({..._t,[Fe]:0}));try{const _t=Al(Dl,ut),Wt=SV(_t,ke);Wt.on("state_changed",ct=>{const cn=ct.bytesTransferred/ct.totalBytes*100;j(Et=>({...Et,[Fe]:cn}))},ct=>{console.error(`Error uploading ${Fe}:`,ct)},async()=>{const ct=await vf(Wt.snapshot.ref);let cn=null;if(se==="photos"){const We=await ne(ke);if(We){const bt=`${Ne}/thumbnails/${Fe}`,dt=Al(Dl,bt);await MR(dt,We),cn=await vf(dt)}}const Et={name:Fe,url:ct,type:se,path:ut,thumbnailUrl:cn||ct,uploadedAt:$e};Ee.push(Et),m(We=>[...We,Et]),j(We=>{const bt={...We};return delete bt[Fe],bt})})}catch(_t){console.error(`Error uploading ${Fe}:`,_t),console.error("Error details:",_t.message)}}}catch(Ne){console.error("Upload error:",Ne),console.error("Error details:",Ne.message)}finally{W(!1)}},re=Te=>{b(Te),M(!0),L(1)},oe=()=>{const Te=p.findIndex(se=>se.url===v.url);Te>0&&(b(p[Te-1]),L(1))},ie=()=>{const Te=p.findIndex(se=>se.url===v.url);Te<p.length-1&&(b(p[Te+1]),L(1))},ue=()=>{L(Te=>Math.min(Te+.5,3))},Z=()=>{L(Te=>Math.max(Te-.5,.5))},we=(Te,se)=>{I(Ee=>se?[...Ee,Te.path]:Ee.filter(Ne=>Ne!==Te.path))},Pe=()=>{H.length===p.length?I([]):I(p.map(Te=>Te.path))},me=async()=>{if(H.length&&window.confirm(`Are you sure you want to delete ${H.length} files?`))try{for(const Te of H){const se=p.find(Ne=>Ne.path===Te);if(!se)continue;const Ee=Al(Dl,se.path);if(await hS(Ee),se.type==="photos"&&se.thumbnailUrl){const Ne=se.path.replace(`/${se.type}/`,"/thumbnails/"),ke=Al(Dl,Ne);await hS(ke).catch($e=>console.log("No thumbnail found:",$e))}}m(Te=>Te.filter(se=>!H.includes(se.path))),I([])}catch(Te){console.error("Error deleting files:",Te),alert("Failed to delete some files. Please try again.")}},Be=()=>{J(!0)},Le=()=>x.jsx("div",{className:"row g-4",children:p.map((Te,se)=>x.jsx("div",{className:"col-md-3 col-sm-6",children:x.jsxs("div",{className:"media-card",onClick:()=>!C&&Te.type==="photos"&&re(Te),style:{cursor:C?"default":Te.type==="photos"?"pointer":"default"},children:[x.jsx("div",{className:"media-thumbnail",children:Te.type==="photos"?x.jsx("img",{src:Te.thumbnailUrl||Te.url,alt:Te.name,loading:"lazy",onError:Ee=>{console.log("Thumbnail load error, falling back to original:",Te.name),Ee.target.src=Te.url}}):x.jsx("div",{className:"video-thumbnail",children:x.jsx(_S,{className:"display-4"})})}),x.jsx("div",{className:"media-info",children:x.jsxs("div",{className:"d-flex flex-column",children:[x.jsx("small",{className:"text-muted text-truncate mb-2",children:Te.name.split("_").slice(1).join("_")}),C?x.jsxs("div",{className:"form-check",children:[x.jsx("input",{type:"checkbox",className:"form-check-input",checked:H.includes(Te.path),onChange:Ee=>we(Te,Ee.target.checked),onClick:Ee=>Ee.stopPropagation()}),x.jsx("label",{className:"form-check-label",children:"Select"})]}):x.jsx("div",{children:Te.type==="videos"&&x.jsx("a",{href:Te.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-primary",onClick:Ee=>Ee.stopPropagation(),children:"Play Video"})})]})})]})},`uploaded-${se}`))});return i?x.jsx("div",{className:"container-fluid",children:x.jsx("div",{className:"text-center py-5",children:x.jsx("div",{className:"spinner-border text-primary",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):t?x.jsxs("div",{className:"container-fluid",children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[x.jsxs("div",{className:"d-flex align-items-center",children:[x.jsx(NR,{className:"me-2",style:{fontSize:"2rem",color:"var(--primary)"}}),x.jsxs("h2",{className:"mb-0",children:[t.event_name," / ",e]})]}),x.jsxs("div",{className:"d-flex gap-2",children:[p.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"btn btn-outline-primary d-flex align-items-center",onClick:()=>S(!C),children:C?"Cancel":"Select Files"}),C&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"btn btn-outline-secondary d-flex align-items-center",onClick:Pe,children:H.length===p.length?"Deselect All":"Select All"}),x.jsxs("button",{className:"btn btn-danger d-flex align-items-center",onClick:me,disabled:H.length===0,children:["Delete Selected (",H.length,")"]})]})]}),x.jsxs("button",{className:"btn btn-primary d-flex align-items-center",onClick:B,children:[x.jsx(XV,{className:"me-2"}),"Upload Media"]}),x.jsxs("button",{className:"btn btn-outline-primary d-flex align-items-center",onClick:Be,children:[x.jsx(QV,{className:"me-2"}),"Share Link"]})]})]}),x.jsx("div",{className:"card",children:x.jsx("div",{className:"card-body",children:k?x.jsxs("div",{className:"text-center py-5",children:[x.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading media..."})}),x.jsx("p",{className:"text-muted mb-0",children:"Loading media files..."})]}):p.length===0?x.jsx("div",{className:"text-center py-5",children:x.jsx("p",{className:"empty-state-message mb-0",children:'No media files uploaded yet. Click "Upload Media" to add files.'})}):Le()})}),x.jsx("div",{className:`modal fade ${l?"show":""}`,style:{display:l?"block":"none"},tabIndex:"-1","aria-labelledby":"uploadModalLabel","aria-hidden":!l,children:x.jsx("div",{className:"modal-dialog modal-dialog-centered",children:x.jsxs("div",{className:"modal-content",children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h5",{className:"modal-title",id:"uploadModalLabel",children:"Upload Media"}),x.jsx("button",{type:"button",className:"btn-close",onClick:ee})]}),x.jsxs("div",{className:"modal-body",children:[x.jsxs("div",{className:"row g-4",children:[x.jsx("div",{className:"col-6",children:x.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("photoInput").click(),children:[x.jsx(UR,{className:"display-4 mb-2"}),x.jsx("h5",{children:"Upload Photos"}),x.jsx("p",{className:"text-muted small mb-0",children:"JPG, PNG, GIF"}),x.jsx("input",{type:"file",id:"photoInput",accept:"image/*",multiple:!0,className:"d-none",onChange:Te=>O(Te.target.files,"photos")})]})}),x.jsx("div",{className:"col-6",children:x.jsxs("div",{className:"upload-option d-flex flex-column align-items-center justify-content-center p-4 border rounded",onClick:()=>document.getElementById("videoInput").click(),children:[x.jsx(_S,{className:"display-4 mb-2"}),x.jsx("h5",{children:"Upload Videos"}),x.jsx("p",{className:"text-muted small mb-0",children:"MP4, MOV, AVI"}),x.jsx("input",{type:"file",id:"videoInput",accept:"video/*",multiple:!0,className:"d-none",onChange:Te=>O(Te.target.files,"videos")})]})})]}),Object.entries(F).map(([Te,se])=>x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[x.jsx("small",{children:Te}),x.jsxs("small",{children:[Math.round(se),"%"]})]}),x.jsx("div",{className:"progress",children:x.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${se}%`},"aria-valuenow":se,"aria-valuemin":"0","aria-valuemax":"100"})})]},Te))]})]})})}),E&&v&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:x.jsx("div",{className:"modal-dialog modal-xl modal-dialog-centered",children:x.jsxs("div",{className:"modal-content image-viewer-modal",children:[x.jsxs("div",{className:"modal-header border-0",children:[x.jsx("h5",{className:"modal-title",children:v.name}),x.jsx("button",{type:"button",className:"btn-close",onClick:()=>{M(!1),b(null),L(1)}})]}),x.jsxs("div",{className:"modal-body text-center position-relative p-0",children:[x.jsx("div",{className:"image-container",children:x.jsx("img",{src:v.url,alt:v.name,style:{transform:`scale(${D})`,transition:"transform 0.3s ease"}})}),x.jsxs("div",{className:"viewer-controls",children:[x.jsx("button",{className:"btn btn-light me-2",onClick:Z,disabled:D<=.5,children:x.jsx(t6,{})}),x.jsx("button",{className:"btn btn-light",onClick:ue,disabled:D>=3,children:x.jsx(e6,{})})]}),p.findIndex(Te=>Te.url===v.url)>0&&x.jsx("button",{className:"btn btn-light navigation-button left",onClick:oe,children:x.jsx(FV,{})}),p.findIndex(Te=>Te.url===v.url)<p.length-1&&x.jsx("button",{className:"btn btn-light navigation-button right",onClick:ie,children:x.jsx(zV,{})})]})]})})}),x.jsx("div",{className:"modal-backdrop fade show"})]}),x.jsx(Vz,{show:X,onClose:()=>J(!1),eventId:r,folderName:e})]}):x.jsx("div",{className:"container-fluid",children:x.jsx("div",{className:"alert alert-danger",children:"Event not found"})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fz(r,e,t,n){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(n.next(p))}catch(m){l(m)}}function d(p){try{f(n.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((n=n.apply(r,[])).next())})}function zz(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hd=function(){return hd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hd.apply(this,arguments)},l2=function(r){return{loading:r==null,value:r}},Hz=function(){return function(r,e){switch(e.type){case"error":return hd(hd({},r),{error:e.error,loading:!1,value:void 0});case"reset":return l2(e.defaultValue);case"value":return hd(hd({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},qz=function(r){var e=r?r():void 0,t=T.useReducer(Hz(),l2(e)),n=t[0],i=t[1],a=T.useCallback(function(){var d=r?r():void 0;i({type:"reset",defaultValue:d})},[r]),l=T.useCallback(function(d){i({type:"error",error:d})},[]),c=T.useCallback(function(d){i({type:"value",value:d})},[]);return T.useMemo(function(){return{error:n.error,loading:n.loading,reset:a,setError:l,setValue:c,value:n.value}},[n.error,n.loading,a,l,c,n.value])},Yz=function(r,e){var t=qz(function(){return r.currentUser}),n=t.error,i=t.loading,a=t.setError,l=t.setValue,c=t.value;return T.useEffect(function(){var d=bA(r,function(f){return Fz(void 0,void 0,void 0,function(){var p;return zz(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return m.sent(),[3,4];case 3:return p=m.sent(),a(p),[3,4];case 4:return l(f),[2]}})})},a);return function(){d()}},[r]),[c,i,n]};const $z=()=>{const[r,e]=T.useState([]),[t,n]=T.useState(!0),[i]=Yz(Qr),[a,l]=T.useState(!1),[c,d]=T.useState({}),f=rc();T.useEffect(()=>{(async()=>{if(i)try{const b=Ul(Os,"events"),E=Uu(b,ju("event_host","==",i.uid)),D=(await vd(E)).docs.map($=>({id:$.id,...$.data(),attendees:[]})),L=await Promise.all(D.map(async $=>{const Y=Ul(Os,"eventsregistry"),z=Uu(Y,ju("eventId","==",$.id)),H=(await vd(z)).docs.map(I=>({id:I.id,...I.data(),registrationDate:I.data().timestamp}));return{...$,attendees:H}}));e(L)}catch(b){console.error("Error fetching events and attendees:",b)}finally{n(!1)}})()},[i]),T.useEffect(()=>{if(!i)return;const v=[];return(async()=>{try{const E=Ul(Os,"events"),M=Uu(E,ju("event_host","==",i.uid));(await vd(M)).docs.forEach(L=>{const $=Ul(Os,"eventsregistry"),Y=Uu($,ju("eventId","==",L.id)),z=lR(Y,W=>{W.docChanges().forEach(H=>{var I;if(H.type==="modified"||H.type==="added"){const C=H.doc.id,S=H.doc.data(),k=((I=S.progress)==null?void 0:I.status)||"processing";console.log(`Status update for ${C}:`,{status:k,fullData:S}),d(P=>({...P,[C]:k}))}})});v.push(z)})}catch(E){console.error("Error setting up status listeners:",E)}})(),()=>{v.forEach(E=>E())}},[i]);const p=async(v,b)=>{l(!0);try{const E=v.id,M=await oR(ep(Os,"events",b.id));if(!M.exists())throw new Error("Event not found");const $=(M.data().folders||[]).map(W=>`users/${i.uid}/event_folders/${b.event_name}/${W}/thumbnails`),Y=await fetch("https://matchfacessequential-342bwz2clq-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selfie_url:v.selfieUrl,folder_paths:$,eventsregistryId:E})});if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);const z=await Y.json();console.log("AI Share result:",z),alert("AI Share process started successfully!")}catch(E){console.error("Error running AI Share:",E),alert("Error running AI Share: "+E.message)}finally{l(!1)}},m=(v,b,E)=>{f(`/folders/${v}/${b}/matches`,{state:{attendeeId:E,eventId:v,attendeeName:b}})};return t?x.jsx("div",{className:"d-flex justify-content-center align-items-center h-100",children:x.jsx("div",{className:"spinner-border text-primary",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):r.length===0?x.jsxs("div",{className:"text-center mt-5",children:[x.jsx("h3",{children:"No events found"}),x.jsx("p",{children:"Create an event to see attendee information"})]}):x.jsxs("div",{className:"container py-4",children:[x.jsx("h2",{className:"mb-4",children:"Events & Attendees"}),x.jsx("div",{className:"row g-4",children:r.map(v=>{var b;return x.jsx("div",{className:"col-12",children:x.jsx("div",{className:"card event-card",children:x.jsxs("div",{className:"card-body",children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[x.jsx("h5",{className:"card-title mb-0",children:v.event_name}),x.jsxs("span",{className:"badge bg-primary",children:[((b=v.attendees)==null?void 0:b.length)||0," Attendees"]})]}),x.jsxs("div",{className:"card-text mb-3",children:[x.jsxs("div",{className:"d-flex align-items-center mb-2",children:[x.jsx(IR,{className:"me-2"}),x.jsx("span",{children:new Date(v.date.toDate()).toLocaleDateString()})]}),x.jsxs("div",{className:"d-flex align-items-center",children:[x.jsx(PR,{className:"me-2"}),x.jsx("span",{children:v.event_location_name})]})]}),v.attendees&&v.attendees.length>0?x.jsx("div",{className:"table-responsive mt-3",children:x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Selfie"}),x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Phone"}),x.jsx("th",{children:"Registration Date"}),x.jsx("th",{children:"Status"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:v.attendees.map((E,M)=>{const D=c[E.id];return console.log(`Rendering attendee ${E.id}:`,{status:D,isCompleted:D==="completed"}),x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("img",{src:E.selfieUrl,alt:`${E.name}'s selfie`,className:"attendee-selfie rounded",style:{width:"50px",height:"50px",objectFit:"cover",cursor:"pointer"},onClick:()=>window.open(E.selfieUrl,"_blank")})}),x.jsx("td",{children:E.name}),x.jsx("td",{children:x.jsxs("div",{className:"d-flex align-items-center",children:[x.jsx(GV,{className:"me-2"}),E.phone]})}),x.jsx("td",{children:new Date(E.timestamp).toLocaleString()}),x.jsx("td",{children:x.jsx("span",{className:`badge ${E.verified?"bg-success":"bg-warning"}`,children:E.verified?"Verified":"Pending"})}),x.jsx("td",{children:x.jsxs("div",{className:"d-flex gap-2",children:[x.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>p(E,v),disabled:a,children:a?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Processing..."]}):"Run AI Share"}),x.jsx("button",{className:"btn btn-info btn-sm",onClick:()=>m(v.id,E.name,E.id),disabled:D!=="completed",title:D==="completed"?"View matches":`Status: ${D}`,children:"View Matches"})]})})]},M)})})]})}):x.jsx("div",{className:"text-center py-3",children:x.jsx("p",{className:"text-muted mb-0",children:"No attendees registered yet"})})]})})},v.id)})})]})},Wz=()=>{const[r,e]=T.useState([]),[t,n]=T.useState(!0),[i,a]=T.useState(null),l=qa(),c=rc(),{attendeeId:d,eventId:f,attendeeName:p}=l.state||{};return T.useEffect(()=>{if(!d){a("No attendee ID provided"),n(!1);return}const m=lR(ep(Os,"eventsregistry",d),v=>{try{if(v.exists()){const b=v.data();if(console.log("Raw data from Firestore:",b),b.aimatch&&Array.isArray(b.aimatch)){const E=b.aimatch.filter(M=>M.thumbnailUrl&&typeof M.thumbnailUrl=="string"&&M.thumbnailUrl.startsWith("http"));console.log("Valid matches:",E),e(E)}else console.log("No aimatch array found or invalid format"),e([])}else console.log("No document found"),e([])}catch(b){console.error("Error processing matches:",b),a("Error processing matches"),e([])}finally{n(!1)}},v=>{console.error("Error fetching matches:",v),a("Error fetching matches"),n(!1)});return()=>m()},[d]),t?x.jsx("div",{className:"container py-4",children:x.jsx("div",{className:"d-flex justify-content-center",children:x.jsx("div",{className:"spinner-border text-primary",role:"status",children:x.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):i?x.jsx("div",{className:"container py-4",children:x.jsx("div",{className:"alert alert-danger",children:i})}):!d||!f||!p?x.jsx("div",{className:"container py-4",children:x.jsx("div",{className:"alert alert-danger",children:"Missing required parameters"})}):x.jsxs("div",{className:"container py-4",children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[x.jsxs("div",{className:"d-flex align-items-center",children:[x.jsxs("button",{className:"btn btn-outline-primary me-3",onClick:()=>c(-1),children:[x.jsx(VV,{className:"me-2"}),"Back"]}),x.jsxs("h2",{className:"mb-0",children:[p,"'s Matches"]})]}),x.jsxs("div",{className:"badge bg-primary",children:[r.length," matches found"]})]}),r.length===0?x.jsx("div",{className:"alert alert-info",children:"No matches found for this attendee."}):x.jsx("div",{className:"row g-4",children:r.map((m,v)=>x.jsx("div",{className:"col-md-4 col-sm-6",children:x.jsxs("div",{className:"card h-100",children:[x.jsx("img",{src:m.thumbnailUrl,alt:`Match ${v+1}`,className:"card-img-top",style:{height:"200px",objectFit:"cover"},onError:b=>{console.error("Error loading image:",m.thumbnailUrl),b.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}}),x.jsxs("div",{className:"card-body",children:[x.jsxs("h5",{className:"card-title",children:["Match ",v+1]}),x.jsxs("div",{className:"d-flex justify-content-between",children:[x.jsxs("div",{children:[x.jsx("small",{className:"text-muted",children:"Similarity:"}),x.jsx("div",{className:"fw-bold",children:m.similarity?`${(m.similarity*100).toFixed(1)}%`:"N/A"})]}),x.jsxs("div",{children:[x.jsx("small",{className:"text-muted",children:"Confidence:"}),x.jsx("div",{className:"fw-bold",children:m.confidence?`${(m.confidence*100).toFixed(1)}%`:"N/A"})]})]})]})]})},v))})]})};function Gz(){return x.jsx(MV,{children:x.jsx(rO,{children:x.jsx(xz,{children:x.jsx(YL,{children:x.jsxs(EL,{children:[x.jsx(ta,{path:"/login",element:x.jsx(a6,{})}),x.jsxs(ta,{path:"/",element:x.jsx(kV,{children:x.jsx(s6,{})}),children:[x.jsx(ta,{index:!0,element:x.jsx(o6,{})}),x.jsx(ta,{path:"events",element:x.jsx(Dz,{})}),x.jsx(ta,{path:"analytics",element:x.jsx(Rz,{})}),x.jsx(ta,{path:"attendees",element:x.jsx($z,{})}),x.jsx(ta,{path:"folders",element:x.jsx(Mz,{})}),x.jsx(ta,{path:"folders/:eventId/:folderName",element:x.jsx(Bz,{})}),x.jsx(ta,{path:"folders/:eventId/:attendeeName/matches",element:x.jsx(Wz,{})})]}),x.jsx(ta,{path:"*",element:x.jsx(kx,{to:"/",replace:!0})})]})})})})})}var Gm={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Qz=Gm.exports,bx;function Kz(){return bx||(bx=1,function(r,e){(function(t,n){r.exports=n()})(Qz,function(){const t=new Map,n={set(q,_,R){t.has(q)||t.set(q,new Map);const Q=t.get(q);Q.has(_)||Q.size===0?Q.set(_,R):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Q.keys())[0]}.`)},get:(q,_)=>t.has(q)&&t.get(q).get(_)||null,remove(q,_){if(!t.has(q))return;const R=t.get(q);R.delete(_),R.size===0&&t.delete(q)}},i="transitionend",a=q=>(q&&window.CSS&&window.CSS.escape&&(q=q.replace(/#([^\s"#']+)/g,(_,R)=>`#${CSS.escape(R)}`)),q),l=q=>{q.dispatchEvent(new Event(i))},c=q=>!(!q||typeof q!="object")&&(q.jquery!==void 0&&(q=q[0]),q.nodeType!==void 0),d=q=>c(q)?q.jquery?q[0]:q:typeof q=="string"&&q.length>0?document.querySelector(a(q)):null,f=q=>{if(!c(q)||q.getClientRects().length===0)return!1;const _=getComputedStyle(q).getPropertyValue("visibility")==="visible",R=q.closest("details:not([open])");if(!R)return _;if(R!==q){const Q=q.closest("summary");if(Q&&Q.parentNode!==R||Q===null)return!1}return _},p=q=>!q||q.nodeType!==Node.ELEMENT_NODE||!!q.classList.contains("disabled")||(q.disabled!==void 0?q.disabled:q.hasAttribute("disabled")&&q.getAttribute("disabled")!=="false"),m=q=>{if(!document.documentElement.attachShadow)return null;if(typeof q.getRootNode=="function"){const _=q.getRootNode();return _ instanceof ShadowRoot?_:null}return q instanceof ShadowRoot?q:q.parentNode?m(q.parentNode):null},v=()=>{},b=q=>{q.offsetHeight},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],D=()=>document.documentElement.dir==="rtl",L=q=>{var _;_=()=>{const R=E();if(R){const Q=q.NAME,le=R.fn[Q];R.fn[Q]=q.jQueryInterface,R.fn[Q].Constructor=q,R.fn[Q].noConflict=()=>(R.fn[Q]=le,q.jQueryInterface)}},document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const R of M)R()}),M.push(_)):_()},$=(q,_=[],R=q)=>typeof q=="function"?q(..._):R,Y=(q,_,R=!0)=>{if(!R)return void $(q);const Q=(be=>{if(!be)return 0;let{transitionDuration:Ae,transitionDelay:Ie}=window.getComputedStyle(be);const ze=Number.parseFloat(Ae),je=Number.parseFloat(Ie);return ze||je?(Ae=Ae.split(",")[0],Ie=Ie.split(",")[0],1e3*(Number.parseFloat(Ae)+Number.parseFloat(Ie))):0})(_)+5;let le=!1;const ce=({target:be})=>{be===_&&(le=!0,_.removeEventListener(i,ce),$(q))};_.addEventListener(i,ce),setTimeout(()=>{le||l(_)},Q)},z=(q,_,R,Q)=>{const le=q.length;let ce=q.indexOf(_);return ce===-1?!R&&Q?q[le-1]:q[0]:(ce+=R?1:-1,Q&&(ce=(ce+le)%le),q[Math.max(0,Math.min(ce,le-1))])},W=/[^.]*(?=\..*)\.|.*/,H=/\..*/,I=/::\d+$/,C={};let S=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(q,_){return _&&`${_}::${S++}`||q.uidEvent||S++}function j(q){const _=F(q);return q.uidEvent=_,C[_]=C[_]||{},C[_]}function X(q,_,R=null){return Object.values(q).find(Q=>Q.callable===_&&Q.delegationSelector===R)}function J(q,_,R){const Q=typeof _=="string",le=Q?R:_||R;let ce=ne(q);return P.has(ce)||(ce=q),[Q,le,ce]}function U(q,_,R,Q,le){if(typeof _!="string"||!q)return;let[ce,be,Ae]=J(_,R,Q);_ in k&&(be=(et=>function(tt){if(!tt.relatedTarget||tt.relatedTarget!==tt.delegateTarget&&!tt.delegateTarget.contains(tt.relatedTarget))return et.call(this,tt)})(be));const Ie=j(q),ze=Ie[Ae]||(Ie[Ae]={}),je=X(ze,be,ce?R:null);if(je)return void(je.oneOff=je.oneOff&&le);const Ue=F(be,_.replace(W,"")),ft=ce?function(Xe,et,tt){return function at(en){const tn=Xe.querySelectorAll(et);for(let{target:mt}=en;mt&&mt!==this;mt=mt.parentNode)for(const Ht of tn)if(Ht===mt)return re(en,{delegateTarget:mt}),at.oneOff&&O.off(Xe,en.type,et,tt),tt.apply(mt,[en])}}(q,R,be):function(Xe,et){return function tt(at){return re(at,{delegateTarget:Xe}),tt.oneOff&&O.off(Xe,at.type,et),et.apply(Xe,[at])}}(q,be);ft.delegationSelector=ce?R:null,ft.callable=be,ft.oneOff=le,ft.uidEvent=Ue,ze[Ue]=ft,q.addEventListener(Ae,ft,ce)}function B(q,_,R,Q,le){const ce=X(_[R],Q,le);ce&&(q.removeEventListener(R,ce,!!le),delete _[R][ce.uidEvent])}function ee(q,_,R,Q){const le=_[R]||{};for(const[ce,be]of Object.entries(le))ce.includes(Q)&&B(q,_,R,be.callable,be.delegationSelector)}function ne(q){return q=q.replace(H,""),k[q]||q}const O={on(q,_,R,Q){U(q,_,R,Q,!1)},one(q,_,R,Q){U(q,_,R,Q,!0)},off(q,_,R,Q){if(typeof _!="string"||!q)return;const[le,ce,be]=J(_,R,Q),Ae=be!==_,Ie=j(q),ze=Ie[be]||{},je=_.startsWith(".");if(ce===void 0){if(je)for(const Ue of Object.keys(Ie))ee(q,Ie,Ue,_.slice(1));for(const[Ue,ft]of Object.entries(ze)){const Xe=Ue.replace(I,"");Ae&&!_.includes(Xe)||B(q,Ie,be,ft.callable,ft.delegationSelector)}}else{if(!Object.keys(ze).length)return;B(q,Ie,be,ce,le?R:null)}},trigger(q,_,R){if(typeof _!="string"||!q)return null;const Q=E();let le=null,ce=!0,be=!0,Ae=!1;_!==ne(_)&&Q&&(le=Q.Event(_,R),Q(q).trigger(le),ce=!le.isPropagationStopped(),be=!le.isImmediatePropagationStopped(),Ae=le.isDefaultPrevented());const Ie=re(new Event(_,{bubbles:ce,cancelable:!0}),R);return Ae&&Ie.preventDefault(),be&&q.dispatchEvent(Ie),Ie.defaultPrevented&&le&&le.preventDefault(),Ie}};function re(q,_={}){for(const[R,Q]of Object.entries(_))try{q[R]=Q}catch{Object.defineProperty(q,R,{configurable:!0,get:()=>Q})}return q}function oe(q){if(q==="true")return!0;if(q==="false")return!1;if(q===Number(q).toString())return Number(q);if(q===""||q==="null")return null;if(typeof q!="string")return q;try{return JSON.parse(decodeURIComponent(q))}catch{return q}}function ie(q){return q.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const ue={setDataAttribute(q,_,R){q.setAttribute(`data-bs-${ie(_)}`,R)},removeDataAttribute(q,_){q.removeAttribute(`data-bs-${ie(_)}`)},getDataAttributes(q){if(!q)return{};const _={},R=Object.keys(q.dataset).filter(Q=>Q.startsWith("bs")&&!Q.startsWith("bsConfig"));for(const Q of R){let le=Q.replace(/^bs/,"");le=le.charAt(0).toLowerCase()+le.slice(1,le.length),_[le]=oe(q.dataset[Q])}return _},getDataAttribute:(q,_)=>oe(q.getAttribute(`data-bs-${ie(_)}`))};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,R){const Q=c(R)?ue.getDataAttribute(R,"config"):{};return{...this.constructor.Default,...typeof Q=="object"?Q:{},...c(R)?ue.getDataAttributes(R):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,R=this.constructor.DefaultType){for(const[le,ce]of Object.entries(R)){const be=_[le],Ae=c(be)?"element":(Q=be)==null?`${Q}`:Object.prototype.toString.call(Q).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ce).test(Ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${le}" provided type "${Ae}" but expected type "${ce}".`)}var Q}}class we extends Z{constructor(_,R){super(),(_=d(_))&&(this._element=_,this._config=this._getConfig(R),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,R,Q=!0){Y(_,R,Q)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return n.get(d(_),this.DATA_KEY)}static getOrCreateInstance(_,R={}){return this.getInstance(_)||new this(_,typeof R=="object"?R:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const Pe=q=>{let _=q.getAttribute("data-bs-target");if(!_||_==="#"){let R=q.getAttribute("href");if(!R||!R.includes("#")&&!R.startsWith("."))return null;R.includes("#")&&!R.startsWith("#")&&(R=`#${R.split("#")[1]}`),_=R&&R!=="#"?R.trim():null}return _?_.split(",").map(R=>a(R)).join(","):null},me={find:(q,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,q)),findOne:(q,_=document.documentElement)=>Element.prototype.querySelector.call(_,q),children:(q,_)=>[].concat(...q.children).filter(R=>R.matches(_)),parents(q,_){const R=[];let Q=q.parentNode.closest(_);for(;Q;)R.push(Q),Q=Q.parentNode.closest(_);return R},prev(q,_){let R=q.previousElementSibling;for(;R;){if(R.matches(_))return[R];R=R.previousElementSibling}return[]},next(q,_){let R=q.nextElementSibling;for(;R;){if(R.matches(_))return[R];R=R.nextElementSibling}return[]},focusableChildren(q){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(R=>`${R}:not([tabindex^="-"])`).join(",");return this.find(_,q).filter(R=>!p(R)&&f(R))},getSelectorFromElement(q){const _=Pe(q);return _&&me.findOne(_)?_:null},getElementFromSelector(q){const _=Pe(q);return _?me.findOne(_):null},getMultipleElementsFromSelector(q){const _=Pe(q);return _?me.find(_):[]}},Be=(q,_="hide")=>{const R=`click.dismiss${q.EVENT_KEY}`,Q=q.NAME;O.on(document,R,`[data-bs-dismiss="${Q}"]`,function(le){if(["A","AREA"].includes(this.tagName)&&le.preventDefault(),p(this))return;const ce=me.getElementFromSelector(this)||this.closest(`.${Q}`);q.getOrCreateInstance(ce)[_]()})},Le=".bs.alert",Te=`close${Le}`,se=`closed${Le}`;class Ee extends we{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Te).defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),O.trigger(this._element,se),this.dispose()}static jQueryInterface(_){return this.each(function(){const R=Ee.getOrCreateInstance(this);if(typeof _=="string"){if(R[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);R[_](this)}})}}Be(Ee,"close"),L(Ee);const Ne='[data-bs-toggle="button"]';class ke extends we{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const R=ke.getOrCreateInstance(this);_==="toggle"&&R[_]()})}}O.on(document,"click.bs.button.data-api",Ne,q=>{q.preventDefault();const _=q.target.closest(Ne);ke.getOrCreateInstance(_).toggle()}),L(ke);const $e=".bs.swipe",Fe=`touchstart${$e}`,ut=`touchmove${$e}`,_t=`touchend${$e}`,Wt=`pointerdown${$e}`,ct=`pointerup${$e}`,cn={endCallback:null,leftCallback:null,rightCallback:null},Et={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class We extends Z{constructor(_,R){super(),this._element=_,_&&We.isSupported()&&(this._config=this._getConfig(R),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return cn}static get DefaultType(){return Et}static get NAME(){return"swipe"}dispose(){O.off(this._element,$e)}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const R=_/this._deltaX;this._deltaX=0,R&&$(R>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,Wt,_=>this._start(_)),O.on(this._element,ct,_=>this._end(_)),this._element.classList.add("pointer-event")):(O.on(this._element,Fe,_=>this._start(_)),O.on(this._element,ut,_=>this._move(_)),O.on(this._element,_t,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const bt=".bs.carousel",dt=".data-api",ht="next",Ct="prev",Nt="left",yn="right",Gn=`slide${bt}`,En=`slid${bt}`,Un=`keydown${bt}`,Hn=`mouseenter${bt}`,Cn=`mouseleave${bt}`,hi=`dragstart${bt}`,ei=`load${bt}${dt}`,Ri=`click${bt}${dt}`,ti="carousel",vr="active",jr=".active",jn=".carousel-item",sr=jr+jn,Qn={ArrowLeft:yn,ArrowRight:Nt},Sr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ni={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xn extends we{constructor(_,R){super(_,R),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ti&&this.cycle()}static get Default(){return Sr}static get DefaultType(){return ni}static get NAME(){return"carousel"}next(){this._slide(ht)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Ct)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,En,()=>this.cycle()):this.cycle())}to(_){const R=this._getItems();if(_>R.length-1||_<0)return;if(this._isSliding)return void O.one(this._element,En,()=>this.to(_));const Q=this._getItemIndex(this._getActive());if(Q===_)return;const le=_>Q?ht:Ct;this._slide(le,R[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&O.on(this._element,Un,_=>this._keydown(_)),this._config.pause==="hover"&&(O.on(this._element,Hn,()=>this.pause()),O.on(this._element,Cn,()=>this._maybeEnableCycle())),this._config.touch&&We.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const R of me.find(".carousel-item img",this._element))O.on(R,hi,Q=>Q.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(yn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new We(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const R=Qn[_.key];R&&(_.preventDefault(),this._slide(this._directionToOrder(R)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const R=me.findOne(jr,this._indicatorsElement);R.classList.remove(vr),R.removeAttribute("aria-current");const Q=me.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);Q&&(Q.classList.add(vr),Q.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const R=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=R||this._config.defaultInterval}_slide(_,R=null){if(this._isSliding)return;const Q=this._getActive(),le=_===ht,ce=R||z(this._getItems(),Q,le,this._config.wrap);if(ce===Q)return;const be=this._getItemIndex(ce),Ae=Ue=>O.trigger(this._element,Ue,{relatedTarget:ce,direction:this._orderToDirection(_),from:this._getItemIndex(Q),to:be});if(Ae(Gn).defaultPrevented||!Q||!ce)return;const Ie=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(be),this._activeElement=ce;const ze=le?"carousel-item-start":"carousel-item-end",je=le?"carousel-item-next":"carousel-item-prev";ce.classList.add(je),b(ce),Q.classList.add(ze),ce.classList.add(ze),this._queueCallback(()=>{ce.classList.remove(ze,je),ce.classList.add(vr),Q.classList.remove(vr,je,ze),this._isSliding=!1,Ae(En)},Q,this._isAnimated()),Ie&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return me.findOne(sr,this._element)}_getItems(){return me.find(jn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return D()?_===Nt?Ct:ht:_===Nt?ht:Ct}_orderToDirection(_){return D()?_===Ct?Nt:yn:_===Ct?yn:Nt}static jQueryInterface(_){return this.each(function(){const R=xn.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(R[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);R[_]()}}else R.to(_)})}}O.on(document,Ri,"[data-bs-slide], [data-bs-slide-to]",function(q){const _=me.getElementFromSelector(this);if(!_||!_.classList.contains(ti))return;q.preventDefault();const R=xn.getOrCreateInstance(_),Q=this.getAttribute("data-bs-slide-to");return Q?(R.to(Q),void R._maybeEnableCycle()):ue.getDataAttribute(this,"slide")==="next"?(R.next(),void R._maybeEnableCycle()):(R.prev(),void R._maybeEnableCycle())}),O.on(window,ei,()=>{const q=me.find('[data-bs-ride="carousel"]');for(const _ of q)xn.getOrCreateInstance(_)}),L(xn);const kn=".bs.collapse",Fo=`show${kn}`,Jt=`shown${kn}`,Ge=`hide${kn}`,Kn=`hidden${kn}`,Mi=`click${kn}.data-api`,Wa="show",da="collapse",Gi="collapsing",cc=`:scope .${da} .${da}`,Ps='[data-bs-toggle="collapse"]',ha={parent:null,toggle:!0},Us={parent:"(null|element)",toggle:"boolean"};class Vr extends we{constructor(_,R){super(_,R),this._isTransitioning=!1,this._triggerArray=[];const Q=me.find(Ps);for(const le of Q){const ce=me.getSelectorFromElement(le),be=me.find(ce).filter(Ae=>Ae===this._element);ce!==null&&be.length&&this._triggerArray.push(le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ha}static get DefaultType(){return Us}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(le=>le!==this._element).map(le=>Vr.getOrCreateInstance(le,{toggle:!1}))),_.length&&_[0]._isTransitioning||O.trigger(this._element,Fo).defaultPrevented)return;for(const le of _)le.hide();const R=this._getDimension();this._element.classList.remove(da),this._element.classList.add(Gi),this._element.style[R]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Q=`scroll${R[0].toUpperCase()+R.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(da,Wa),this._element.style[R]="",O.trigger(this._element,Jt)},this._element,!0),this._element.style[R]=`${this._element[Q]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,Ge).defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,b(this._element),this._element.classList.add(Gi),this._element.classList.remove(da,Wa);for(const R of this._triggerArray){const Q=me.getElementFromSelector(R);Q&&!this._isShown(Q)&&this._addAriaAndCollapsedClass([R],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(da),O.trigger(this._element,Kn)},this._element,!0)}_isShown(_=this._element){return _.classList.contains(Wa)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=d(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Ps);for(const R of _){const Q=me.getElementFromSelector(R);Q&&this._addAriaAndCollapsedClass([R],this._isShown(Q))}}_getFirstLevelChildren(_){const R=me.find(cc,this._config.parent);return me.find(_,this._config.parent).filter(Q=>!R.includes(Q))}_addAriaAndCollapsedClass(_,R){if(_.length)for(const Q of _)Q.classList.toggle("collapsed",!R),Q.setAttribute("aria-expanded",R)}static jQueryInterface(_){const R={};return typeof _=="string"&&/show|hide/.test(_)&&(R.toggle=!1),this.each(function(){const Q=Vr.getOrCreateInstance(this,R);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_]()}})}}O.on(document,Mi,Ps,function(q){(q.target.tagName==="A"||q.delegateTarget&&q.delegateTarget.tagName==="A")&&q.preventDefault();for(const _ of me.getMultipleElementsFromSelector(this))Vr.getOrCreateInstance(_,{toggle:!1}).toggle()}),L(Vr);var An="top",dn="bottom",Bt="right",ar="left",js="auto",Cr=[An,dn,Bt,ar],Br="start",Vs="end",ou="clippingParents",Bs="viewport",Fs="popper",zs="reference",ki=Cr.reduce(function(q,_){return q.concat([_+"-"+Br,_+"-"+Vs])},[]),or=[].concat(Cr,[js]).reduce(function(q,_){return q.concat([_,_+"-"+Br,_+"-"+Vs])},[]),fa="beforeRead",lu="read",cs="afterRead",Ga="beforeMain",Qa="main",zo="afterMain",Ka="beforeWrite",xr="write",Ho="afterWrite",dc=[fa,lu,cs,Ga,Qa,zo,Ka,xr,Ho];function Fr(q){return q?(q.nodeName||"").toLowerCase():null}function yr(q){if(q==null)return window;if(q.toString()!=="[object Window]"){var _=q.ownerDocument;return _&&_.defaultView||window}return q}function fi(q){return q instanceof yr(q).Element||q instanceof Element}function ri(q){return q instanceof yr(q).HTMLElement||q instanceof HTMLElement}function Vn(q){return typeof ShadowRoot<"u"&&(q instanceof yr(q).ShadowRoot||q instanceof ShadowRoot)}const zr={name:"applyStyles",enabled:!0,phase:"write",fn:function(q){var _=q.state;Object.keys(_.elements).forEach(function(R){var Q=_.styles[R]||{},le=_.attributes[R]||{},ce=_.elements[R];ri(ce)&&Fr(ce)&&(Object.assign(ce.style,Q),Object.keys(le).forEach(function(be){var Ae=le[be];Ae===!1?ce.removeAttribute(be):ce.setAttribute(be,Ae===!0?"":Ae)}))})},effect:function(q){var _=q.state,R={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,R.popper),_.styles=R,_.elements.arrow&&Object.assign(_.elements.arrow.style,R.arrow),function(){Object.keys(_.elements).forEach(function(Q){var le=_.elements[Q],ce=_.attributes[Q]||{},be=Object.keys(_.styles.hasOwnProperty(Q)?_.styles[Q]:R[Q]).reduce(function(Ae,Ie){return Ae[Ie]="",Ae},{});ri(le)&&Fr(le)&&(Object.assign(le.style,be),Object.keys(ce).forEach(function(Ae){le.removeAttribute(Ae)}))})}},requires:["computeStyles"]};function Ar(q){return q.split("-")[0]}var ii=Math.max,Li=Math.min,Ft=Math.round;function Hs(){var q=navigator.userAgentData;return q!=null&&q.brands&&Array.isArray(q.brands)?q.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function pi(){return!/^((?!chrome|android).)*safari/i.test(Hs())}function Oi(q,_,R){_===void 0&&(_=!1),R===void 0&&(R=!1);var Q=q.getBoundingClientRect(),le=1,ce=1;_&&ri(q)&&(le=q.offsetWidth>0&&Ft(Q.width)/q.offsetWidth||1,ce=q.offsetHeight>0&&Ft(Q.height)/q.offsetHeight||1);var be=(fi(q)?yr(q):window).visualViewport,Ae=!pi()&&R,Ie=(Q.left+(Ae&&be?be.offsetLeft:0))/le,ze=(Q.top+(Ae&&be?be.offsetTop:0))/ce,je=Q.width/le,Ue=Q.height/ce;return{width:je,height:Ue,top:ze,right:Ie+je,bottom:ze+Ue,left:Ie,x:Ie,y:ze}}function qo(q){var _=Oi(q),R=q.offsetWidth,Q=q.offsetHeight;return Math.abs(_.width-R)<=1&&(R=_.width),Math.abs(_.height-Q)<=1&&(Q=_.height),{x:q.offsetLeft,y:q.offsetTop,width:R,height:Q}}function Yo(q,_){var R=_.getRootNode&&_.getRootNode();if(q.contains(_))return!0;if(R&&Vn(R)){var Q=_;do{if(Q&&q.isSameNode(Q))return!0;Q=Q.parentNode||Q.host}while(Q)}return!1}function mi(q){return yr(q).getComputedStyle(q)}function Qd(q){return["table","td","th"].indexOf(Fr(q))>=0}function ds(q){return((fi(q)?q.ownerDocument:q.document)||window.document).documentElement}function qs(q){return Fr(q)==="html"?q:q.assignedSlot||q.parentNode||(Vn(q)?q.host:null)||ds(q)}function hs(q){return ri(q)&&mi(q).position!=="fixed"?q.offsetParent:null}function Dr(q){for(var _=yr(q),R=hs(q);R&&Qd(R)&&mi(R).position==="static";)R=hs(R);return R&&(Fr(R)==="html"||Fr(R)==="body"&&mi(R).position==="static")?_:R||function(Q){var le=/firefox/i.test(Hs());if(/Trident/i.test(Hs())&&ri(Q)&&mi(Q).position==="fixed")return null;var ce=qs(Q);for(Vn(ce)&&(ce=ce.host);ri(ce)&&["html","body"].indexOf(Fr(ce))<0;){var be=mi(ce);if(be.transform!=="none"||be.perspective!=="none"||be.contain==="paint"||["transform","perspective"].indexOf(be.willChange)!==-1||le&&be.willChange==="filter"||le&&be.filter&&be.filter!=="none")return ce;ce=ce.parentNode}return null}(q)||_}function Qi(q){return["top","bottom"].indexOf(q)>=0?"x":"y"}function gi(q,_,R){return ii(q,Li(_,R))}function $o(q){return Object.assign({},{top:0,right:0,bottom:0,left:0},q)}function Ki(q,_){return _.reduce(function(R,Q){return R[Q]=q,R},{})}const uu={name:"arrow",enabled:!0,phase:"main",fn:function(q){var _,R=q.state,Q=q.name,le=q.options,ce=R.elements.arrow,be=R.modifiersData.popperOffsets,Ae=Ar(R.placement),Ie=Qi(Ae),ze=[ar,Bt].indexOf(Ae)>=0?"height":"width";if(ce&&be){var je=function(sn,Qt){return $o(typeof(sn=typeof sn=="function"?sn(Object.assign({},Qt.rects,{placement:Qt.placement})):sn)!="number"?sn:Ki(sn,Cr))}(le.padding,R),Ue=qo(ce),ft=Ie==="y"?An:ar,Xe=Ie==="y"?dn:Bt,et=R.rects.reference[ze]+R.rects.reference[Ie]-be[Ie]-R.rects.popper[ze],tt=be[Ie]-R.rects.reference[Ie],at=Dr(ce),en=at?Ie==="y"?at.clientHeight||0:at.clientWidth||0:0,tn=et/2-tt/2,mt=je[ft],Ht=en-Ue[ze]-je[Xe],yt=en/2-Ue[ze]/2+tn,wt=gi(mt,yt,Ht),qt=Ie;R.modifiersData[Q]=((_={})[qt]=wt,_.centerOffset=wt-yt,_)}},effect:function(q){var _=q.state,R=q.options.element,Q=R===void 0?"[data-popper-arrow]":R;Q!=null&&(typeof Q!="string"||(Q=_.elements.popper.querySelector(Q)))&&Yo(_.elements.popper,Q)&&(_.elements.arrow=Q)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ii(q){return q.split("-")[1]}var Xi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vi(q){var _,R=q.popper,Q=q.popperRect,le=q.placement,ce=q.variation,be=q.offsets,Ae=q.position,Ie=q.gpuAcceleration,ze=q.adaptive,je=q.roundOffsets,Ue=q.isFixed,ft=be.x,Xe=ft===void 0?0:ft,et=be.y,tt=et===void 0?0:et,at=typeof je=="function"?je({x:Xe,y:tt}):{x:Xe,y:tt};Xe=at.x,tt=at.y;var en=be.hasOwnProperty("x"),tn=be.hasOwnProperty("y"),mt=ar,Ht=An,yt=window;if(ze){var wt=Dr(R),qt="clientHeight",sn="clientWidth";wt===yr(R)&&mi(wt=ds(R)).position!=="static"&&Ae==="absolute"&&(qt="scrollHeight",sn="scrollWidth"),(le===An||(le===ar||le===Bt)&&ce===Vs)&&(Ht=dn,tt-=(Ue&&wt===yt&&yt.visualViewport?yt.visualViewport.height:wt[qt])-Q.height,tt*=Ie?1:-1),le!==ar&&(le!==An&&le!==dn||ce!==Vs)||(mt=Bt,Xe-=(Ue&&wt===yt&&yt.visualViewport?yt.visualViewport.width:wt[sn])-Q.width,Xe*=Ie?1:-1)}var Qt,On=Object.assign({position:Ae},ze&&Xi),Jn=je===!0?function(nt,gt){var Kt=nt.x,Yr=nt.y,hn=gt.devicePixelRatio||1;return{x:Ft(Kt*hn)/hn||0,y:Ft(Yr*hn)/hn||0}}({x:Xe,y:tt},yr(R)):{x:Xe,y:tt};return Xe=Jn.x,tt=Jn.y,Ie?Object.assign({},On,((Qt={})[Ht]=tn?"0":"",Qt[mt]=en?"0":"",Qt.transform=(yt.devicePixelRatio||1)<=1?"translate("+Xe+"px, "+tt+"px)":"translate3d("+Xe+"px, "+tt+"px, 0)",Qt)):Object.assign({},On,((_={})[Ht]=tn?tt+"px":"",_[mt]=en?Xe+"px":"",_.transform="",_))}const Ys={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(q){var _=q.state,R=q.options,Q=R.gpuAcceleration,le=Q===void 0||Q,ce=R.adaptive,be=ce===void 0||ce,Ae=R.roundOffsets,Ie=Ae===void 0||Ae,ze={placement:Ar(_.placement),variation:Ii(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:le,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,vi(Object.assign({},ze,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:be,roundOffsets:Ie})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,vi(Object.assign({},ze,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ie})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var yi={passive:!0};const fs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(q){var _=q.state,R=q.instance,Q=q.options,le=Q.scroll,ce=le===void 0||le,be=Q.resize,Ae=be===void 0||be,Ie=yr(_.elements.popper),ze=[].concat(_.scrollParents.reference,_.scrollParents.popper);return ce&&ze.forEach(function(je){je.addEventListener("scroll",R.update,yi)}),Ae&&Ie.addEventListener("resize",R.update,yi),function(){ce&&ze.forEach(function(je){je.removeEventListener("scroll",R.update,yi)}),Ae&&Ie.removeEventListener("resize",R.update,yi)}},data:{}};var $s={left:"right",right:"left",bottom:"top",top:"bottom"};function pa(q){return q.replace(/left|right|bottom|top/g,function(_){return $s[_]})}var ps={start:"end",end:"start"};function Zi(q){return q.replace(/start|end/g,function(_){return ps[_]})}function Xa(q){var _=yr(q);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function Xn(q){return Oi(ds(q)).left+Xa(q).scrollLeft}function zt(q){var _=mi(q),R=_.overflow,Q=_.overflowX,le=_.overflowY;return/auto|scroll|overlay|hidden/.test(R+le+Q)}function Za(q){return["html","body","#document"].indexOf(Fr(q))>=0?q.ownerDocument.body:ri(q)&&zt(q)?q:Za(qs(q))}function Ji(q,_){var R;_===void 0&&(_=[]);var Q=Za(q),le=Q===((R=q.ownerDocument)==null?void 0:R.body),ce=yr(Q),be=le?[ce].concat(ce.visualViewport||[],zt(Q)?Q:[]):Q,Ae=_.concat(be);return le?Ae:Ae.concat(Ji(qs(be)))}function Wo(q){return Object.assign({},q,{left:q.x,top:q.y,right:q.x+q.width,bottom:q.y+q.height})}function Ja(q,_,R){return _===Bs?Wo(function(Q,le){var ce=yr(Q),be=ds(Q),Ae=ce.visualViewport,Ie=be.clientWidth,ze=be.clientHeight,je=0,Ue=0;if(Ae){Ie=Ae.width,ze=Ae.height;var ft=pi();(ft||!ft&&le==="fixed")&&(je=Ae.offsetLeft,Ue=Ae.offsetTop)}return{width:Ie,height:ze,x:je+Xn(Q),y:Ue}}(q,R)):fi(_)?function(Q,le){var ce=Oi(Q,!1,le==="fixed");return ce.top=ce.top+Q.clientTop,ce.left=ce.left+Q.clientLeft,ce.bottom=ce.top+Q.clientHeight,ce.right=ce.left+Q.clientWidth,ce.width=Q.clientWidth,ce.height=Q.clientHeight,ce.x=ce.left,ce.y=ce.top,ce}(_,R):Wo(function(Q){var le,ce=ds(Q),be=Xa(Q),Ae=(le=Q.ownerDocument)==null?void 0:le.body,Ie=ii(ce.scrollWidth,ce.clientWidth,Ae?Ae.scrollWidth:0,Ae?Ae.clientWidth:0),ze=ii(ce.scrollHeight,ce.clientHeight,Ae?Ae.scrollHeight:0,Ae?Ae.clientHeight:0),je=-be.scrollLeft+Xn(Q),Ue=-be.scrollTop;return mi(Ae||ce).direction==="rtl"&&(je+=ii(ce.clientWidth,Ae?Ae.clientWidth:0)-Ie),{width:Ie,height:ze,x:je,y:Ue}}(ds(q)))}function eo(q){var _,R=q.reference,Q=q.element,le=q.placement,ce=le?Ar(le):null,be=le?Ii(le):null,Ae=R.x+R.width/2-Q.width/2,Ie=R.y+R.height/2-Q.height/2;switch(ce){case An:_={x:Ae,y:R.y-Q.height};break;case dn:_={x:Ae,y:R.y+R.height};break;case Bt:_={x:R.x+R.width,y:Ie};break;case ar:_={x:R.x-Q.width,y:Ie};break;default:_={x:R.x,y:R.y}}var ze=ce?Qi(ce):null;if(ze!=null){var je=ze==="y"?"height":"width";switch(be){case Br:_[ze]=_[ze]-(R[je]/2-Q[je]/2);break;case Vs:_[ze]=_[ze]+(R[je]/2-Q[je]/2)}}return _}function Hr(q,_){_===void 0&&(_={});var R=_,Q=R.placement,le=Q===void 0?q.placement:Q,ce=R.strategy,be=ce===void 0?q.strategy:ce,Ae=R.boundary,Ie=Ae===void 0?ou:Ae,ze=R.rootBoundary,je=ze===void 0?Bs:ze,Ue=R.elementContext,ft=Ue===void 0?Fs:Ue,Xe=R.altBoundary,et=Xe!==void 0&&Xe,tt=R.padding,at=tt===void 0?0:tt,en=$o(typeof at!="number"?at:Ki(at,Cr)),tn=ft===Fs?zs:Fs,mt=q.rects.popper,Ht=q.elements[et?tn:ft],yt=function(gt,Kt,Yr,hn){var kr=Kt==="clippingParents"?function(fn){var Mt=Ji(qs(fn)),si=["absolute","fixed"].indexOf(mi(fn).position)>=0&&ri(fn)?Dr(fn):fn;return fi(si)?Mt.filter(function(Ss){return fi(Ss)&&Yo(Ss,si)&&Fr(Ss)!=="body"}):[]}(gt):[].concat(Kt),Ei=[].concat(kr,[Yr]),Ts=Ei[0],In=Ei.reduce(function(fn,Mt){var si=Ja(gt,Mt,hn);return fn.top=ii(si.top,fn.top),fn.right=Li(si.right,fn.right),fn.bottom=Li(si.bottom,fn.bottom),fn.left=ii(si.left,fn.left),fn},Ja(gt,Ts,hn));return In.width=In.right-In.left,In.height=In.bottom-In.top,In.x=In.left,In.y=In.top,In}(fi(Ht)?Ht:Ht.contextElement||ds(q.elements.popper),Ie,je,be),wt=Oi(q.elements.reference),qt=eo({reference:wt,element:mt,placement:le}),sn=Wo(Object.assign({},mt,qt)),Qt=ft===Fs?sn:wt,On={top:yt.top-Qt.top+en.top,bottom:Qt.bottom-yt.bottom+en.bottom,left:yt.left-Qt.left+en.left,right:Qt.right-yt.right+en.right},Jn=q.modifiersData.offset;if(ft===Fs&&Jn){var nt=Jn[le];Object.keys(On).forEach(function(gt){var Kt=[Bt,dn].indexOf(gt)>=0?1:-1,Yr=[An,dn].indexOf(gt)>=0?"y":"x";On[gt]+=nt[Yr]*Kt})}return On}function to(q,_){_===void 0&&(_={});var R=_,Q=R.placement,le=R.boundary,ce=R.rootBoundary,be=R.padding,Ae=R.flipVariations,Ie=R.allowedAutoPlacements,ze=Ie===void 0?or:Ie,je=Ii(Q),Ue=je?Ae?ki:ki.filter(function(et){return Ii(et)===je}):Cr,ft=Ue.filter(function(et){return ze.indexOf(et)>=0});ft.length===0&&(ft=Ue);var Xe=ft.reduce(function(et,tt){return et[tt]=Hr(q,{placement:tt,boundary:le,rootBoundary:ce,padding:be})[Ar(tt)],et},{});return Object.keys(Xe).sort(function(et,tt){return Xe[et]-Xe[tt]})}const _i={name:"flip",enabled:!0,phase:"main",fn:function(q){var _=q.state,R=q.options,Q=q.name;if(!_.modifiersData[Q]._skip){for(var le=R.mainAxis,ce=le===void 0||le,be=R.altAxis,Ae=be===void 0||be,Ie=R.fallbackPlacements,ze=R.padding,je=R.boundary,Ue=R.rootBoundary,ft=R.altBoundary,Xe=R.flipVariations,et=Xe===void 0||Xe,tt=R.allowedAutoPlacements,at=_.options.placement,en=Ar(at),tn=Ie||(en!==at&&et?function(fn){if(Ar(fn)===js)return[];var Mt=pa(fn);return[Zi(fn),Mt,Zi(Mt)]}(at):[pa(at)]),mt=[at].concat(tn).reduce(function(fn,Mt){return fn.concat(Ar(Mt)===js?to(_,{placement:Mt,boundary:je,rootBoundary:Ue,padding:ze,flipVariations:et,allowedAutoPlacements:tt}):Mt)},[]),Ht=_.rects.reference,yt=_.rects.popper,wt=new Map,qt=!0,sn=mt[0],Qt=0;Qt<mt.length;Qt++){var On=mt[Qt],Jn=Ar(On),nt=Ii(On)===Br,gt=[An,dn].indexOf(Jn)>=0,Kt=gt?"width":"height",Yr=Hr(_,{placement:On,boundary:je,rootBoundary:Ue,altBoundary:ft,padding:ze}),hn=gt?nt?Bt:ar:nt?dn:An;Ht[Kt]>yt[Kt]&&(hn=pa(hn));var kr=pa(hn),Ei=[];if(ce&&Ei.push(Yr[Jn]<=0),Ae&&Ei.push(Yr[hn]<=0,Yr[kr]<=0),Ei.every(function(fn){return fn})){sn=On,qt=!1;break}wt.set(On,Ei)}if(qt)for(var Ts=function(fn){var Mt=mt.find(function(si){var Ss=wt.get(si);if(Ss)return Ss.slice(0,fn).every(function(xu){return xu})});if(Mt)return sn=Mt,"break"},In=et?3:1;In>0&&Ts(In)!=="break";In--);_.placement!==sn&&(_.modifiersData[Q]._skip=!0,_.placement=sn,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cu(q,_,R){return R===void 0&&(R={x:0,y:0}),{top:q.top-_.height-R.y,right:q.right-_.width+R.x,bottom:q.bottom-_.height+R.y,left:q.left-_.width-R.x}}function hc(q){return[An,Bt,dn,ar].some(function(_){return q[_]>=0})}const ma={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(q){var _=q.state,R=q.name,Q=_.rects.reference,le=_.rects.popper,ce=_.modifiersData.preventOverflow,be=Hr(_,{elementContext:"reference"}),Ae=Hr(_,{altBoundary:!0}),Ie=cu(be,Q),ze=cu(Ae,le,ce),je=hc(Ie),Ue=hc(ze);_.modifiersData[R]={referenceClippingOffsets:Ie,popperEscapeOffsets:ze,isReferenceHidden:je,hasPopperEscaped:Ue},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":je,"data-popper-escaped":Ue})}},no={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(q){var _=q.state,R=q.options,Q=q.name,le=R.offset,ce=le===void 0?[0,0]:le,be=or.reduce(function(je,Ue){return je[Ue]=function(ft,Xe,et){var tt=Ar(ft),at=[ar,An].indexOf(tt)>=0?-1:1,en=typeof et=="function"?et(Object.assign({},Xe,{placement:ft})):et,tn=en[0],mt=en[1];return tn=tn||0,mt=(mt||0)*at,[ar,Bt].indexOf(tt)>=0?{x:mt,y:tn}:{x:tn,y:mt}}(Ue,_.rects,ce),je},{}),Ae=be[_.placement],Ie=Ae.x,ze=Ae.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=Ie,_.modifiersData.popperOffsets.y+=ze),_.modifiersData[Q]=be}},ro={name:"popperOffsets",enabled:!0,phase:"read",fn:function(q){var _=q.state,R=q.name;_.modifiersData[R]=eo({reference:_.rects.reference,element:_.rects.popper,placement:_.placement})},data:{}},io={name:"preventOverflow",enabled:!0,phase:"main",fn:function(q){var _=q.state,R=q.options,Q=q.name,le=R.mainAxis,ce=le===void 0||le,be=R.altAxis,Ae=be!==void 0&&be,Ie=R.boundary,ze=R.rootBoundary,je=R.altBoundary,Ue=R.padding,ft=R.tether,Xe=ft===void 0||ft,et=R.tetherOffset,tt=et===void 0?0:et,at=Hr(_,{boundary:Ie,rootBoundary:ze,padding:Ue,altBoundary:je}),en=Ar(_.placement),tn=Ii(_.placement),mt=!tn,Ht=Qi(en),yt=Ht==="x"?"y":"x",wt=_.modifiersData.popperOffsets,qt=_.rects.reference,sn=_.rects.popper,Qt=typeof tt=="function"?tt(Object.assign({},_.rects,{placement:_.placement})):tt,On=typeof Qt=="number"?{mainAxis:Qt,altAxis:Qt}:Object.assign({mainAxis:0,altAxis:0},Qt),Jn=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,nt={x:0,y:0};if(wt){if(ce){var gt,Kt=Ht==="y"?An:ar,Yr=Ht==="y"?dn:Bt,hn=Ht==="y"?"height":"width",kr=wt[Ht],Ei=kr+at[Kt],Ts=kr-at[Yr],In=Xe?-sn[hn]/2:0,fn=tn===Br?qt[hn]:sn[hn],Mt=tn===Br?-sn[hn]:-qt[hn],si=_.elements.arrow,Ss=Xe&&si?qo(si):{width:0,height:0},xu=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_h=xu[Kt],xp=xu[Yr],ol=gi(0,qt[hn],Ss[hn]),bh=mt?qt[hn]/2-In-ol-_h-On.mainAxis:fn-ol-_h-On.mainAxis,wh=mt?-qt[hn]/2+In+ol+xp+On.mainAxis:Mt+ol+xp+On.mainAxis,Lr=_.elements.arrow&&Dr(_.elements.arrow),er=Lr?Ht==="y"?Lr.clientTop||0:Lr.clientLeft||0:0,Ic=(gt=Jn==null?void 0:Jn[Ht])!=null?gt:0,Au=kr+wh-Ic,Du=gi(Xe?Li(Ei,kr+bh-Ic-er):Ei,kr,Xe?ii(Ts,Au):Ts);wt[Ht]=Du,nt[Ht]=Du-kr}if(Ae){var Nc,Xs=Ht==="x"?An:ar,Pc=Ht==="x"?dn:Bt,Zs=wt[yt],ll=yt==="y"?"height":"width",Eh=Zs+at[Xs],Th=Zs-at[Pc],Uc=[An,ar].indexOf(en)!==-1,Sh=(Nc=Jn==null?void 0:Jn[yt])!=null?Nc:0,Ch=Uc?Eh:Zs-qt[ll]-sn[ll]-Sh+On.altAxis,xh=Uc?Zs+qt[ll]+sn[ll]-Sh-On.altAxis:Th,jc=Xe&&Uc?function(Ap,Nv,Vc){var Ah=gi(Ap,Nv,Vc);return Ah>Vc?Vc:Ah}(Ch,Zs,xh):gi(Xe?Ch:Eh,Zs,Xe?xh:Th);wt[yt]=jc,nt[yt]=jc-Zs}_.modifiersData[Q]=nt}},requiresIfExists:["offset"]};function fc(q,_,R){R===void 0&&(R=!1);var Q,le,ce=ri(_),be=ri(_)&&function(Ue){var ft=Ue.getBoundingClientRect(),Xe=Ft(ft.width)/Ue.offsetWidth||1,et=Ft(ft.height)/Ue.offsetHeight||1;return Xe!==1||et!==1}(_),Ae=ds(_),Ie=Oi(q,be,R),ze={scrollLeft:0,scrollTop:0},je={x:0,y:0};return(ce||!ce&&!R)&&((Fr(_)!=="body"||zt(Ae))&&(ze=(Q=_)!==yr(Q)&&ri(Q)?{scrollLeft:(le=Q).scrollLeft,scrollTop:le.scrollTop}:Xa(Q)),ri(_)?((je=Oi(_,!0)).x+=_.clientLeft,je.y+=_.clientTop):Ae&&(je.x=Xn(Ae))),{x:Ie.left+ze.scrollLeft-je.x,y:Ie.top+ze.scrollTop-je.y,width:Ie.width,height:Ie.height}}function Go(q){var _=new Map,R=new Set,Q=[];function le(ce){R.add(ce.name),[].concat(ce.requires||[],ce.requiresIfExists||[]).forEach(function(be){if(!R.has(be)){var Ae=_.get(be);Ae&&le(Ae)}}),Q.push(ce)}return q.forEach(function(ce){_.set(ce.name,ce)}),q.forEach(function(ce){R.has(ce.name)||le(ce)}),Q}var pc={placement:"bottom",modifiers:[],strategy:"absolute"};function Qo(){for(var q=arguments.length,_=new Array(q),R=0;R<q;R++)_[R]=arguments[R];return!_.some(function(Q){return!(Q&&typeof Q.getBoundingClientRect=="function")})}function ms(q){q===void 0&&(q={});var _=q,R=_.defaultModifiers,Q=R===void 0?[]:R,le=_.defaultOptions,ce=le===void 0?pc:le;return function(be,Ae,Ie){Ie===void 0&&(Ie=ce);var ze,je,Ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},pc,ce),modifiersData:{},elements:{reference:be,popper:Ae},attributes:{},styles:{}},ft=[],Xe=!1,et={state:Ue,setOptions:function(at){var en=typeof at=="function"?at(Ue.options):at;tt(),Ue.options=Object.assign({},ce,Ue.options,en),Ue.scrollParents={reference:fi(be)?Ji(be):be.contextElement?Ji(be.contextElement):[],popper:Ji(Ae)};var tn,mt,Ht=function(yt){var wt=Go(yt);return dc.reduce(function(qt,sn){return qt.concat(wt.filter(function(Qt){return Qt.phase===sn}))},[])}((tn=[].concat(Q,Ue.options.modifiers),mt=tn.reduce(function(yt,wt){var qt=yt[wt.name];return yt[wt.name]=qt?Object.assign({},qt,wt,{options:Object.assign({},qt.options,wt.options),data:Object.assign({},qt.data,wt.data)}):wt,yt},{}),Object.keys(mt).map(function(yt){return mt[yt]})));return Ue.orderedModifiers=Ht.filter(function(yt){return yt.enabled}),Ue.orderedModifiers.forEach(function(yt){var wt=yt.name,qt=yt.options,sn=qt===void 0?{}:qt,Qt=yt.effect;if(typeof Qt=="function"){var On=Qt({state:Ue,name:wt,instance:et,options:sn});ft.push(On||function(){})}}),et.update()},forceUpdate:function(){if(!Xe){var at=Ue.elements,en=at.reference,tn=at.popper;if(Qo(en,tn)){Ue.rects={reference:fc(en,Dr(tn),Ue.options.strategy==="fixed"),popper:qo(tn)},Ue.reset=!1,Ue.placement=Ue.options.placement,Ue.orderedModifiers.forEach(function(Qt){return Ue.modifiersData[Qt.name]=Object.assign({},Qt.data)});for(var mt=0;mt<Ue.orderedModifiers.length;mt++)if(Ue.reset!==!0){var Ht=Ue.orderedModifiers[mt],yt=Ht.fn,wt=Ht.options,qt=wt===void 0?{}:wt,sn=Ht.name;typeof yt=="function"&&(Ue=yt({state:Ue,options:qt,name:sn,instance:et})||Ue)}else Ue.reset=!1,mt=-1}}},update:(ze=function(){return new Promise(function(at){et.forceUpdate(),at(Ue)})},function(){return je||(je=new Promise(function(at){Promise.resolve().then(function(){je=void 0,at(ze())})})),je}),destroy:function(){tt(),Xe=!0}};if(!Qo(be,Ae))return et;function tt(){ft.forEach(function(at){return at()}),ft=[]}return et.setOptions(Ie).then(function(at){!Xe&&Ie.onFirstUpdate&&Ie.onFirstUpdate(at)}),et}}var mc=ms(),gc=ms({defaultModifiers:[fs,ro,Ys,zr]}),so=ms({defaultModifiers:[fs,ro,Ys,zr,no,_i,io,uu,ma]});const ga=Object.freeze(Object.defineProperty({__proto__:null,afterMain:zo,afterRead:cs,afterWrite:Ho,applyStyles:zr,arrow:uu,auto:js,basePlacements:Cr,beforeMain:Ga,beforeRead:fa,beforeWrite:Ka,bottom:dn,clippingParents:ou,computeStyles:Ys,createPopper:so,createPopperBase:mc,createPopperLite:gc,detectOverflow:Hr,end:Vs,eventListeners:fs,flip:_i,hide:ma,left:ar,main:Qa,modifierPhases:dc,offset:no,placements:or,popper:Fs,popperGenerator:ms,popperOffsets:ro,preventOverflow:io,read:lu,reference:zs,right:Bt,start:Br,top:An,variationPlacements:ki,viewport:Bs,write:xr},Symbol.toStringTag,{value:"Module"})),du="dropdown",Ni=".bs.dropdown",Ko=".data-api",hu="ArrowUp",gs="ArrowDown",vc=`hide${Ni}`,yc=`hidden${Ni}`,_c=`show${Ni}`,bc=`shown${Ni}`,ao=`click${Ni}${Ko}`,Rr=`keydown${Ni}${Ko}`,wc=`keyup${Ni}${Ko}`,Ws="show",Mr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',g=`${Mr}.${Ws}`,A=".dropdown-menu",N=D()?"top-end":"top-start",K=D()?"top-start":"top-end",he=D()?"bottom-end":"bottom-start",_e=D()?"bottom-start":"bottom-end",Oe=D()?"left-start":"right-start",Pt=D()?"right-start":"left-start",lr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ut={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends we{constructor(_,R){super(_,R),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,A)[0]||me.prev(this._element,A)[0]||me.findOne(A,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lr}static get DefaultType(){return Ut}static get NAME(){return du}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!O.trigger(this._element,_c,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const R of[].concat(...document.body.children))O.on(R,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ws),this._element.classList.add(Ws),O.trigger(this._element,bc,_)}}hide(){if(p(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!O.trigger(this._element,vc,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))O.off(R,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ws),this._element.classList.remove(Ws),this._element.setAttribute("aria-expanded","false"),ue.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,yc,_)}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!c(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${du.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(ga===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:c(this._config.reference)?_=d(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const R=this._getPopperConfig();this._popper=so(_,this._menu,R)}_isShown(){return this._menu.classList.contains(Ws)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return Oe;if(_.classList.contains("dropstart"))return Pt;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const R=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?R?K:N:R?_e:he}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(R=>Number.parseInt(R,10)):typeof _=="function"?R=>_(R,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ue.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...$(this._config.popperConfig,[_])}}_selectMenuItem({key:_,target:R}){const Q=me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(le=>f(le));Q.length&&z(Q,R,_===gs,!Q.includes(R)).focus()}static jQueryInterface(_){return this.each(function(){const R=on.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0)throw new TypeError(`No method named "${_}"`);R[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const R=me.find(g);for(const Q of R){const le=on.getInstance(Q);if(!le||le._config.autoClose===!1)continue;const ce=_.composedPath(),be=ce.includes(le._menu);if(ce.includes(le._element)||le._config.autoClose==="inside"&&!be||le._config.autoClose==="outside"&&be||le._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const Ae={relatedTarget:le._element};_.type==="click"&&(Ae.clickEvent=_),le._completeHide(Ae)}}static dataApiKeydownHandler(_){const R=/input|textarea/i.test(_.target.tagName),Q=_.key==="Escape",le=[hu,gs].includes(_.key);if(!le&&!Q||R&&!Q)return;_.preventDefault();const ce=this.matches(Mr)?this:me.prev(this,Mr)[0]||me.next(this,Mr)[0]||me.findOne(Mr,_.delegateTarget.parentNode),be=on.getOrCreateInstance(ce);if(le)return _.stopPropagation(),be.show(),void be._selectMenuItem(_);be._isShown()&&(_.stopPropagation(),be.hide(),ce.focus())}}O.on(document,Rr,Mr,on.dataApiKeydownHandler),O.on(document,Rr,A,on.dataApiKeydownHandler),O.on(document,ao,on.clearMenus),O.on(document,wc,on.clearMenus),O.on(document,ao,Mr,function(q){q.preventDefault(),on.getOrCreateInstance(this).toggle()}),L(on);const Zn="backdrop",vs="show",fr=`mousedown.bs.${Zn}`,ys={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},fu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pu extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return ys}static get DefaultType(){return fu}static get NAME(){return Zn}show(_){if(!this._config.isVisible)return void $(_);this._append();const R=this._getElement();this._config.isAnimated&&b(R),R.classList.add(vs),this._emulateAnimation(()=>{$(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(vs),this._emulateAnimation(()=>{this.dispose(),$(_)})):$(_)}dispose(){this._isAppended&&(O.off(this._element,fr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=d(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),O.on(_,fr,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){Y(_,this._getElement(),this._config.isAnimated)}}const mu=".bs.focustrap",ap=`focusin${mu}`,Kd=`keydown.tab${mu}`,Ec="backward",op={autofocus:!0,trapElement:null},lp={autofocus:"boolean",trapElement:"element"};class Xd extends Z{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return op}static get DefaultType(){return lp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,mu),O.on(document,ap,_=>this._handleFocusin(_)),O.on(document,Kd,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,mu))}_handleFocusin(_){const{trapElement:R}=this._config;if(_.target===document||_.target===R||R.contains(_.target))return;const Q=me.focusableChildren(R);Q.length===0?R.focus():this._lastTabNavDirection===Ec?Q[Q.length-1].focus():Q[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?Ec:"forward")}}const up=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cp=".sticky-top",Tc="padding-right",dp="margin-right";class Zd{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Tc,R=>R+_),this._setElementAttributes(up,Tc,R=>R+_),this._setElementAttributes(cp,dp,R=>R-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Tc),this._resetElementAttributes(up,Tc),this._resetElementAttributes(cp,dp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,R,Q){const le=this.getWidth();this._applyManipulationCallback(_,ce=>{if(ce!==this._element&&window.innerWidth>ce.clientWidth+le)return;this._saveInitialAttribute(ce,R);const be=window.getComputedStyle(ce).getPropertyValue(R);ce.style.setProperty(R,`${Q(Number.parseFloat(be))}px`)})}_saveInitialAttribute(_,R){const Q=_.style.getPropertyValue(R);Q&&ue.setDataAttribute(_,R,Q)}_resetElementAttributes(_,R){this._applyManipulationCallback(_,Q=>{const le=ue.getDataAttribute(Q,R);le!==null?(ue.removeDataAttribute(Q,R),Q.style.setProperty(R,le)):Q.style.removeProperty(R)})}_applyManipulationCallback(_,R){if(c(_))R(_);else for(const Q of me.find(_,this._element))R(Q)}}const Dn=".bs.modal",gu=`hide${Dn}`,hp=`hidePrevented${Dn}`,Jd=`hidden${Dn}`,eh=`show${Dn}`,fp=`shown${Dn}`,th=`resize${Dn}`,kv=`click.dismiss${Dn}`,Xo=`mousedown.dismiss${Dn}`,nh=`keydown.dismiss${Dn}`,vu=`click${Dn}.data-api`,Sc="modal-open",rh="show",Gs="modal-static",Zo={backdrop:!0,focus:!0,keyboard:!0},ih={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class va extends we{constructor(_,R){super(_,R),this._dialog=me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zd,this._addEventListeners()}static get Default(){return Zo}static get DefaultType(){return ih}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||O.trigger(this._element,eh,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Sc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,gu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(rh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,Dn),O.off(this._dialog,Dn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xd({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const R=me.findOne(".modal-body",this._dialog);R&&(R.scrollTop=0),b(this._element),this._element.classList.add(rh),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,fp,{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,nh,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,th,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,Xo,_=>{O.one(this._element,kv,R=>{this._element===_.target&&this._element===R.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Sc),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Jd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,hp).defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,R=this._element.style.overflowY;R==="hidden"||this._element.classList.contains(Gs)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(Gs),this._queueCallback(()=>{this._element.classList.remove(Gs),this._queueCallback(()=>{this._element.style.overflowY=R},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,R=this._scrollBar.getWidth(),Q=R>0;if(Q&&!_){const le=D()?"paddingLeft":"paddingRight";this._element.style[le]=`${R}px`}if(!Q&&_){const le=D()?"paddingRight":"paddingLeft";this._element.style[le]=`${R}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,R){return this.each(function(){const Q=va.getOrCreateInstance(this,_);if(typeof _=="string"){if(Q[_]===void 0)throw new TypeError(`No method named "${_}"`);Q[_](R)}})}}O.on(document,vu,'[data-bs-toggle="modal"]',function(q){const _=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&q.preventDefault(),O.one(_,eh,Q=>{Q.defaultPrevented||O.one(_,Jd,()=>{f(this)&&this.focus()})});const R=me.findOne(".modal.show");R&&va.getInstance(R).hide(),va.getOrCreateInstance(_).toggle(this)}),Be(va),L(va);const qr=".bs.offcanvas",sh=".data-api",pp=`load${qr}${sh}`,ah="show",mp="showing",gp="hiding",vp=".offcanvas.show",yp=`show${qr}`,_p=`shown${qr}`,oh=`hide${qr}`,Pi=`hidePrevented${qr}`,lh=`hidden${qr}`,Ui=`resize${qr}`,ji=`click${qr}${sh}`,Jo=`keydown.dismiss${qr}`,uh={backdrop:!0,keyboard:!0,scroll:!1},Cc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vi extends we{constructor(_,R){super(_,R),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uh}static get DefaultType(){return Cc}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||O.trigger(this._element,yp,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Zd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(mp),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ah),this._element.classList.remove(mp),O.trigger(this._element,_p,{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,oh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(gp),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ah,gp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Zd().reset(),O.trigger(this._element,lh)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new pu({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,Pi)}:null})}_initializeFocusTrap(){return new Xd({trapElement:this._element})}_addEventListeners(){O.on(this._element,Jo,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,Pi))})}static jQueryInterface(_){return this.each(function(){const R=Vi.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);R[_](this)}})}}O.on(document,ji,'[data-bs-toggle="offcanvas"]',function(q){const _=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),p(this))return;O.one(_,lh,()=>{f(this)&&this.focus()});const R=me.findOne(vp);R&&R!==_&&Vi.getInstance(R).hide(),Vi.getOrCreateInstance(_).toggle(this)}),O.on(window,pp,()=>{for(const q of me.find(vp))Vi.getOrCreateInstance(q).show()}),O.on(window,Ui,()=>{for(const q of me.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(q).position!=="fixed"&&Vi.getOrCreateInstance(q).hide()}),Be(Vi),L(Vi);const xc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},el=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ac=(q,_)=>{const R=q.nodeName.toLowerCase();return _.includes(R)?!el.has(R)||!!bp.test(q.nodeValue):_.filter(Q=>Q instanceof RegExp).some(Q=>Q.test(R))},tl={allowList:xc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Lv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bi={entry:"(string|element|function|null)",selector:"(string|element)"};class ch extends Z{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return tl}static get DefaultType(){return Lv}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[le,ce]of Object.entries(this._config.content))this._setContent(_,ce,le);const R=_.children[0],Q=this._resolvePossibleFunction(this._config.extraClass);return Q&&R.classList.add(...Q.split(" ")),R}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[R,Q]of Object.entries(_))super._typeCheckConfig({selector:R,entry:Q},bi)}_setContent(_,R,Q){const le=me.findOne(Q,_);le&&((R=this._resolvePossibleFunction(R))?c(R)?this._putElementInTemplate(d(R),le):this._config.html?le.innerHTML=this._maybeSanitize(R):le.textContent=R:le.remove())}_maybeSanitize(_){return this._config.sanitize?function(R,Q,le){if(!R.length)return R;if(le&&typeof le=="function")return le(R);const ce=new window.DOMParser().parseFromString(R,"text/html"),be=[].concat(...ce.body.querySelectorAll("*"));for(const Ae of be){const Ie=Ae.nodeName.toLowerCase();if(!Object.keys(Q).includes(Ie)){Ae.remove();continue}const ze=[].concat(...Ae.attributes),je=[].concat(Q["*"]||[],Q[Ie]||[]);for(const Ue of ze)Ac(Ue,je)||Ae.removeAttribute(Ue.nodeName)}return ce.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return $(_,[this])}_putElementInTemplate(_,R){if(this._config.html)return R.innerHTML="",void R.append(_);R.textContent=_.textContent}}const Qs=new Set(["sanitize","allowList","sanitizeFn"]),Dc="fade",oo="show",ya=".modal",Rc="hide.bs.modal",lo="hover",_a="focus",nl={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Mc={allowList:xc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pr extends we{constructor(_,R){if(ga===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,R),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Mc}static get DefaultType(){return kc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(ya),Rc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=O.trigger(this._element,this.constructor.eventName("show")),R=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!R)return;this._disposePopper();const Q=this._getTipElement();this._element.setAttribute("aria-describedby",Q.getAttribute("id"));const{container:le}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(le.append(Q),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Q),Q.classList.add(oo),"ontouchstart"in document.documentElement)for(const ce of[].concat(...document.body.children))O.on(ce,"mouseover",v);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(oo),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))O.off(_,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[_a]=!1,this._activeTrigger[lo]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const R=this._getTemplateFactory(_).toHtml();if(!R)return null;R.classList.remove(Dc,oo),R.classList.add(`bs-${this.constructor.NAME}-auto`);const Q=(le=>{do le+=Math.floor(1e6*Math.random());while(document.getElementById(le));return le})(this.constructor.NAME).toString();return R.setAttribute("id",Q),this._isAnimated()&&R.classList.add(Dc),R}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new ch({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Dc)}_isShown(){return this.tip&&this.tip.classList.contains(oo)}_createPopper(_){const R=$(this._config.placement,[this,_,this._element]),Q=nl[R.toUpperCase()];return so(this._element,_,this._getPopperConfig(Q))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(R=>Number.parseInt(R,10)):typeof _=="function"?R=>_(R,this._element):_}_resolvePossibleFunction(_){return $(_,[this._element])}_getPopperConfig(_){const R={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Q=>{this._getTipElement().setAttribute("data-popper-placement",Q.state.placement)}}]};return{...R,...$(this._config.popperConfig,[R])}}_setListeners(){const _=this._config.trigger.split(" ");for(const R of _)if(R==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,Q=>{this._initializeOnDelegatedTarget(Q).toggle()});else if(R!=="manual"){const Q=R===lo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),le=R===lo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,Q,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusin"?_a:lo]=!0,be._enter()}),O.on(this._element,le,this._config.selector,ce=>{const be=this._initializeOnDelegatedTarget(ce);be._activeTrigger[ce.type==="focusout"?_a:lo]=be._element.contains(ce.relatedTarget),be._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(ya),Rc,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,R){clearTimeout(this._timeout),this._timeout=setTimeout(_,R)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const R=ue.getDataAttributes(this._element);for(const Q of Object.keys(R))Qs.has(Q)&&delete R[Q];return _={...R,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:d(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[R,Q]of Object.entries(this._config))this.constructor.Default[R]!==Q&&(_[R]=Q);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const R=pr.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0)throw new TypeError(`No method named "${_}"`);R[_]()}})}}L(pr);const Bi={...pr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},uo={...pr.DefaultType,content:"(null|string|element|function)"};class Fi extends pr{static get Default(){return Bi}static get DefaultType(){return uo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const R=Fi.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0)throw new TypeError(`No method named "${_}"`);R[_]()}})}}L(Fi);const es=".bs.scrollspy",co=`activate${es}`,dh=`click${es}`,hh=`load${es}.data-api`,ba="active",_r="[href]",Ln=".nav-link",Gt=`${Ln}, .nav-item > ${Ln}, .list-group-item`,ho={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},_s={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class fo extends we{constructor(_,R){super(_,R),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ho}static get DefaultType(){return _s}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=d(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(R=>Number.parseFloat(R))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,dh),O.on(this._config.target,dh,_r,_=>{const R=this._observableSections.get(_.target.hash);if(R){_.preventDefault();const Q=this._rootElement||window,le=R.offsetTop-this._element.offsetTop;if(Q.scrollTo)return void Q.scrollTo({top:le,behavior:"smooth"});Q.scrollTop=le}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(R=>this._observerCallback(R),_)}_observerCallback(_){const R=be=>this._targetLinks.get(`#${be.target.id}`),Q=be=>{this._previousScrollData.visibleEntryTop=be.target.offsetTop,this._process(R(be))},le=(this._rootElement||document.documentElement).scrollTop,ce=le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=le;for(const be of _){if(!be.isIntersecting){this._activeTarget=null,this._clearActiveClass(R(be));continue}const Ae=be.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ce&&Ae){if(Q(be),!le)return}else ce||Ae||Q(be)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=me.find(_r,this._config.target);for(const R of _){if(!R.hash||p(R))continue;const Q=me.findOne(decodeURI(R.hash),this._element);f(Q)&&(this._targetLinks.set(decodeURI(R.hash),R),this._observableSections.set(R.hash,Q))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(ba),this._activateParents(_),O.trigger(this._element,co,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))me.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(ba);else for(const R of me.parents(_,".nav, .list-group"))for(const Q of me.prev(R,Gt))Q.classList.add(ba)}_clearActiveClass(_){_.classList.remove(ba);const R=me.find(`${_r}.${ba}`,_);for(const Q of R)Q.classList.remove(ba)}static jQueryInterface(_){return this.each(function(){const R=fo.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);R[_]()}})}}O.on(window,hh,()=>{for(const q of me.find('[data-bs-spy="scroll"]'))fo.getOrCreateInstance(q)}),L(fo);const wi=".bs.tab",wp=`hide${wi}`,Ep=`hidden${wi}`,yu=`show${wi}`,_u=`shown${wi}`,Tp=`click${wi}`,bu=`keydown${wi}`,fh=`load${wi}`,po="ArrowLeft",bs="ArrowRight",wa="ArrowUp",ws="ArrowDown",wu="Home",Lc="End",ts="active",Eu="fade",Ks="show",br=".dropdown-toggle",rl=`:not(${br})`,ph='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mh=`.nav-link${rl}, .list-group-item${rl}, [role="tab"]${rl}, ${ph}`,Ov=`.${ts}[data-bs-toggle="tab"], .${ts}[data-bs-toggle="pill"], .${ts}[data-bs-toggle="list"]`;class mo extends we{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,bu,R=>this._keydown(R)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const R=this._getActiveElem(),Q=R?O.trigger(R,wp,{relatedTarget:_}):null;O.trigger(_,yu,{relatedTarget:R}).defaultPrevented||Q&&Q.defaultPrevented||(this._deactivate(R,_),this._activate(_,R))}_activate(_,R){_&&(_.classList.add(ts),this._activate(me.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),O.trigger(_,_u,{relatedTarget:R})):_.classList.add(Ks)},_,_.classList.contains(Eu)))}_deactivate(_,R){_&&(_.classList.remove(ts),_.blur(),this._deactivate(me.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),O.trigger(_,Ep,{relatedTarget:R})):_.classList.remove(Ks)},_,_.classList.contains(Eu)))}_keydown(_){if(![po,bs,wa,ws,wu,Lc].includes(_.key))return;_.stopPropagation(),_.preventDefault();const R=this._getChildren().filter(le=>!p(le));let Q;if([wu,Lc].includes(_.key))Q=R[_.key===wu?0:R.length-1];else{const le=[bs,ws].includes(_.key);Q=z(R,_.target,le,!0)}Q&&(Q.focus({preventScroll:!0}),mo.getOrCreateInstance(Q).show())}_getChildren(){return me.find(mh,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,R){this._setAttributeIfNotExists(_,"role","tablist");for(const Q of R)this._setInitialAttributesOnChild(Q)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const R=this._elemIsActive(_),Q=this._getOuterElement(_);_.setAttribute("aria-selected",R),Q!==_&&this._setAttributeIfNotExists(Q,"role","presentation"),R||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const R=me.getElementFromSelector(_);R&&(this._setAttributeIfNotExists(R,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(R,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,R){const Q=this._getOuterElement(_);if(!Q.classList.contains("dropdown"))return;const le=(ce,be)=>{const Ae=me.findOne(ce,Q);Ae&&Ae.classList.toggle(be,R)};le(br,ts),le(".dropdown-menu",Ks),Q.setAttribute("aria-expanded",R)}_setAttributeIfNotExists(_,R,Q){_.hasAttribute(R)||_.setAttribute(R,Q)}_elemIsActive(_){return _.classList.contains(ts)}_getInnerElement(_){return _.matches(mh)?_:me.findOne(mh,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const R=mo.getOrCreateInstance(this);if(typeof _=="string"){if(R[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);R[_]()}})}}O.on(document,Tp,ph,function(q){["A","AREA"].includes(this.tagName)&&q.preventDefault(),p(this)||mo.getOrCreateInstance(this).show()}),O.on(window,fh,()=>{for(const q of me.find(Ov))mo.getOrCreateInstance(q)}),L(mo);const _n=".bs.toast",gh=`mouseover${_n}`,Tu=`mouseout${_n}`,Su=`focusin${_n}`,vh=`focusout${_n}`,il=`hide${_n}`,sl=`hidden${_n}`,Iv=`show${_n}`,Sp=`shown${_n}`,Cp="hide",Cu="show",Es="showing",yh={animation:"boolean",autohide:"boolean",delay:"number"},Oc={animation:!0,autohide:!0,delay:5e3};class al extends we{constructor(_,R){super(_,R),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Oc}static get DefaultType(){return yh}static get NAME(){return"toast"}show(){O.trigger(this._element,Iv).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Cp),b(this._element),this._element.classList.add(Cu,Es),this._queueCallback(()=>{this._element.classList.remove(Es),O.trigger(this._element,Sp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,il).defaultPrevented||(this._element.classList.add(Es),this._queueCallback(()=>{this._element.classList.add(Cp),this._element.classList.remove(Es,Cu),O.trigger(this._element,sl)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cu),super.dispose()}isShown(){return this._element.classList.contains(Cu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,R){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=R;break;case"focusin":case"focusout":this._hasKeyboardInteraction=R}if(R)return void this._clearTimeout();const Q=_.relatedTarget;this._element===Q||this._element.contains(Q)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,gh,_=>this._onInteraction(_,!0)),O.on(this._element,Tu,_=>this._onInteraction(_,!1)),O.on(this._element,Su,_=>this._onInteraction(_,!0)),O.on(this._element,vh,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const R=al.getOrCreateInstance(this,_);if(typeof _=="string"){if(R[_]===void 0)throw new TypeError(`No method named "${_}"`);R[_](this)}})}}return Be(al),L(al),{Alert:Ee,Button:ke,Carousel:xn,Collapse:Vr,Dropdown:on,Modal:va,Offcanvas:Vi,Popover:Fi,ScrollSpy:fo,Tab:mo,Toast:al,Tooltip:pr}})}(Gm)),Gm.exports}Kz();Dk.createRoot(document.getElementById("root")).render(x.jsx(ve.StrictMode,{children:x.jsx(Gz,{})}));
